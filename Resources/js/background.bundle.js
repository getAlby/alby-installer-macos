/*! For license information please see background.bundle.js.LICENSE.txt */
(()=>{var e,t,n,r,i={77235:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer,r=n(45826),i=n(42514),o=n(53583);function a(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var s=a(r);s.utils.hmacSha256Sync=(e,...t)=>i.hmac(o.sha256,e,s.utils.concatBytes(...t)),s.utils.sha256Sync=(...e)=>o.sha256(s.utils.concatBytes(...e));const c=s.utils._normalizePrivateKey,u=32,l=32,f=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),d=32;function h(e,t){for(let n=0;n<32;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}function p(e){return e instanceof Uint8Array&&e.length===l&&!(h(e,f)>=0)}function y(e){return e instanceof Uint8Array&&64===e.length&&h(e.subarray(0,32),f)<0&&h(e.subarray(32,64),f)<0}function g(e){return e instanceof Uint8Array&&e.length===u}function b(e){return void 0===e||e instanceof Uint8Array&&e.length===d}function m(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function v(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private scalar");t=m(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==e.length)throw new Error("Expected 32 bytes of private scalar");n=e,t=m(s.utils.bytesToHex(n))}var n;if(t<0)throw new Error("Expected private scalar >= 0");return t}const w=(e,t,n)=>{const r=s.Point.fromHex(e),i=v(t),o=s.Point.BASE.multiplyAndAddUnsafe(r,i,1n);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(n)};function _(e,t){return void 0===e?void 0===t||A(t):!!e}function E(e){try{return e()}catch(e){return null}}function S(e,t){if(32===e.length!==t)return!1;try{return!!s.Point.fromHex(e)}catch(e){return!1}}function k(e){return S(e,!1)}function A(e){return S(e,!1)&&33===e.length}function O(e){return s.utils.isValidPrivateKey(e)}function P(e){return S(e,!0)}function I(e){if(!k(e))throw new Error("Expected Point");return e.slice(1,33)}function T(e,t){if(!O(e))throw new Error("Expected Private");return E((()=>s.getPublicKey(e,_(t))))}t.isPoint=k,t.isPointCompressed=A,t.isPrivate=O,t.isXOnlyPoint=P,t.pointAdd=function(e,t,n){if(!k(e)||!k(t))throw new Error("Expected Point");return E((()=>{const r=s.Point.fromHex(e),i=s.Point.fromHex(t);return r.equals(i.negate())?null:r.add(i).toRawBytes(_(n,e))}))},t.pointAddScalar=function(e,t,n){if(!k(e))throw new Error("Expected Point");if(!p(t))throw new Error("Expected Tweak");return E((()=>w(e,t,_(n,e))))},t.pointCompress=function(e,t){if(!k(e))throw new Error("Expected Point");return s.Point.fromHex(e).toRawBytes(_(t,e))},t.pointFromScalar=T,t.pointMultiply=function(e,t,n){if(!k(e))throw new Error("Expected Point");if(!p(t))throw new Error("Expected Tweak");return E((()=>((e,t,n)=>{const r=s.Point.fromHex(e),i="string"==typeof t?t:s.utils.bytesToHex(t),o=BigInt(`0x${i}`);return r.multiply(o).toRawBytes(n)})(e,t,_(n,e))))},t.privateAdd=function(e,t){if(!1===O(e))throw new Error("Expected Private");if(!1===p(t))throw new Error("Expected Tweak");return E((()=>((e,t)=>{const n=c(e),r=v(t),i=s.utils._bigintTo32Bytes(s.utils.mod(n+r,s.CURVE.n));return s.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.privateNegate=function(e){if(!1===O(e))throw new Error("Expected Private");return(e=>{const t=c(e),n=s.utils._bigintTo32Bytes(s.CURVE.n-t);return s.utils.isValidPrivateKey(n)?n:null})(e)},t.privateSub=function(e,t){if(!1===O(e))throw new Error("Expected Private");if(!1===p(t))throw new Error("Expected Tweak");return E((()=>((e,t)=>{const n=c(e),r=v(t),i=s.utils._bigintTo32Bytes(s.utils.mod(n-r,s.CURVE.n));return s.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.sign=function(e,t,n){if(!O(t))throw new Error("Expected Private");if(!g(e))throw new Error("Expected Scalar");if(!b(n))throw new Error("Expected Extra Data (32 bytes)");return s.signSync(e,t,{der:!1,extraEntropy:n})},t.signSchnorr=function(e,t,n=Buffer.alloc(32,0)){if(!O(t))throw new Error("Expected Private");if(!g(e))throw new Error("Expected Scalar");if(!b(n))throw new Error("Expected Extra Data (32 bytes)");return s.schnorr.signSync(e,t,n)},t.verify=function(e,t,n,r){if(!k(t))throw new Error("Expected Point");if(!y(n))throw new Error("Expected Signature");if(!g(e))throw new Error("Expected Scalar");return s.verify(n,e,t,{strict:r})},t.verifySchnorr=function(e,t,n){if(!P(t))throw new Error("Expected Point");if(!y(n))throw new Error("Expected Signature");if(!g(e))throw new Error("Expected Scalar");return s.schnorr.verifySync(n,e,t)},t.xOnlyPointAddTweak=function(e,t){if(!P(e))throw new Error("Expected Point");if(!p(t))throw new Error("Expected Tweak");return E((()=>{const n=w(e,t,!0);return{parity:n[0]%2==1?1:0,xOnlyPubkey:n.slice(1)}}))},t.xOnlyPointFromPoint=I,t.xOnlyPointFromScalar=function(e){if(!O(e))throw new Error("Expected Private");return I(T(e))}},7973:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function s(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=n,t.bool=r,t.bytes=i,t.hash=o,t.exists=a,t.output=s;const c={number:n,bool:r,bytes:i,hash:o,exists:a,output:s};t.default=c},23449:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(7973),i=n(82450);class o extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,r.exists)(this);const{view:t,buffer,blockLen:n}=this,o=(e=(0,i.toBytes)(e)).length;for(let r=0;r<o;){const a=Math.min(n-this.pos,o-r);if(a!==n)buffer.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;n<=o-r;r+=n)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.exists)(this),(0,r.output)(e,this),this.finished=!0;const{buffer,view:t,blockLen:n,isLE:o}=this;let{pos:a}=this;buffer[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(t,0),a=0);for(let e=a;e<n;e++)buffer[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)}(t,n-8,BigInt(8*this.length),o),this.process(t,0);const s=(0,i.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer,outputLen:e}=this;this.digestInto(buffer);const t=buffer.slice(0,e);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer,length:n,finished:r,destroyed:i,pos:o}=this;return e.length=n,e.pos=o,e.finished=r,e.destroyed=i,n%t&&e.buffer.set(buffer),e}}t.SHA2=o},99610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const r=n(7973),i=n(82450);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.hash)(e);const n=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(n.length>o?e.create().update(n).digest():n);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,r.exists)(this),this.iHash.update(e),this}digestInto(e){(0,r.exists)(this),(0,r.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o;t.hmac=(e,t,n)=>new o(e,t).update(n).digest(),t.hmac.create=(e,t)=>new o(e,t)},53583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const r=n(23449),i=n(82450),o=(e,t,n)=>e&t^e&n^t&n,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;c[e]=o+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:s,D:u,E:l,F:f,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&f^~p&d)+a[e]+c[e]|0,y=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+o(n,r,s)|0;h=d,d=f,f=l,l=u+t|0,u=s,s=r,r=n,n=t+y|0}var p;n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,u=u+this.D|0,l=l+this.E|0,f=f+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(n,r,s,u,l,f,d,h)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new l))},82450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(99610),i=e=>e instanceof Uint8Array;t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n};function a(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function s(e){if("string"==typeof e&&(e=a(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=a,t.toBytes=s,t.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!i(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};t.Hash=class{clone(){return this._cloneInto()}};const c={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==c.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},45826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const r=n(26996),i=BigInt(0),o=BigInt(1),a=BigInt(2),s=BigInt(3),c=BigInt(8),u=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=u;const l=(e,t)=>(e+t/a)/t,f={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=u,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,s=BigInt("0x100000000000000000000000000000000"),c=l(a*e,t),f=l(-r*e,t);let d=M(e-c*n-f*i,t),h=M(-c*r-f*a,t);const p=d>s,y=h>s;if(p&&(d=t-d),y&&(h=t-h),d>s||h>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:p,k1:d,k2neg:y,k2:h}}},d=32,h=32,p=d+1,y=2*d+1;function g(e){const{a:t,b:n}=u,r=M(e*e),i=M(r*e);return M(i+t*e+n)}const b=u.a===i;class m extends Error{constructor(e){super(e)}}function v(e){if(!(e instanceof w))throw new TypeError("JacobianPoint expected")}class w{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof S))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(S.ZERO)?w.ZERO:new w(e.x,e.y,o)}static toAffineBatch(e){const t=function(e,t=u.P){const n=new Array(e.length),r=z(e.reduce(((e,r,o)=>r===i?e:(n[o]=e,M(e*r,t))),o),t);return e.reduceRight(((e,r,o)=>r===i?e:(n[o]=M(e*n[o],t),M(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return w.toAffineBatch(e).map(w.fromAffine)}equals(e){v(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:a}=e,s=M(r*r),c=M(a*a),u=M(t*c),l=M(i*s),f=M(M(n*a)*c),d=M(M(o*r)*s);return u===l&&f===d}negate(){return new w(this.x,M(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=M(e*e),i=M(t*t),o=M(i*i),u=e+i,l=M(a*(M(u*u)-r-o)),f=M(s*r),d=M(f*f),h=M(d-a*l),p=M(f*(l-h)-c*o),y=M(a*t*n);return new w(h,p,y)}add(e){v(e);const{x:t,y:n,z:r}=this,{x:o,y:s,z:c}=e;if(o===i||s===i)return this;if(t===i||n===i)return e;const u=M(r*r),l=M(c*c),f=M(t*l),d=M(o*u),h=M(M(n*c)*l),p=M(M(s*r)*u),y=M(d-f),g=M(p-h);if(y===i)return g===i?this.double():w.ZERO;const b=M(y*y),m=M(y*b),_=M(f*b),E=M(g*g-m-a*_),S=M(g*(_-E)-h*m),k=M(r*c*y);return new w(E,S,k)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=w.ZERO;if("bigint"==typeof e&&e===i)return t;let n=U(e);if(n===o)return this;if(!b){let e=t,r=this;for(;n>i;)n&o&&(e=e.add(r)),r=r.double(),n>>=o;return e}let{k1neg:r,k1:a,k2neg:s,k2:c}=f.splitScalar(n),u=t,l=t,d=this;for(;a>i||c>i;)a&o&&(u=u.add(d)),c&o&&(l=l.add(d)),d=d.double(),a>>=o,c>>=o;return r&&(u=u.negate()),s&&(l=l.negate()),l=new w(M(l.x*f.beta),l.y,l.z),u.add(l)}precomputeWindow(e){const t=b?128/e+1:256/e+1,n=[];let r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(w.BASE)&&(t=S.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&E.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=w.normalizeZ(r),E.set(t,r)));let i=w.ZERO,a=w.BASE;const s=1+(b?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let t=0;t<s;t++){const n=t*c;let s=Number(e&u);e>>=f,s>c&&(s-=l,e+=o);const d=n,h=n+Math.abs(s)-1,p=t%2!=0,y=s<0;0===s?a=a.add(_(p,r[d])):i=i.add(_(y,r[h]))}return{p:i,f:a}}multiply(e,t){let n,r,i=U(e);if(b){const{k1neg:e,k1:o,k2neg:a,k2:s}=f.splitScalar(i);let{p:c,f:u}=this.wNAF(o,t),{p:l,f:d}=this.wNAF(s,t);c=_(e,c),l=_(a,l),l=new w(M(l.x*f.beta),l.y,l.z),n=c.add(l),r=u.add(d)}else{const{p:e,f:o}=this.wNAF(i,t);n=e,r=o}return w.normalizeZ([n,r])[0]}toAffine(e){const{x:t,y:n,z:r}=this,i=this.equals(w.ZERO);null==e&&(e=i?c:z(r));const a=e,s=M(a*a),u=M(s*a),l=M(t*s),f=M(n*u),d=M(r*a);if(i)return S.ZERO;if(d!==o)throw new Error("invZ was invalid");return new S(l,f)}}function _(e,t){const n=t.negate();return e?n:t}w.BASE=new w(u.Gx,u.Gy,o),w.ZERO=new w(i,o,i);const E=new WeakMap;class S{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,E.delete(this)}hasEvenY(){return this.y%a===i}static fromCompressedHex(e){const t=32===e.length,n=j(t?e:e.subarray(1));if(!G(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=u,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),l=BigInt(88),f=e*e*e%t,d=f*f*e%t,h=H(d,s)*d%t,p=H(h,s)*d%t,y=H(p,a)*f%t,g=H(y,r)*y%t,b=H(g,i)*g%t,m=H(b,c)*b%t,v=H(m,l)*m%t,w=H(v,c)*b%t,_=H(w,s)*d%t,E=H(_,o)*g%t,S=H(E,n)*f%t,k=H(S,a);if(k*k%t!==e)throw new Error("Cannot find square root");return k}(g(n));const i=(r&o)===o;if(t)i&&(r=M(-r));else{1==(1&e[0])!==i&&(r=M(-r))}const c=new S(n,r);return c.assertValidity(),c}static fromUncompressedHex(e){const t=j(e.subarray(1,d+1)),n=j(e.subarray(d+1,2*d+1)),r=new S(t,n);return r.assertValidity(),r}static fromHex(e){const t=D(e),n=t.length,r=t[0];if(n===d)return this.fromCompressedHex(t);if(n===p&&(2===r||3===r))return this.fromCompressedHex(t);if(n===y&&4===r)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${p} compressed bytes or ${y} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return S.BASE.multiply($(e))}static fromSignature(e,t,n){const{r,s:i}=X(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=F(D(e)),{n:a}=u,s=2===n||3===n?r+a:r,c=z(s,a),l=M(-o*c,a),f=M(i*c,a),d=1&n?"03":"02",h=S.fromHex(d+x(s)),p=S.BASE.multiplyAndAddUnsafe(h,l,f);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return L(this.toHex(e))}toHex(e=!1){const t=x(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${x(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!G(t)||!G(n))throw new Error(e);const r=M(n*n);if(M(r-g(t))!==i)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new S(this.x,M(-this.y))}double(){return w.fromAffine(this).double().toAffine()}add(e){return w.fromAffine(this).add(w.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return w.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const r=w.fromAffine(this),a=t===i||t===o||this!==S.BASE?r.multiplyUnsafe(t):r.multiply(t),s=w.fromAffine(e).multiplyUnsafe(n),c=a.add(s);return c.equals(w.ZERO)?void 0:c.toAffine()}}function k(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function A(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${T(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:j(n),left:e.subarray(t+2)}}t.Point=S,S.BASE=new S(u.Gx,u.Gy),S.ZERO=new S(i,i);class O{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=t?T(e):e;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new O(B(r.slice(0,64)),B(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${T(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=A(e.subarray(2)),{data:r,left:i}=A(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${T(i)}`);return{r:t,s:r}}(t?e:L(e));return new O(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!W(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!W(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=u.n>>o;return this.s>e}normalizeS(){return this.hasHighS()?new O(this.r,M(-this.s,u.n)):this}toDERRawBytes(){return L(this.toDERHex())}toDERHex(){const e=k(C(this.s)),t=k(C(this.r)),n=e.length/2,r=t.length/2,i=C(n),o=C(r);return`30${C(r+n+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return L(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}function P(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}t.Signature=O;const I=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function T(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=I[e[n]];return t}const N=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function x(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(i<=e&&e<N))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function R(e){const t=L(x(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function C(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function B(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function L(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function j(e){return B(T(e))}function D(e){return e instanceof Uint8Array?Uint8Array.from(e):L(e)}function U(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&W(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function M(e,t=u.P){const n=e%t;return n>=i?n:t+n}function H(e,t){const{P:n}=u;let r=e;for(;t-- >i;)r*=r,r%=n;return r}function z(e,t=u.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=M(e,t),r=t,a=i,s=o,c=o,l=i;for(;n!==i;){const e=r/n,t=r%n,i=a-c*e,o=s-l*e;r=n,n=t,a=c,s=l,c=i,l=o}if(r!==o)throw new Error("invert: does not exist");return M(a,t)}function F(e,t=!1){const n=function(e){const t=8*e.length-8*h,n=j(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;const{n:r}=u;return n>=r?n-r:n}let K,q;class V{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return q(this.k,...e)}checkSync(){if("function"!=typeof q)throw new m("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return P(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return P(...t)}}function W(e){return i<e&&e<u.n}function G(e){return i<e&&e<u.P}function Y(e,t,n,r=!0){const{n:a}=u,s=F(e,!0);if(!W(s))return;const c=z(s,a),l=S.BASE.multiply(s),f=M(l.x,a);if(f===i)return;const d=M(c*M(t+n*f,a),a);if(d===i)return;let h=new O(f,d),p=(l.x===h.r?0:2)|Number(l.y&o);return r&&h.hasHighS()&&(h=h.normalizeS(),p^=1),{sig:h,recovery:p}}function $(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*h)throw new Error("Expected 32 bytes of private key");t=B(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==h)throw new Error("Expected 32 bytes of private key");t=j(e)}if(!W(t))throw new Error("Expected private key: 0 < key < n");return t}function Z(e){return e instanceof S?(e.assertValidity(),e):S.fromHex(e)}function X(e){if(e instanceof O)return e.assertValidity(),e;try{return O.fromDER(e)}catch(t){return O.fromCompact(e)}}function J(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===p||r===y:n?r===2*p||r===2*y:e instanceof S}function Q(e){return j(e.length>d?e.slice(0,d):e)}function ee(e){const t=Q(e),n=M(t,u.n);return te(n<i?t:n)}function te(e){return R(e)}function ne(e,n,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const i=D(e),o=$(n),a=[te(o),ee(i)];if(null!=r){!0===r&&(r=t.utils.randomBytes(d));const e=D(r);if(e.length!==d)throw new Error(`sign: Expected ${d} bytes of extra data`);a.push(e)}return{seed:P(...a),m:Q(i),d:o}}function re(e,t){const{sig:n,recovery:r}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),a=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[a,r]:a}t.getPublicKey=function(e,t=!1){return S.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,n,r=!1){return S.fromSignature(e,t,n).toRawBytes(r)},t.getSharedSecret=function(e,t,n=!1){if(J(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!J(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=Z(t);return r.assertValidity(),r.multiply($(e)).toRawBytes(n)},t.sign=async function(e,t,n={}){const{seed:r,m:i,d:o}=ne(e,t,n.extraEntropy),a=new V(32,h);let s;for(await a.reseed(r);!(s=Y(await a.generate(),i,o,n.canonical));)await a.reseed();return re(s,n)},t.signSync=function(e,t,n={}){const{seed:r,m:i,d:o}=ne(e,t,n.extraEntropy),a=new V(32,h);let s;for(a.reseedSync(r);!(s=Y(a.generateSync(),i,o,n.canonical));)a.reseedSync();return re(s,n)};const ie={strict:!0};function oe(e){return M(j(e),u.n)}t.verify=function(e,t,n,r=ie){let i;try{i=X(e),t=D(t)}catch(e){return!1}const{r:o,s:a}=i;if(r.strict&&i.hasHighS())return!1;const s=F(t);let c;try{c=Z(n)}catch(e){return!1}const{n:l}=u,f=z(a,l),d=M(s*f,l),h=M(o*f,l),p=S.BASE.multiplyAndAddUnsafe(c,d,h);return!!p&&M(p.x,l)===o};class ae{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=D(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const n=j(t.subarray(0,32)),r=j(t.subarray(32,64));return new ae(n,r)}assertValidity(){const{r:e,s:t}=this;if(!G(e)||!W(t))throw new Error("Invalid signature")}toHex(){return x(this.r)+x(this.s)}toRawBytes(){return L(this.toHex())}}class se{constructor(e,n,r=t.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=D(e);const{x:i,scalar:o}=this.getScalar($(n));if(this.px=i,this.d=o,this.rand=D(r),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=S.fromPrivateKey(e),n=t.hasEvenY()?e:u.n-e;return{point:t,scalar:n,x:t.toRawX()}}initNonce(e,t){return R(e^j(t))}finalizeNonce(e){const t=M(j(e),u.n);if(t===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:r,scalar:o}=this.getScalar(t);return{R:n,rx:r,k:o}}finalizeSig(e,t,n,r){return new ae(e.x,M(t+n*r,u.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:n,px:r,rand:i}=this,o=t.utils.taggedHash,a=this.initNonce(n,await o(he.aux,i)),{R:s,rx:c,k:u}=this.finalizeNonce(await o(he.nonce,a,r,e)),l=oe(await o(he.challenge,c,r,e)),f=this.finalizeSig(s,u,l,n);return await le(f,e,r)||this.error(),f}calcSync(){const{m:e,d:n,px:r,rand:i}=this,o=t.utils.taggedHashSync,a=this.initNonce(n,o(he.aux,i)),{R:s,rx:c,k:u}=this.finalizeNonce(o(he.nonce,a,r,e)),l=oe(o(he.challenge,c,r,e)),f=this.finalizeSig(s,u,l,n);return fe(f,e,r)||this.error(),f}}function ce(e,t,n){const r=e instanceof ae,i=r?e:ae.fromHex(e);return r&&i.assertValidity(),{...i,m:D(t),P:Z(n)}}function ue(e,t,n,r){const i=S.BASE.multiplyAndAddUnsafe(t,$(n),M(-r,u.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function le(e,n,r){try{const{r:i,s:o,m:a,P:s}=ce(e,n,r),c=oe(await t.utils.taggedHash(he.challenge,R(i),s.toRawX(),a));return ue(i,s,o,c)}catch(e){return!1}}function fe(e,n,r){try{const{r:i,s:o,m:a,P:s}=ce(e,n,r),c=oe(t.utils.taggedHashSync(he.challenge,R(i),s.toRawX(),a));return ue(i,s,o,c)}catch(e){if(e instanceof m)throw e;return!1}}t.schnorr={Signature:ae,getPublicKey:function(e){return S.fromPrivateKey(e).toRawX()},sign:async function(e,t,n){return new se(e,t,n).calc()},verify:le,signSync:function(e,t,n){return new se(e,t,n).calcSync()},verifySync:fe},S.BASE._setWindowSize(8);const de={node:r,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},he={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},pe={};t.utils={bytesToHex:T,hexToBytes:L,concatBytes:P,mod:M,invert:z,isValidPrivateKey(e){try{return $(e),!0}catch(e){return!1}},_bigintTo32Bytes:R,_normalizePrivateKey:$,hashToPrivateKey:e=>{e=D(e);const t=h+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return R(M(j(e),u.n-o)+o)},randomBytes:(e=32)=>{if(de.web)return de.web.getRandomValues(new Uint8Array(e));if(de.node){const{randomBytes:t}=de.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(h+8)),precompute(e=8,t=S.BASE){const n=t===S.BASE?t:new S(t.x,t.y);return n._setWindowSize(e),n.multiply(s),n},sha256:async(...e)=>{if(de.web){const buffer=await de.web.subtle.digest("SHA-256",P(...e));return new Uint8Array(buffer)}if(de.node){const{createHash:t}=de.node,n=t("sha256");return e.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(de.web){const n=await de.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=P(...t),buffer=await de.web.subtle.sign("HMAC",n,r);return new Uint8Array(buffer)}if(de.node){const{createHmac:n}=de.node,r=n("sha256",e);return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...n)=>{let r=pe[e];if(void 0===r){const n=await t.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=P(n,n),pe[e]=r}return t.utils.sha256(r,...n)},taggedHashSync:(e,...t)=>{if("function"!=typeof K)throw new m("sha256Sync is undefined, you need to set it");let n=pe[e];if(void 0===n){const t=K(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=P(t,t),pe[e]=n}return K(n,...t)},_JacobianPoint:w},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>K,set(e){K||(K=e)}},hmacSha256Sync:{configurable:!1,get:()=>q,set(e){q||(q=e)}}})},34503:function(e){e.exports=(()=>{var e={8831:(e,t,n)=>{e=n.nmd(e);var r=n(5108),i=n(4155);(()=>{if(void 0!==n.g);else if("undefined"!=typeof window)window.global=window;else{if("undefined"==typeof self)throw new Error("cannot export Go (neither global, window nor self is defined)");self.global=self}if(n.g.require||(n.g.require=n(5049)),!n.g.fs&&n.g.require){const e=n(2203);"object"==typeof e&&null!==e&&0!==Object.keys(e).length&&(n.g.fs=e)}const t=()=>{const e=new Error("not implemented");return e.code="ENOSYS",e};if(!n.g.fs){let e="";n.g.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(t,n){e+=a.decode(n);const i=e.lastIndexOf("\n");return-1!=i&&(r.log(e.substr(0,i)),e=e.substr(i+1)),n.length},write(e,n,r,i,o,a){0===r&&i===n.length&&null===o?a(null,this.writeSync(e,n)):a(t())},chmod(e,n,r){r(t())},chown(e,n,r,i){i(t())},close(e,n){n(t())},fchmod(e,n,r){r(t())},fchown(e,n,r,i){i(t())},fstat(e,n){n(t())},fsync(e,t){t(null)},ftruncate(e,n,r){r(t())},lchown(e,n,r,i){i(t())},link(e,n,r){r(t())},lstat(e,n){n(t())},mkdir(e,n,r){r(t())},open(e,n,r,i){i(t())},read(e,n,r,i,o,a){a(t())},readdir(e,n){n(t())},readlink(e,n){n(t())},rename(e,n,r){r(t())},rmdir(e,n){n(t())},stat(e,n){n(t())},symlink(e,n,r){r(t())},truncate(e,n,r){r(t())},unlink(e,n){n(t())},utimes(e,n,r,i){i(t())}}}if(n.g.process||(n.g.process={getuid:()=>-1,getgid:()=>-1,geteuid:()=>-1,getegid:()=>-1,getgroups(){throw t()},pid:-1,ppid:-1,umask(){throw t()},cwd(){throw t()},chdir(){throw t()}}),!n.g.crypto&&n.g.require){const e=n(4229);n.g.crypto={getRandomValues(t){e.randomFillSync(t)}}}if(!n.g.crypto)throw new Error("global.crypto is not available, polyfill required (getRandomValues only)");if(n.g.performance||(n.g.performance={now(){const[e,t]=i.hrtime();return 1e3*e+t/1e6}}),!n.g.TextEncoder&&n.g.require&&(n.g.TextEncoder=n(9539).TextEncoder),!n.g.TextEncoder)throw new Error("global.TextEncoder is not available, polyfill required");if(!n.g.TextDecoder&&n.g.require&&(n.g.TextDecoder=n(9539).TextDecoder),!n.g.TextDecoder)throw new Error("global.TextDecoder is not available, polyfill required");const o=new TextEncoder("utf-8"),a=new TextDecoder("utf-8");if(n.g.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{0!==e&&r.warn("exit code:",e)},this._exitPromise=new Promise((e=>{this._resolveExitPromise=e})),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const e=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},t=e=>this.mem.getUint32(e+0,!0)+4294967296*this.mem.getInt32(e+4,!0),n=e=>{const t=this.mem.getFloat64(e,!0);if(0===t)return;if(!isNaN(t))return t;const n=this.mem.getUint32(e,!0);return this._values[n]},i=(e,t)=>{const n=2146959360;if("number"==typeof t&&0!==t)return isNaN(t)?(this.mem.setUint32(e+4,n,!0),void this.mem.setUint32(e,0,!0)):void this.mem.setFloat64(e,t,!0);if(void 0===t)return void this.mem.setFloat64(e,0,!0);let r=this._ids.get(t);void 0===r&&(r=this._idPool.pop(),void 0===r&&(r=this._values.length),this._values[r]=t,this._goRefCounts[r]=0,this._ids.set(t,r)),this._goRefCounts[r]++;let i=0;switch(typeof t){case"object":null!==t&&(i=1);break;case"string":i=2;break;case"symbol":i=3;break;case"function":i=4}this.mem.setUint32(e+4,n|i,!0),this.mem.setUint32(e,r,!0)},s=e=>{const n=t(e+0),r=t(e+8);return new Uint8Array(this._inst.exports.mem.buffer,n,r)},c=e=>{const r=t(e+0),i=t(e+8),o=new Array(i);for(let e=0;e<i;e++)o[e]=n(r+8*e);return o},u=e=>{const n=t(e+0),r=t(e+8);return a.decode(new DataView(this._inst.exports.mem.buffer,n,r))},l=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{const n=t(8+(e>>>=0)),r=t(e+16),i=this.mem.getInt32(e+24,!0);fs.writeSync(n,new Uint8Array(this._inst.exports.mem.buffer,r,i))},"runtime.resetMemoryDataView":e=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":t=>{e(8+(t>>>=0),1e6*(l+performance.now()))},"runtime.walltime":t=>{t>>>=0;const n=(new Date).getTime();e(t+8,n/1e3),this.mem.setInt32(t+16,n%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const n=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(n,setTimeout((()=>{for(this._resume();this._scheduledTimeouts.has(n);)r.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()}),t(e+8)+1)),this.mem.setInt32(e+16,n,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(s(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,0===this._goRefCounts[t]){const e=this._values[t];this._values[t]=null,this._ids.delete(e),this._idPool.push(t)}},"syscall/js.stringVal":e=>{i(24+(e>>>=0),u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(n(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(n(e+8),u(e+16),n(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(n(e+8),u(e+16))},"syscall/js.valueIndex":e=>{i(24+(e>>>=0),Reflect.get(n(e+8),t(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(n(e+8),t(e+16),n(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=n(e+8),r=Reflect.get(t,u(e+16)),o=c(e+32),a=Reflect.apply(r,t,o);e=this._inst.exports.getsp()>>>0,i(e+56,a),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=n(e+8),r=c(e+16),o=Reflect.apply(t,void 0,r);e=this._inst.exports.getsp()>>>0,i(e+40,o),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=n(e+8),r=c(e+16),o=Reflect.construct(t,r);e=this._inst.exports.getsp()>>>0,i(e+40,o),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":t=>{e(16+(t>>>=0),parseInt(n(t+8).length))},"syscall/js.valuePrepareString":t=>{t>>>=0;const r=o.encode(String(n(t+8)));i(t+16,r),e(t+24,r.length)},"syscall/js.valueLoadString":e=>{const t=n(8+(e>>>=0));s(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,n(e+8)instanceof n(e+16)?1:0)},"syscall/js.copyBytesToGo":t=>{const r=s(8+(t>>>=0)),i=n(t+32);if(!(i instanceof Uint8Array||i instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const o=i.subarray(0,r.length);r.set(o),e(t+40,o.length),this.mem.setUint8(t+48,1)},"syscall/js.copyBytesToJS":t=>{const r=n(8+(t>>>=0)),i=s(t+16);if(!(r instanceof Uint8Array||r instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const o=i.subarray(0,r.length);r.set(o),e(t+40,o.length),this.mem.setUint8(t+48,1)},debug:e=>{r.log(e)}}}}async run(e){if(!(e instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=e,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,n.g,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[n.g,5],[this,6]]),this._idPool=[],this.exited=!1;let t=4096;const r=e=>{const n=t,r=o.encode(e+"\0");return new Uint8Array(this.mem.buffer,t,r.length).set(r),t+=r.length,t%8!=0&&(t+=8-t%8),n},i=this.argv.length,a=[];this.argv.forEach((e=>{a.push(r(e))})),a.push(0),Object.keys(this.env).sort().forEach((e=>{a.push(r(`${e}=${this.env[e]}`))})),a.push(0);const s=t;if(a.forEach((e=>{this.mem.setUint32(t,e,!0),this.mem.setUint32(t+4,0,!0),t+=8})),t>=8192)throw new Error("command line too long");this._inst.exports.run(i,s),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(e){const t=this;return function(){const n={id:e,this:this,args:arguments};return t._pendingEvent=n,t._resume(),n.result}}},n.g.require&&n.g.require.main===e&&n.g.process&&n.g.process.versions&&!n.g.process.versions.electron){i.argv.length<3&&(r.error("usage: go_js_wasm_exec [wasm binary] [arguments]"),i.exit(1));const e=new Go;e.argv=i.argv.slice(2),e.env=Object.assign({TMPDIR:n(5381).tmpdir()},i.env),e.exit=i.exit,WebAssembly.instantiate(fs.readFileSync(i.argv[2]),e.importObject).then((t=>(i.on("exit",(t=>{0!==t||e.exited||(e._pendingEvent={id:0},e._resume())})),e.run(t.instance)))).catch((e=>{r.error(e),i.exit(1)}))}})()},5049:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5049,e.exports=t},7923:function(e){e.exports=(()=>{"use strict";var e={877:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(644);t.default=function(e,t){this.faradayServer=e(r.serviceNames.frdrpc.FaradayServer,t)}},382:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LitApi=t.FaradayApi=t.PoolApi=t.LoopApi=t.LndApi=void 0;var i=n(152);Object.defineProperty(t,"LndApi",{enumerable:!0,get:function(){return r(i).default}});var o=n(343);Object.defineProperty(t,"LoopApi",{enumerable:!0,get:function(){return r(o).default}});var a=n(146);Object.defineProperty(t,"PoolApi",{enumerable:!0,get:function(){return r(a).default}});var s=n(877);Object.defineProperty(t,"FaradayApi",{enumerable:!0,get:function(){return r(s).default}});var c=n(929);Object.defineProperty(t,"LitApi",{enumerable:!0,get:function(){return r(c).default}})},929:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(644);t.default=function(e,t){this.autopilot=e(r.serviceNames.litrpc.Autopilot,t),this.firewall=e(r.serviceNames.litrpc.Firewall,t),this.sessions=e(r.serviceNames.litrpc.Sessions,t)}},152:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(644);t.default=function(e,t){this.autopilot=e(r.serviceNames.autopilotrpc.Autopilot,t),this.chainNotifier=e(r.serviceNames.chainrpc.ChainNotifier,t),this.invoices=e(r.serviceNames.invoicesrpc.Invoices,t),this.lightning=e(r.serviceNames.lnrpc.Lightning,t),this.router=e(r.serviceNames.routerrpc.Router,t),this.signer=e(r.serviceNames.signrpc.Signer,t),this.walletKit=e(r.serviceNames.walletrpc.WalletKit,t),this.walletUnlocker=e(r.serviceNames.lnrpc.WalletUnlocker,t),this.watchtower=e(r.serviceNames.watchtowerrpc.Watchtower,t),this.watchtowerClient=e(r.serviceNames.wtclientrpc.WatchtowerClient,t)}},343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(644);t.default=function(e,t){this.swapClient=e(r.serviceNames.looprpc.SwapClient,t),this.debug=e(r.serviceNames.looprpc.Debug,t)}},146:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(644);t.default=function(e,t){this.trader=e(r.serviceNames.poolrpc.Trader,t),this.channelAuctioneer=e(r.serviceNames.poolrpc.ChannelAuctioneer,t),this.hashmail=e(r.serviceNames.poolrpc.HashMail,t)}},713:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptionMethods=t.LitApi=t.FaradayApi=t.PoolApi=t.LoopApi=t.LndApi=t.snakeKeysToCamel=t.isObject=t.camelKeysToSnake=void 0,i(n(894),t);var o=n(848);Object.defineProperty(t,"camelKeysToSnake",{enumerable:!0,get:function(){return o.camelKeysToSnake}}),Object.defineProperty(t,"isObject",{enumerable:!0,get:function(){return o.isObject}}),Object.defineProperty(t,"snakeKeysToCamel",{enumerable:!0,get:function(){return o.snakeKeysToCamel}});var a=n(382);Object.defineProperty(t,"LndApi",{enumerable:!0,get:function(){return a.LndApi}}),Object.defineProperty(t,"LoopApi",{enumerable:!0,get:function(){return a.LoopApi}}),Object.defineProperty(t,"PoolApi",{enumerable:!0,get:function(){return a.PoolApi}}),Object.defineProperty(t,"FaradayApi",{enumerable:!0,get:function(){return a.FaradayApi}}),Object.defineProperty(t,"LitApi",{enumerable:!0,get:function(){return a.LitApi}});var s=n(644);Object.defineProperty(t,"subscriptionMethods",{enumerable:!0,get:function(){return s.subscriptionMethods}})},273:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(726),t)},71:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(374),t)},76:(e,t)=>{var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.CloseRecommendationRequest_Metric=t.EntryType=t.FiatBackend=t.Granularity=void 0,(o=t.Granularity||(t.Granularity={})).UNKNOWN_GRANULARITY="UNKNOWN_GRANULARITY",o.MINUTE="MINUTE",o.FIVE_MINUTES="FIVE_MINUTES",o.FIFTEEN_MINUTES="FIFTEEN_MINUTES",o.THIRTY_MINUTES="THIRTY_MINUTES",o.HOUR="HOUR",o.SIX_HOURS="SIX_HOURS",o.TWELVE_HOURS="TWELVE_HOURS",o.DAY="DAY",o.UNRECOGNIZED="UNRECOGNIZED",(i=t.FiatBackend||(t.FiatBackend={})).UNKNOWN_FIATBACKEND="UNKNOWN_FIATBACKEND",i.COINCAP="COINCAP",i.COINDESK="COINDESK",i.CUSTOM="CUSTOM",i.COINGECKO="COINGECKO",i.UNRECOGNIZED="UNRECOGNIZED",(r=t.EntryType||(t.EntryType={})).UNKNOWN="UNKNOWN",r.LOCAL_CHANNEL_OPEN="LOCAL_CHANNEL_OPEN",r.REMOTE_CHANNEL_OPEN="REMOTE_CHANNEL_OPEN",r.CHANNEL_OPEN_FEE="CHANNEL_OPEN_FEE",r.CHANNEL_CLOSE="CHANNEL_CLOSE",r.RECEIPT="RECEIPT",r.PAYMENT="PAYMENT",r.FEE="FEE",r.CIRCULAR_RECEIPT="CIRCULAR_RECEIPT",r.FORWARD="FORWARD",r.FORWARD_FEE="FORWARD_FEE",r.CIRCULAR_PAYMENT="CIRCULAR_PAYMENT",r.CIRCULAR_FEE="CIRCULAR_FEE",r.SWEEP="SWEEP",r.SWEEP_FEE="SWEEP_FEE",r.CHANNEL_CLOSE_FEE="CHANNEL_CLOSE_FEE",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.CloseRecommendationRequest_Metric||(t.CloseRecommendationRequest_Metric={})).UNKNOWN="UNKNOWN",n.UPTIME="UPTIME",n.REVENUE="REVENUE",n.INCOMING_VOLUME="INCOMING_VOLUME",n.OUTGOING_VOLUME="OUTGOING_VOLUME",n.TOTAL_VOLUME="TOTAL_VOLUME",n.UNRECOGNIZED="UNRECOGNIZED"},915:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(76),t)},894:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.poolrpc=t.looprpc=t.wtclientrpc=t.watchtowerrpc=t.walletrpc=t.signrpc=t.routerrpc=t.lnrpc=t.invoicesrpc=t.chainrpc=t.autopilotrpc=t.litrpc=t.frdrpc=void 0;var a=o(n(915));t.frdrpc=a;var s=o(n(903));t.litrpc=s;var c=o(n(273));t.autopilotrpc=c;var u=o(n(71));t.chainrpc=u;var l=o(n(312));t.invoicesrpc=l;var f=o(n(452));t.lnrpc=f;var d=o(n(226));t.routerrpc=d;var h=o(n(207));t.signrpc=h;var p=o(n(367));t.walletrpc=p;var y=o(n(412));t.watchtowerrpc=y;var g=o(n(946));t.wtclientrpc=g;var b=o(n(11));t.looprpc=b;var m=o(n(377));t.poolrpc=m},312:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(212),t)},481:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionState=void 0,(n=t.ActionState||(t.ActionState={})).STATE_UNKNOWN="STATE_UNKNOWN",n.STATE_PENDING="STATE_PENDING",n.STATE_DONE="STATE_DONE",n.STATE_ERROR="STATE_ERROR",n.UNRECOGNIZED="UNRECOGNIZED"},166:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},199:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionState=t.SessionType=void 0,(r=t.SessionType||(t.SessionType={})).TYPE_MACAROON_READONLY="TYPE_MACAROON_READONLY",r.TYPE_MACAROON_ADMIN="TYPE_MACAROON_ADMIN",r.TYPE_MACAROON_CUSTOM="TYPE_MACAROON_CUSTOM",r.TYPE_UI_PASSWORD="TYPE_UI_PASSWORD",r.TYPE_AUTOPILOT="TYPE_AUTOPILOT",r.TYPE_MACAROON_ACCOUNT="TYPE_MACAROON_ACCOUNT",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.SessionState||(t.SessionState={})).STATE_CREATED="STATE_CREATED",n.STATE_IN_USE="STATE_IN_USE",n.STATE_REVOKED="STATE_REVOKED",n.STATE_EXPIRED="STATE_EXPIRED",n.UNRECOGNIZED="UNRECOGNIZED"},903:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(481),t),i(n(166),t),i(n(199),t)},726:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},374:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},212:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LookupModifier=void 0,(n=t.LookupModifier||(t.LookupModifier={})).DEFAULT="DEFAULT",n.HTLC_SET_ONLY="HTLC_SET_ONLY",n.HTLC_SET_BLANK="HTLC_SET_BLANK",n.UNRECOGNIZED="UNRECOGNIZED"},21:(e,t)=>{var n,r,i,o,a,s,c,u,l,f,d,h,p,y,g,b,m,v,w,_;Object.defineProperty(t,"__esModule",{value:!0}),t.Failure_FailureCode=t.HTLCAttempt_HTLCStatus=t.Payment_PaymentStatus=t.Invoice_InvoiceState=t.ChannelEventUpdate_UpdateType=t.PendingChannelsResponse_ForceClosedChannel_AnchorState=t.PeerEvent_EventType=t.Peer_SyncType=t.ChannelCloseSummary_ClosureType=t.UpdateFailure=t.FeatureBit=t.PaymentFailureReason=t.InvoiceHTLCState=t.NodeMetricType=t.ResolutionOutcome=t.ResolutionType=t.Initiator=t.CommitmentType=t.AddressType=t.OutputScriptType=void 0,(_=t.OutputScriptType||(t.OutputScriptType={})).SCRIPT_TYPE_PUBKEY_HASH="SCRIPT_TYPE_PUBKEY_HASH",_.SCRIPT_TYPE_SCRIPT_HASH="SCRIPT_TYPE_SCRIPT_HASH",_.SCRIPT_TYPE_WITNESS_V0_PUBKEY_HASH="SCRIPT_TYPE_WITNESS_V0_PUBKEY_HASH",_.SCRIPT_TYPE_WITNESS_V0_SCRIPT_HASH="SCRIPT_TYPE_WITNESS_V0_SCRIPT_HASH",_.SCRIPT_TYPE_PUBKEY="SCRIPT_TYPE_PUBKEY",_.SCRIPT_TYPE_MULTISIG="SCRIPT_TYPE_MULTISIG",_.SCRIPT_TYPE_NULLDATA="SCRIPT_TYPE_NULLDATA",_.SCRIPT_TYPE_NON_STANDARD="SCRIPT_TYPE_NON_STANDARD",_.SCRIPT_TYPE_WITNESS_UNKNOWN="SCRIPT_TYPE_WITNESS_UNKNOWN",_.SCRIPT_TYPE_WITNESS_V1_TAPROOT="SCRIPT_TYPE_WITNESS_V1_TAPROOT",_.UNRECOGNIZED="UNRECOGNIZED",(w=t.AddressType||(t.AddressType={})).WITNESS_PUBKEY_HASH="WITNESS_PUBKEY_HASH",w.NESTED_PUBKEY_HASH="NESTED_PUBKEY_HASH",w.UNUSED_WITNESS_PUBKEY_HASH="UNUSED_WITNESS_PUBKEY_HASH",w.UNUSED_NESTED_PUBKEY_HASH="UNUSED_NESTED_PUBKEY_HASH",w.TAPROOT_PUBKEY="TAPROOT_PUBKEY",w.UNUSED_TAPROOT_PUBKEY="UNUSED_TAPROOT_PUBKEY",w.UNRECOGNIZED="UNRECOGNIZED",(v=t.CommitmentType||(t.CommitmentType={})).UNKNOWN_COMMITMENT_TYPE="UNKNOWN_COMMITMENT_TYPE",v.LEGACY="LEGACY",v.STATIC_REMOTE_KEY="STATIC_REMOTE_KEY",v.ANCHORS="ANCHORS",v.SCRIPT_ENFORCED_LEASE="SCRIPT_ENFORCED_LEASE",v.UNRECOGNIZED="UNRECOGNIZED",(m=t.Initiator||(t.Initiator={})).INITIATOR_UNKNOWN="INITIATOR_UNKNOWN",m.INITIATOR_LOCAL="INITIATOR_LOCAL",m.INITIATOR_REMOTE="INITIATOR_REMOTE",m.INITIATOR_BOTH="INITIATOR_BOTH",m.UNRECOGNIZED="UNRECOGNIZED",(b=t.ResolutionType||(t.ResolutionType={})).TYPE_UNKNOWN="TYPE_UNKNOWN",b.ANCHOR="ANCHOR",b.INCOMING_HTLC="INCOMING_HTLC",b.OUTGOING_HTLC="OUTGOING_HTLC",b.COMMIT="COMMIT",b.UNRECOGNIZED="UNRECOGNIZED",(g=t.ResolutionOutcome||(t.ResolutionOutcome={})).OUTCOME_UNKNOWN="OUTCOME_UNKNOWN",g.CLAIMED="CLAIMED",g.UNCLAIMED="UNCLAIMED",g.ABANDONED="ABANDONED",g.FIRST_STAGE="FIRST_STAGE",g.TIMEOUT="TIMEOUT",g.UNRECOGNIZED="UNRECOGNIZED",(y=t.NodeMetricType||(t.NodeMetricType={})).UNKNOWN="UNKNOWN",y.BETWEENNESS_CENTRALITY="BETWEENNESS_CENTRALITY",y.UNRECOGNIZED="UNRECOGNIZED",(p=t.InvoiceHTLCState||(t.InvoiceHTLCState={})).ACCEPTED="ACCEPTED",p.SETTLED="SETTLED",p.CANCELED="CANCELED",p.UNRECOGNIZED="UNRECOGNIZED",(h=t.PaymentFailureReason||(t.PaymentFailureReason={})).FAILURE_REASON_NONE="FAILURE_REASON_NONE",h.FAILURE_REASON_TIMEOUT="FAILURE_REASON_TIMEOUT",h.FAILURE_REASON_NO_ROUTE="FAILURE_REASON_NO_ROUTE",h.FAILURE_REASON_ERROR="FAILURE_REASON_ERROR",h.FAILURE_REASON_INCORRECT_PAYMENT_DETAILS="FAILURE_REASON_INCORRECT_PAYMENT_DETAILS",h.FAILURE_REASON_INSUFFICIENT_BALANCE="FAILURE_REASON_INSUFFICIENT_BALANCE",h.UNRECOGNIZED="UNRECOGNIZED",(d=t.FeatureBit||(t.FeatureBit={})).DATALOSS_PROTECT_REQ="DATALOSS_PROTECT_REQ",d.DATALOSS_PROTECT_OPT="DATALOSS_PROTECT_OPT",d.INITIAL_ROUING_SYNC="INITIAL_ROUING_SYNC",d.UPFRONT_SHUTDOWN_SCRIPT_REQ="UPFRONT_SHUTDOWN_SCRIPT_REQ",d.UPFRONT_SHUTDOWN_SCRIPT_OPT="UPFRONT_SHUTDOWN_SCRIPT_OPT",d.GOSSIP_QUERIES_REQ="GOSSIP_QUERIES_REQ",d.GOSSIP_QUERIES_OPT="GOSSIP_QUERIES_OPT",d.TLV_ONION_REQ="TLV_ONION_REQ",d.TLV_ONION_OPT="TLV_ONION_OPT",d.EXT_GOSSIP_QUERIES_REQ="EXT_GOSSIP_QUERIES_REQ",d.EXT_GOSSIP_QUERIES_OPT="EXT_GOSSIP_QUERIES_OPT",d.STATIC_REMOTE_KEY_REQ="STATIC_REMOTE_KEY_REQ",d.STATIC_REMOTE_KEY_OPT="STATIC_REMOTE_KEY_OPT",d.PAYMENT_ADDR_REQ="PAYMENT_ADDR_REQ",d.PAYMENT_ADDR_OPT="PAYMENT_ADDR_OPT",d.MPP_REQ="MPP_REQ",d.MPP_OPT="MPP_OPT",d.WUMBO_CHANNELS_REQ="WUMBO_CHANNELS_REQ",d.WUMBO_CHANNELS_OPT="WUMBO_CHANNELS_OPT",d.ANCHORS_REQ="ANCHORS_REQ",d.ANCHORS_OPT="ANCHORS_OPT",d.ANCHORS_ZERO_FEE_HTLC_REQ="ANCHORS_ZERO_FEE_HTLC_REQ",d.ANCHORS_ZERO_FEE_HTLC_OPT="ANCHORS_ZERO_FEE_HTLC_OPT",d.AMP_REQ="AMP_REQ",d.AMP_OPT="AMP_OPT",d.UNRECOGNIZED="UNRECOGNIZED",(f=t.UpdateFailure||(t.UpdateFailure={})).UPDATE_FAILURE_UNKNOWN="UPDATE_FAILURE_UNKNOWN",f.UPDATE_FAILURE_PENDING="UPDATE_FAILURE_PENDING",f.UPDATE_FAILURE_NOT_FOUND="UPDATE_FAILURE_NOT_FOUND",f.UPDATE_FAILURE_INTERNAL_ERR="UPDATE_FAILURE_INTERNAL_ERR",f.UPDATE_FAILURE_INVALID_PARAMETER="UPDATE_FAILURE_INVALID_PARAMETER",f.UNRECOGNIZED="UNRECOGNIZED",(l=t.ChannelCloseSummary_ClosureType||(t.ChannelCloseSummary_ClosureType={})).COOPERATIVE_CLOSE="COOPERATIVE_CLOSE",l.LOCAL_FORCE_CLOSE="LOCAL_FORCE_CLOSE",l.REMOTE_FORCE_CLOSE="REMOTE_FORCE_CLOSE",l.BREACH_CLOSE="BREACH_CLOSE",l.FUNDING_CANCELED="FUNDING_CANCELED",l.ABANDONED="ABANDONED",l.UNRECOGNIZED="UNRECOGNIZED",(u=t.Peer_SyncType||(t.Peer_SyncType={})).UNKNOWN_SYNC="UNKNOWN_SYNC",u.ACTIVE_SYNC="ACTIVE_SYNC",u.PASSIVE_SYNC="PASSIVE_SYNC",u.PINNED_SYNC="PINNED_SYNC",u.UNRECOGNIZED="UNRECOGNIZED",(c=t.PeerEvent_EventType||(t.PeerEvent_EventType={})).PEER_ONLINE="PEER_ONLINE",c.PEER_OFFLINE="PEER_OFFLINE",c.UNRECOGNIZED="UNRECOGNIZED",(s=t.PendingChannelsResponse_ForceClosedChannel_AnchorState||(t.PendingChannelsResponse_ForceClosedChannel_AnchorState={})).LIMBO="LIMBO",s.RECOVERED="RECOVERED",s.LOST="LOST",s.UNRECOGNIZED="UNRECOGNIZED",(a=t.ChannelEventUpdate_UpdateType||(t.ChannelEventUpdate_UpdateType={})).OPEN_CHANNEL="OPEN_CHANNEL",a.CLOSED_CHANNEL="CLOSED_CHANNEL",a.ACTIVE_CHANNEL="ACTIVE_CHANNEL",a.INACTIVE_CHANNEL="INACTIVE_CHANNEL",a.PENDING_OPEN_CHANNEL="PENDING_OPEN_CHANNEL",a.FULLY_RESOLVED_CHANNEL="FULLY_RESOLVED_CHANNEL",a.UNRECOGNIZED="UNRECOGNIZED",(o=t.Invoice_InvoiceState||(t.Invoice_InvoiceState={})).OPEN="OPEN",o.SETTLED="SETTLED",o.CANCELED="CANCELED",o.ACCEPTED="ACCEPTED",o.UNRECOGNIZED="UNRECOGNIZED",(i=t.Payment_PaymentStatus||(t.Payment_PaymentStatus={})).UNKNOWN="UNKNOWN",i.IN_FLIGHT="IN_FLIGHT",i.SUCCEEDED="SUCCEEDED",i.FAILED="FAILED",i.UNRECOGNIZED="UNRECOGNIZED",(r=t.HTLCAttempt_HTLCStatus||(t.HTLCAttempt_HTLCStatus={})).IN_FLIGHT="IN_FLIGHT",r.SUCCEEDED="SUCCEEDED",r.FAILED="FAILED",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.Failure_FailureCode||(t.Failure_FailureCode={})).RESERVED="RESERVED",n.INCORRECT_OR_UNKNOWN_PAYMENT_DETAILS="INCORRECT_OR_UNKNOWN_PAYMENT_DETAILS",n.INCORRECT_PAYMENT_AMOUNT="INCORRECT_PAYMENT_AMOUNT",n.FINAL_INCORRECT_CLTV_EXPIRY="FINAL_INCORRECT_CLTV_EXPIRY",n.FINAL_INCORRECT_HTLC_AMOUNT="FINAL_INCORRECT_HTLC_AMOUNT",n.FINAL_EXPIRY_TOO_SOON="FINAL_EXPIRY_TOO_SOON",n.INVALID_REALM="INVALID_REALM",n.EXPIRY_TOO_SOON="EXPIRY_TOO_SOON",n.INVALID_ONION_VERSION="INVALID_ONION_VERSION",n.INVALID_ONION_HMAC="INVALID_ONION_HMAC",n.INVALID_ONION_KEY="INVALID_ONION_KEY",n.AMOUNT_BELOW_MINIMUM="AMOUNT_BELOW_MINIMUM",n.FEE_INSUFFICIENT="FEE_INSUFFICIENT",n.INCORRECT_CLTV_EXPIRY="INCORRECT_CLTV_EXPIRY",n.CHANNEL_DISABLED="CHANNEL_DISABLED",n.TEMPORARY_CHANNEL_FAILURE="TEMPORARY_CHANNEL_FAILURE",n.REQUIRED_NODE_FEATURE_MISSING="REQUIRED_NODE_FEATURE_MISSING",n.REQUIRED_CHANNEL_FEATURE_MISSING="REQUIRED_CHANNEL_FEATURE_MISSING",n.UNKNOWN_NEXT_PEER="UNKNOWN_NEXT_PEER",n.TEMPORARY_NODE_FAILURE="TEMPORARY_NODE_FAILURE",n.PERMANENT_NODE_FAILURE="PERMANENT_NODE_FAILURE",n.PERMANENT_CHANNEL_FAILURE="PERMANENT_CHANNEL_FAILURE",n.EXPIRY_TOO_FAR="EXPIRY_TOO_FAR",n.MPP_TIMEOUT="MPP_TIMEOUT",n.INVALID_ONION_PAYLOAD="INVALID_ONION_PAYLOAD",n.INTERNAL_FAILURE="INTERNAL_FAILURE",n.UNKNOWN_FAILURE="UNKNOWN_FAILURE",n.UNREADABLE_FAILURE="UNREADABLE_FAILURE",n.UNRECOGNIZED="UNRECOGNIZED"},288:(e,t)=>{var n,r,i,o,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.HtlcEvent_EventType=t.MissionControlConfig_ProbabilityModel=t.ChanStatusAction=t.ResolveHoldForwardAction=t.PaymentState=t.FailureDetail=void 0,(s=t.FailureDetail||(t.FailureDetail={})).UNKNOWN="UNKNOWN",s.NO_DETAIL="NO_DETAIL",s.ONION_DECODE="ONION_DECODE",s.LINK_NOT_ELIGIBLE="LINK_NOT_ELIGIBLE",s.ON_CHAIN_TIMEOUT="ON_CHAIN_TIMEOUT",s.HTLC_EXCEEDS_MAX="HTLC_EXCEEDS_MAX",s.INSUFFICIENT_BALANCE="INSUFFICIENT_BALANCE",s.INCOMPLETE_FORWARD="INCOMPLETE_FORWARD",s.HTLC_ADD_FAILED="HTLC_ADD_FAILED",s.FORWARDS_DISABLED="FORWARDS_DISABLED",s.INVOICE_CANCELED="INVOICE_CANCELED",s.INVOICE_UNDERPAID="INVOICE_UNDERPAID",s.INVOICE_EXPIRY_TOO_SOON="INVOICE_EXPIRY_TOO_SOON",s.INVOICE_NOT_OPEN="INVOICE_NOT_OPEN",s.MPP_INVOICE_TIMEOUT="MPP_INVOICE_TIMEOUT",s.ADDRESS_MISMATCH="ADDRESS_MISMATCH",s.SET_TOTAL_MISMATCH="SET_TOTAL_MISMATCH",s.SET_TOTAL_TOO_LOW="SET_TOTAL_TOO_LOW",s.SET_OVERPAID="SET_OVERPAID",s.UNKNOWN_INVOICE="UNKNOWN_INVOICE",s.INVALID_KEYSEND="INVALID_KEYSEND",s.MPP_IN_PROGRESS="MPP_IN_PROGRESS",s.CIRCULAR_ROUTE="CIRCULAR_ROUTE",s.UNRECOGNIZED="UNRECOGNIZED",(a=t.PaymentState||(t.PaymentState={})).IN_FLIGHT="IN_FLIGHT",a.SUCCEEDED="SUCCEEDED",a.FAILED_TIMEOUT="FAILED_TIMEOUT",a.FAILED_NO_ROUTE="FAILED_NO_ROUTE",a.FAILED_ERROR="FAILED_ERROR",a.FAILED_INCORRECT_PAYMENT_DETAILS="FAILED_INCORRECT_PAYMENT_DETAILS",a.FAILED_INSUFFICIENT_BALANCE="FAILED_INSUFFICIENT_BALANCE",a.UNRECOGNIZED="UNRECOGNIZED",(o=t.ResolveHoldForwardAction||(t.ResolveHoldForwardAction={})).SETTLE="SETTLE",o.FAIL="FAIL",o.RESUME="RESUME",o.UNRECOGNIZED="UNRECOGNIZED",(i=t.ChanStatusAction||(t.ChanStatusAction={})).ENABLE="ENABLE",i.DISABLE="DISABLE",i.AUTO="AUTO",i.UNRECOGNIZED="UNRECOGNIZED",(r=t.MissionControlConfig_ProbabilityModel||(t.MissionControlConfig_ProbabilityModel={})).APRIORI="APRIORI",r.BIMODAL="BIMODAL",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.HtlcEvent_EventType||(t.HtlcEvent_EventType={})).UNKNOWN="UNKNOWN",n.SEND="SEND",n.RECEIVE="RECEIVE",n.FORWARD="FORWARD",n.UNRECOGNIZED="UNRECOGNIZED"},885:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.MuSig2Version=t.SignMethod=void 0,(r=t.SignMethod||(t.SignMethod={})).SIGN_METHOD_WITNESS_V0="SIGN_METHOD_WITNESS_V0",r.SIGN_METHOD_TAPROOT_KEY_SPEND_BIP0086="SIGN_METHOD_TAPROOT_KEY_SPEND_BIP0086",r.SIGN_METHOD_TAPROOT_KEY_SPEND="SIGN_METHOD_TAPROOT_KEY_SPEND",r.SIGN_METHOD_TAPROOT_SCRIPT_SPEND="SIGN_METHOD_TAPROOT_SCRIPT_SPEND",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.MuSig2Version||(t.MuSig2Version={})).MUSIG2_VERSION_UNDEFINED="MUSIG2_VERSION_UNDEFINED",n.MUSIG2_VERSION_V040="MUSIG2_VERSION_V040",n.MUSIG2_VERSION_V100RC2="MUSIG2_VERSION_V100RC2",n.UNRECOGNIZED="UNRECOGNIZED"},213:(e,t)=>{var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeAddressType=t.WitnessType=t.AddressType=void 0,(i=t.AddressType||(t.AddressType={})).UNKNOWN="UNKNOWN",i.WITNESS_PUBKEY_HASH="WITNESS_PUBKEY_HASH",i.NESTED_WITNESS_PUBKEY_HASH="NESTED_WITNESS_PUBKEY_HASH",i.HYBRID_NESTED_WITNESS_PUBKEY_HASH="HYBRID_NESTED_WITNESS_PUBKEY_HASH",i.TAPROOT_PUBKEY="TAPROOT_PUBKEY",i.UNRECOGNIZED="UNRECOGNIZED",(r=t.WitnessType||(t.WitnessType={})).UNKNOWN_WITNESS="UNKNOWN_WITNESS",r.COMMITMENT_TIME_LOCK="COMMITMENT_TIME_LOCK",r.COMMITMENT_NO_DELAY="COMMITMENT_NO_DELAY",r.COMMITMENT_REVOKE="COMMITMENT_REVOKE",r.HTLC_OFFERED_REVOKE="HTLC_OFFERED_REVOKE",r.HTLC_ACCEPTED_REVOKE="HTLC_ACCEPTED_REVOKE",r.HTLC_OFFERED_TIMEOUT_SECOND_LEVEL="HTLC_OFFERED_TIMEOUT_SECOND_LEVEL",r.HTLC_ACCEPTED_SUCCESS_SECOND_LEVEL="HTLC_ACCEPTED_SUCCESS_SECOND_LEVEL",r.HTLC_OFFERED_REMOTE_TIMEOUT="HTLC_OFFERED_REMOTE_TIMEOUT",r.HTLC_ACCEPTED_REMOTE_SUCCESS="HTLC_ACCEPTED_REMOTE_SUCCESS",r.HTLC_SECOND_LEVEL_REVOKE="HTLC_SECOND_LEVEL_REVOKE",r.WITNESS_KEY_HASH="WITNESS_KEY_HASH",r.NESTED_WITNESS_KEY_HASH="NESTED_WITNESS_KEY_HASH",r.COMMITMENT_ANCHOR="COMMITMENT_ANCHOR",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.ChangeAddressType||(t.ChangeAddressType={})).CHANGE_ADDRESS_TYPE_UNSPECIFIED="CHANGE_ADDRESS_TYPE_UNSPECIFIED",n.CHANGE_ADDRESS_TYPE_P2TR="CHANGE_ADDRESS_TYPE_P2TR",n.UNRECOGNIZED="UNRECOGNIZED"},939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},921:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyType=void 0,(n=t.PolicyType||(t.PolicyType={})).LEGACY="LEGACY",n.ANCHOR="ANCHOR",n.UNRECOGNIZED="UNRECOGNIZED"},452:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(21),t),i(n(939),t)},598:(e,t)=>{var n,r,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoReason=t.LiquidityRuleType=t.FailureReason=t.SwapState=t.SwapType=void 0,(a=t.SwapType||(t.SwapType={})).LOOP_OUT="LOOP_OUT",a.LOOP_IN="LOOP_IN",a.UNRECOGNIZED="UNRECOGNIZED",(o=t.SwapState||(t.SwapState={})).INITIATED="INITIATED",o.PREIMAGE_REVEALED="PREIMAGE_REVEALED",o.HTLC_PUBLISHED="HTLC_PUBLISHED",o.SUCCESS="SUCCESS",o.FAILED="FAILED",o.INVOICE_SETTLED="INVOICE_SETTLED",o.UNRECOGNIZED="UNRECOGNIZED",(i=t.FailureReason||(t.FailureReason={})).FAILURE_REASON_NONE="FAILURE_REASON_NONE",i.FAILURE_REASON_OFFCHAIN="FAILURE_REASON_OFFCHAIN",i.FAILURE_REASON_TIMEOUT="FAILURE_REASON_TIMEOUT",i.FAILURE_REASON_SWEEP_TIMEOUT="FAILURE_REASON_SWEEP_TIMEOUT",i.FAILURE_REASON_INSUFFICIENT_VALUE="FAILURE_REASON_INSUFFICIENT_VALUE",i.FAILURE_REASON_TEMPORARY="FAILURE_REASON_TEMPORARY",i.FAILURE_REASON_INCORRECT_AMOUNT="FAILURE_REASON_INCORRECT_AMOUNT",i.UNRECOGNIZED="UNRECOGNIZED",(r=t.LiquidityRuleType||(t.LiquidityRuleType={})).UNKNOWN="UNKNOWN",r.THRESHOLD="THRESHOLD",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.AutoReason||(t.AutoReason={})).AUTO_REASON_UNKNOWN="AUTO_REASON_UNKNOWN",n.AUTO_REASON_BUDGET_NOT_STARTED="AUTO_REASON_BUDGET_NOT_STARTED",n.AUTO_REASON_SWEEP_FEES="AUTO_REASON_SWEEP_FEES",n.AUTO_REASON_BUDGET_ELAPSED="AUTO_REASON_BUDGET_ELAPSED",n.AUTO_REASON_IN_FLIGHT="AUTO_REASON_IN_FLIGHT",n.AUTO_REASON_SWAP_FEE="AUTO_REASON_SWAP_FEE",n.AUTO_REASON_MINER_FEE="AUTO_REASON_MINER_FEE",n.AUTO_REASON_PREPAY="AUTO_REASON_PREPAY",n.AUTO_REASON_FAILURE_BACKOFF="AUTO_REASON_FAILURE_BACKOFF",n.AUTO_REASON_LOOP_OUT="AUTO_REASON_LOOP_OUT",n.AUTO_REASON_LOOP_IN="AUTO_REASON_LOOP_IN",n.AUTO_REASON_LIQUIDITY_OK="AUTO_REASON_LIQUIDITY_OK",n.AUTO_REASON_BUDGET_INSUFFICIENT="AUTO_REASON_BUDGET_INSUFFICIENT",n.AUTO_REASON_FEE_INSUFFICIENT="AUTO_REASON_FEE_INSUFFICIENT",n.UNRECOGNIZED="UNRECOGNIZED"},283:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},11:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(598),t),i(n(283),t)},927:(e,t)=>{var n,r,i,o,a,s,c,u,l,f,d,h,p,y;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidOrder_FailReason=t.AccountDiff_AccountState=t.SubscribeError_Error=t.OrderReject_OrderRejectReason=t.OrderMatchReject_RejectReason=t.DurationBucketState=t.OrderState=t.ChannelConfirmationConstraints=t.ChannelAnnouncementConstraints=t.NodeTier=t.AuctionType=t.OrderChannelType=t.AuctionAccountState=t.ChannelType=void 0,(y=t.ChannelType||(t.ChannelType={})).TWEAKLESS="TWEAKLESS",y.ANCHORS="ANCHORS",y.SCRIPT_ENFORCED_LEASE="SCRIPT_ENFORCED_LEASE",y.UNRECOGNIZED="UNRECOGNIZED",(p=t.AuctionAccountState||(t.AuctionAccountState={})).STATE_PENDING_OPEN="STATE_PENDING_OPEN",p.STATE_OPEN="STATE_OPEN",p.STATE_EXPIRED="STATE_EXPIRED",p.STATE_PENDING_UPDATE="STATE_PENDING_UPDATE",p.STATE_CLOSED="STATE_CLOSED",p.STATE_PENDING_BATCH="STATE_PENDING_BATCH",p.STATE_EXPIRED_PENDING_UPDATE="STATE_EXPIRED_PENDING_UPDATE",p.UNRECOGNIZED="UNRECOGNIZED",(h=t.OrderChannelType||(t.OrderChannelType={})).ORDER_CHANNEL_TYPE_UNKNOWN="ORDER_CHANNEL_TYPE_UNKNOWN",h.ORDER_CHANNEL_TYPE_PEER_DEPENDENT="ORDER_CHANNEL_TYPE_PEER_DEPENDENT",h.ORDER_CHANNEL_TYPE_SCRIPT_ENFORCED="ORDER_CHANNEL_TYPE_SCRIPT_ENFORCED",h.UNRECOGNIZED="UNRECOGNIZED",(d=t.AuctionType||(t.AuctionType={})).AUCTION_TYPE_BTC_INBOUND_LIQUIDITY="AUCTION_TYPE_BTC_INBOUND_LIQUIDITY",d.AUCTION_TYPE_BTC_OUTBOUND_LIQUIDITY="AUCTION_TYPE_BTC_OUTBOUND_LIQUIDITY",d.UNRECOGNIZED="UNRECOGNIZED",(f=t.NodeTier||(t.NodeTier={})).TIER_DEFAULT="TIER_DEFAULT",f.TIER_0="TIER_0",f.TIER_1="TIER_1",f.UNRECOGNIZED="UNRECOGNIZED",(l=t.ChannelAnnouncementConstraints||(t.ChannelAnnouncementConstraints={})).ANNOUNCEMENT_NO_PREFERENCE="ANNOUNCEMENT_NO_PREFERENCE",l.ONLY_ANNOUNCED="ONLY_ANNOUNCED",l.ONLY_UNANNOUNCED="ONLY_UNANNOUNCED",l.UNRECOGNIZED="UNRECOGNIZED",(u=t.ChannelConfirmationConstraints||(t.ChannelConfirmationConstraints={})).CONFIRMATION_NO_PREFERENCE="CONFIRMATION_NO_PREFERENCE",u.ONLY_CONFIRMED="ONLY_CONFIRMED",u.ONLY_ZEROCONF="ONLY_ZEROCONF",u.UNRECOGNIZED="UNRECOGNIZED",(c=t.OrderState||(t.OrderState={})).ORDER_SUBMITTED="ORDER_SUBMITTED",c.ORDER_CLEARED="ORDER_CLEARED",c.ORDER_PARTIALLY_FILLED="ORDER_PARTIALLY_FILLED",c.ORDER_EXECUTED="ORDER_EXECUTED",c.ORDER_CANCELED="ORDER_CANCELED",c.ORDER_EXPIRED="ORDER_EXPIRED",c.ORDER_FAILED="ORDER_FAILED",c.UNRECOGNIZED="UNRECOGNIZED",(s=t.DurationBucketState||(t.DurationBucketState={})).NO_MARKET="NO_MARKET",s.MARKET_CLOSED="MARKET_CLOSED",s.ACCEPTING_ORDERS="ACCEPTING_ORDERS",s.MARKET_OPEN="MARKET_OPEN",s.UNRECOGNIZED="UNRECOGNIZED",(a=t.OrderMatchReject_RejectReason||(t.OrderMatchReject_RejectReason={})).UNKNOWN="UNKNOWN",a.SERVER_MISBEHAVIOR="SERVER_MISBEHAVIOR",a.BATCH_VERSION_MISMATCH="BATCH_VERSION_MISMATCH",a.PARTIAL_REJECT="PARTIAL_REJECT",a.UNRECOGNIZED="UNRECOGNIZED",(o=t.OrderReject_OrderRejectReason||(t.OrderReject_OrderRejectReason={})).DUPLICATE_PEER="DUPLICATE_PEER",o.CHANNEL_FUNDING_FAILED="CHANNEL_FUNDING_FAILED",o.UNRECOGNIZED="UNRECOGNIZED",(i=t.SubscribeError_Error||(t.SubscribeError_Error={})).UNKNOWN="UNKNOWN",i.SERVER_SHUTDOWN="SERVER_SHUTDOWN",i.ACCOUNT_DOES_NOT_EXIST="ACCOUNT_DOES_NOT_EXIST",i.INCOMPLETE_ACCOUNT_RESERVATION="INCOMPLETE_ACCOUNT_RESERVATION",i.UNRECOGNIZED="UNRECOGNIZED",(r=t.AccountDiff_AccountState||(t.AccountDiff_AccountState={})).OUTPUT_RECREATED="OUTPUT_RECREATED",r.OUTPUT_DUST_EXTENDED_OFFCHAIN="OUTPUT_DUST_EXTENDED_OFFCHAIN",r.OUTPUT_DUST_ADDED_TO_FEES="OUTPUT_DUST_ADDED_TO_FEES",r.OUTPUT_FULLY_SPENT="OUTPUT_FULLY_SPENT",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.InvalidOrder_FailReason||(t.InvalidOrder_FailReason={})).INVALID_AMT="INVALID_AMT",n.UNRECOGNIZED="UNRECOGNIZED"},961:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},456:(e,t)=>{var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.MatchRejectReason=t.MatchState=t.AccountState=t.AccountVersion=void 0,(o=t.AccountVersion||(t.AccountVersion={})).ACCOUNT_VERSION_LND_DEPENDENT="ACCOUNT_VERSION_LND_DEPENDENT",o.ACCOUNT_VERSION_LEGACY="ACCOUNT_VERSION_LEGACY",o.ACCOUNT_VERSION_TAPROOT="ACCOUNT_VERSION_TAPROOT",o.ACCOUNT_VERSION_TAPROOT_V2="ACCOUNT_VERSION_TAPROOT_V2",o.UNRECOGNIZED="UNRECOGNIZED",(i=t.AccountState||(t.AccountState={})).PENDING_OPEN="PENDING_OPEN",i.PENDING_UPDATE="PENDING_UPDATE",i.OPEN="OPEN",i.EXPIRED="EXPIRED",i.PENDING_CLOSED="PENDING_CLOSED",i.CLOSED="CLOSED",i.RECOVERY_FAILED="RECOVERY_FAILED",i.PENDING_BATCH="PENDING_BATCH",i.UNRECOGNIZED="UNRECOGNIZED",(r=t.MatchState||(t.MatchState={})).PREPARE="PREPARE",r.ACCEPTED="ACCEPTED",r.REJECTED="REJECTED",r.SIGNED="SIGNED",r.FINALIZED="FINALIZED",r.UNRECOGNIZED="UNRECOGNIZED",(n=t.MatchRejectReason||(t.MatchRejectReason={})).NONE="NONE",n.SERVER_MISBEHAVIOR="SERVER_MISBEHAVIOR",n.BATCH_VERSION_MISMATCH="BATCH_VERSION_MISMATCH",n.PARTIAL_REJECT_COLLATERAL="PARTIAL_REJECT_COLLATERAL",n.PARTIAL_REJECT_DUPLICATE_PEER="PARTIAL_REJECT_DUPLICATE_PEER",n.PARTIAL_REJECT_CHANNEL_FUNDING_FAILED="PARTIAL_REJECT_CHANNEL_FUNDING_FAILED",n.UNRECOGNIZED="UNRECOGNIZED"},377:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(927),t),i(n(961),t),i(n(456),t)},226:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(288),t)},644:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptionMethods=t.serviceNames=void 0,t.serviceNames={frdrpc:{FaradayServer:"frdrpc.FaradayServer"},litrpc:{Firewall:"litrpc.Firewall",Autopilot:"litrpc.Autopilot",Sessions:"litrpc.Sessions"},autopilotrpc:{Autopilot:"autopilotrpc.Autopilot"},chainrpc:{ChainNotifier:"chainrpc.ChainNotifier"},invoicesrpc:{Invoices:"invoicesrpc.Invoices"},lnrpc:{Lightning:"lnrpc.Lightning",WalletUnlocker:"lnrpc.WalletUnlocker"},routerrpc:{Router:"routerrpc.Router"},signrpc:{Signer:"signrpc.Signer"},walletrpc:{WalletKit:"walletrpc.WalletKit"},watchtowerrpc:{Watchtower:"watchtowerrpc.Watchtower"},wtclientrpc:{WatchtowerClient:"wtclientrpc.WatchtowerClient"},looprpc:{SwapClient:"looprpc.SwapClient",Debug:"looprpc.Debug"},poolrpc:{ChannelAuctioneer:"poolrpc.ChannelAuctioneer",HashMail:"poolrpc.HashMail",Trader:"poolrpc.Trader"}},t.subscriptionMethods=["chainrpc.ChainNotifier.RegisterConfirmationsNtfn","chainrpc.ChainNotifier.RegisterSpendNtfn","chainrpc.ChainNotifier.RegisterBlockEpochNtfn","invoicesrpc.Invoices.SubscribeSingleInvoice","lnrpc.Lightning.SubscribeTransactions","lnrpc.Lightning.SubscribePeerEvents","lnrpc.Lightning.SubscribeChannelEvents","lnrpc.Lightning.OpenChannel","lnrpc.Lightning.ChannelAcceptor","lnrpc.Lightning.CloseChannel","lnrpc.Lightning.SendPayment","lnrpc.Lightning.SendToRoute","lnrpc.Lightning.SubscribeInvoices","lnrpc.Lightning.SubscribeChannelGraph","lnrpc.Lightning.SubscribeChannelBackups","lnrpc.Lightning.RegisterRPCMiddleware","lnrpc.Lightning.SubscribeCustomMessages","routerrpc.Router.SendPaymentV2","routerrpc.Router.TrackPaymentV2","routerrpc.Router.TrackPayments","routerrpc.Router.SubscribeHtlcEvents","routerrpc.Router.SendPayment","routerrpc.Router.TrackPayment","routerrpc.Router.HtlcInterceptor","looprpc.SwapClient.Monitor","poolrpc.ChannelAuctioneer.SubscribeBatchAuction","poolrpc.ChannelAuctioneer.SubscribeSidecar","poolrpc.HashMail.RecvStream"]},207:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(885),t)},367:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(213),t)},412:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(482),t)},946:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(921),t)},848:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.camelKeysToSnake=t.snakeKeysToCamel=t.isObject=void 0;var n=function(e){return Array.isArray(e)};t.isObject=function(e){return e===Object(e)&&!n(e)&&"function"!=typeof e},t.snakeKeysToCamel=function(e){if((0,t.isObject)(e)){var r={};return Object.keys(e).forEach((function(n){var i;r[(i=n,i.replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace("-","").replace("_","")})))]=(0,t.snakeKeysToCamel)(e[n])})),r}return n(e)?e.map((function(e){return(0,t.snakeKeysToCamel)(e)})):e},t.camelKeysToSnake=function(e){if((0,t.isObject)(e)){var r={};return Object.keys(e).forEach((function(n){var i;r[(i=n,i.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())})))]=(0,t.camelKeysToSnake)(e[n])})),r}return n(e)?e.map((function(e){return(0,t.camelKeysToSnake)(e)})):e}}},t={};return function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(713)})()},9282:(e,t,n)=>{"use strict";var r=n(4155),i=n(5108);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a,s,c=n(2136).codes,u=c.ERR_AMBIGUOUS_ARGUMENT,l=c.ERR_INVALID_ARG_TYPE,f=c.ERR_INVALID_ARG_VALUE,d=c.ERR_INVALID_RETURN_VALUE,h=c.ERR_MISSING_ARGS,p=n(5961),y=n(9539).inspect,g=n(9539).types,b=g.isPromise,m=g.isRegExp,v=Object.assign?Object.assign:n(8091).assign,w=Object.is?Object.is:n(609);function _(){var e=n(9158);a=e.isDeepEqual,s=e.isDeepStrictEqual}new Map;var E=!1,S=e.exports=P,k={};function A(e){if(e.message instanceof Error)throw e.message;throw new p(e)}function O(e,t,n,r){if(!n){var i=!1;if(0===t)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new p({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];O.apply(void 0,[P,t.length].concat(t))}S.fail=function e(t,n,o,a,s){var c,u=arguments.length;if(0===u?c="Failed":1===u?(o=t,t=void 0):(!1===E&&(E=!0,(r.emitWarning?r.emitWarning:i.warn.bind(i))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===u&&(a="!=")),o instanceof Error)throw o;var l={actual:t,expected:n,operator:void 0===a?"fail":a,stackStartFn:s||e};void 0!==o&&(l.message=o);var f=new p(l);throw c&&(f.message=c,f.generatedMessage=!0),f},S.AssertionError=p,S.ok=P,S.equal=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");t!=n&&A({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},S.notEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");t==n&&A({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},S.deepEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===a&&_(),a(t,n)||A({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},S.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===a&&_(),a(t,n)&&A({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},S.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===a&&_(),s(t,n)||A({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},S.notDeepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===a&&_(),s(t,n)&&A({actual:t,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},S.strictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");w(t,n)||A({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},S.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new h("actual","expected");w(t,n)&&A({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var I=function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.forEach((function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&m(t[e])&&t[e].test(r[e])?i[e]=r[e]:i[e]=t[e])}))};function T(e,t,n,r,i,o){if(!(n in e)||!s(e[n],t[n])){if(!r){var a=new I(e,i),c=new I(t,i,e),u=new p({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=e,u.expected=t,u.operator=o.name,u}A({actual:e,expected:t,message:r,operator:o.name,stackStartFn:o})}}function N(e,t,n,r){if("function"!=typeof t){if(m(t))return t.test(e);if(2===arguments.length)throw new l("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var i=new p({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(t);if(t instanceof Error)s.push("name","message");else if(0===s.length)throw new f("error",t,"may not be an empty object");return void 0===a&&_(),s.forEach((function(i){"string"==typeof e[i]&&m(t[i])&&t[i].test(e[i])||T(e,t,i,n,s,r)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e){if("function"!=typeof e)throw new l("fn","Function",e);try{e()}catch(e){return e}return k}function R(e){return b(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function C(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!R(t=e()))throw new d("instance of Promise","promiseFn",t)}else{if(!R(e))throw new l("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return k})).catch((function(e){return e}))}))}function B(e,t,n,r){if("string"==typeof n){if(4===arguments.length)throw new l("error",["Object","Error","Function","RegExp"],n);if("object"===o(t)&&null!==t){if(t.message===n)throw new u("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new u("error/message",'The error "'.concat(t,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==o(n)&&"function"!=typeof n)throw new l("error",["Object","Error","Function","RegExp"],n);if(t===k){var i="";n&&n.name&&(i+=" (".concat(n.name,")")),i+=r?": ".concat(r):".";var a="rejects"===e.name?"rejection":"exception";A({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(a).concat(i),stackStartFn:e})}if(n&&!N(t,n,r,e))throw t}function L(e,t,n,r){if(t!==k){if("string"==typeof n&&(r=n,n=void 0),!n||N(t,n)){var i=r?": ".concat(r):".",o="doesNotReject"===e.name?"rejection":"exception";A({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];O.apply(void 0,[j,t.length].concat(t))}S.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];B.apply(void 0,[e,x(t)].concat(r))},S.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return C(t).then((function(t){return B.apply(void 0,[e,t].concat(r))}))},S.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];L.apply(void 0,[e,x(t)].concat(r))},S.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return C(t).then((function(t){return L.apply(void 0,[e,t].concat(r))}))},S.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=y(t);var r=new p({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),i=t.stack;if("string"==typeof i){var a=i.split("\n");a.shift();for(var s=r.stack.split("\n"),c=0;c<a.length;c++){var u=s.indexOf(a[c]);if(-1!==u){s=s.slice(0,u);break}}r.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw r}},S.strict=v(j,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict},5961:(e,t,n)=>{"use strict";var r=n(4155);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},c(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return l=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},l.apply(null,arguments)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var p=n(9539).inspect,y=n(2136).codes.ERR_INVALID_ARG_TYPE;function g(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var b="",m="",v="",w="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function E(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){n[t]=e[t]})),Object.defineProperty(n,"message",{value:e.message}),n}function S(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var k=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==h(e)||null===e)throw new y("options","Object",e);var i=e.message,o=e.operator,c=e.stackStartFn,u=e.actual,l=e.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)n=a(this,d(t).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(b="[34m",m="[32m",w="[39m",v="[31m"):(b="",m="",w="",v="")),"object"===h(u)&&null!==u&&"object"===h(l)&&null!==l&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=E(u),l=E(l)),"deepStrictEqual"===o||"strictEqual"===o)n=a(this,d(t).call(this,function(e,t,n){var i="",o="",a=0,s="",c=!1,u=S(e),l=u.split("\n"),f=S(t).split("\n"),d=0,p="";if("strictEqual"===n&&"object"===h(e)&&"object"===h(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===l.length&&1===f.length&&l[0]!==f[0]){var y=l[0].length+f[0].length;if(y<=10){if(!("object"===h(e)&&null!==e||"object"===h(t)&&null!==t||0===e&&0===t))return"".concat(_[n],"\n\n")+"".concat(l[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==n&&y<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;l[0][d]===f[0][d];)d++;d>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",d),"^"),d=0)}}for(var E=l[l.length-1],k=f[f.length-1];E===k&&(d++<2?s="\n  ".concat(E).concat(s):i=E,l.pop(),f.pop(),0!==l.length&&0!==f.length);)E=l[l.length-1],k=f[f.length-1];var A=Math.max(l.length,f.length);if(0===A){var O=u.split("\n");if(O.length>30)for(O[26]="".concat(b,"...").concat(w);O.length>27;)O.pop();return"".concat(_.notIdentical,"\n\n").concat(O.join("\n"),"\n")}d>3&&(s="\n".concat(b,"...").concat(w).concat(s),c=!0),""!==i&&(s="\n  ".concat(i).concat(s),i="");var P=0,I=_[n]+"\n".concat(m,"+ actual").concat(w," ").concat(v,"- expected").concat(w),T=" ".concat(b,"...").concat(w," Lines skipped");for(d=0;d<A;d++){var N=d-a;if(l.length<d+1)N>1&&d>2&&(N>4?(o+="\n".concat(b,"...").concat(w),c=!0):N>3&&(o+="\n  ".concat(f[d-2]),P++),o+="\n  ".concat(f[d-1]),P++),a=d,i+="\n".concat(v,"-").concat(w," ").concat(f[d]),P++;else if(f.length<d+1)N>1&&d>2&&(N>4?(o+="\n".concat(b,"...").concat(w),c=!0):N>3&&(o+="\n  ".concat(l[d-2]),P++),o+="\n  ".concat(l[d-1]),P++),a=d,o+="\n".concat(m,"+").concat(w," ").concat(l[d]),P++;else{var x=f[d],R=l[d],C=R!==x&&(!g(R,",")||R.slice(0,-1)!==x);C&&g(x,",")&&x.slice(0,-1)===R&&(C=!1,R+=","),C?(N>1&&d>2&&(N>4?(o+="\n".concat(b,"...").concat(w),c=!0):N>3&&(o+="\n  ".concat(l[d-2]),P++),o+="\n  ".concat(l[d-1]),P++),a=d,o+="\n".concat(m,"+").concat(w," ").concat(R),i+="\n".concat(v,"-").concat(w," ").concat(x),P+=2):(o+=i,i="",1!==N&&0!==d||(o+="\n  ".concat(R),P++))}if(P>20&&d<A-2)return"".concat(I).concat(T,"\n").concat(o,"\n").concat(b,"...").concat(w).concat(i,"\n")+"".concat(b,"...").concat(w)}return"".concat(I).concat(c?T:"","\n").concat(o).concat(i).concat(s).concat(p)}(u,l,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var p=_[o],k=S(u).split("\n");if("notStrictEqual"===o&&"object"===h(u)&&null!==u&&(p=_.notStrictEqualObject),k.length>30)for(k[26]="".concat(b,"...").concat(w);k.length>27;)k.pop();n=1===k.length?a(this,d(t).call(this,"".concat(p," ").concat(k[0]))):a(this,d(t).call(this,"".concat(p,"\n\n").concat(k.join("\n"),"\n")))}else{var A=S(u),O="",P=_[o];"notDeepEqual"===o||"notEqual"===o?(A="".concat(_[o],"\n\n").concat(A)).length>1024&&(A="".concat(A.slice(0,1021),"...")):(O="".concat(S(l)),A.length>512&&(A="".concat(A.slice(0,509),"...")),O.length>512&&(O="".concat(O.slice(0,509),"...")),"deepEqual"===o||"equal"===o?A="".concat(P,"\n\n").concat(A,"\n\nshould equal\n\n"):O=" ".concat(o," ").concat(O)),n=a(this,d(t).call(this,"".concat(A).concat(O)))}return Error.stackTraceLimit=f,n.generatedMessage=!i,Object.defineProperty(s(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(s(n),c),n.stack,n.name="AssertionError",a(n)}var n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],c&&o(n.prototype,c),t}(c(Error));e.exports=k},2136:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var a,s,c={};function u(e,t,n){n||(n=Error);var a=function(n){function a(n,o,s){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),c=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i(a).call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,o,s))),c.code=e,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(a,n),a}(n);c[e]=a}function l(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,s,c,u,f;if(void 0===a&&(a=n(9282)),a("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(s="not ",t.substr(0,s.length)===s)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))c="The ".concat(e," ").concat(o," ").concat(l(t,"type"));else{var d=("number"!=typeof f&&(f=0),f+1>(u=e).length||-1===u.indexOf(".",f)?"argument":"property");c='The "'.concat(e,'" ').concat(d," ").concat(o," ").concat(l(t,"type"))}return c+". Received type ".concat(r(i))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===s&&(s=n(9539));var i=s.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===a&&(a=n(9282)),a(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=c},9158:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},s=function(e){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t},c=Object.is?Object.is:n(609),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(360);function f(e){return e.call.bind(e)}var d=f(Object.prototype.hasOwnProperty),h=f(Object.prototype.propertyIsEnumerable),p=f(Object.prototype.toString),y=n(9539).types,g=y.isAnyArrayBuffer,b=y.isArrayBufferView,m=y.isDate,v=y.isMap,w=y.isRegExp,_=y.isSet,E=y.isNativeError,S=y.isBoxedPrimitive,k=y.isNumberObject,A=y.isStringObject,O=y.isBooleanObject,P=y.isBigIntObject,I=y.isSymbolObject,T=y.isFloat32Array,N=y.isFloat64Array;function x(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function R(e){return Object.keys(e).filter(x).concat(u(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function C(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function B(e,t,n,r){if(e===t)return 0!==e||!n||c(e,t);if(n){if("object"!==i(e))return"number"==typeof e&&l(e)&&l(t);if("object"!==i(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==i(e))return(null===t||"object"!==i(t))&&e==t;if(null===t||"object"!==i(t))return!1}var a,s,u,f,d=p(e);if(d!==p(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var h=R(e),y=R(t);return h.length===y.length&&j(e,t,n,r,1,h)}if("[object Object]"===d&&(!v(e)&&v(t)||!_(e)&&_(t)))return!1;if(m(e)){if(!m(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(u=e,f=t,!(o?u.source===f.source&&u.flags===f.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(f))))return!1}else if(E(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(b(e)){if(n||!T(e)&&!N(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===C(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1;var x=R(e),B=R(t);return x.length===B.length&&j(e,t,n,r,0,x)}if(_(e))return!(!_(t)||e.size!==t.size)&&j(e,t,n,r,2);if(v(e))return!(!v(t)||e.size!==t.size)&&j(e,t,n,r,3);if(g(e)){if(s=t,(a=e).byteLength!==s.byteLength||0!==C(new Uint8Array(a),new Uint8Array(s)))return!1}else if(S(e)&&!function(e,t){return k(e)?k(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):A(e)?A(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):O(e)?O(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):P(e)?P(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):I(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return j(e,t,n,r,0)}function L(e,t){return t.filter((function(t){return h(e,t)}))}function j(e,t,n,r,i,o){if(5===arguments.length){o=Object.keys(e);var a=Object.keys(t);if(o.length!==a.length)return!1}for(var s=0;s<o.length;s++)if(!d(t,o[s]))return!1;if(n&&5===arguments.length){var c=u(e);if(0!==c.length){var l=0;for(s=0;s<c.length;s++){var f=c[s];if(h(e,f)){if(!h(t,f))return!1;o.push(f),l++}else if(h(t,f))return!1}var p=u(t);if(c.length!==p.length&&L(t,p).length!==l)return!1}else{var y=u(t);if(0!==y.length&&0!==L(t,y).length)return!1}}if(0===o.length&&(0===i||1===i&&0===e.length||0===e.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var g=r.val1.get(e);if(void 0!==g){var b=r.val2.get(t);if(void 0!==b)return g===b}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var m=F(e,t,n,o,r,i);return r.val1.delete(e),r.val2.delete(t),m}function D(e,t,n,r){for(var i=a(e),o=0;o<i.length;o++){var s=i[o];if(B(t,s,n,r))return e.delete(s),!0}return!1}function U(e){switch(i(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function M(e,t,n){var r=U(n);return null!=r?r:t.has(r)&&!e.has(r)}function H(e,t,n,r,i){var o=U(n);if(null!=o)return o;var a=t.get(o);return!(void 0===a&&!t.has(o)||!B(r,a,!1,i))&&!e.has(o)&&B(r,a,!1,i)}function z(e,t,n,r,i,o){for(var s=a(e),c=0;c<s.length;c++){var u=s[c];if(B(n,u,i,o)&&B(r,t.get(u),i,o))return e.delete(u),!0}return!1}function F(e,t,n,o,c,u){var l=0;if(2===u){if(!function(e,t,n,r){for(var o=null,s=a(e),c=0;c<s.length;c++){var u=s[c];if("object"===i(u)&&null!==u)null===o&&(o=new Set),o.add(u);else if(!t.has(u)){if(n)return!1;if(!M(e,t,u))return!1;null===o&&(o=new Set),o.add(u)}}if(null!==o){for(var l=a(t),f=0;f<l.length;f++){var d=l[f];if("object"===i(d)&&null!==d){if(!D(o,d,n,r))return!1}else if(!n&&!e.has(d)&&!D(o,d,n,r))return!1}return 0===o.size}return!0}(e,t,n,c))return!1}else if(3===u){if(!function(e,t,n,o){for(var a=null,c=s(e),u=0;u<c.length;u++){var l=r(c[u],2),f=l[0],d=l[1];if("object"===i(f)&&null!==f)null===a&&(a=new Set),a.add(f);else{var h=t.get(f);if(void 0===h&&!t.has(f)||!B(d,h,n,o)){if(n)return!1;if(!H(e,t,f,d,o))return!1;null===a&&(a=new Set),a.add(f)}}}if(null!==a){for(var p=s(t),y=0;y<p.length;y++){var g=r(p[y],2),b=(f=g[0],g[1]);if("object"===i(f)&&null!==f){if(!z(a,e,f,b,n,o))return!1}else if(!(n||e.has(f)&&B(e.get(f),b,!1,o)||z(a,e,f,b,!1,o)))return!1}return 0===a.size}return!0}(e,t,n,c))return!1}else if(1===u)for(;l<e.length;l++){if(!d(e,l)){if(d(t,l))return!1;for(var f=Object.keys(e);l<f.length;l++){var h=f[l];if(!d(t,h)||!B(e[h],t[h],n,c))return!1}return f.length===Object.keys(t).length}if(!d(t,l)||!B(e[l],t[l],n,c))return!1}for(l=0;l<o.length;l++){var p=o[l];if(!B(e[p],t[p],n,c))return!1}return!0}e.exports={isDeepEqual:function(e,t){return B(e,t,!1)},isDeepStrictEqual:function(e,t){return B(e,t,!0)}}},1924:(e,t,n)=>{"use strict";var r=n(210),i=n(5559),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},5559:(e,t,n)=>{"use strict";var r=n(8612),i=n(210),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(r,a,arguments);return c&&u&&c(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};var f=function(){return s(r,o,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},5108:(e,t,n)=>{var r=n(9539),i=n(9282);function o(){return(new Date).getTime()}var a,s=Array.prototype.slice,c={};a=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){a.log.apply(a,arguments)},"info"],[function(){a.log.apply(a,arguments)},"warn"],[function(){a.warn.apply(a,arguments)},"error"],[function(e){c[e]=o()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var n=o()-t;a.log(e+": "+n+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=r.format.apply(null,arguments),a.error(e.stack)},"trace"],[function(e){a.log(r.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);i.ok(!1,r.format.apply(null,t))}},"assert"]],l=0;l<u.length;l++){var f=u[l],d=f[0],h=f[1];a[h]||(a[h]=d)}e.exports=a},452:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var y=e[n],g=e[y],b=e[g],m=257*e[p]^16843008*p;a[n]=m<<24|m>>>8,s[n]=m<<16|m>>>16,c[n]=m<<8|m>>>24,u[n]=m,m=16843009*b^65537*g^257*y^16843008*n,l[p]=m<<24|m>>>8,f[p]=m<<16|m>>>16,d[p]=m<<8|m>>>24,h[p]=m,n?(n=y^e[e[e[b^y]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=t[a]:(u=o[a-1],a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/n|0]<<24),o[a]=o[a-n]^u);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[i[u>>>24]]^f[i[u>>>16&255]]^d[i[u>>>8&255]]^h[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,h,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],h=4,p=1;p<c;p++){var y=r[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&d]^n[h++],g=r[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&u]^n[h++],b=r[f>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^n[h++],m=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^n[h++];u=y,l=g,f=b,d=m}y=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[h++],g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[h++],b=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[h++],m=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[h++],e[t]=y,e[t+1]=g,e[t+2]=b,e[t+3]=m},keySize:8});e.AES=t._createHelper(y)}(),r.AES)},5109:function(e,t,n){var r,i,o,a,s,c,u,l,f,d,h,p,y,g,b,m,v,w,_;e.exports=(r=n(8249),n(888),void(r.lib.Cipher||(i=r,o=i.lib,a=o.Base,s=o.WordArray,c=o.BufferedBlockAlgorithm,u=i.enc,u.Utf8,l=u.Base64,f=i.algo.EvpKDF,d=o.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:v}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=i.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),y=h.CBC=function(){var e=p.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(i);var c=s.create(o,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:y,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),b=o.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=s.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),b.create({ciphertext:n,salt:t})}},v=o.SerializableCipher=a.extend({cfg:a.extend({format:m}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return b.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=(i.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=s.random(8));var i=f.create({keySize:t+n}).compute(e,r),o=s.create(i.words.slice(t),4*n);return i.sigBytes=4*t,b.create({key:i,iv:o,salt:r})}},_=o.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:w}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=v.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,v.decrypt.call(this,e,t,i.key,r)}}))))},8249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),l=a.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(i,f);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),y=(s.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new y.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),r)},8269:function(e,t,n){var r,i,o;e.exports=(r=n(8249),o=(i=r).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],i=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=s<<24-i%4*8,i++}return o.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},3786:function(e,t,n){var r,i,o;e.exports=(r=n(8249),o=(i=r).lib.WordArray,i.enc.Base64url={stringify:function(e,t=!0){var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<r;c++)o.push(i.charAt(s>>>6*(3-c)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e,t=!0){var n=e.length,r=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var s=r.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(n=c)}return function(e,t,n){for(var r=[],i=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=s<<24-i%4*8,i++}return o.create(r,i)}(e,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},r.enc.Base64url)},298:function(e,t,n){var r;e.exports=(r=n(8249),function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},888:function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(8249),n(2783),n(9824),o=(i=(r=l).lib).Base,a=i.WordArray,c=(s=r.algo).MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),o=a.create(),s=o.words,c=r.keySize,u=r.iterations;s.length<c;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*c,o}}),r.EvpKDF=function(e,t,n){return u.create(n).compute(e,t)},l.EvpKDF)},2209:function(e,t,n){var r,i,o,a;e.exports=(a=n(8249),n(5109),i=(r=a).lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},a.format.Hex)},9824:function(e,t,n){var r,i,o;e.exports=(i=(r=n(8249)).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),s=i.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},1354:function(e,t,n){var r;e.exports=(r=n(8249),n(4938),n(4433),n(298),n(8269),n(3786),n(8214),n(2783),n(2153),n(7792),n(34),n(7460),n(3327),n(706),n(9824),n(2112),n(888),n(5109),n(8568),n(4242),n(9968),n(7660),n(1148),n(3615),n(2807),n(1077),n(6475),n(6991),n(2209),n(452),n(4253),n(1857),n(4454),n(3974),r)},4433:function(e,t,n){var r;e.exports=(r=n(8249),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},8214:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],y=e[t+4],g=e[t+5],b=e[t+6],m=e[t+7],v=e[t+8],w=e[t+9],_=e[t+10],E=e[t+11],S=e[t+12],k=e[t+13],A=e[t+14],O=e[t+15],P=o[0],I=o[1],T=o[2],N=o[3];P=u(P,I,T,N,a,7,s[0]),N=u(N,P,I,T,c,12,s[1]),T=u(T,N,P,I,h,17,s[2]),I=u(I,T,N,P,p,22,s[3]),P=u(P,I,T,N,y,7,s[4]),N=u(N,P,I,T,g,12,s[5]),T=u(T,N,P,I,b,17,s[6]),I=u(I,T,N,P,m,22,s[7]),P=u(P,I,T,N,v,7,s[8]),N=u(N,P,I,T,w,12,s[9]),T=u(T,N,P,I,_,17,s[10]),I=u(I,T,N,P,E,22,s[11]),P=u(P,I,T,N,S,7,s[12]),N=u(N,P,I,T,k,12,s[13]),T=u(T,N,P,I,A,17,s[14]),P=l(P,I=u(I,T,N,P,O,22,s[15]),T,N,c,5,s[16]),N=l(N,P,I,T,b,9,s[17]),T=l(T,N,P,I,E,14,s[18]),I=l(I,T,N,P,a,20,s[19]),P=l(P,I,T,N,g,5,s[20]),N=l(N,P,I,T,_,9,s[21]),T=l(T,N,P,I,O,14,s[22]),I=l(I,T,N,P,y,20,s[23]),P=l(P,I,T,N,w,5,s[24]),N=l(N,P,I,T,A,9,s[25]),T=l(T,N,P,I,p,14,s[26]),I=l(I,T,N,P,v,20,s[27]),P=l(P,I,T,N,k,5,s[28]),N=l(N,P,I,T,h,9,s[29]),T=l(T,N,P,I,m,14,s[30]),P=f(P,I=l(I,T,N,P,S,20,s[31]),T,N,g,4,s[32]),N=f(N,P,I,T,v,11,s[33]),T=f(T,N,P,I,E,16,s[34]),I=f(I,T,N,P,A,23,s[35]),P=f(P,I,T,N,c,4,s[36]),N=f(N,P,I,T,y,11,s[37]),T=f(T,N,P,I,m,16,s[38]),I=f(I,T,N,P,_,23,s[39]),P=f(P,I,T,N,k,4,s[40]),N=f(N,P,I,T,a,11,s[41]),T=f(T,N,P,I,p,16,s[42]),I=f(I,T,N,P,b,23,s[43]),P=f(P,I,T,N,w,4,s[44]),N=f(N,P,I,T,S,11,s[45]),T=f(T,N,P,I,O,16,s[46]),P=d(P,I=f(I,T,N,P,h,23,s[47]),T,N,a,6,s[48]),N=d(N,P,I,T,m,10,s[49]),T=d(T,N,P,I,A,15,s[50]),I=d(I,T,N,P,g,21,s[51]),P=d(P,I,T,N,S,6,s[52]),N=d(N,P,I,T,p,10,s[53]),T=d(T,N,P,I,_,15,s[54]),I=d(I,T,N,P,c,21,s[55]),P=d(P,I,T,N,v,6,s[56]),N=d(N,P,I,T,O,10,s[57]),T=d(T,N,P,I,b,15,s[58]),I=d(I,T,N,P,k,21,s[59]),P=d(P,I,T,N,y,6,s[60]),N=d(N,P,I,T,E,10,s[61]),T=d(T,N,P,I,h,15,s[62]),I=d(I,T,N,P,w,21,s[63]),o[0]=o[0]+P|0,o[1]=o[1]+I|0,o[2]=o[2]+T|0,o[3]=o[3]+N|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},8568:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),r.mode.CFB)},9968:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)e[n+c]^=s[c]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},4242:function(e,t,n){var r,i,o;e.exports=(o=n(8249),n(5109),o.mode.CTR=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}}),r.Decryptor=i,r),o.mode.CTR)},1148:function(e,t,n){var r,i;e.exports=(i=n(8249),n(5109),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),i.mode.ECB)},7660:function(e,t,n){var r,i,o;e.exports=(o=n(8249),n(5109),o.mode.OFB=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}}),r.Decryptor=i,r),o.mode.OFB)},3615:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},2807:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},1077:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},6991:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},6475:function(e,t,n){var r;e.exports=(r=n(8249),n(5109),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},2112:function(e,t,n){var r,i,o,a,s,c,u,l,f;e.exports=(f=n(8249),n(2783),n(9824),o=(i=(r=f).lib).Base,a=i.WordArray,c=(s=r.algo).SHA1,u=s.HMAC,l=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=u.create(n.hasher,e),i=a.create(),o=a.create([1]),s=i.words,c=o.words,l=n.keySize,f=n.iterations;s.length<l;){var d=r.update(t).finalize(o);r.reset();for(var h=d.words,p=h.length,y=d,g=1;g<f;g++){y=r.finalize(y),r.reset();for(var b=y.words,m=0;m<p;m++)h[m]^=b[m]}i.concat(d),c[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)},f.PBKDF2)},3974:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(r[0]^=u,r[1]^=f,r[2]^=l,r[3]^=d,r[4]^=u,r[5]^=f,r[6]^=l,r[7]^=d,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),r.RabbitLegacy)},4454:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(i[0]^=u,i[1]^=f,i[2]^=l,i[3]^=d,i[4]^=u,i[5]^=f,i[6]^=l,i[7]^=d,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),r.Rabbit)},1857:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(a)}(),r.RC4)},706:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,h,w,_,E,S,k,A,O,P,I=this._hash.words,T=f.words,N=d.words,x=s.words,R=c.words,C=u.words,B=l.words;for(E=o=I[0],S=a=I[1],k=h=I[2],A=w=I[3],O=_=I[4],n=0;n<80;n+=1)P=o+e[t+x[n]]|0,P+=n<16?p(a,h,w)+T[0]:n<32?y(a,h,w)+T[1]:n<48?g(a,h,w)+T[2]:n<64?b(a,h,w)+T[3]:m(a,h,w)+T[4],P=(P=v(P|=0,C[n]))+_|0,o=_,_=w,w=v(h,10),h=a,a=P,P=E+e[t+R[n]]|0,P+=n<16?m(S,k,A)+N[0]:n<32?b(S,k,A)+N[1]:n<48?g(S,k,A)+N[2]:n<64?y(S,k,A)+N[3]:p(S,k,A)+N[4],P=(P=v(P|=0,B[n]))+O|0,E=O,O=A,A=v(k,10),k=S,S=P;P=I[1]+h+A|0,I[1]=I[2]+w+O|0,I[2]=I[3]+_+E|0,I[3]=I[4]+o+S|0,I[4]=I[0]+a+k|0,I[0]=P},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function y(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function b(e,t,n){return e&n|t&~n}function m(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(h),t.HmacRIPEMD160=o._createHmacHelper(h)}(Math),r.RIPEMD160)},2783:function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(i=(r=l=n(8249)).lib,o=i.WordArray,a=i.Hasher,s=r.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var f=(r<<5|r>>>27)+s+c[u];f+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(u),r.HmacSHA1=a._createHmacHelper(u),l.SHA1)},7792:function(e,t,n){var r,i,o,a,s,c;e.exports=(c=n(8249),n(2153),i=(r=c).lib.WordArray,o=r.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=a._createHelper(s),r.HmacSHA224=a._createHmacHelper(s),c.SHA224)},2153:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],y=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[h-2],b=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[h]=y+u[h-7]+b+u[h-16]}var m=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[h]+u[h];d=f,f=l,l=s,s=a+w|0,a=o,o=i,i=r,r=w+(v+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},3327:function(e,t,n){var r;e.exports=(r=n(8249),n(4938),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.x64.Word,s=t.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,f=0,d=0;d<7;d++){if(1&i){var h=(1<<d)-1;h<32?f^=1<<h:s^=1<<h-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(I=n[i]).high^=a,I.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var h=0,p=0,y=0;y<5;y++)h^=(I=n[d+5*y]).high,p^=I.low;var g=f[d];g.high=h,g.low=p}for(d=0;d<5;d++){var b=f[(d+4)%5],m=f[(d+1)%5],v=m.high,w=m.low;for(h=b.high^(v<<1|w>>>31),p=b.low^(w<<1|v>>>31),y=0;y<5;y++)(I=n[d+5*y]).high^=h,I.low^=p}for(var _=1;_<25;_++){var E=(I=n[_]).high,S=I.low,k=c[_];k<32?(h=E<<k|S>>>32-k,p=S<<k|E>>>32-k):(h=S<<k-32|E>>>64-k,p=E<<k-32|S>>>64-k);var A=f[u[_]];A.high=h,A.low=p}var O=f[0],P=n[0];for(O.high=P.high,O.low=P.low,d=0;d<5;d++)for(y=0;y<5;y++){var I=n[_=d+5*y],T=f[_],N=f[(d+1)%5+5*y],x=f[(d+2)%5+5*y];I.high=T.high^~N.high&x.high,I.low=T.low^~N.low&x.low}I=n[0];var R=l[s];I.high^=R.high,I.low^=R.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var f=a[l],d=f.high,h=f.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(d)}return new i.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(d),t.HmacSHA3=o._createHmacHelper(d)}(Math),r.SHA3)},7460:function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(8249),n(4938),n(34),i=(r=l).x64,o=i.Word,a=i.WordArray,s=r.algo,c=s.SHA512,u=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u),l.SHA384)},34:function(e,t,n){var r;e.exports=(r=n(8249),n(4938),function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=s()}();var l=a.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],d=n[7],h=r.high,p=r.low,y=i.high,g=i.low,b=o.high,m=o.low,v=a.high,w=a.low,_=s.high,E=s.low,S=l.high,k=l.low,A=f.high,O=f.low,P=d.high,I=d.low,T=h,N=p,x=y,R=g,C=b,B=m,L=v,j=w,D=_,U=E,M=S,H=k,z=A,F=O,K=P,q=I,V=0;V<80;V++){var W,G,Y=u[V];if(V<16)G=Y.high=0|e[t+2*V],W=Y.low=0|e[t+2*V+1];else{var $=u[V-15],Z=$.high,X=$.low,J=(Z>>>1|X<<31)^(Z>>>8|X<<24)^Z>>>7,Q=(X>>>1|Z<<31)^(X>>>8|Z<<24)^(X>>>7|Z<<25),ee=u[V-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=u[V-7],ae=oe.high,se=oe.low,ce=u[V-16],ue=ce.high,le=ce.low;G=(G=(G=J+ae+((W=Q+se)>>>0<Q>>>0?1:0))+re+((W+=ie)>>>0<ie>>>0?1:0))+ue+((W+=le)>>>0<le>>>0?1:0),Y.high=G,Y.low=W}var fe,de=D&M^~D&z,he=U&H^~U&F,pe=T&x^T&C^x&C,ye=N&R^N&B^R&B,ge=(T>>>28|N<<4)^(T<<30|N>>>2)^(T<<25|N>>>7),be=(N>>>28|T<<4)^(N<<30|T>>>2)^(N<<25|T>>>7),me=(D>>>14|U<<18)^(D>>>18|U<<14)^(D<<23|U>>>9),ve=(U>>>14|D<<18)^(U>>>18|D<<14)^(U<<23|D>>>9),we=c[V],_e=we.high,Ee=we.low,Se=K+me+((fe=q+ve)>>>0<q>>>0?1:0),ke=be+ye;K=z,q=F,z=M,F=H,M=D,H=U,D=L+(Se=(Se=(Se=Se+de+((fe+=he)>>>0<he>>>0?1:0))+_e+((fe+=Ee)>>>0<Ee>>>0?1:0))+G+((fe+=W)>>>0<W>>>0?1:0))+((U=j+fe|0)>>>0<j>>>0?1:0)|0,L=C,j=B,C=x,B=R,x=T,R=N,T=Se+(ge+pe+(ke>>>0<be>>>0?1:0))+((N=fe+ke|0)>>>0<fe>>>0?1:0)|0}p=r.low=p+N,r.high=h+T+(p>>>0<N>>>0?1:0),g=i.low=g+R,i.high=y+x+(g>>>0<R>>>0?1:0),m=o.low=m+B,o.high=b+C+(m>>>0<B>>>0?1:0),w=a.low=w+j,a.high=v+L+(w>>>0<j>>>0?1:0),E=s.low=E+U,s.high=_+D+(E>>>0<U>>>0?1:0),k=l.low=k+H,l.high=S+M+(k>>>0<H>>>0?1:0),O=f.low=O+F,f.high=A+z+(O>>>0<F>>>0?1:0),I=d.low=I+q,d.high=P+K+(I>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),r.SHA512)},4253:function(e,t,n){var r;e.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(n=0;n<24;n++)u[n/6|0]|=t[(s[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(s[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&l[c])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(f);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(n.create(t)),this._des2=f.createEncryptor(n.create(r)),this._des3=f.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),r.TripleDES)},4938:function(e,t,n){var r,i,o,a,s,c;e.exports=(o=(i=r=n(8249)).lib,a=o.Base,s=o.WordArray,(c=i.x64={}).Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),c.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return s.create(n,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),r)},9435:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,a){a=a||{};var s,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(s=e,(c=Math.abs(s))>=i?o(s,c,i,"day"):c>=r?o(s,c,r,"hour"):c>=n?o(s,c,n,"minute"):c>=t?o(s,c,t,"second"):s+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1227:(e,t,n)=>{var r=n(5108),i=n(4155);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,r.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=r.debug||r.log||(()=>{}),e.exports=n(2447)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,n)=>{var r=n(5108);e.exports=function(e){function t(e){let n,r,o,a=null;function s(...e){if(!s.enabled)return;const r=s,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";a++;const o=t.formatters[i];if("function"==typeof o){const t=e[a];n=o.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=i,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(r!==t.namespaces&&(r=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function i(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(9435),t.destroy=function(){r.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},4289:(e,t,n)=>{"use strict";var r=n(2215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,c=n(1044)(),u=s&&c,l=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],n[o[s]])};f.supportsDescriptors=!!u,e.exports=f},8091:e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(n[c]=i[c])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},4029:(e,t,n)=>{"use strict";var r=n(5320),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},s=function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},c=function(e,t,n){for(var r in e)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))};e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(e)?a(e,t,o):"string"==typeof e?s(e,t,o):c(e,t,o)}},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var a,s=n.call(arguments,1),c=function(){if(this instanceof a){var t=o.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(n.call(arguments)))},u=Math.max(0,o.length-s.length),l=[],f=0;f<u;f++)l.push("$"+f);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},8612:(e,t,n)=>{"use strict";var r=n(7648);e.exports=Function.prototype.bind||r},210:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new a},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,f=n(1405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?r:d(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=d(i.prototype))}return y[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n(8612),v=n(7642),w=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),E=m.call(Function.call,String.prototype.replace),S=m.call(Function.call,String.prototype.slice),k=m.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,P=function(e){var t=S(e,0,1),n=S(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return E(e,A,(function(e,t,n,i){r[r.length]=n?E(i,O,"$1"):t||e})),r},I=function(e,t){var n,r=e;if(v(b,r)&&(r="%"+(n=b[r])[0]+"%"),v(y,r)){var o=y[r];if(o===h&&(o=g(r)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=P(e),r=n.length>0?n[0]:"",o=I("%"+r+"%",t),s=o.name,u=o.value,l=!1,f=o.alias;f&&(r=f[0],_(n,w([0,1],f)));for(var d=1,h=!0;d<n.length;d+=1){var p=n[d],g=S(p,0,1),b=S(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===b||"'"===b||"`"===b)&&g!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),v(y,s="%"+(r+="."+p)+"%"))u=y[s];else if(null!=u){if(!(p in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&d+1>=n.length){var m=c(u,p);u=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:u[p]}else h=v(u,p),u=u[p];h&&!l&&(y[s]=u)}}return u}},7296:(e,t,n)=>{"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},1044:(e,t,n)=>{"use strict";var r=n(210)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},1405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5419);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6410:(e,t,n)=>{"use strict";var r=n(5419);e.exports=function(){return r()&&!!Symbol.toStringTag}},7642:(e,t,n)=>{"use strict";var r=n(8612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2584:(e,t,n)=>{"use strict";var r=n(6410)(),i=n(1924)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},5320:e=>{"use strict";var t,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,t)}catch(e){e!==n&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=r.call(e);return o.test(t)}catch(e){return!1}},s=function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var d=document.all;c.call(d)===c.call(document.all)&&(f=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==n)return!1}return!a(e)&&s(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return s(e);if(a(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},8662:(e,t,n)=>{"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=n(6410)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!c)return!1;if(void 0===r){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();r=!!t&&c(t)}return c(e)===r}},8611:e=>{"use strict";e.exports=function(e){return e!=e}},360:(e,t,n)=>{"use strict";var r=n(5559),i=n(4289),o=n(8611),a=n(9415),s=n(3194),c=r(a(),Number);i(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},9415:(e,t,n)=>{"use strict";var r=n(8611);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},3194:(e,t,n)=>{"use strict";var r=n(4289),i=n(9415);e.exports=function(){var e=i();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},5692:(e,t,n)=>{"use strict";var r=n(4029),i=n(3083),o=n(1924),a=o("Object.prototype.toString"),s=n(6410)(),c=n(7296),u="undefined"==typeof globalThis?n.g:globalThis,l=i(),f=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},d=o("String.prototype.slice"),h={},p=Object.getPrototypeOf;s&&c&&p&&r(l,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var n=p(t),r=c(n,Symbol.toStringTag);if(!r){var i=p(n);r=c(i,Symbol.toStringTag)}h[e]=r.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=d(a(e),8,-1);return f(l,t)>-1}return!!c&&function(e){var t=!1;return r(h,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t}(e)}},4244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},609:(e,t,n)=>{"use strict";var r=n(4289),i=n(5559),o=n(4244),a=n(5624),s=n(2281),c=i(a(),Object);r(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},5624:(e,t,n)=>{"use strict";var r=n(4244);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},2281:(e,t,n)=>{"use strict";var r=n(5624),i=n(4289);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8987:(e,t,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(1414),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)d.push(String(y));if(r&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var b in e)p&&"prototype"===b||!i.call(e,b)||d.push(String(b));if(c)for(var m=function(e){if("undefined"==typeof window||!h)return f(e);try{return f(e)}catch(e){return!1}}(e),v=0;v<l.length;++v)m&&"constructor"===l[v]||!i.call(e,l[v])||d.push(l[v]);return d}}e.exports=r},2215:(e,t,n)=>{"use strict";var r=Array.prototype.slice,i=n(1414),o=Object.keys,a=o?function(e){return o(e)}:n(8987),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},1414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},4155:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,c=[],u=!1,l=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},380:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRpc=void 0;var o=n(7923);function a(e,t){return new Proxy({},{get:function(n,a,s){var c,u=this,l=(c=a.toString())&&c[0].toUpperCase()+c.slice(1),f="".concat(e,".").concat(l);return o.subscriptionMethods.includes(f)?function(e,n,r){t.subscribe(f,e,n,r)}:function(e){return r(u,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,t.request(f,e)];case 1:return[2,n.sent()]}}))}))}}})}t.createRpc=a,t.default=a},8713:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(8831);var c=s(n(2262));WebAssembly.instantiateStreaming||(WebAssembly.instantiateStreaming=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return[4,r.sent().arrayBuffer()];case 2:return n=r.sent(),[4,WebAssembly.instantiate(n,t)];case 3:return[2,r.sent()]}}))}))}),i(n(7923),t),t.default=c.default},2262:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7923),s=n(380),c=o(n(1712)),u=n(1095),l={wasmClientCode:"https://lightning.engineering/lnc-v0.2.4-alpha.wasm",namespace:"default",serverHost:"mailbox.terminal.lightning.today:443"},f=function(){function e(e){var t=Object.assign({},l,e);this._wasmClientCode=t.wasmClientCode,this._namespace=t.namespace,t.credentialStore?this.credentials=t.credentialStore:(this.credentials=new c.default(t.namespace,t.password),this.credentials.isPaired||(this.credentials.serverHost=t.serverHost),t.pairingPhrase&&(this.credentials.pairingPhrase=t.pairingPhrase));var r=n.g||window||self;this.go=new r.Go,this.lnd=new a.LndApi(s.createRpc,this),this.loop=new a.LoopApi(s.createRpc,this),this.pool=new a.PoolApi(s.createRpc,this),this.faraday=new a.FaradayApi(s.createRpc,this),this.lit=new a.LitApi(s.createRpc,this)}return Object.defineProperty(e.prototype,"wasm",{get:function(){return globalThis[this._namespace]},set:function(e){globalThis[this._namespace]=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this.wasm&&this.wasm.wasmClientIsReady&&this.wasm.wasmClientIsReady()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){return this.wasm&&this.wasm.wasmClientIsConnected&&this.wasm.wasmClientIsConnected()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.wasm&&this.wasm.wasmClientStatus&&this.wasm.wasmClientStatus()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"expiry",{get:function(){return this.wasm&&this.wasm.wasmClientGetExpiry&&new Date(1e3*this.wasm.wasmClientGetExpiry())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this.wasm&&this.wasm.wasmClientIsReadOnly&&this.wasm.wasmClientIsReadOnly()},enumerable:!1,configurable:!0}),e.prototype.hasPerms=function(e){return this.wasm&&this.wasm.wasmClientHasPerms&&this.wasm.wasmClientHasPerms(e)},e.prototype.preload=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=this,[4,WebAssembly.instantiateStreaming(fetch(this._wasmClientCode),this.go.importObject)];case 1:return e.result=t.sent(),u.wasmLog.info("downloaded WASM file"),[2]}}))}))},e.prototype.run=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return this.isReady?[3,2]:[4,this.preload()];case 1:t.sent(),t.label=2;case 2:return"object"!=typeof this.wasm&&(this.wasm={}),this.wasm.onLocalPrivCreate||(this.wasm.onLocalPrivCreate=function(t){u.wasmLog.debug("local private key created: "+t),e.credentials.localKey=t}),this.wasm.onRemoteKeyReceive||(this.wasm.onRemoteKeyReceive=function(t){u.wasmLog.debug("remote key received: "+t),e.credentials.remoteKey=t}),this.wasm.onAuthData||(this.wasm.onAuthData=function(e){u.wasmLog.debug("auth data received: "+e)}),this.go.argv=["wasm-client","--debuglevel=trace","--namespace="+this._namespace,"--onlocalprivcreate=".concat(this._namespace,".onLocalPrivCreate"),"--onremotekeyreceive=".concat(this._namespace,".onRemoteKeyReceive"),"--onauthdata=".concat(this._namespace,".onAuthData")],this.result?(this.go.run(this.result.instance),[4,WebAssembly.instantiate(this.result.module,this.go.importObject)]):[3,4];case 3:return t.sent(),[3,5];case 4:throw new Error("Can't find WASM instance.");case 5:return[2]}}))}))},e.prototype.connect=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return this.isConnected?[2]:this.isReady?[3,3]:[4,this.run()];case 1:return i.sent(),[4,this.waitTilReady()];case 2:i.sent(),i.label=3;case 3:return e=this.credentials,t=e.pairingPhrase,n=e.localKey,r=e.remoteKey,o=e.serverHost,this.wasm.wasmClientConnectServer(o,!1,t,n,r),"undefined"!=typeof window?window.addEventListener("unload",this.wasm.wasmClientDisconnect):u.wasmLog.info("No unload event listener added. window is not available"),[2,new Promise((function(e,t){var n=0,r=setInterval((function(){n++,a.isConnected?(clearInterval(r),e(),u.wasmLog.info("The WASM client is connected to the server")):n>20&&(clearInterval(r),t(new Error("Failed to connect the WASM client to the proxy server")))}),500)}))]}}))}))},e.prototype.disconnect=function(){this.wasm.wasmClientDisconnect()},e.prototype.waitTilReady=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t,n){var r=0,i=setInterval((function(){r++,e.isReady?(clearInterval(i),t(),u.wasmLog.info("The WASM client is ready")):r>20&&(clearInterval(i),n(new Error("Failed to load the WASM client")))}),500)}))]}))}))},e.prototype.request=function(e,t){var n=this;return new Promise((function(r,i){u.wasmLog.debug("".concat(e," request"),t);var o=JSON.stringify(t||{});n.wasm.wasmClientInvokeRPC(e,o,(function(t){try{var n=JSON.parse(t),o=(0,a.snakeKeysToCamel)(n);u.wasmLog.debug("".concat(e," response"),o),r(o)}catch(n){return u.wasmLog.debug("".concat(e," raw response"),t),void i(new Error(t))}}))}))},e.prototype.subscribe=function(e,t,n,r){u.wasmLog.debug("".concat(e," request"),t);var i=JSON.stringify(t||{});this.wasm.wasmClientInvokeRPC(e,i,(function(t){try{var i=JSON.parse(t),o=(0,a.snakeKeysToCamel)(i);u.wasmLog.debug("".concat(e," response"),o),n&&n(o)}catch(n){u.wasmLog.debug("".concat(e," error"),n);var s=new Error(t);r&&r(s)}}))},e}();t.default=f},1712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5121),i="lnc-web",o=function(){function e(e,t){this.persisted={salt:"",cipher:"",serverHost:"",localKey:"",remoteKey:"",pairingPhrase:""},this._localKey="",this._remoteKey="",this._pairingPhrase="",this.namespace="default",e&&(this.namespace=e),this._load(),t&&(this.password=t)}return Object.defineProperty(e.prototype,"password",{get:function(){return this._password||""},set:function(e){if(this.persisted.cipher){var t=this.persisted,n=t.cipher,i=t.salt;if(!(0,r.verifyTestCipher)(n,e,i))throw new Error("The password provided is not valid");this._password=e,this._pairingPhrase=this._decrypt(this.persisted.pairingPhrase),this._localKey=this._decrypt(this.persisted.localKey),this._remoteKey=this._decrypt(this.persisted.remoteKey)}else this._password=e,this.persisted.salt=(0,r.generateSalt)(),this.persisted.cipher=(0,r.createTestCipher)(e,this.persisted.salt),this.pairingPhrase&&(this.persisted.pairingPhrase=this._encrypt(this.pairingPhrase)),this.localKey&&(this.persisted.localKey=this._encrypt(this.localKey)),this.remoteKey&&(this.persisted.remoteKey=this._encrypt(this.remoteKey)),this._save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverHost",{get:function(){return this.persisted.serverHost},set:function(e){this.persisted.serverHost=e,this._save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pairingPhrase",{get:function(){return this._pairingPhrase},set:function(e){this._pairingPhrase=e,this._password&&(this.persisted.pairingPhrase=this._encrypt(e),this._save())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localKey",{get:function(){return this._localKey},set:function(e){this._localKey=e,this._password&&(this.persisted.localKey=this._encrypt(e),this._save())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteKey",{get:function(){return this._remoteKey},set:function(e){this._remoteKey=e,this._password&&(this.persisted.remoteKey=this._encrypt(e),this._save())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaired",{get:function(){return!!this.persisted.remoteKey||!!this.persisted.pairingPhrase},enumerable:!1,configurable:!0}),e.prototype.clear=function(){var e="".concat(i,":").concat(this.namespace);localStorage.removeItem(e),this.persisted={salt:"",cipher:"",serverHost:this.persisted.serverHost,localKey:"",remoteKey:"",pairingPhrase:""},this._localKey="",this._remoteKey="",this._pairingPhrase="",this._password=void 0},e.prototype._load=function(){if("undefined"!=typeof localStorage)try{var e="".concat(i,":").concat(this.namespace),t=localStorage.getItem(e);if(!t)return;this.persisted=JSON.parse(t)}catch(e){var n=e.message;throw new Error("Failed to load secure data: ".concat(n))}},e.prototype._save=function(){if("undefined"!=typeof localStorage){var e="".concat(i,":").concat(this.namespace);localStorage.setItem(e,JSON.stringify(this.persisted))}},e.prototype._encrypt=function(e){return e&&this._password?(0,r.encrypt)(e,this._password,this.persisted.salt):""},e.prototype._decrypt=function(e){return e&&this._password?(0,r.decrypt)(e,this._password,this.persisted.salt):""},e}();t.default=o},5121:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyTestCipher=t.createTestCipher=t.decrypt=t.encrypt=t.generateSalt=void 0;var r=n(1354),i="Irrelevant data for password verification";t.generateSalt=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=new Uint8Array(32);return globalThis.crypto.getRandomValues(t),t=t.map((function(t){return e.charCodeAt(t%e.length)})),String.fromCharCode.apply(null,t)},t.encrypt=function(e,t,n){return r.AES.encrypt(JSON.stringify(e),t+n).toString()},t.decrypt=function(e,t,n){var i=r.AES.decrypt(e,t+n);return JSON.parse(i.toString(r.enc.Utf8))},t.createTestCipher=function(e,n){return(0,t.encrypt)(i,e,n)},t.verifyTestCipher=function(e,n,r){try{return(0,t.decrypt)(e,n,r)===i}catch(e){return!1}}},1095:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.actionLog=t.wasmLog=t.grpcLog=t.log=t.Logger=t.LogLevel=void 0;var o,a=i(n(1227));!function(e){e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.none=5]="none"}(o=t.LogLevel||(t.LogLevel={}));var s=function(){function e(e,t){var n=this;this.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n._log(o.debug,e,t)},this.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n._log(o.info,e,t)},this.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n._log(o.warn,e,t)},this.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n._log(o.error,e,t)},this._levelToOutput=e,this._logger=(0,a.default)(t)}return e.fromEnv=function(t){var n=o.none;if(globalThis.localStorage&&globalThis.localStorage.getItem("debug")){var r=globalThis.localStorage.getItem("debug-level")||"debug";n=o[r]}return new e(n,t)},e.prototype._log=function(e,t,n){if(!(this._levelToOutput>e)){var i=Object.keys(o).reduce((function(t,n){return e===o[n]?n:t}),"??");this._logger.apply(this,r(["[".concat(i,"] ").concat(t)],n,!1))}},e}();t.Logger=s,t.log=s.fromEnv("main"),t.grpcLog=s.fromEnv("grpc"),t.wasmLog=s.fromEnv("wasm"),t.actionLog=s.fromEnv("action")},384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},5955:(e,t,n)=>{"use strict";var r=n(2584),i=n(8662),o=n(6430),a=n(5692);function s(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(c)var p=s(BigInt.prototype.valueOf);if(u)var y=s(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===l(e)}function m(e){return"[object Set]"===l(e)}function v(e){return"[object WeakMap]"===l(e)}function w(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===l(e)}function k(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||k(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=E,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=k;var A="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function O(e){return"[object SharedArrayBuffer]"===l(e)}function P(e){return void 0!==A&&(void 0===O.working&&(O.working=O(new A)),O.working?O(e):e instanceof A)}function I(e){return g(e,f)}function T(e){return g(e,d)}function N(e){return g(e,h)}function x(e){return c&&g(e,p)}function R(e){return u&&g(e,y)}t.isSharedArrayBuffer=P,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=I,t.isStringObject=T,t.isBooleanObject=N,t.isBigIntObject=x,t.isSymbolObject=R,t.isBoxedPrimitive=function(e){return I(e)||T(e)||N(e)||x(e)||R(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||P(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9539:(e,t,n)=>{var r=n(4155),i=n(5108),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},a=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])m(s)||!S(s)?o+=" "+s:o+=" "+l(s);return o},t.deprecate=function(e,n){if(void 0!==r&&!0===r.noDeprecation)return e;if(void 0===r)return function(){return t.deprecate(e,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?i.trace(n):i.error(n),o=!0}return e.apply(this,arguments)}};var s={},c=/^$/;if(r.env.NODE_DEBUG){var u=r.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+u+"$","i")}function l(e,n){var r={seen:[],stylize:d};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=f),h(r,e,r.depth)}function f(e,t){var n=l.styles[t];return n?"["+l.colors[n][0]+"m"+e+"["+l.colors[n][1]+"m":e}function d(e,t){return e}function h(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return w(i)||(i=h(e,i,r)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),A(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(O(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(A(n))return p(n)}var u,l="",f=!1,d=["{","}"];return g(n)&&(f=!0,d=["[","]"]),O(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),E(n)&&(l=" "+RegExp.prototype.toString.call(n)),k(n)&&(l=" "+Date.prototype.toUTCString.call(n)),A(n)&&(l=" "+p(n)),0!==a.length||f&&0!=n.length?r<0?E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=f?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(y(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(y(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return y(e,n,r,s,t,f)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,l,d)):d[0]+l+d[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),x(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?h(e,c.value,null):h(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function g(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function w(e){return"string"==typeof e}function _(e){return void 0===e}function E(e){return S(e)&&"[object RegExp]"===P(e)}function S(e){return"object"==typeof e&&null!==e}function k(e){return S(e)&&"[object Date]"===P(e)}function A(e){return S(e)&&("[object Error]"===P(e)||e instanceof Error)}function O(e){return"function"==typeof e}function P(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(c.test(e)){var n=r.pid;s[e]=function(){var r=t.format.apply(t,arguments);i.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5955),t.isArray=g,t.isBoolean=b,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=E,t.types.isRegExp=E,t.isObject=S,t.isDate=k,t.types.isDate=k,t.isError=A,t.types.isNativeError=A,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(384);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=n(5717),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=R,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){r.nextTick(a.bind(null,null,e))}),(function(e){r.nextTick(C.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},6430:(e,t,n)=>{"use strict";var r=n(4029),i=n(3083),o=n(1924),a=n(7296),s=o("Object.prototype.toString"),c=n(6410)(),u="undefined"==typeof globalThis?n.g:globalThis,l=i(),f=o("String.prototype.slice"),d={},h=Object.getPrototypeOf;c&&a&&h&&r(l,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var n=h(t),r=a(n,Symbol.toStringTag);if(!r){var i=h(n);r=a(i,Symbol.toStringTag)}d[e]=r.get}}}));var p=n(5692);e.exports=function(e){return!!p(e)&&(c&&Symbol.toStringTag in e?function(e){var t=!1;return r(d,(function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(e){}})),t}(e):f(s(e),8,-1))}},4229:()=>{},2203:()=>{},5381:()=>{},2480:()=>{},3083:(e,t,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof i[r[t]]&&(e[e.length]=r[t]);return e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(8713)})()},9669:(e,t,n)=>{e.exports=n(51609)},55448:(e,t,n)=>{"use strict";var r=n(64867),i=n(36026),o=n(4372),a=n(15327),s=n(94097),c=n(84109),u=n(67985),l=n(77874),f=n(82648),d=n(60644),h=n(90205);e.exports=function(e){return new Promise((function(t,n){var p,y=e.data,g=e.headers,b=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(y)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+_)}var E=s(e.baseURL,e.url);function S(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,o={data:b&&"text"!==b&&"json"!==b?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};i((function(e){t(e),m()}),(function(e){n(e),m()}),o),v=null}}if(v.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(S)},v.onabort=function(){v&&(n(new f("Request aborted",f.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,v,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,v)),v=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||u(E))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(g[e.xsrfHeaderName]=k)}"setRequestHeader"in v&&r.forEach(g,(function(e,t){void 0===y&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),b&&"json"!==b&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){v&&(n(!e||e&&e.type?new d:e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),y||(y=null);var A=h(E);A&&-1===["http","https","file"].indexOf(A)?n(new f("Unsupported protocol "+A+":",f.ERR_BAD_REQUEST,e)):v.send(y)}))}},51609:(e,t,n)=>{"use strict";var r=n(64867),i=n(91849),o=n(30321),a=n(47185);var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(45546));s.Axios=o,s.CanceledError=n(60644),s.CancelToken=n(14972),s.isCancel=n(26502),s.VERSION=n(97288).version,s.toFormData=n(47675),s.AxiosError=n(82648),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(8713),s.isAxiosError=n(16268),e.exports=s,e.exports.default=s},14972:(e,t,n)=>{"use strict";var r=n(60644);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},60644:(e,t,n)=>{"use strict";var r=n(82648);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(64867).inherits(i,r,{__CANCEL__:!0}),e.exports=i},26502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:(e,t,n)=>{"use strict";var r=n(64867),i=n(15327),o=n(80782),a=n(13572),s=n(47185),c=n(94097),u=n(54875),l=u.validators;function f(e){this.defaults=e,this.interceptors={request:new o,response:new o}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!i){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(c),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=t;r.length;){var h=r.shift(),p=r.shift();try{d=h(d)}catch(e){p(e);break}}try{o=a(d)}catch(e){return Promise.reject(e)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=c(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},82648:(e,t,n)=>{"use strict";var r=n(64867);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,n,a,s,c){var u=Object.create(o);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),i.call(u,e.message,t,n,a,s),u.name=e.name,c&&Object.assign(u,c),u},e.exports=i},80782:(e,t,n)=>{"use strict";var r=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:(e,t,n)=>{"use strict";var r=n(91793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},13572:(e,t,n)=>{"use strict";var r=n(64867),i=n(18527),o=n(26502),a=n(45546),s=n(60644);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},47185:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},36026:(e,t,n)=>{"use strict";var r=n(82648);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},18527:(e,t,n)=>{"use strict";var r=n(64867),i=n(45546);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},45546:(e,t,n)=>{"use strict";var r=n(34155),i=n(64867),o=n(16016),a=n(82648),s=n(77874),c=n(47675),u={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var f,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(f=n(55448)),f),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=i.isObject(e),a=t&&t["Content-Type"];if((n=i.isFileList(e))||r&&"multipart/form-data"===a){var s=this.env&&this.env.FormData;return c(n?{"files[]":e}:e,s&&new s)}return r||"application/json"===a?(l(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw a.from(e,a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(91623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){d.headers[e]=i.merge(u)})),e.exports=d},77874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:e=>{e.exports={version:"0.27.2"}},91849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:(e,t,n)=>{"use strict";var r=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},91623:e=>{e.exports=null},84109:(e,t,n)=>{"use strict";var r=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},90205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},47675:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer,r=n(64867);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,a){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+a);n.push(o),r.forEach(o,(function(n,o){if(!r.isUndefined(n)){var s,c=a?a+"."+o:o;if(n&&!a&&"object"==typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(c,i(e))}));e(n,c)}})),n.pop()}else t.append(a,i(o))}(e),t}},54875:(e,t,n)=>{"use strict";var r=n(97288).version,i=n(82648),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(o(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var a=r[o],s=t[a];if(s){var c=e[a],u=void 0===c||s(c,a,e);if(!0!==u)throw new i("option "+a+" must be "+u,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:o}},64867:(e,t,n)=>{"use strict";var r,i=n(91849),o=Object.prototype.toString,a=(r=Object.create(null),function(e){var t=o.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function c(e){return Array.isArray(e)}function u(e){return void 0===e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var h=s("Date"),p=s("File"),y=s("Blob"),g=s("FileList");function b(e){return"[object Function]"===o.call(e)}var m=s("URLSearchParams");function v(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var w,_=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:c,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||b(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:f,isPlainObject:d,isUndefined:u,isDate:h,isFile:p,isBlob:y,isFunction:b,isStream:function(e){return f(e)&&b(e.pipe)},isURLSearchParams:m,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:v,merge:function e(){var t={};function n(n,r){d(t[r])&&d(n)?t[r]=e(t[r],n):d(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)v(arguments[r],n);return t},extend:function(e,t,n){return v(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)a[o=r[i]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:g}},58162:(e,t,n)=>{"use strict";var r=n(89509).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=i}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);var n=0;if(" "!==e[n]){for(var i=0,o=0;e[n]===c;)i++,n++;for(var a=(e.length-n)*u+1>>>0,l=new Uint8Array(a);e[n];){var f=t[e.charCodeAt(n)];if(255===f)return;for(var d=0,h=a-1;(0!==f||d<o)&&-1!==h;h--,d++)f+=s*l[h]>>>0,l[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=d,n++}if(" "!==e[n]){for(var p=a-o;p!==a&&0===l[p];)p++;var y=r.allocUnsafe(i+(a-p));y.fill(0,0,i);for(var g=i;p!==a;)y[g++]=l[p++];return y}}}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,a=t.length;o!==a&&0===t[o];)o++,n++;for(var u=(a-o)*l+1>>>0,f=new Uint8Array(u);o!==a;){for(var d=t[o],h=0,p=u-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=256*f[p]>>>0,f[p]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,o++}for(var y=u-i;y!==u&&0===f[y];)y++;for(var g=c.repeat(n);y<u;++y)g+=e.charAt(f[y]);return g},decodeUnsafe:f,decode:function(e){var buffer=f(e);if(buffer)return buffer;throw new Error("Non-base"+s+" character")}}}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],c=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,f=c>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},27715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=i(t)^r>>5}t=i(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=i(t)^31&r}return t}function a(e,t,n,r){let i=0,o=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(i=i<<t|e[r],o+=t;o>=n;)o-=n,s.push(i>>o&a);if(r)o>0&&s.push(i<<n-o&a);else{if(o>=t)return"Excess padding";if(i<<n-o&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let f=o(u);if("string"==typeof f)return f;const d=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;f=i(f)^n,e+6>=l.length||d.push(n)}return f!==t?"Invalid checksum for "+e:{prefix:u,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=o(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=i(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=i(s);s^=t;for(let e=0;e<6;++e){c+=n.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},82190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36574);function i(e,t,n){return r=>{if(e.has(r))return;const i=n.filter((e=>e.key.toString("hex")===r))[0];t.push(i),e.add(r)}}function o(e){return e.globalMap.unsignedTx}function a(e){const t=new Set;return e.forEach((e=>{const n=e.key.toString("hex");if(t.has(n))throw new Error("Combine: KeyValue Map keys should be unique");t.add(n)})),t}t.combine=function(e){const t=e[0],n=r.psbtToKeyVals(t),s=e.slice(1);if(0===s.length)throw new Error("Combine: Nothing to combine");const c=o(t);if(void 0===c)throw new Error("Combine: Self missing transaction");const u=a(n.globalKeyVals),l=n.inputKeyVals.map(a),f=n.outputKeyVals.map(a);for(const e of s){const t=o(e);if(void 0===t||!t.toBuffer().equals(c.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const s=r.psbtToKeyVals(e);a(s.globalKeyVals).forEach(i(u,n.globalKeyVals,s.globalKeyVals));s.inputKeyVals.map(a).forEach(((e,t)=>e.forEach(i(l[t],n.inputKeyVals[t],s.inputKeyVals[t]))));s.outputKeyVals.map(a).forEach(((e,t)=>e.forEach(i(f[t],n.outputKeyVals[t],s.outputKeyVals[t]))))}return r.psbtFromKeyVals(c,{globalMapKeyVals:n.globalKeyVals,inputKeyVals:n.inputKeyVals,outputKeyVals:n.outputKeyVals})}},44041:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),n={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const t of(i=e.value.length/4-1,[...Array(i).keys()])){const r=e.value.readUInt32LE(4*t+4),i=!!(2147483648&r),o=2147483647&r;n.path+="/"+o.toString(10)+(i?"'":"")}var i;return n},t.encode=function(e){const t=Buffer.from([r.GlobalTypes.GLOBAL_XPUB]),n=Buffer.concat([t,e.extendedPubkey]),i=e.path.split("/"),o=Buffer.allocUnsafe(4*i.length);e.masterFingerprint.copy(o,0);let a=4;return i.slice(1).forEach((e=>{const t="'"===e.slice(-1);let n=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(n+=2147483648),o.writeUInt32LE(n,a),a+=4})),{key:n,value:o}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){const t=e.extendedPubkey,n=e.masterFingerprint,r=e.path;return Buffer.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&Buffer.isBuffer(n)&&4===n.length&&"string"==typeof r&&!!r.match(/^m(\/\d+'?)*$/)},t.canAddToArray=function(e,t,n){const r=t.extendedPubkey.toString("hex");return!n.has(r)&&(n.add(r),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)}},74480:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.encode=function(e){return{key:Buffer.from([r.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}},71528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847),i=n(44041),o=n(74480),a=n(20859),s=n(8248),c=n(70537),u=n(61511),l=n(65896),f=n(91243),d=n(3530),h=n(49265),p=n(23934),y=n(50602),g=n(82954),b=n(6036),m=n(44799),v=n(99595),w=n(9705),_=n(17196),E=n(29375),S=n(66327),k={unsignedTx:o,globalXpub:i,checkPubkey:v.makeChecker([])};t.globals=k;const A={nonWitnessUtxo:c,partialSig:u,sighashType:f,finalScriptSig:a,finalScriptWitness:s,porCommitment:l,witnessUtxo:g,bip32Derivation:m.makeConverter(r.InputTypes.BIP32_DERIVATION),redeemScript:w.makeConverter(r.InputTypes.REDEEM_SCRIPT),witnessScript:S.makeConverter(r.InputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([r.InputTypes.PARTIAL_SIG,r.InputTypes.BIP32_DERIVATION]),tapKeySig:d,tapScriptSig:y,tapLeafScript:h,tapBip32Derivation:_.makeConverter(r.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:E.makeConverter(r.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:p};t.inputs=A;const O={bip32Derivation:m.makeConverter(r.OutputTypes.BIP32_DERIVATION),redeemScript:w.makeConverter(r.OutputTypes.REDEEM_SCRIPT),witnessScript:S.makeConverter(r.OutputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([r.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:_.makeConverter(r.OutputTypes.TAP_BIP32_DERIVATION),tapTree:b,tapInternalKey:E.makeConverter(r.OutputTypes.TAP_INTERNAL_KEY)};t.outputs=O},20859:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:Buffer.from([r.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return Buffer.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}},8248:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:Buffer.from([r.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return Buffer.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}},70537:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:Buffer.from([r.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return Buffer.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}},61511:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){const t=Buffer.from([r.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return Buffer.isBuffer(e.pubkey)&&Buffer.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!Buffer.isBuffer(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const n=e[3+t+2];return!(n>33||n<1)&&e.length===3+t+2+n+2}(e.signature)},t.canAddToArray=function(e,t,n){const r=t.pubkey.toString("hex");return!n.has(r)&&(n.add(r),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}},65896:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:Buffer.from([r.InputTypes.POR_COMMITMENT]),value:Buffer.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}},91243:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){const t=Buffer.from([r.InputTypes.SIGHASH_TYPE]),n=Buffer.allocUnsafe(4);return n.writeUInt32LE(e,0),{key:t,value:n}},t.expected="number",t.check=function(e){return"number"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}},3530:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);function i(e){return Buffer.isBuffer(e)&&(64===e.length||65===e.length)}t.decode=function(e){if(e.key[0]!==r.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!i(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},t.encode=function(e){return{key:Buffer.from([r.InputTypes.TAP_KEY_SIG]),value:e}},t.expected="Buffer",t.check=i,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig}},49265:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));const t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));const n=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:n,leafVersion:t}},t.encode=function(e){const t=Buffer.from([r.InputTypes.TAP_LEAF_SCRIPT]),n=Buffer.from([e.leafVersion]);return{key:Buffer.concat([t,e.controlBlock]),value:Buffer.concat([e.script,n])}},t.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",t.check=function(e){return Buffer.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&Buffer.isBuffer(e.script)},t.canAddToArray=function(e,t,n){const r=t.controlBlock.toString("hex");return!n.has(r)&&(n.add(r),0===e.filter((e=>e.controlBlock.equals(t.controlBlock))).length)}},23934:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);function i(e){return Buffer.isBuffer(e)&&32===e.length}t.decode=function(e){if(e.key[0]!==r.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!i(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},t.encode=function(e){return{key:Buffer.from([r.InputTypes.TAP_MERKLE_ROOT]),value:e}},t.expected="Buffer",t.check=i,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot}},50602:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847);t.decode=function(e){if(e.key[0]!==r.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},t.encode=function(e){const t=Buffer.from([r.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([t,e.pubkey,e.leafHash]),value:e.signature}},t.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",t.check=function(e){return Buffer.isBuffer(e.pubkey)&&Buffer.isBuffer(e.leafHash)&&Buffer.isBuffer(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},t.canAddToArray=function(e,t,n){const r=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!n.has(r)&&(n.add(r),0===e.filter((e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash))).length)}},82954:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847),i=n(19254),o=n(3493);t.decode=function(e){if(e.key[0]!==r.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=i.readUInt64LE(e.value,0);let n=8;const a=o.decode(e.value,n);n+=o.encodingLength(a);const s=e.value.slice(n);if(s.length!==a)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:s,value:t}},t.encode=function(e){const{script:t,value:n}=e,a=o.encodingLength(t.length),s=Buffer.allocUnsafe(8+a+t.length);return i.writeUInt64LE(s,n,0),o.encode(t.length,s,8),t.copy(s,8+a),{key:Buffer.from([r.InputTypes.WITNESS_UTXO]),value:s}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return Buffer.isBuffer(e.script)&&"number"==typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}},6036:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(1847),i=n(3493);t.decode=function(e){if(e.key[0]!==r.OutputTypes.TAP_TREE||1!==e.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0;const n=[];for(;t<e.value.length;){const r=e.value[t++],o=e.value[t++],a=i.decode(e.value,t);t+=i.encodingLength(a),n.push({depth:r,leafVersion:o,script:e.value.slice(t,t+a)}),t+=a}return{leaves:n}},t.encode=function(e){const t=Buffer.from([r.OutputTypes.TAP_TREE]),n=[].concat(...e.leaves.map((e=>[Buffer.of(e.depth,e.leafVersion),i.encode(e.script.length),e.script])));return{key:t,value:Buffer.concat(n)}},t.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",t.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every((e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&Buffer.isBuffer(e.script)))},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree}},44799:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];t.makeConverter=function(e,t=r){return{decode:function(n){if(n.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+n.key.toString("hex"));const r=n.key.slice(1);if(!t(r))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+n.key.toString("hex"));if(n.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:n.value.slice(0,4),pubkey:r,path:"m"};for(const e of(o=n.value.length/4-1,[...Array(o).keys()])){const t=n.value.readUInt32LE(4*e+4),r=!!(2147483648&t),o=2147483647&t;i.path+="/"+o.toString(10)+(r?"'":"")}var o;return i},encode:function(t){const n=Buffer.from([e]),r=Buffer.concat([n,t.pubkey]),i=t.path.split("/"),o=Buffer.allocUnsafe(4*i.length);t.masterFingerprint.copy(o,0);let a=4;return i.slice(1).forEach((e=>{const t="'"===e.slice(-1);let n=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(n+=2147483648),o.writeUInt32LE(n,a),a+=4})),{key:r,value:o}},check:function(e){return Buffer.isBuffer(e.pubkey)&&Buffer.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,n){const r=t.pubkey.toString("hex");return!n.has(r)&&(n.add(r),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}}},99595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){let n;if(e.includes(t.key[0])&&(n=t.key.slice(1),33!==n.length&&65!==n.length||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return n}}},9705:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:Buffer.from([e]),value:t}},check:function(e){return Buffer.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}},17196:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(3493),i=n(44799),o=e=>32===e.length;t.makeConverter=function(e){const t=i.makeConverter(e,o);return{decode:function(e){const n=r.decode(e.value),i=r.encodingLength(n),o=t.decode({key:e.key,value:e.value.slice(i+32*n)}),a=new Array(n);for(let t=0,r=i;t<n;t++,r+=32)a[t]=e.value.slice(r,r+32);return Object.assign({},o,{leafHashes:a})},encode:function(e){const n=t.encode(e),i=r.encodingLength(e.leafHashes.length),o=Buffer.allocUnsafe(i);r.encode(e.leafHashes.length,o);const a=Buffer.concat([o,...e.leafHashes,n.value]);return Object.assign({},n,{value:a})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every((e=>Buffer.isBuffer(e)&&32===e.length))&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}}},29375:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:Buffer.from([e]),value:t}},check:function(e){return Buffer.isBuffer(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}}},66327:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:Buffer.from([e]),value:t}},check:function(e){return Buffer.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}},19254:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(3493);function i(e){const t=e.key.length,n=e.value.length,i=r.encodingLength(t),o=r.encodingLength(n),buffer=Buffer.allocUnsafe(i+t+o+n);return r.encode(t,buffer,0),e.key.copy(buffer,i),r.encode(n,buffer,i+t),e.value.copy(buffer,i+t+o),buffer}function o(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}t.range=e=>[...Array(e).keys()],t.reverseBuffer=function(buffer){if(buffer.length<1)return buffer;let e=buffer.length-1,t=0;for(let n=0;n<buffer.length/2;n++)t=buffer[n],buffer[n]=buffer[e],buffer[e]=t,e--;return buffer},t.keyValsToBuffer=function(e){const t=e.map(i);return t.push(Buffer.from([0])),Buffer.concat(t)},t.keyValToBuffer=i,t.readUInt64LE=function(buffer,e){const t=buffer.readUInt32LE(e);let n=buffer.readUInt32LE(e+4);return n*=4294967296,o(n+t,9007199254740991),n+t},t.writeUInt64LE=function(buffer,e,t){return o(e,9007199254740991),buffer.writeInt32LE(-1&e,t),buffer.writeUInt32LE(Math.floor(e/4294967296),t+4),t+8}},3493:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=9007199254740991;function i(e){if(e<0||e>r||e%1!=0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}t.encode=function e(t,buffer,n){if(i(t),buffer||(buffer=Buffer.allocUnsafe(o(t))),!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(buffer.writeUInt8(t,n),Object.assign(e,{bytes:1})):t<=65535?(buffer.writeUInt8(253,n),buffer.writeUInt16LE(t,n+1),Object.assign(e,{bytes:3})):t<=4294967295?(buffer.writeUInt8(254,n),buffer.writeUInt32LE(t,n+1),Object.assign(e,{bytes:5})):(buffer.writeUInt8(255,n),buffer.writeUInt32LE(t>>>0,n+1),buffer.writeUInt32LE(t/4294967296|0,n+5),Object.assign(e,{bytes:9})),buffer},t.decode=function e(buffer,t){if(!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");t||(t=0);const n=buffer.readUInt8(t);if(n<253)return Object.assign(e,{bytes:1}),n;if(253===n)return Object.assign(e,{bytes:3}),buffer.readUInt16LE(t+1);if(254===n)return Object.assign(e,{bytes:5}),buffer.readUInt32LE(t+1);{Object.assign(e,{bytes:9});const n=buffer.readUInt32LE(t+1),r=4294967296*buffer.readUInt32LE(t+5)+n;return i(r),r}},t.encodingLength=o},12974:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(71528),i=n(19254),o=n(3493),a=n(1847);function s(e,t,n){if(!t.equals(Buffer.from([n])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function c(e,{globalMapKeyVals:t,inputKeyVals:n,outputKeyVals:o}){const c={unsignedTx:e};let u=0;for(const e of t)switch(e.key[0]){case a.GlobalTypes.UNSIGNED_TX:if(s("global",e.key,a.GlobalTypes.UNSIGNED_TX),u>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");u++;break;case a.GlobalTypes.GLOBAL_XPUB:void 0===c.globalXpub&&(c.globalXpub=[]),c.globalXpub.push(r.globals.globalXpub.decode(e));break;default:c.unknownKeyVals||(c.unknownKeyVals=[]),c.unknownKeyVals.push(e)}const l=n.length,f=o.length,d=[],h=[];for(const e of i.range(l)){const t={};for(const i of n[e])switch(r.inputs.checkPubkey(i),i.key[0]){case a.InputTypes.NON_WITNESS_UTXO:if(s("input",i.key,a.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=r.inputs.nonWitnessUtxo.decode(i);break;case a.InputTypes.WITNESS_UTXO:if(s("input",i.key,a.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=r.inputs.witnessUtxo.decode(i);break;case a.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(r.inputs.partialSig.decode(i));break;case a.InputTypes.SIGHASH_TYPE:if(s("input",i.key,a.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=r.inputs.sighashType.decode(i);break;case a.InputTypes.REDEEM_SCRIPT:if(s("input",i.key,a.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=r.inputs.redeemScript.decode(i);break;case a.InputTypes.WITNESS_SCRIPT:if(s("input",i.key,a.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=r.inputs.witnessScript.decode(i);break;case a.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(r.inputs.bip32Derivation.decode(i));break;case a.InputTypes.FINAL_SCRIPTSIG:s("input",i.key,a.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=r.inputs.finalScriptSig.decode(i);break;case a.InputTypes.FINAL_SCRIPTWITNESS:s("input",i.key,a.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=r.inputs.finalScriptWitness.decode(i);break;case a.InputTypes.POR_COMMITMENT:s("input",i.key,a.InputTypes.POR_COMMITMENT),t.porCommitment=r.inputs.porCommitment.decode(i);break;case a.InputTypes.TAP_KEY_SIG:s("input",i.key,a.InputTypes.TAP_KEY_SIG),t.tapKeySig=r.inputs.tapKeySig.decode(i);break;case a.InputTypes.TAP_SCRIPT_SIG:void 0===t.tapScriptSig&&(t.tapScriptSig=[]),t.tapScriptSig.push(r.inputs.tapScriptSig.decode(i));break;case a.InputTypes.TAP_LEAF_SCRIPT:void 0===t.tapLeafScript&&(t.tapLeafScript=[]),t.tapLeafScript.push(r.inputs.tapLeafScript.decode(i));break;case a.InputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(r.inputs.tapBip32Derivation.decode(i));break;case a.InputTypes.TAP_INTERNAL_KEY:s("input",i.key,a.InputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=r.inputs.tapInternalKey.decode(i);break;case a.InputTypes.TAP_MERKLE_ROOT:s("input",i.key,a.InputTypes.TAP_MERKLE_ROOT),t.tapMerkleRoot=r.inputs.tapMerkleRoot.decode(i);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(i)}d.push(t)}for(const e of i.range(f)){const t={};for(const n of o[e])switch(r.outputs.checkPubkey(n),n.key[0]){case a.OutputTypes.REDEEM_SCRIPT:if(s("output",n.key,a.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=r.outputs.redeemScript.decode(n);break;case a.OutputTypes.WITNESS_SCRIPT:if(s("output",n.key,a.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=r.outputs.witnessScript.decode(n);break;case a.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(r.outputs.bip32Derivation.decode(n));break;case a.OutputTypes.TAP_INTERNAL_KEY:s("output",n.key,a.OutputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=r.outputs.tapInternalKey.decode(n);break;case a.OutputTypes.TAP_TREE:s("output",n.key,a.OutputTypes.TAP_TREE),t.tapTree=r.outputs.tapTree.decode(n);break;case a.OutputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(r.outputs.tapBip32Derivation.decode(n));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}h.push(t)}return{globalMap:c,inputs:d,outputs:h}}t.psbtFromBuffer=function(buffer,e){let t=0;function n(){const e=o.decode(buffer,t);t+=o.encodingLength(e);const n=buffer.slice(t,t+e);return t+=e,n}function r(){return{key:n(),value:n()}}function s(){if(t>=buffer.length)throw new Error("Format Error: Unexpected End of PSBT");const e=0===buffer.readUInt8(t);return e&&t++,e}if(1886610036!==function(){const e=buffer.readUInt32BE(t);return t+=4,e}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const e=buffer.readUInt8(t);return t+=1,e}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const u=[],l={};for(;!s();){const e=r(),t=e.key.toString("hex");if(l[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);l[t]=1,u.push(e)}const f=u.filter((e=>e.key[0]===a.GlobalTypes.UNSIGNED_TX));if(1!==f.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const d=e(f[0].value),{inputCount:h,outputCount:p}=d.getInputOutputCounts(),y=[],g=[];for(const e of i.range(h)){const t={},n=[];for(;!s();){const i=r(),o=i.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each input: input index "+e+" key "+o);t[o]=1,n.push(i)}y.push(n)}for(const e of i.range(p)){const t={},n=[];for(;!s();){const i=r(),o=i.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each output: output index "+e+" key "+o);t[o]=1,n.push(i)}g.push(n)}return c(d,{globalMapKeyVals:u,inputKeyVals:y,outputKeyVals:g})},t.checkKeyBuffer=s,t.psbtFromKeyVals=c},36574:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(12974)),r(n(15312))},15312:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(71528),i=n(19254);t.psbtToBuffer=function({globalMap:e,inputs:t,outputs:n}){const{globalKeyVals:r,inputKeyVals:o,outputKeyVals:a}=s({globalMap:e,inputs:t,outputs:n}),c=i.keyValsToBuffer(r),u=e=>0===e.length?[Buffer.from([0])]:e.map(i.keyValsToBuffer),l=u(o),f=u(a),d=Buffer.allocUnsafe(5);return d.writeUIntBE(482972169471,0,5),Buffer.concat([d,c].concat(l,f))};const o=(e,t)=>e.key.compare(t.key);function a(e,t){const n=new Set,r=Object.entries(e).reduce(((e,[r,i])=>{if("unknownKeyVals"===r)return e;const o=t[r];if(void 0===o)return e;const a=(Array.isArray(i)?i:[i]).map(o.encode);return a.map((e=>e.key.toString("hex"))).forEach((e=>{if(n.has(e))throw new Error("Serialize Error: Duplicate key: "+e);n.add(e)})),e.concat(a)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!n.has(e.key.toString("hex")))):[];return r.concat(i).sort(o)}function s({globalMap:e,inputs:t,outputs:n}){return{globalKeyVals:a(e,r.globals),inputKeyVals:t.map((e=>a(e,r.inputs))),outputKeyVals:n.map((e=>a(e,r.outputs)))}}t.psbtToKeyVals=s},95011:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(82190),i=n(36574),o=n(1847),a=n(96403);t.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const buffer=Buffer.from(e,"base64");return this.fromBuffer(buffer,t)}static fromHex(e,t){const buffer=Buffer.from(e,"hex");return this.fromBuffer(buffer,t)}static fromBuffer(buffer,e){const t=i.psbtFromBuffer(buffer,e),n=new this(t.globalMap.unsignedTx);return Object.assign(n,t),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return i.psbtToBuffer(this)}updateGlobal(e){return a.updateGlobal(e,this.globalMap),this}updateInput(e,t){const n=a.checkForInput(this.inputs,e);return a.updateInput(t,n),this}updateOutput(e,t){const n=a.checkForOutput(this.outputs,e);return a.updateOutput(t,n),this}addUnknownKeyValToGlobal(e){return a.checkHasKey(e,this.globalMap.unknownKeyVals,a.getEnumLength(o.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const n=a.checkForInput(this.inputs,e);return a.checkHasKey(t,n.unknownKeyVals,a.getEnumLength(o.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const n=a.checkForOutput(this.outputs,e);return a.checkHasKey(t,n.unknownKeyVals,a.getEnumLength(o.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(n,e))),a.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(n,e))),a.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=a.checkForInput(this.inputs,e);a.inputCheckUncleanFinalized(e,t);for(const e of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(e)||delete t[e];return this}combine(...e){const t=r.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},1847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},96403:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const r=n(71528);function i(e,t){const n=e[t];if(void 0===n)throw new Error(`No input #${t}`);return n}function o(e,t){const n=e[t];if(void 0===n)throw new Error(`No output #${t}`);return n}function a(e,t,n,r){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${n} and got ${JSON.stringify(r)}`)}function s(e){return(t,n)=>{for(const i of Object.keys(t)){const o=t[i],{canAdd:s,canAddToArray:c,check:u,expected:l}=r[e+"s"][i]||{};if(u)if(!!c){if(!Array.isArray(o)||n[i]&&!Array.isArray(n[i]))throw new Error(`Key type ${i} must be an array`);o.every(u)||a(e,i,l,o);const t=n[i]||[],r=new Set;if(!o.every((e=>c(t,e,r))))throw new Error("Can not add duplicate data to array");n[i]=t.concat(o)}else{if(u(o)||a(e,i,l,o),!s(n,o))throw new Error(`Can not add duplicate data to ${e}`);n[i]=o}}}}t.checkForInput=i,t.checkForOutput=o,t.checkHasKey=function(e,t,n){if(e.key[0]<n)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},t.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){let n=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,r=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!r||!!t.finalScriptWitness,a=!!t.finalScriptSig||!!t.finalScriptWitness;n=i&&o&&a}if(!1===n)throw new Error(`Input #${e} has too much or too little data to clean`)},t.updateGlobal=s("global"),t.updateInput=s("input"),t.updateOutput=s("output"),t.addInputAttributes=function(e,n){const r=i(e,e.length-1);t.updateInput(n,r)},t.addOutputAttributes=function(e,n){const r=o(e,e.length-1);t.updateOutput(n,r)},t.defaultVersionSetter=function(e,t){if(!Buffer.isBuffer(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!Buffer.isBuffer(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}},1488:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function s(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=n,t.bool=r,t.bytes=i,t.hash=o,t.exists=a,t.output=s;const c={number:n,bool:r,bytes:i,hash:o,exists:a,output:s};t.default=c},901:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(1488),i=n(71194);class o extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){r.default.exists(this);const{view:t,buffer,blockLen:n}=this,o=(e=(0,i.toBytes)(e)).length;for(let r=0;r<o;){const a=Math.min(n-this.pos,o-r);if(a!==n)buffer.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;n<=o-r;r+=n)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r.default.exists(this),r.default.output(e,this),this.finished=!0;const{buffer,view:t,blockLen:n,isLE:o}=this;let{pos:a}=this;buffer[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(t,0),a=0);for(let e=a;e<n;e++)buffer[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)}(t,n-8,BigInt(8*this.length),o),this.process(t,0);const s=(0,i.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer,outputLen:e}=this;this.digestInto(buffer);const t=buffer.slice(0,e);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer,length:n,finished:r,destroyed:i,pos:o}=this;return e.length=n,e.pos=o,e.finished=r,e.destroyed=i,n%t&&e.buffer.set(buffer),e}}t.SHA2=o},12815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},1165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.RIPEMD160=void 0;const r=n(901),i=n(71194),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a=Uint8Array.from({length:16},((e,t)=>t)),s=a.map((e=>(9*e+5)%16));let c=[a],u=[s];for(let e=0;e<4;e++)for(let t of[c,u])t.push(t[e].map((e=>o[e])));const l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),f=c.map(((e,t)=>e.map((e=>l[t][e])))),d=u.map(((e,t)=>e.map((e=>l[t][e])))),h=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),y=(e,t)=>e<<t|e>>>32-t;function g(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const b=new Uint32Array(16);class m extends r.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)b[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,a=0|this.h2,s=a,l=0|this.h3,m=l,v=0|this.h4,w=v;for(let e=0;e<5;e++){const t=4-e,_=h[e],E=p[e],S=c[e],k=u[e],A=f[e],O=d[e];for(let t=0;t<16;t++){const r=y(n+g(e,i,a,l)+b[S[t]]+_,A[t])+v|0;n=v,v=l,l=0|y(a,10),a=i,i=r}for(let e=0;e<16;e++){const n=y(r+g(t,o,s,m)+b[k[e]]+E,O[e])+w|0;r=w,w=m,m=0|y(s,10),s=o,o=n}}this.set(this.h1+a+m|0,this.h2+l+w|0,this.h3+v+r|0,this.h4+n+o|0,this.h0+i+s|0)}roundClean(){b.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}t.RIPEMD160=m,t.ripemd160=(0,i.wrapConstructor)((()=>new m))},36740:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha1=void 0;const r=n(901),i=n(71194),o=(e,t)=>e<<t|e>>>32-t>>>0,a=(e,t,n)=>e&t^e&n^t&n,s=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),c=new Uint32Array(80);class u extends r.SHA2{constructor(){super(64,20,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4]}get(){const{A:e,B:t,C:n,D:r,E:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<80;e++)c[e]=o(c[e-3]^c[e-8]^c[e-14]^c[e-16],1);let{A:n,B:r,C:i,D:s,E:u}=this;for(let e=0;e<80;e++){let t,f;e<20?(t=(l=r)&i^~l&s,f=1518500249):e<40?(t=r^i^s,f=1859775393):e<60?(t=a(r,i,s),f=2400959708):(t=r^i^s,f=3395469782);const d=o(n,5)+t+u+f+c[e]|0;u=s,s=i,i=o(r,30),r=n,n=d}var l;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,u=u+this.E|0,this.set(n,r,i,s,u)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}t.sha1=(0,i.wrapConstructor)((()=>new u))},68387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const r=n(901),i=n(71194),o=(e,t,n)=>e&t^e&n^t&n,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;c[e]=o+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:s,D:u,E:l,F:f,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&f^~p&d)+a[e]+c[e]|0,y=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+o(n,r,s)|0;h=d,d=f,f=l,l=u+t|0,u=s,s=r,r=n,n=t+y|0}var p;n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,u=u+this.D|0,l=l+this.E|0,f=f+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(n,r,s,u,l,f,d,h)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new l))},71194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(12815);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=i[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t};function o(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function a(e){if("string"==typeof e&&(e=o(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=o,t.toBytes=a,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n};t.Hash=class{clone(){return this._cloneInto()}};t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(a(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(a(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},10009:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var a=e.length,s=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===s;)r++,n++;for(var o=(e.length-n)*c+1>>>0,u=new Uint8Array(o);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var f=0,d=o-1;(0!==l||f<i)&&-1!==d;d--,f++)l+=a*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,n++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(r+(o-h)),y=r;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var f=t[i],d=0,h=c-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*l[h]>>>0,l[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,i++}for(var p=c-r;p!==c&&0===l[p];)p++;for(var y=s.repeat(n);p<c;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var buffer=l(e);if(buffer)return buffer;throw new Error("Non-base"+a+" character")}}}},79075:(e,t,n)=>{const r=n(10009);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},72882:(e,t,n)=>{"use strict";var r=n(79075);e.exports=function(e){function t(buffer){var t=buffer.slice(0,-4),n=buffer.slice(-4),r=e(t);if(!(n[0]^r[0]|n[1]^r[1]|n[2]^r[2]|n[3]^r[3]))return t}return{encode:function(t){var n=Uint8Array.from(t),i=e(n),o=n.length+4,a=new Uint8Array(o);return a.set(n,0),a.set(i.subarray(0,4),n.length),r.encode(a,o)},decode:function(e){var n=t(r.decode(e));if(!n)throw new Error("Invalid checksum");return n},decodeUnsafe:function(e){var buffer=r.decodeUnsafe(e);if(buffer)return t(buffer)}}}},89239:(e,t,n)=>{"use strict";var{sha256:r}=n(68387),i=n(72882);e.exports=i((function(buffer){return r(r(buffer))}))},95488:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const r=n(74378),i=n(84972),o=n(73357),a=n(41838),s=n(27715),c=n(89239),u=40,l=2,f=16,d=2,h=80,p="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function y(e){const t=Buffer.from(c.decode(e));if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUint8(0),hash:t.slice(1)}}function g(e){let t,n;try{t=s.bech32.decode(e)}catch(e){}if(t){if(n=t.words[0],0!==n)throw new TypeError(e+" uses wrong encoding")}else if(t=s.bech32m.decode(e),n=t.words[0],0===n)throw new TypeError(e+" uses wrong encoding");const r=s.bech32.fromWords(t.words.slice(1));return{version:n,prefix:t.prefix,data:Buffer.from(r)}}function b(e,t,n){const r=s.bech32.toWords(e);return r.unshift(t),0===t?s.bech32.encode(n,r):s.bech32m.encode(n,r)}t.fromBase58Check=y,t.fromBech32=g,t.toBase58Check=function(e,t){(0,a.typeforce)((0,a.tuple)(a.Hash160bit,a.UInt8),arguments);const n=Buffer.allocUnsafe(21);return n.writeUInt8(t,0),e.copy(n,1),c.encode(n)},t.toBech32=b,t.fromOutputScript=function(e,t){t=t||r.bitcoin;try{return i.p2pkh({output:e,network:t}).address}catch(e){}try{return i.p2sh({output:e,network:t}).address}catch(e){}try{return i.p2wpkh({output:e,network:t}).address}catch(e){}try{return i.p2wsh({output:e,network:t}).address}catch(e){}try{return i.p2tr({output:e,network:t}).address}catch(e){}try{return function(e,t){const n=e.slice(2);if(n.length<l||n.length>u)throw new TypeError("Invalid program length for segwit address");const r=e[0]-h;if(r<d||r>f)throw new TypeError("Invalid version for segwit address");if(e[1]!==n.length)throw new TypeError("Invalid script for segwit address");return console.warn(p),b(n,r,t.bech32)}(e,t)}catch(e){}throw new Error(o.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let n,a;t=t||r.bitcoin;try{n=y(e)}catch(e){}if(n){if(n.version===t.pubKeyHash)return i.p2pkh({hash:n.hash}).output;if(n.version===t.scriptHash)return i.p2sh({hash:n.hash}).output}else{try{a=g(e)}catch(e){}if(a){if(a.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===a.version){if(20===a.data.length)return i.p2wpkh({hash:a.data}).output;if(32===a.data.length)return i.p2wsh({hash:a.data}).output}else if(1===a.version){if(32===a.data.length)return i.p2tr({pubkey:a.data}).output}else if(a.version>=d&&a.version<=f&&a.data.length>=l&&a.data.length<=u)return console.warn(p),o.compile([a.version+h,a.data])}}throw new Error(e+" has no matching Script")}},77617:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(buffer){if(buffer.length<8)return!1;if(buffer.length>72)return!1;if(48!==buffer[0])return!1;if(buffer[1]!==buffer.length-2)return!1;if(2!==buffer[2])return!1;const e=buffer[3];if(0===e)return!1;if(5+e>=buffer.length)return!1;if(2!==buffer[4+e])return!1;const t=buffer[5+e];return 0!==t&&(6+e+t===buffer.length&&(!(128&buffer[4])&&(!(e>1&&0===buffer[4]&&!(128&buffer[5]))&&(!(128&buffer[e+6])&&!(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))))))},t.decode=function(buffer){if(buffer.length<8)throw new Error("DER sequence length is too short");if(buffer.length>72)throw new Error("DER sequence length is too long");if(48!==buffer[0])throw new Error("Expected DER sequence");if(buffer[1]!==buffer.length-2)throw new Error("DER sequence length is invalid");if(2!==buffer[2])throw new Error("Expected DER integer");const e=buffer[3];if(0===e)throw new Error("R length is zero");if(5+e>=buffer.length)throw new Error("R length is too long");if(2!==buffer[4+e])throw new Error("Expected DER integer (2)");const t=buffer[5+e];if(0===t)throw new Error("S length is zero");if(6+e+t!==buffer.length)throw new Error("S length is invalid");if(128&buffer[4])throw new Error("R value is negative");if(e>1&&0===buffer[4]&&!(128&buffer[5]))throw new Error("R value excessively padded");if(128&buffer[e+6])throw new Error("S value is negative");if(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))throw new Error("S value excessively padded");return{r:buffer.slice(4,4+e),s:buffer.slice(6+e)}},t.encode=function(e,t){const n=e.length,r=t.length;if(0===n)throw new Error("R length is zero");if(0===r)throw new Error("S length is zero");if(n>33)throw new Error("R length is too long");if(r>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(n>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const i=Buffer.allocUnsafe(6+n+r);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+n]=2,i[5+n]=t.length,t.copy(i,6+n),i}},87949:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const r=n(9357),i=n(5525),o=n(298),a=n(82737),s=n(41838),{typeforce:c}=s,u=new TypeError("Cannot compute merkle root for zero transactions"),l=new TypeError("Cannot compute witness commit for non-segwit block");class f{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(buffer){if(buffer.length<80)throw new Error("Buffer too small (< 80 bytes)");const e=new r.BufferReader(buffer),t=new f;if(t.version=e.readInt32(),t.prevHash=e.readSlice(32),t.merkleRoot=e.readSlice(32),t.timestamp=e.readUInt32(),t.bits=e.readUInt32(),t.nonce=e.readUInt32(),80===buffer.length)return t;const n=()=>{const t=a.Transaction.fromBuffer(e.buffer.slice(e.offset),!0);return e.offset+=t.byteLength(),t},i=e.readVarInt();t.transactions=[];for(let e=0;e<i;++e){const e=n();t.transactions.push(e)}const o=t.getWitnessCommit();return o&&(t.witnessCommit=o),t}static fromHex(e){return f.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,n=8388607&e,r=Buffer.alloc(32,0);return r.writeUIntBE(n,29-t,3),r}static calculateMerkleRoot(e,t){if(c([{getHash:s.Function}],e),0===e.length)throw u;if(t&&!d(e))throw l;const n=e.map((e=>e.getHash(t))),r=(0,o.fastMerkleRoot)(n,i.hash256);return t?i.hash256(Buffer.concat([r,e[0].ins[0].witness[0]])):r}getWitnessCommit(){if(!d(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof Buffer&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+r.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,n)=>e+n.byteLength(t)),0)}getHash(){return i.hash256(this.toBuffer(!0))}getId(){return(0,r.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const buffer=Buffer.allocUnsafe(this.byteLength(e)),t=new r.BufferWriter(buffer);return t.writeInt32(this.version),t.writeSlice(this.prevHash),t.writeSlice(this.merkleRoot),t.writeUInt32(this.timestamp),t.writeUInt32(this.bits),t.writeUInt32(this.nonce),e||!this.transactions||(r.varuint.encode(this.transactions.length,buffer,t.offset),t.offset+=r.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(buffer,t.offset),t.offset+=n}))),buffer}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit()))}checkProofOfWork(){const e=(0,r.reverseBuffer)(this.getHash()),t=f.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw u;const e=f.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw u;if(!this.hasWitnessCommit())throw l;const e=f.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function d(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=f},9357:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const r=n(41838),{typeforce:i}=r,o=n(57795);function a(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function s(buffer,e){const t=buffer.readUInt32LE(e);let n=buffer.readUInt32LE(e+4);return n*=4294967296,a(n+t,9007199254740991),n+t}function c(buffer,e,t){return a(e,9007199254740991),buffer.writeInt32LE(-1&e,t),buffer.writeUInt32LE(Math.floor(e/4294967296),t+4),t+8}t.varuint=o,t.readUInt64LE=s,t.writeUInt64LE=c,t.reverseBuffer=function(buffer){if(buffer.length<1)return buffer;let e=buffer.length-1,t=0;for(let n=0;n<buffer.length/2;n++)t=buffer[n],buffer[n]=buffer[e],buffer[e]=t,e--;return buffer},t.cloneBuffer=function(buffer){const e=Buffer.allocUnsafe(buffer.length);return buffer.copy(e),e};class u{static withCapacity(e){return new u(Buffer.alloc(e))}constructor(buffer,e=0){this.buffer=buffer,this.offset=e,i(r.tuple(r.Buffer,r.UInt32),[buffer,e])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=c(this.buffer,e,this.offset)}writeVarInt(e){o.encode(e,this.buffer,this.offset),this.offset+=o.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=u;t.BufferReader=class{constructor(buffer,e=0){this.buffer=buffer,this.offset=e,i(r.tuple(r.Buffer,r.UInt32),[buffer,e])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=s(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=o.decode(this.buffer,this.offset);return this.offset+=o.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let n=0;n<e;n++)t.push(this.readVarSlice());return t}}},5525:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.TAGGED_HASH_PREFIXES=t.TAGS=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const r=n(1165),i=n(36740),o=n(68387);function a(buffer){return Buffer.from((0,o.sha256)(Uint8Array.from(buffer)))}t.ripemd160=function(buffer){return Buffer.from((0,r.ripemd160)(Uint8Array.from(buffer)))},t.sha1=function(buffer){return Buffer.from((0,i.sha1)(Uint8Array.from(buffer)))},t.sha256=a,t.hash160=function(buffer){return Buffer.from((0,r.ripemd160)((0,o.sha256)(Uint8Array.from(buffer))))},t.hash256=function(buffer){return Buffer.from((0,o.sha256)((0,o.sha256)(Uint8Array.from(buffer))))},t.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],t.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Buffer.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Buffer.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Buffer.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Buffer.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Buffer.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Buffer.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Buffer.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Buffer.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Buffer.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},t.taggedHash=function(e,n){return a(Buffer.concat([t.TAGGED_HASH_PREFIXES[e],n]))}},66379:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getEccLib=t.initEccLib=void 0;const r={};t.initEccLib=function(e){var t;e?e!==r.eccLib&&(o("function"==typeof(t=e).isXOnlyPoint),o(t.isXOnlyPoint(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(t.isXOnlyPoint(i("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),o(t.isXOnlyPoint(i("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),o(t.isXOnlyPoint(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(!t.isXOnlyPoint(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!t.isXOnlyPoint(i("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),o("function"==typeof t.xOnlyPointAddTweak),a.forEach((e=>{const n=t.xOnlyPointAddTweak(i(e.pubkey),i(e.tweak));null===e.result?o(null===n):(o(null!==n),o(n.parity===e.parity),o(Buffer.from(n.xOnlyPubkey).equals(i(e.result))))})),r.eccLib=e):r.eccLib=e},t.getEccLib=function(){if(!r.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return r.eccLib};const i=e=>Buffer.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}const a=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},17656:(e,t,n)=>{"use strict";t.Wi=t._B=t.PP=t.QW=t.eL=t.Lk=void 0;const r=n(95488);t.Lk=r;const i=n(5525);t.eL=i;const o=n(74378);t.QW=o;const a=n(84972);t.PP=a;n(73357);var s=n(87949);var c=n(99930);Object.defineProperty(t,"_B",{enumerable:!0,get:function(){return c.Psbt}});var u=n(47334);var l=n(82737);var f=n(66379);Object.defineProperty(t,"Wi",{enumerable:!0,get:function(){return f.initEccLib}})},298:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let n=e.length;const r=e.concat();for(;n>1;){let e=0;for(let i=0;i<n;i+=2,++e){const o=r[i],a=i+1===n?o:r[i+1],s=Buffer.concat([o,a]);r[e]=t(s)}n=e}return r[0]}},74378:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},47334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const n={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=n;const r={};t.REVERSE_OPS=r;for(const e of Object.keys(n)){r[n[e]]=e}},12227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const r=n(48764),i=n(66379),o=n(5525),a=n(9357),s=n(41838);t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;function c(e){const n=e.version||t.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",r.Buffer.concat([r.Buffer.from([n]),f(e.output)]))}function u(e,t){return o.taggedHash("TapTweak",r.Buffer.concat(t?[e,t]:[e]))}function l(e,t){return o.taggedHash("TapBranch",r.Buffer.concat([e,t]))}function f(e){const t=a.varuint.encodingLength(e.length),buffer=r.Buffer.allocUnsafe(t);return a.varuint.encode(e.length,buffer),r.Buffer.concat([buffer,e])}t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const n=(e.length-33)/32;let r=t;for(let t=0;t<n;t++){const n=e.slice(33+32*t,65+32*t);r=r.compare(n)<0?l(r,n):l(n,r)}return r},t.toHashTree=function e(t){if((0,s.isTapleaf)(t))return{hash:c(t)};const n=[e(t[0]),e(t[1])];n.sort(((e,t)=>e.hash.compare(t.hash)));const[r,i]=n;return{hash:l(r.hash,i.hash),left:r,right:i}},t.findScriptPath=function e(t,n){if("left"in(r=t)&&"right"in r){const r=e(t.left,n);if(void 0!==r)return[...r,t.right.hash];const i=e(t.right,n);if(void 0!==i)return[...i,t.left.hash]}else if(t.hash.equals(n))return[];var r},t.tapleafHash=c,t.tapTweakHash=u,t.tweakKey=function(e,t){if(!r.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const n=u(e,t),o=(0,i.getEccLib)().xOnlyPointAddTweak(e,n);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:r.Buffer.from(o.xOnlyPubkey)}:null}},36648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const r=n(74378),i=n(73357),o=n(41838),a=n(52691),s=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const n={name:"embed",network:e.network||r.bitcoin};if(a.prop(n,"output",(()=>{if(e.data)return i.compile([s.OP_RETURN].concat(e.data))})),a.prop(n,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==s.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,e)}},84972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const r=n(36648);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return r.p2data}});const i=n(98793);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=n(97759);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const a=n(44483);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});const s=n(21160);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});const c=n(18810);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return c.p2wpkh}});const u=n(82401);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return u.p2wsh}});const l=n(10079);Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return l.p2tr}})},52691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=n.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},98793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const r=n(74378),i=n(73357),o=n(41838),a=n(52691),s=i.OPS,c=s.OP_RESERVED;function u(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function n(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===s.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(n)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const l={network:e.network||r.bitcoin};let f=[],d=!1;function h(e){d||(d=!0,f=i.decompile(e),l.m=f[0]-c,l.n=f[f.length-2]-c,l.pubkeys=f.slice(1,-2))}if(a.prop(l,"output",(()=>{if(e.m&&l.n&&e.pubkeys)return i.compile([].concat(c+e.m,e.pubkeys,c+l.n,s.OP_CHECKMULTISIG))})),a.prop(l,"m",(()=>{if(l.output)return h(l.output),l.m})),a.prop(l,"n",(()=>{if(l.pubkeys)return l.pubkeys.length})),a.prop(l,"pubkeys",(()=>{if(e.output)return h(e.output),l.pubkeys})),a.prop(l,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),a.prop(l,"input",(()=>{if(e.signatures)return i.compile([s.OP_0].concat(e.signatures))})),a.prop(l,"witness",(()=>{if(l.input)return[]})),a.prop(l,"name",(()=>{if(l.m&&l.n)return`p2ms(${l.m} of ${l.n})`})),t.validate){if(e.output){if(h(e.output),!o.typeforce.Number(f[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(f[f.length-2]))throw new TypeError("Output is invalid");if(f[f.length-1]!==s.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(l.m<=0||l.n>16||l.m>l.n||l.n!==f.length-3)throw new TypeError("Output is invalid");if(!l.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==l.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==l.n)throw new TypeError("n mismatch");if(e.pubkeys&&!u(e.pubkeys,l.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(l.n=e.pubkeys.length,l.n<l.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<l.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>l.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==s.OP_0)throw new TypeError("Input is invalid");if(0===l.signatures.length||!l.signatures.every(n))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!u(e.signatures,l.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(l,e)}},97759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const r=n(74378),i=n(73357),o=n(41838),a=n(52691),s=i.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const n=a.value((()=>i.decompile(e.input))),c={name:"p2pk",network:e.network||r.bitcoin};if(a.prop(c,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,s.OP_CHECKSIG])})),a.prop(c,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),a.prop(c,"signature",(()=>{if(e.input)return n()[0]})),a.prop(c,"input",(()=>{if(e.signature)return i.compile([e.signature])})),a.prop(c,"witness",(()=>{if(c.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==s.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(c.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(c.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(c.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==n().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(c.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(c,e)}},44483:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const r=n(5525),i=n(74378),o=n(73357),a=n(41838),s=n(52691),c=n(89239),u=o.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},e);const n=s.value((()=>{const t=Buffer.from(c.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),l=s.value((()=>o.decompile(e.input))),f=e.network||i.bitcoin,d={name:"p2pkh",network:f};if(s.prop(d,"address",(()=>{if(!d.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(f.pubKeyHash,0),d.hash.copy(e,1),c.encode(e)})),s.prop(d,"hash",(()=>e.output?e.output.slice(3,23):e.address?n().hash:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0)),s.prop(d,"output",(()=>{if(d.hash)return o.compile([u.OP_DUP,u.OP_HASH160,d.hash,u.OP_EQUALVERIFY,u.OP_CHECKSIG])})),s.prop(d,"pubkey",(()=>{if(e.input)return l()[1]})),s.prop(d,"signature",(()=>{if(e.input)return l()[0]})),s.prop(d,"input",(()=>{if(e.pubkey&&e.signature)return o.compile([e.signature,e.pubkey])})),s.prop(d,"witness",(()=>{if(d.input)return[]})),t.validate){let t=Buffer.from([]);if(e.address){if(n().version!==f.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw new TypeError("Invalid address");t=n().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==u.OP_DUP||e.output[1]!==u.OP_HASH160||20!==e.output[2]||e.output[23]!==u.OP_EQUALVERIFY||e.output[24]!==u.OP_CHECKSIG)throw new TypeError("Output is invalid");const n=e.output.slice(3,23);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.pubkey){const n=r.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const n=l();if(2!==n.length)throw new TypeError("Input is invalid");if(!o.isCanonicalScriptSignature(n[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(n[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(n[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(n[1]))throw new TypeError("Pubkey mismatch");const i=r.hash160(n[1]);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},21160:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const r=n(5525),i=n(74378),o=n(73357),a=n(41838),s=n(52691),c=n(89239),u=o.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);let n=e.network;n||(n=e.redeem&&e.redeem.network||i.bitcoin);const l={network:n},f=s.value((()=>{const t=Buffer.from(c.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),d=s.value((()=>o.decompile(e.input))),h=s.value((()=>{const t=d(),r=t[t.length-1];return{network:n,output:r===u.OP_FALSE?Buffer.from([]):r,input:o.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(s.prop(l,"address",(()=>{if(!l.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(l.network.scriptHash,0),l.hash.copy(e,1),c.encode(e)})),s.prop(l,"hash",(()=>e.output?e.output.slice(2,22):e.address?f().hash:l.redeem&&l.redeem.output?r.hash160(l.redeem.output):void 0)),s.prop(l,"output",(()=>{if(l.hash)return o.compile([u.OP_HASH160,l.hash,u.OP_EQUAL])})),s.prop(l,"redeem",(()=>{if(e.input)return h()})),s.prop(l,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return o.compile([].concat(o.decompile(e.redeem.input),e.redeem.output))})),s.prop(l,"witness",(()=>l.redeem&&l.redeem.witness?l.redeem.witness:l.input?[]:void 0)),s.prop(l,"name",(()=>{const e=["p2sh"];return void 0!==l.redeem&&void 0!==l.redeem.name&&e.push(l.redeem.name),e.join("-")})),t.validate){let t=Buffer.from([]);if(e.address){if(f().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==f().hash.length)throw new TypeError("Invalid address");t=f().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==u.OP_HASH160||20!==e.output[1]||e.output[22]!==u.OP_EQUAL)throw new TypeError("Output is invalid");const n=e.output.slice(2,22);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}const i=e=>{if(e.output){const n=o.decompile(e.output);if(!n||n.length<1)throw new TypeError("Redeem.output too short");if(e.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(o.countNonPushOnlyOPs(n)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const i=r.hash160(e.output);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch");t=i}if(e.input){const t=e.input.length>0,n=e.witness&&e.witness.length>0;if(!t&&!n)throw new TypeError("Empty input");if(t&&n)throw new TypeError("Input and witness provided");if(t){const t=o.decompile(e.input);if(!o.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=d();if(!e||e.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(h().output))throw new TypeError("Input is invalid");i(h())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.input){const t=h();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}i(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,e)}},10079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=void 0;const r=n(48764),i=n(74378),o=n(73357),a=n(41838),s=n(66379),c=n(12227),u=n(52691),l=n(27715),f=o.OPS;t.p2tr=function(e,t){if(!(e.address||e.output||e.pubkey||e.internalPubkey||e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(34)),internalPubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),pubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),signature:a.typeforce.maybe(a.typeforce.anyOf(a.typeforce.BufferN(64),a.typeforce.BufferN(65))),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer)),scriptTree:a.typeforce.maybe(a.isTaptree),redeem:a.typeforce.maybe({output:a.typeforce.maybe(a.typeforce.Buffer),redeemVersion:a.typeforce.maybe(a.typeforce.Number),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),redeemVersion:a.typeforce.maybe(a.typeforce.Number)},e);const n=u.value((()=>{const t=l.bech32m.decode(e.address),n=t.words.shift(),i=l.bech32m.fromWords(t.words);return{version:n,prefix:t.prefix,data:r.Buffer.from(i)}})),d=u.value((()=>{if(e.witness&&e.witness.length)return e.witness.length>=2&&80===e.witness[e.witness.length-1][0]?e.witness.slice(0,-1):e.witness.slice()})),h=u.value((()=>e.scriptTree?(0,c.toHashTree)(e.scriptTree):e.hash?{hash:e.hash}:void 0)),p=e.network||i.bitcoin,y={name:"p2tr",network:p};if(u.prop(y,"address",(()=>{if(!y.pubkey)return;const e=l.bech32m.toWords(y.pubkey);return e.unshift(1),l.bech32m.encode(p.bech32,e)})),u.prop(y,"hash",(()=>{const e=h();if(e)return e.hash;const t=d();if(t&&t.length>1){const e=t[t.length-1],n=e[0]&a.TAPLEAF_VERSION_MASK,r=t[t.length-2],i=(0,c.tapleafHash)({output:r,version:n});return(0,c.rootHashFromPath)(e,i)}return null})),u.prop(y,"output",(()=>{if(y.pubkey)return o.compile([f.OP_1,y.pubkey])})),u.prop(y,"redeemVersion",(()=>e.redeemVersion?e.redeemVersion:e.redeem&&void 0!==e.redeem.redeemVersion&&null!==e.redeem.redeemVersion?e.redeem.redeemVersion:c.LEAF_VERSION_TAPSCRIPT)),u.prop(y,"redeem",(()=>{const e=d();if(e&&!(e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&a.TAPLEAF_VERSION_MASK}})),u.prop(y,"pubkey",(()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return n().data;if(y.internalPubkey){const e=(0,c.tweakKey)(y.internalPubkey,y.hash);if(e)return e.x}})),u.prop(y,"internalPubkey",(()=>{if(e.internalPubkey)return e.internalPubkey;const t=d();return t&&t.length>1?t[t.length-1].slice(1,33):void 0})),u.prop(y,"signature",(()=>{if(e.signature)return e.signature;const t=d();return t&&1===t.length?t[0]:void 0})),u.prop(y,"witness",(()=>{if(e.witness)return e.witness;const t=h();if(t&&e.redeem&&e.redeem.output&&e.internalPubkey){const n=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion}),i=(0,c.findScriptPath)(t,n);if(!i)return;const o=(0,c.tweakKey)(e.internalPubkey,t.hash);if(!o)return;const a=r.Buffer.concat([r.Buffer.from([y.redeemVersion|o.parity]),e.internalPubkey].concat(i));return[e.redeem.output,a]}return e.signature?[e.signature]:void 0})),t.validate){let t=r.Buffer.from([]);if(e.address){if(p&&p.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==n().version)throw new TypeError("Invalid address version");if(32!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.pubkey){if(t.length>0&&!t.equals(e.pubkey))throw new TypeError("Pubkey mismatch");t=e.pubkey}if(e.output){if(34!==e.output.length||e.output[0]!==f.OP_1||32!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");t=e.output.slice(2)}if(e.internalPubkey){const n=(0,c.tweakKey)(e.internalPubkey,y.hash);if(t.length>0&&!t.equals(n.x))throw new TypeError("Pubkey mismatch");t=n.x}if(t&&t.length&&!(0,s.getEccLib)().isXOnlyPoint(t))throw new TypeError("Invalid pubkey for p2tr");const i=h();if(e.hash&&i&&!e.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&i){const t=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion});if(!(0,c.findScriptPath)(i,t))throw new TypeError("Redeem script not in tree")}const u=d();if(e.redeem&&y.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==y.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(y.redeem.output&&!e.redeem.output.equals(y.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&y.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.redeem.witness,y.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(1===u.length){if(e.signature&&!e.signature.equals(u[0]))throw new TypeError("Signature mismatch")}else{const n=u[u.length-1];if(n.length<33)throw new TypeError(`The control-block length is too small. Got ${n.length}, expected min 33.`);if((n.length-33)%32!=0)throw new TypeError(`The control-block length of ${n.length} is incorrect!`);const r=(n.length-33)/32;if(r>128)throw new TypeError(`The script path is too long. Got ${r}, expected max 128.`);const i=n.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,s.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=n[0]&a.TAPLEAF_VERSION_MASK,l=u[u.length-2],f=(0,c.tapleafHash)({output:l,version:o}),d=(0,c.rootHashFromPath)(n,f),h=(0,c.tweakKey)(i,d);if(!h)throw new TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(h.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(h.parity!==(1&n[0]))throw new Error("Incorrect parity")}}return Object.assign(y,e)}},18810:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const r=n(5525),i=n(74378),o=n(73357),a=n(41838),s=n(52691),c=n(27715),u=o.OPS,l=Buffer.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const n=s.value((()=>{const t=c.bech32.decode(e.address),n=t.words.shift(),r=c.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),f=e.network||i.bitcoin,d={name:"p2wpkh",network:f};if(s.prop(d,"address",(()=>{if(!d.hash)return;const e=c.bech32.toWords(d.hash);return e.unshift(0),c.bech32.encode(f.bech32,e)})),s.prop(d,"hash",(()=>e.output?e.output.slice(2,22):e.address?n().data:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0)),s.prop(d,"output",(()=>{if(d.hash)return o.compile([u.OP_0,d.hash])})),s.prop(d,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),s.prop(d,"signature",(()=>{if(e.witness)return e.witness[0]})),s.prop(d,"input",(()=>{if(d.witness)return l})),s.prop(d,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=Buffer.from([]);if(e.address){if(f&&f.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw new TypeError("Invalid address version");if(20!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==u.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const n=r.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");if(t=n,!(0,a.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!o.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const n=r.hash160(e.witness[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},82401:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const r=n(5525),i=n(74378),o=n(73357),a=n(41838),s=n(52691),c=n(27715),u=o.OPS,l=Buffer.alloc(0);function f(e){return!(!Buffer.isBuffer(e)||65!==e.length||4!==e[0]||!(0,a.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const n=s.value((()=>{const t=c.bech32.decode(e.address),n=t.words.shift(),r=c.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),d=s.value((()=>o.decompile(e.redeem.input)));let h=e.network;h||(h=e.redeem&&e.redeem.network||i.bitcoin);const p={network:h};if(s.prop(p,"address",(()=>{if(!p.hash)return;const e=c.bech32.toWords(p.hash);return e.unshift(0),c.bech32.encode(h.bech32,e)})),s.prop(p,"hash",(()=>e.output?e.output.slice(2):e.address?n().data:p.redeem&&p.redeem.output?r.sha256(p.redeem.output):void 0)),s.prop(p,"output",(()=>{if(p.hash)return o.compile([u.OP_0,p.hash])})),s.prop(p,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:l,witness:e.witness.slice(0,-1)}})),s.prop(p,"input",(()=>{if(p.witness)return l})),s.prop(p,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=o.toStack(d());return p.redeem=Object.assign({witness:t},e.redeem),p.redeem.input=l,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),s.prop(p,"name",(()=>{const e=["p2wsh"];return void 0!==p.redeem&&void 0!==p.redeem.name&&e.push(p.redeem.name),e.join("-")})),t.validate){let t=Buffer.from([]);if(e.address){if(n().prefix!==h.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw new TypeError("Invalid address version");if(32!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==u.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const n=e.output.slice(2);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem){if(e.redeem.network&&e.redeem.network!==h)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const n=o.decompile(e.redeem.output);if(!n||n.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(o.countNonPushOnlyOPs(n)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const i=r.sha256(e.redeem.output);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch");t=i}if(e.redeem.input&&!o.isPushOnly(d()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&d().some(f)||e.redeem.output&&(o.decompile(e.redeem.output)||[]).some(f))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(f)||(o.decompile(t)||[]).some(f))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(p,e)}},99930:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const r=n(95011),i=n(3493),o=n(96403),a=n(95488),s=n(9357),c=n(74378),u=n(84972),l=n(12227),f=n(73357),d=n(82737),h=n(23064),p=n(87929),y={network:c.bitcoin,maximumFeeRate:5e3};class g{static fromBase64(e,t={}){const buffer=Buffer.from(e,"base64");return this.fromBuffer(buffer,t)}static fromHex(e,t={}){const buffer=Buffer.from(e,"hex");return this.fromBuffer(buffer,t)}static fromBuffer(buffer,e={}){const t=r.Psbt.fromBuffer(buffer,b),n=new g(e,t);var i,o;return i=n.__CACHE.__TX,o=n.__CACHE,i.ins.forEach((e=>{O(o,e)})),n}constructor(e={},t=new r.Psbt(new m)){this.data=t,this.opts=Object.assign({},y,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const n=(e,t,n,r)=>Object.defineProperty(e,t,{enumerable:n,writable:r});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,s.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,a.fromOutputScript)(e.script,this.opts.network)}catch(e){}return{script:(0,s.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=g.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){S(e),this.opts.maximumFeeRate=e}setVersion(e){S(e),k(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){S(e),k(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){S(t),k(this.data.inputs,"setInputSequence");const n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=t,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,h.checkTaprootInputFields)(e,e,"addInput"),k(this.data.inputs,"addInput"),e.witnessScript&&G(e.witnessScript);const t=this.__CACHE;this.data.addInput(e);O(t,t.__TX.ins[t.__TX.ins.length-1]);const n=this.data.inputs.length-1,r=this.data.inputs[n];return r.nonWitnessUtxo&&H(this.__CACHE,r,n),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");k(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:n}=this.opts,r=(0,a.toOutputScript)(t,n);e=Object.assign(e,{script:r})}(0,h.checkTaprootOutputFields)(e,e,"addOutput");const n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(_))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,n){const r=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=r*i;if(r>=n.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${r} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const n=t.__TX.clone();return z(this.data.inputs,n,t,!0),n}getFeeRate(){return N("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return N("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,o.checkForInput)(this.data.inputs,0),$(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t){const n=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,t):this._finalizeInput(e,n,t)}finalizeTaprootInput(e,t,n=h.tapScriptFinalizer){const r=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(r))return this._finalizeTaprootInput(e,r,t,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,n=x){const{script:r,isP2SH:i,isP2WSH:o,isSegwit:a}=function(e,t,n){const r=n.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=F(n,t,e),a=r.ins[e].index;i.script=o.outs[a].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);(t.witnessScript||(0,p.isP2WPKH)(i.script))&&(i.isSegwit=!0);return i}(e,t,this.__CACHE);if(!r)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:n}=e;t.forEach((e=>{const{hashType:t}=f.signature.decode(e.signature);if(n!==t)throw new Error("Signature sighash does not match input sighash type")}))}(t);const{finalScriptSig:s,finalScriptWitness:c}=n(e,t,r,a,i,o);if(s&&this.data.updateInput(e,{finalScriptSig:s}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!s&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,n,r=h.tapScriptFinalizer){if(!t.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){const n=u.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),r=(0,p.witnessStackToScriptWitness)(n.witness);this.data.updateInput(e,{finalScriptWitness:r})}else{const{finalScriptWitness:i}=r(e,t,n);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,o.checkForInput)(this.data.inputs,e),n=W(K(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=f.decompile(e);if(!t)return;const n=t[t.length-1];if(!Buffer.isBuffer(n)||V(n)||(r=n,f.isCanonicalScriptSignature(r)))return;var r;if(!f.decompile(n))return;return n}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=M(e),n=t[t.length-1];if(V(n))return;if(!f.decompile(n))return;return n}(t.finalScriptWitness));return("raw"===n.type?"":n.type+"-")+Y(n.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,n,r){const i=K(n,t,r),{meaningfulScript:o}=W(i,n,"input",t.redeemScript,t.witnessScript);return(0,p.pubkeyInScript)(e,o)}(t,(0,o.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const n=(0,o.checkForInput)(this.data.inputs,e),r=E(t);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}outputHasPubkey(e,t){return function(e,t,n,r){const i=r.__TX.outs[n].script,{meaningfulScript:o}=W(i,n,"output",t.redeemScript,t.witnessScript);return(0,p.pubkeyInScript)(e,o)}(t,(0,o.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const n=(0,o.checkForOutput)(this.data.outputs,e),r=E(t);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}validateSignaturesOfAllInputs(e){(0,o.checkForInput)(this.data.inputs,0);return $(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,n){const r=this.data.inputs[e];return(0,h.isTaprootInput)(r)?this.validateSignaturesOfTaprootInput(e,t,n):this._validateSignaturesOfInput(e,t,n)}_validateSignaturesOfInput(e,t,n){const r=this.data.inputs[e],i=(r||{}).partialSig;if(!r||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const o=n?i.filter((e=>e.pubkey.equals(n))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const a=[];let s,c,u;for(const n of o){const i=f.signature.decode(n.signature),{hash:o,script:l}=u!==i.hashType?C(e,Object.assign({},r,{sighashType:i.hashType}),this.__CACHE,!0):{hash:s,script:c};u=i.hashType,s=o,c=l,A(n.pubkey,l,"verify"),a.push(t(n.pubkey,o,i.signature))}return a.every((e=>!0===e))}validateSignaturesOfTaprootInput(e,t,n){const r=this.data.inputs[e],i=(r||{}).tapKeySig,o=(r||{}).tapScriptSig;if(!r&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const a=(n=n&&(0,h.toXOnly)(n))?j(e,r,this.data.inputs,n,this.__CACHE):function(e,t,n,r){const i=[];if(t.tapInternalKey){const n=B(e,t,r);n&&i.push(n)}if(t.tapScriptSig){const e=t.tapScriptSig.map((e=>e.pubkey));i.push(...e)}const o=i.map((i=>j(e,t,n,i,r)));return o.flat()}(e,r,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");const s=a.find((e=>!e.leafHash));let c=0;if(i&&s){if(!t(s.pubkey,s.hash,L(i)))return!1;c++}if(o)for(const e of o){const n=a.find((t=>e.pubkey.equals(t.pubkey)));if(n){if(!t(e.pubkey,n.hash,L(e.signature)))return!1;c++}}return c>0}signAllInputsHD(e,t=[d.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const n=[];for(const r of $(this.data.inputs.length))try{this.signInputHD(r,e,t),n.push(!0)}catch(e){n.push(!1)}if(n.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[d.Transaction.SIGHASH_ALL]){return new Promise(((n,r)=>{if(!e||!e.publicKey||!e.fingerprint)return r(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const n of $(this.data.inputs.length))o.push(this.signInputHDAsync(n,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return r(new Error("No inputs were signed"));n()}))}))}signInputHD(e,t,n=[d.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return U(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,n))),this}signInputHDAsync(e,t,n=[d.Transaction.SIGHASH_ALL]){return new Promise(((r,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=U(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,n)));return Promise.all(o).then((()=>{r()})).catch(i)}))}signAllInputs(e,t){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=[];for(const r of $(this.data.inputs.length))try{this.signInput(r,e,t),n.push(!0)}catch(e){n.push(!1)}if(n.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise(((n,r)=>{if(!e||!e.publicKey)return r(new Error("Need Signer to sign input"));const i=[],o=[];for(const[n]of this.data.inputs.entries())o.push(this.signInputAsync(n,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return r(new Error("No inputs were signed"));n()}))}))}signInput(e,t,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(r)?this._signTaprootInput(e,r,t,void 0,n):this._signInput(e,t,n)}signTaprootInput(e,t,n,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(i))return this._signTaprootInput(e,i,t,n,r);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,n=[d.Transaction.SIGHASH_ALL]){const{hash:r,sighashType:i}=R(this.data.inputs,e,t.publicKey,this.__CACHE,n),o=[{pubkey:t.publicKey,signature:f.signature.encode(t.sign(r),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,n,r,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,n,r,i),a=o.filter((e=>!e.leafHash)).map((e=>(0,h.serializeTaprootSignature)(n.signSchnorr(e.hash),t.sighashType)))[0],s=o.filter((e=>!!e.leafHash)).map((e=>({pubkey:(0,h.toXOnly)(n.publicKey),signature:(0,h.serializeTaprootSignature)(n.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash})));return a&&this.data.updateInput(e,{tapKeySig:a}),s.length&&this.data.updateInput(e,{tapScriptSig:s}),this}signInputAsync(e,t,n){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(r)?this._signTaprootInputAsync(e,r,t,void 0,n):this._signInputAsync(e,t,n)}))}signTaprootInputAsync(e,t,n,r){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,n,r);throw new Error(`Input #${e} is not of type Taproot.`)}))}_signInputAsync(e,t,n=[d.Transaction.SIGHASH_ALL]){const{hash:r,sighashType:i}=R(this.data.inputs,e,t.publicKey,this.__CACHE,n);return Promise.resolve(t.sign(r)).then((n=>{const r=[{pubkey:t.publicKey,signature:f.signature.encode(n,i)}];this.data.updateInput(e,{partialSig:r})}))}async _signTaprootInputAsync(e,t,n,r,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,n,r,i),a=[],s=o.filter((e=>!e.leafHash))[0];if(s){const e=Promise.resolve(n.signSchnorr(s.hash)).then((e=>({tapKeySig:(0,h.serializeTaprootSignature)(e,t.sighashType)})));a.push(e)}const c=o.filter((e=>!!e.leafHash));if(c.length){const e=c.map((e=>Promise.resolve(n.signSchnorr(e.hash)).then((r=>({tapScriptSig:[{pubkey:(0,h.toXOnly)(n.publicKey),signature:(0,h.serializeTaprootSignature)(r,t.sighashType),leafHash:e.leafHash}]})))));a.push(...e)}return Promise.all(a).then((t=>{t.forEach((t=>this.data.updateInput(e,t)))}))}checkTaprootHashesForSig(e,t,n,r,i){if("function"!=typeof n.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const o=j(e,t,this.data.inputs,n.publicKey,this.__CACHE,r,i);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return o}toBuffer(){return v(this.__CACHE),this.data.toBuffer()}toHex(){return v(this.__CACHE),this.data.toHex()}toBase64(){return v(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&G(t.witnessScript),(0,h.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&H(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){const n=this.data.outputs[e];return(0,h.checkTaprootOutputFields)(n,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=g;const b=buffer=>new m(buffer);class m{constructor(buffer=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=d.Transaction.fromBuffer(buffer),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!Buffer.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?(0,s.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!Buffer.isBuffer(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function v(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function w(e,t,n){if(!t)return!1;let r;if(r=n?n.map((e=>{const n=function(e){if(65===e.length){const t=1&e[64],n=e.slice(0,33);return n[0]=2|t,n}return e.slice()}(e);return t.find((e=>e.pubkey.equals(n)))})).filter((e=>!!e)):t,r.length>e)throw new Error("Too many signatures");return r.length===e}function _(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function E(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function S(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function k(e,t){e.forEach((e=>{if((0,h.isTaprootInput)(e)?(0,h.checkTaprootInputForSigs)(e,t):(0,p.checkInputForSig)(e,t))throw new Error("Can not modify transaction, signatures exist.")}))}function A(e,t,n){if(!(0,p.pubkeyInScript)(e,t))throw new Error(`Can not ${n} for this input with the key ${e.toString("hex")}`)}function O(e,t){const n=(0,s.reverseBuffer)(Buffer.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[n])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[n]=1}function P(e,t){return(n,r,i,o)=>{const a=e({redeem:{output:i}}).output;if(!r.equals(a))throw new Error(`${t} for ${o} #${n} doesn't match the scriptPubKey in the prevout`)}}const I=P(u.p2sh,"Redeem script"),T=P(u.p2wsh,"Witness script");function N(e,t,n,r){if(!n.every(_))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&r.__FEE_RATE)return r.__FEE_RATE;if("__FEE"===e&&r.__FEE)return r.__FEE;let i,o=!0;return r.__EXTRACTED_TX?(i=r.__EXTRACTED_TX,o=!1):i=r.__TX.clone(),z(n,i,r,o),"__FEE_RATE"===e?r.__FEE_RATE:"__FEE"===e?r.__FEE:void 0}function x(e,t,n,r,i,o){const a=Y(n);if(!function(e,t,n){switch(n){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return w(1,e.partialSig);case"multisig":const n=u.p2ms({output:t});return w(n.m,e.partialSig,n.pubkeys);default:return!1}}(t,n,a))throw new Error(`Can not finalize input #${e}`);return function(e,t,n,r,i,o){let a,s;const c=function(e,t,n){let r;switch(t){case"multisig":const t=function(e,t){const n=u.p2ms({output:e});return n.pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,n);r=u.p2ms({output:e,signatures:t});break;case"pubkey":r=u.p2pk({output:e,signature:n[0].signature});break;case"pubkeyhash":r=u.p2pkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature});break;case"witnesspubkeyhash":r=u.p2wpkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature})}return r}(e,t,n),l=o?u.p2wsh({redeem:c}):null,f=i?u.p2sh({redeem:l||c}):null;r?(s=l?(0,p.witnessStackToScriptWitness)(l.witness):(0,p.witnessStackToScriptWitness)(c.witness),f&&(a=f.input)):a=f?f.input:c.input;return{finalScriptSig:a,finalScriptWitness:s}}(n,a,t.partialSig,r,i,o)}function R(e,t,n,r,i){const a=(0,o.checkForInput)(e,t),{hash:s,sighashType:c,script:u}=C(t,a,r,!1,i);return A(n,u,"sign"),{hash:s,sighashType:c}}function C(e,t,n,r,i){const o=n.__TX,a=t.sighashType||d.Transaction.SIGHASH_ALL;let s,c;if(D(a,i),t.nonWitnessUtxo){const r=F(n,t,e),i=o.ins[e].hash,a=r.getHash();if(!i.equals(a))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const s=o.ins[e].index;c=r.outs[s]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");c=t.witnessUtxo}const{meaningfulScript:l,type:f}=W(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(f)>=0)s=o.hashForWitnessV0(e,l,c.value,a);else if((0,p.isP2WPKH)(l)){const t=u.p2pkh({hash:l.slice(2)}).output;s=o.hashForWitnessV0(e,t,c.value,a)}else{if(void 0===t.nonWitnessUtxo&&!1===n.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${l.toString("hex")}`);r||!1===n.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),s=o.hashForSignature(e,l,a)}return{script:l,sighashType:a,hash:s}}function B(e,t,n){const{script:r}=q(e,t,n);return(0,p.isP2TR)(r)?r.subarray(2,34):null}function L(e){return 64===e.length?e:e.subarray(0,64)}function j(e,t,n,r,i,o,a){const s=i.__TX,c=t.sighashType||d.Transaction.SIGHASH_DEFAULT;D(c,a);const u=n.map(((e,t)=>q(t,e,i))),f=u.map((e=>e.script)),y=u.map((e=>e.value)),g=[];if(t.tapInternalKey&&!o){const n=B(e,t,i)||Buffer.from([]);if((0,h.toXOnly)(r).equals(n)){const t=s.hashForWitnessV1(e,f,y,c);g.push({pubkey:r,hash:t})}}const b=(t.tapLeafScript||[]).filter((e=>(0,p.pubkeyInScript)(r,e.script))).map((e=>{const t=(0,l.tapleafHash)({output:e.script,version:e.leafVersion});return Object.assign({hash:t},e)})).filter((e=>!o||o.equals(e.hash))).map((t=>{const n=s.hashForWitnessV1(e,f,y,d.Transaction.SIGHASH_DEFAULT,t.hash);return{pubkey:r,hash:n,leafHash:t.hash}}));return g.concat(b)}function D(e,t){if(t&&t.indexOf(e)<0){const t=function(e){let t=e&d.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case d.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case d.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case d.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function U(e,t,n){const r=(0,o.checkForInput)(t,e);if(!r.bip32Derivation||0===r.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=r.bip32Derivation.map((e=>e.masterFingerprint.equals(n.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=n.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function M(buffer){let e=0;function t(){const t=i.decode(buffer,e);return e+=i.decode.bytes,t}function n(){return n=t(),e+=n,buffer.slice(e-n,e);var n}return function(){const e=t(),r=[];for(let t=0;t<e;t++)r.push(n());return r}()}function H(e,t,n){e.__NON_WITNESS_UTXO_BUF_CACHE[n]=t.nonWitnessUtxo;const r=d.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[n]=r;const i=e,o=n;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function z(e,t,n,r){let i=0;e.forEach(((e,o)=>{if(r&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),r&&e.finalScriptWitness&&(t.ins[o].witness=M(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const r=F(n,e,o),a=t.ins[o].index,s=r.outs[a];i+=s.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),a=i-o;if(a<0)throw new Error("Outputs are spending more than Inputs");const s=t.virtualSize();n.__FEE=a,n.__EXTRACTED_TX=t,n.__FEE_RATE=Math.floor(a/s)}function F(e,t,n){const r=e.__NON_WITNESS_UTXO_TX_CACHE;return r[n]||H(e,t,n),r[n]}function K(e,t,n){const{script:r}=q(e,t,n);return r}function q(e,t,n){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){const r=F(n,t,e).outs[n.__TX.ins[e].index];return{script:r.script,value:r.value}}throw new Error("Can't find pubkey in input without Utxo data")}function V(e){return 33===e.length&&f.isCanonicalPubKey(e)}function W(e,t,n,r,i){const o=(0,p.isP2SHScript)(e),a=o&&r&&(0,p.isP2WSHScript)(r),s=(0,p.isP2WSHScript)(e);if(o&&void 0===r)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((s||a)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return a?(c=i,I(t,e,r,n),T(t,r,i,n),G(c)):s?(c=i,T(t,e,i,n),G(c)):o?(c=r,I(t,e,r,n)):c=e,{meaningfulScript:c,type:a?"p2sh-p2wsh":o?"p2sh":s?"p2wsh":"raw"}}function G(e){if((0,p.isP2WPKH)(e)||(0,p.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Y(e){return(0,p.isP2WPKH)(e)?"witnesspubkeyhash":(0,p.isP2PKH)(e)?"pubkeyhash":(0,p.isP2MS)(e)?"multisig":(0,p.isP2PK)(e)?"pubkey":"nonstandard"}function $(e){return[...Array(e).keys()]}},23064:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.checkTaprootInputForSigs=t.tapTreeFromList=t.tapTreeToList=t.tweakInternalPubKey=t.checkTaprootOutputFields=t.checkTaprootInputFields=t.isTaprootOutput=t.isTaprootInput=t.serializeTaprootSignature=t.tapScriptFinalizer=t.toXOnly=void 0;const r=n(41838),i=n(82737),o=n(87929),a=n(12227),s=n(84972),c=n(87929);function u(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,o.isP2TR)(e.witnessUtxo.script))}function l(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,o.isP2TR)(t))}function f(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(const n of e)if(t=p(n,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}(e)}function d(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||i.Transaction.SIGHASH_DEFAULT}}function h(e,t=[],n=0){if(n>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,r.isTapleaf)(e)?(t.push({depth:n,leafVersion:e.version||a.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&h(e[0],t,n+1),e[1]&&h(e[1],t,n+1),t):[]}function p(e,t,n=0){if(n>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===n)return t?void 0:{output:e.script,version:e.leafVersion};if((0,r.isTapleaf)(t))return;const i=p(e,t&&t[0],n+1);if(i)return[i,t&&t[1]];const o=p(e,t&&t[1],n+1);return o?[t&&t[0],o]:void 0}function y(e,t){if(!t)return!0;const n=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(0,a.rootHashFromPath)(e.controlBlock,n).equals(t)}function g(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}t.toXOnly=e=>32===e.length?e:e.slice(1,33),t.tapScriptFinalizer=function(e,t,n){const r=function(e,t,n){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const r=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,n){const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(!n||n.equals(r))&&void 0!==t.find((e=>e.leafHash.equals(r)))}(t,e.tapScriptSig,n)));if(!r)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return r}(t,e,n);try{const e=function(e,t){const n=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(n))).map((e=>function(e,t){return Object.assign({positionInScript:(0,o.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))}(t,r),n=e.concat(r.script).concat(r.controlBlock);return{finalScriptWitness:(0,o.witnessStackToScriptWitness)(n)}}catch(t){throw new Error(`Can not finalize taproot input #${e}: ${t}`)}},t.serializeTaprootSignature=function(e,t){const n=t?Buffer.from([t]):Buffer.from([]);return Buffer.concat([e,n])},t.isTaprootInput=u,t.isTaprootOutput=l,t.checkTaprootInputFields=function(e,t,n){!function(e,t,n){const r=u(e)&&g(t),i=g(e)&&u(t),o=e===t&&u(t)&&g(t);if(r||i||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}(e,t,n),function(e,t,n){if(t.tapMerkleRoot){const r=(t.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot))),i=(e.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot)));if(!r||!i)throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot){if(!(t.tapLeafScript||[]).every((t=>y(t,e.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}}(e,t,n)},t.checkTaprootOutputFields=function(e,t,n){!function(e,t,n){const r=l(e)&&g(t),i=g(e)&&l(t),o=e===t&&l(t)&&g(t);if(r||i||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}(e,t,n),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const n=t.tapInternalKey||e.tapInternalKey,r=t.tapTree||e.tapTree;if(n){const{script:t}=e,i=function(e,t){const n=t&&f(t.leaves),{output:r}=(0,s.p2tr)({internalPubkey:e,scriptTree:n});return r}(n,r);if(t&&!t.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(e,t)},t.tweakInternalPubKey=function(e,t){const n=t.tapInternalKey,r=n&&(0,a.tweakKey)(n,t.tapMerkleRoot);if(!r)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${n&&n.toString("hex")}`);return r.x},t.tapTreeToList=function(e){if(!(0,r.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return h(e)},t.tapTreeFromList=f,t.checkTaprootInputForSigs=function(e,t){return function(e){const t=[];e.tapKeySig&&t.push(e.tapKeySig);e.tapScriptSig&&t.push(...e.tapScriptSig.map((e=>e.signature)));if(!t.length){const n=function(e){if(!e)return;const t=e.slice(2);if(64===t.length||65===t.length)return t}(e.finalScriptWitness);n&&t.push(n)}return t}(e).some((e=>(0,c.signatureBlocksAction)(e,d,t)))}},87929:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signatureBlocksAction=t.checkInputForSig=t.pubkeyInScript=t.pubkeyPositionInScript=t.witnessStackToScriptWitness=t.isP2TR=t.isP2SHScript=t.isP2WSHScript=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=void 0;const r=n(3493),i=n(73357),o=n(82737),a=n(5525),s=n(84972);function c(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}function u(e,t){const n=(0,a.hash160)(e),r=e.slice(1,33),o=i.decompile(t);if(null===o)throw new Error("Unknown script error");return o.findIndex((t=>"number"!=typeof t&&(t.equals(e)||t.equals(n)||t.equals(r))))}function l(e,t,n){const{hashType:r}=t(e),i=[];r&o.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&r){case o.Transaction.SIGHASH_ALL:break;case o.Transaction.SIGHASH_SINGLE:case o.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(n)}t.isP2MS=c(s.p2ms),t.isP2PK=c(s.p2pk),t.isP2PKH=c(s.p2pkh),t.isP2WPKH=c(s.p2wpkh),t.isP2WSHScript=c(s.p2wsh),t.isP2SHScript=c(s.p2sh),t.isP2TR=c(s.p2tr),t.witnessStackToScriptWitness=function(e){let buffer=Buffer.allocUnsafe(0);function t(e){const t=buffer.length,n=r.encodingLength(e);buffer=Buffer.concat([buffer,Buffer.allocUnsafe(n)]),r.encode(e,buffer,t)}function n(e){t(e.length),function(e){buffer=Buffer.concat([buffer,Buffer.from(e)])}(e)}var i;return t((i=e).length),i.forEach(n),buffer},t.pubkeyPositionInScript=u,t.pubkeyInScript=function(e,t){return-1!==u(e,t)},t.checkInputForSig=function(e,t){return function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){const t=e.finalScriptSig&&i.decompile(e.finalScriptSig)||[],n=e.finalScriptWitness&&i.decompile(e.finalScriptWitness)||[];return t.concat(n).filter((e=>Buffer.isBuffer(e)&&i.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else t=e.partialSig;return t.map((e=>e.signature))}(e).some((e=>l(e,i.signature.decode,t)))},t.signatureBlocksAction=l},79937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const r=n(47334);function i(e){return e<r.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(buffer,e,t){const n=i(e);return 1===n?buffer.writeUInt8(e,t):2===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA1,t),buffer.writeUInt8(e,t+1)):3===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA2,t),buffer.writeUInt16LE(e,t+1)):(buffer.writeUInt8(r.OPS.OP_PUSHDATA4,t),buffer.writeUInt32LE(e,t+1)),n},t.decode=function(buffer,e){const t=buffer.readUInt8(e);let n,i;if(t<r.OPS.OP_PUSHDATA1)n=t,i=1;else if(t===r.OPS.OP_PUSHDATA1){if(e+2>buffer.length)return null;n=buffer.readUInt8(e+1),i=2}else if(t===r.OPS.OP_PUSHDATA2){if(e+3>buffer.length)return null;n=buffer.readUInt16LE(e+1),i=3}else{if(e+5>buffer.length)return null;if(t!==r.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=buffer.readUInt32LE(e+1),i=5}return{opcode:t,number:n,size:i}}},73357:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const r=n(77617),i=n(47334);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return i.OPS}});const o=n(79937),a=n(45815),s=n(24362),c=n(41838),{typeforce:u}=c,l=i.OPS.OP_RESERVED;function f(e){return c.Buffer(e)||function(e){return c.Number(e)&&(e===i.OPS.OP_0||e>=i.OPS.OP_1&&e<=i.OPS.OP_16||e===i.OPS.OP_1NEGATE)}(e)}function d(e){return c.Array(e)&&e.every(f)}function h(buffer){return 0===buffer.length?i.OPS.OP_0:1===buffer.length?buffer[0]>=1&&buffer[0]<=16?l+buffer[0]:129===buffer[0]?i.OPS.OP_1NEGATE:void 0:void 0}function p(e){return Buffer.isBuffer(e)}function y(e){return Buffer.isBuffer(e)}function g(e){if(p(e))return e;u(c.Array,e);const t=e.reduce(((e,t)=>y(t)?1===t.length&&void 0!==h(t)?e+1:e+o.encodingLength(t.length)+t.length:e+1),0),buffer=Buffer.allocUnsafe(t);let n=0;if(e.forEach((e=>{if(y(e)){const t=h(e);if(void 0!==t)return buffer.writeUInt8(t,n),void(n+=1);n+=o.encode(buffer,e.length,n),e.copy(buffer,n),n+=e.length}else buffer.writeUInt8(e,n),n+=1})),n!==buffer.length)throw new Error("Could not decode chunks");return buffer}function b(buffer){if(e=buffer,c.Array(e))return buffer;var e;u(c.Buffer,buffer);const t=[];let n=0;for(;n<buffer.length;){const e=buffer[n];if(e>i.OPS.OP_0&&e<=i.OPS.OP_PUSHDATA4){const e=o.decode(buffer,n);if(null===e)return null;if(n+=e.size,n+e.number>buffer.length)return null;const r=buffer.slice(n,n+e.number);n+=e.number;const i=h(r);void 0!==i?t.push(i):t.push(r)}else t.push(e),n+=1}return t}function m(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=d,t.countNonPushOnlyOPs=function(e){return e.length-e.filter(f).length},t.compile=g,t.decompile=b,t.toASM=function(e){return p(e)&&(e=b(e)),e.map((e=>{if(y(e)){const t=h(e);if(void 0===t)return e.toString("hex");e=t}return i.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return u(c.String,e),g(e.split(" ").map((e=>void 0!==i.OPS[e]?i.OPS[e]:(u(c.Hex,e),Buffer.from(e,"hex")))))},t.toStack=function(e){return e=b(e),u(d,e),e.map((e=>y(e)?e:e===i.OPS.OP_0?Buffer.allocUnsafe(0):a.encode(e-l)))},t.isCanonicalPubKey=function(buffer){return c.isPoint(buffer)},t.isDefinedHashType=m,t.isCanonicalScriptSignature=function(buffer){return!!Buffer.isBuffer(buffer)&&(!!m(buffer[buffer.length-1])&&r.check(buffer.slice(0,-1)))},t.number=a,t.signature=s},45815:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(buffer,e,t){e=e||4,t=void 0===t||t;const n=buffer.length;if(0===n)return 0;if(n>e)throw new TypeError("Script number overflow");if(t&&0==(127&buffer[n-1])&&(n<=1||0==(128&buffer[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const e=buffer.readUInt32LE(0),t=buffer.readUInt8(4);return 128&t?-(4294967296*(-129&t)+e):4294967296*t+e}let r=0;for(let e=0;e<n;++e)r|=buffer[e]<<8*e;return 128&buffer[n-1]?-(r&~(128<<8*(n-1))):r},t.encode=function(e){let t=Math.abs(e);const n=(r=t)>2147483647?5:r>8388607?4:r>32767?3:r>127?2:r>0?1:0;var r;const buffer=Buffer.allocUnsafe(n),i=e<0;for(let e=0;e<n;++e)buffer.writeUInt8(255&t,e),t>>=8;return 128&buffer[n-1]?buffer.writeUInt8(i?128:0,n-1):i&&(buffer[n-1]|=128),buffer}},24362:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const r=n(77617),i=n(41838),{typeforce:o}=i,a=Buffer.alloc(1,0);function s(e){let t=0;for(;0===e[t];)++t;return t===e.length?a:128&(e=e.slice(t))[0]?Buffer.concat([a,e],1+e.length):e}function c(e){0===e[0]&&(e=e.slice(1));const buffer=Buffer.alloc(32,0),t=Math.max(0,32-e.length);return e.copy(buffer,t),buffer}t.decode=function(buffer){const e=buffer.readUInt8(buffer.length-1),t=-129&e;if(t<=0||t>=4)throw new Error("Invalid hashType "+e);const n=r.decode(buffer.slice(0,-1)),i=c(n.r),o=c(n.s);return{signature:Buffer.concat([i,o],64),hashType:e}},t.encode=function(e,t){o({signature:i.BufferN(64),hashType:i.UInt8},{signature:e,hashType:t});const n=-129&t;if(n<=0||n>=4)throw new Error("Invalid hashType "+t);const a=Buffer.allocUnsafe(1);a.writeUInt8(t,0);const c=s(e.slice(0,32)),u=s(e.slice(32,64));return Buffer.concat([r.encode(c,u),a])}},82737:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const r=n(9357),i=n(5525),o=n(73357),a=n(73357),s=n(41838),{typeforce:c}=s;function u(e){const t=e.length;return r.varuint.encodingLength(t)+t}const l=Buffer.allocUnsafe(0),f=[],d=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),h=Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),p=Buffer.from("ffffffffffffffff","hex"),y={script:l,valueBuffer:p};class g{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(buffer,e){const t=new r.BufferReader(buffer),n=new g;n.version=t.readInt32();const i=t.readUInt8(),o=t.readUInt8();let a=!1;i===g.ADVANCED_TRANSACTION_MARKER&&o===g.ADVANCED_TRANSACTION_FLAG?a=!0:t.offset-=2;const s=t.readVarInt();for(let e=0;e<s;++e)n.ins.push({hash:t.readSlice(32),index:t.readUInt32(),script:t.readVarSlice(),sequence:t.readUInt32(),witness:f});const c=t.readVarInt();for(let e=0;e<c;++e)n.outs.push({value:t.readUInt64(),script:t.readVarSlice()});if(a){for(let e=0;e<s;++e)n.ins[e].witness=t.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=t.readUInt32(),e)return n;if(t.offset!==buffer.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return g.fromBuffer(Buffer.from(e,"hex"),!1)}static isCoinbaseHash(buffer){c(s.Hash256bit,buffer);for(let e=0;e<32;++e)if(0!==buffer[e])return!1;return!0}isCoinbase(){return 1===this.ins.length&&g.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,n,r){return c(s.tuple(s.Hash256bit,s.UInt32,s.maybe(s.UInt32),s.maybe(s.Buffer)),arguments),s.Null(n)&&(n=g.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:r||l,sequence:n,witness:f})-1}addOutput(e,t){return c(s.tuple(s.Buffer,s.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+r.varuint.encodingLength(this.ins.length)+r.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+u(t.script)),0)+this.outs.reduce(((e,t)=>e+8+u(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return r.varuint.encodingLength(t)+e.reduce(((e,t)=>e+u(t)),0)}(t.witness)),0):0)}clone(){const e=new g;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,n){if(c(s.tuple(s.UInt32,s.Buffer,s.Number),arguments),e>=this.ins.length)return h;const r=o.compile(o.decompile(t).filter((e=>e!==a.OPS.OP_CODESEPARATOR))),u=this.clone();if((31&n)===g.SIGHASH_NONE)u.outs=[],u.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}));else if((31&n)===g.SIGHASH_SINGLE){if(e>=this.outs.length)return h;u.outs.length=e+1;for(let t=0;t<e;t++)u.outs[t]=y;u.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}))}n&g.SIGHASH_ANYONECANPAY?(u.ins=[u.ins[e]],u.ins[0].script=r):(u.ins.forEach((e=>{e.script=l})),u.ins[e].script=r);const buffer=Buffer.allocUnsafe(u.byteLength(!1)+4);return buffer.writeInt32LE(n,buffer.length-4),u.__toBuffer(buffer,0,!1),i.hash256(buffer)}hashForWitnessV1(e,t,n,o,a,f){if(c(s.tuple(s.UInt32,c.arrayOf(s.Buffer),c.arrayOf(s.Satoshi),s.UInt32),arguments),n.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const d=o===g.SIGHASH_DEFAULT?g.SIGHASH_ALL:o&g.SIGHASH_OUTPUT_MASK,h=(o&g.SIGHASH_INPUT_MASK)===g.SIGHASH_ANYONECANPAY,p=d===g.SIGHASH_NONE,y=d===g.SIGHASH_SINGLE;let b=l,m=l,v=l,w=l,_=l;if(!h){let e=r.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),b=i.sha256(e.end()),e=r.BufferWriter.withCapacity(8*this.ins.length),n.forEach((t=>e.writeUInt64(t))),m=i.sha256(e.end()),e=r.BufferWriter.withCapacity(t.map(u).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),v=i.sha256(e.end()),e=r.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),w=i.sha256(e.end())}if(p||y){if(y&&e<this.outs.length){const t=this.outs[e],n=r.BufferWriter.withCapacity(8+u(t.script));n.writeUInt64(t.value),n.writeVarSlice(t.script),_=i.sha256(n.end())}}else{const e=this.outs.map((e=>8+u(e.script))).reduce(((e,t)=>e+t)),t=r.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),_=i.sha256(t.end())}const E=(a?2:0)+(f?1:0),S=174-(h?49:0)-(p?32:0)+(f?32:0)+(a?37:0),k=r.BufferWriter.withCapacity(S);if(k.writeUInt8(o),k.writeInt32(this.version),k.writeUInt32(this.locktime),k.writeSlice(b),k.writeSlice(m),k.writeSlice(v),k.writeSlice(w),p||y||k.writeSlice(_),k.writeUInt8(E),h){const r=this.ins[e];k.writeSlice(r.hash),k.writeUInt32(r.index),k.writeUInt64(n[e]),k.writeVarSlice(t[e]),k.writeUInt32(r.sequence)}else k.writeUInt32(e);if(f){const e=r.BufferWriter.withCapacity(u(f));e.writeVarSlice(f),k.writeSlice(i.sha256(e.end()))}return y&&k.writeSlice(_),a&&(k.writeSlice(a),k.writeUInt8(0),k.writeUInt32(4294967295)),i.taggedHash("TapSighash",Buffer.concat([Buffer.from([0]),k.end()]))}hashForWitnessV0(e,t,n,o){c(s.tuple(s.UInt32,s.Buffer,s.Satoshi,s.UInt32),arguments);let a,l=Buffer.from([]),f=d,h=d,p=d;if(o&g.SIGHASH_ANYONECANPAY||(l=Buffer.allocUnsafe(36*this.ins.length),a=new r.BufferWriter(l,0),this.ins.forEach((e=>{a.writeSlice(e.hash),a.writeUInt32(e.index)})),h=i.hash256(l)),o&g.SIGHASH_ANYONECANPAY||(31&o)===g.SIGHASH_SINGLE||(31&o)===g.SIGHASH_NONE||(l=Buffer.allocUnsafe(4*this.ins.length),a=new r.BufferWriter(l,0),this.ins.forEach((e=>{a.writeUInt32(e.sequence)})),p=i.hash256(l)),(31&o)!==g.SIGHASH_SINGLE&&(31&o)!==g.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+u(t.script)),0);l=Buffer.allocUnsafe(e),a=new r.BufferWriter(l,0),this.outs.forEach((e=>{a.writeUInt64(e.value),a.writeVarSlice(e.script)})),f=i.hash256(l)}else if((31&o)===g.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];l=Buffer.allocUnsafe(8+u(t.script)),a=new r.BufferWriter(l,0),a.writeUInt64(t.value),a.writeVarSlice(t.script),f=i.hash256(l)}l=Buffer.allocUnsafe(156+u(t)),a=new r.BufferWriter(l,0);const y=this.ins[e];return a.writeInt32(this.version),a.writeSlice(h),a.writeSlice(p),a.writeSlice(y.hash),a.writeUInt32(y.index),a.writeVarSlice(t),a.writeUInt64(n),a.writeUInt32(y.sequence),a.writeSlice(f),a.writeUInt32(this.locktime),a.writeUInt32(o),i.hash256(l)}getHash(e){return e&&this.isCoinbase()?Buffer.alloc(32,0):i.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,r.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(buffer,e){return this.__toBuffer(buffer,e,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){c(s.tuple(s.Number,s.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){c(s.tuple(s.Number,[s.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(buffer,e,t=!1){buffer||(buffer=Buffer.allocUnsafe(this.byteLength(t)));const n=new r.BufferWriter(buffer,e||0);n.writeInt32(this.version);const i=t&&this.hasWitnesses();return i&&(n.writeUInt8(g.ADVANCED_TRANSACTION_MARKER),n.writeUInt8(g.ADVANCED_TRANSACTION_FLAG)),n.writeVarInt(this.ins.length),this.ins.forEach((e=>{n.writeSlice(e.hash),n.writeUInt32(e.index),n.writeVarSlice(e.script),n.writeUInt32(e.sequence)})),n.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?n.writeUInt64(e.value):n.writeSlice(e.valueBuffer),n.writeVarSlice(e.script)})),i&&this.ins.forEach((e=>{n.writeVector(e.witness)})),n.writeUInt32(this.locktime),void 0!==e?buffer.slice(e,n.offset):buffer}}t.Transaction=g,g.DEFAULT_SEQUENCE=4294967295,g.SIGHASH_DEFAULT=0,g.SIGHASH_ALL=1,g.SIGHASH_NONE=2,g.SIGHASH_SINGLE=3,g.SIGHASH_ANYONECANPAY=128,g.SIGHASH_OUTPUT_MASK=3,g.SIGHASH_INPUT_MASK=128,g.ADVANCED_TRANSACTION_MARKER=0,g.ADVANCED_TRANSACTION_FLAG=1},41838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const r=n(48764);t.typeforce=n(2401);const i=r.Buffer.alloc(32,0),o=r.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.isPoint=function(e){if(!r.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],n=e.slice(1,33);if(0===n.compare(i))return!1;if(n.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const a=e.slice(33);return 0!==a.compare(i)&&(!(a.compare(o)>=0)&&(4===t&&65===e.length))};const a=Math.pow(2,31)-1;function s(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return t.typeforce.UInt32(e)&&e<=a},t.BIP32Path=s,s.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign};function c(e){return!(!e||!("output"in e))&&(!!r.Buffer.isBuffer(e.output)&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version))}t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=c,t.isTaptree=function e(n){return(0,t.Array)(n)?2===n.length&&n.every((t=>e(t))):c(n)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},53288:function(e,t){var n;!function(r){"use strict";var i=32,o=5;function a(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}function s(e,t){for(var n=0,r=0;r<e.length;r++){n*=2;var i=(e[r]+n)/t|0;n=(e[r]+n)%t,e[r]=i}return n}function c(e,t){if(null==t)return e.data=[0,0,0,0,0,0,0,0,0,0],void(e._=0);if(t instanceof u)return e.data=t.data,void(e._=t._);switch(typeof t){case"number":e.data=[0|t],e._=0;break;case"string":var n=2,r=i;0===t.indexOf("0b")?t=t.substr(2):0===t.indexOf("0x")&&(t=t.substr(2),n=16,r=8),e.data=[],e._=0;for(var a=t.length-r,s=t.length;;){var c=parseInt(t.slice(a>0?a:0,s),n);if(isNaN(c))throw SyntaxError("Invalid param");if(e.data.push(0|c),a<=0)break;a-=r,s-=r}break;default:e.data=[0];var f=e.data;if(t instanceof Array){for(var d=t.length-1;d>=0;d--){var h=t[d];h===1/0?e._=-1:(l(e,h),f[h>>>o]|=1<<h)}break}if(Uint8Array&&t instanceof Uint8Array){l(e,8*t.length);for(d=0;d<t.length;d++)for(var p=t[d],y=0;y<8;y++){var g=8*d+y;f[g>>>o]|=(p>>y&1)<<g}break}throw SyntaxError("Invalid param")}}function u(e){if(!(this instanceof u))return new u(e);c(this,e),this.data=this.data.slice()}function l(e,t){for(var n=t>>>o,r=e.data,i=e._,a=r.length;n>=a;n--)r.push(i)}var f={data:[],_:0};u.prototype={data:[],_:0,set:function(e,t){return l(this,e|=0),void 0===t||t?this.data[e>>>o]|=1<<e:this.data[e>>>o]&=~(1<<e),this},get:function(e){e|=0;var t=this.data,n=e>>>o;return n>=t.length?1&this._:t[n]>>>e&1},not:function(){for(var e=this.clone(),t=e.data,n=0;n<t.length;n++)t[n]=~t[n];return e._=~e._,e},and:function(e){c(f,e);var t=this.clone(),n=t.data,r=f.data,o=r.length,a=f._;0!==t._&&l(t,o*i-1);for(var s=n.length,u=Math.min(o,s),d=0;d<u;d++)n[d]&=r[d];for(;d<s;d++)n[d]&=a;return t._&=a,t},or:function(e){c(f,e);for(var t=this.clone(),n=t.data,r=f.data,i=r.length-1,o=n.length-1,a=Math.min(o,i),s=i;s>a;s--)n[s]=r[s];for(;s>=0;s--)n[s]|=r[s];return t._|=f._,t},xor:function(e){c(f,e);var t=this.clone(),n=t.data,r=f.data,i=t._,o=f._,a=0,s=n.length-1,u=r.length-1;for(a=s;a>u;a--)n[a]^=o;for(a=u;a>s;a--)n[a]=i^r[a];for(;a>=0;a--)n[a]^=r[a];return t._^=o,t},andNot:function(e){return this.and(new u(e).flip())},flip:function(e,t){if(void 0===e){for(var n=this.data,r=0;r<n.length;r++)n[r]=~n[r];this._=~this._}else if(void 0===t)l(this,e),this.data[e>>>o]^=1<<e;else if(0<=e&&e<=t){l(this,t);for(r=e;r<=t;r++)this.data[r>>>o]^=1<<r}return this},clear:function(e,t){var n=this.data;if(void 0===e){for(var r=n.length-1;r>=0;r--)n[r]=0;this._=0}else if(void 0===t)l(this,e|=0),n[e>>>o]&=~(1<<e);else if(e<=t){l(this,t);for(r=e;r<=t;r++)n[r>>>o]&=~(1<<r)}return this},slice:function(e,t){if(void 0===e)return this.clone();if(void 0===t){t=this.data.length*i,(r=Object.create(u.prototype))._=this._,r.data=[0];for(var n=e;n<=t;n++)r.set(n-e,this.get(n));return r}if(e<=t&&0<=e){var r;(r=Object.create(u.prototype)).data=[0];for(n=e;n<=t;n++)r.set(n-e,this.get(n));return r}return null},setRange:function(e,t,n){for(var r=e;r<=t;r++)this.set(r,n);return this},clone:function(){var e=Object.create(u.prototype);return e.data=this.data.slice(),e._=this._,e},toArray:Math.clz32?function(){for(var e=[],t=this.data,n=t.length-1;n>=0;n--)for(var r=t[n];0!==r;){var o=31-Math.clz32(r);r^=1<<o,e.unshift(n*i+o)}return 0!==this._&&e.push(1/0),e}:function(){for(var e=[],t=this.data,n=0;n<t.length;n++)for(var r=t[n];0!==r;){var o=r&-r;r^=o,e.push(n*i+a(o-1))}return 0!==this._&&e.push(1/0),e},toString:function(e){var t=this.data;if(e||(e=2),0==(e&e-1)&&e<36){for(var n="",r=2+Math.log(4294967295)/Math.log(e)|0,o=t.length-1;o>=0;o--){var a=t[o];a<0&&(a+=4294967296);var c=a.toString(e);""!==n&&(n+="0".repeat(r-c.length-1)),n+=c}return 0===this._?(""===(n=n.replace(/^0+/,""))&&(n="0"),n):(n="1111"+n).replace(/^1+/,"...1111")}if(2>e||e>36)throw SyntaxError("Invalid base");n=[];var u=[];for(o=t.length;o--;)for(var l=i;l--;)u.push(t[o]>>>l&1);do{n.unshift(s(u,e).toString(e))}while(!u.every((function(e){return 0===e})));return n.join("")},isEmpty:function(){if(0!==this._)return!1;for(var e=this.data,t=e.length-1;t>=0;t--)if(0!==e[t])return!1;return!0},cardinality:function(){if(0!==this._)return 1/0;for(var e=0,t=this.data,n=0;n<t.length;n++){var r=t[n];0!==r&&(e+=a(r))}return e},msb:Math.clz32?function(){if(0!==this._)return 1/0;for(var e=this.data,t=e.length;t-- >0;){var n=Math.clz32(e[t]);if(n!==i)return t*i+i-1-n}return 1/0}:function(){if(0!==this._)return 1/0;for(var e=this.data,t=e.length;t-- >0;){var n=e[t],r=0;if(n){for(;(n>>>=1)>0;r++);return t*i+r}}return 1/0},ntz:function(){for(var e=this.data,t=0;t<e.length;t++){var n=e[t];if(0!==n)return t*i+a(n=(n^n-1)>>>1)}return 1/0},lsb:function(){for(var e=this.data,t=0;t<e.length;t++){var n=e[t],r=0;if(n){for(var o=n&-n;o>>>=1;r++);return i*t+r}}return 1&this._},equals:function(e){c(f,e);var t=this.data,n=f.data,r=this._,i=f._,o=t.length-1,a=n.length-1;if(i!==r)return!1;for(var s=o<a?o:a,u=0;u<=s;u++)if(t[u]!==n[u])return!1;for(u=o;u>a;u--)if(t[u]!==i)return!1;for(u=a;u>o;u--)if(n[u]!==r)return!1;return!0},[Symbol.iterator]:function(){var e=this.data,t=0;if(0===this._){for(var n=0,r=e.length-1;r>=0;r--)if(0!==e[r]){n=r;break}return{next:function(){var r=t>>>o;return{done:r>n||r===n&&e[r]>>>t==0,value:r>n?0:e[r]>>>t++&1}}}}return{next:function(){var n=t>>>o;return{done:!1,value:n<e.length?e[n]>>>t++&1:1}}}}},u.fromBinaryString=function(e){return new u("0b"+e)},u.fromHexString=function(e){return new u("0x"+e)},u.Random=function(e){(void 0===e||e<0)&&(e=i);for(var t=e%i,n=[],r=Math.ceil(e/i),o=Object.create(u.prototype),a=0;a<r;a++)n.push(4294967296*Math.random()|0);return t>0&&(n[r-1]&=(1<<t)-1),o.data=n,o._=0,o},void 0===(n=function(){return u}.apply(t,[]))||(e.exports=n)}()},45982:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(43720))&&"object"==typeof r&&"default"in r?r.default:r;function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r){if(t<1||t>8||n<1||t>8)throw new Error("only bits groups between 1 and 8 are allowed");for(var i,a=[],s=0,c=0,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,void 0):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(i=u()).done;)for(var l=i.value<<8-t,f=t;f>0;){var d=n-c,h=f;d<h&&(h=d),s=s<<h|l>>8-h,l=(l<<h)%256,f-=h,(c+=h)===n&&(a.push(s),c=0,s=0)}if(r&&c>0&&(a.push(s<<=n-c),c=0,s=0),c>0&&(c>4||0!==s))throw new Error("invalid incomplete group of bits");return a}function s(e){if(e<0||e>16)throw new Error("invalid witness version")}var c="qpzry9x8gf2tvdw0s3jn54khce6mua7l";function u(e){return i.fromString(e,!0,16)}var l=["7d52fba40bd886","5e8dbf1a03950c","1c3a3c74072a18","385d72fa0e5139","7093e5a608865b"].map(u);function f(e){if(s(e),0===e)return"blech32";if(1===e)return"blech32m";throw new Error("Unsuported witness version ("+e+"), only 0 (blech32) or 1 (blech32m) are supported")}function d(e){if("blech32"===e)return i.fromNumber(1);if("blech32m"===e)return u("455972a3350f7a1");throw new Error("Invalid encoding type")}function h(e){for(var t=i.fromNumber(1),n=0;n<e.length;++n){var r=t.shiftRight(55);t=t.and(u("7fffffffffffff")).shiftLeft(5).xor(e[n]);for(var o=0;o<5;o++)r.shiftRight(i.fromNumber(o)).and(1).equals(1)&&(t=t.xor(l[o]))}return t}function p(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n)>>5);t.push(0);for(var r=0;r<e.length;++r)t.push(31&e.charCodeAt(r));return Uint8Array.from(t)}var y=[0,0,0,0,0,0,0,0,0,0,0,0];function g(e,t,n){for(var r=function(e,t,n){for(var r=h(Array.from(p(e)).concat(Array.from(t)).concat(y)).xor(d(n)),i=[],o=0;o<12;++o)i.push(r.shiftRight(5*(11-o)).and(31));return i.map((function(e){return e.toInt()}))}(e,t,n),i=Array.from(t).concat(r),o=e+"1",a=0;a<i.length;++a)o+=c.charAt(i[a]);return o}function b(e,t){for(var n=!1,r=!1,i=0;i<e.length;++i){if(e.charCodeAt(i)<33||e.charCodeAt(i)>126)throw new Error("Invalid charcode in blech32 string");e.charCodeAt(i)>=97&&e.charCodeAt(i)<=122&&(n=!0),e.charCodeAt(i)>=65&&e.charCodeAt(i)<=90&&(r=!0)}if(n&&r)throw new Error("blech32 has lowercases AND uppercases");var o=(e=e.toLowerCase()).lastIndexOf("1");if(o<1||o+13>e.length)throw new Error('Invalid index of "1"');for(var a=e.substring(0,o),s=[],u=o+1;u<e.length;++u){var l=c.indexOf(e.charAt(u));if(-1===l)throw new Error('"'+e.charAt(u)+'" is not allowed in blech32 strings');s.push(l)}if(!function(e,t,n){return h(Array.from(p(e)).concat(t)).equals(d(n))}(a,s,t))throw new Error("invalid "+t+' checksum "'+e+'"');return{hrp:a,data:Uint8Array.from(s.slice(0,s.length-12))}}var m=function(){function e(e){this.witness=e.witness,this.blindingPublicKey=e.blindingPublicKey,this.witnessVersion=e.witnessVersion,this.address=function(e){var t=e.witness,n=e.witnessVersion,r=e.blindingPublicKey,i=e.hrp;s(n);var o=Buffer.concat([Buffer.from(r,"hex"),Buffer.from(t,"hex")]),c=o.length;if(0===n&&53!==c&&65!==c)throw new Error("witness version 0 needs witness program length = 53 OR = 65");if(c<2||c>65)throw new Error("witness program length should be >= 2 and <= 65");var u=[n].concat(a(Array.from(o),8,5,!0));return g(i,Uint8Array.from(u),f(u[0]))}(e)}return e.from=function(t,n,r,i){return new e({witness:t,witnessVersion:i,blindingPublicKey:n,hrp:r})},e.fromString=function(t,n){return new e(function(e,t){var n=b(e,t),r=n.hrp,i=n.data,o=i[0];if(s(o),0===i.length||i.length>1e3)throw new Error("Invalid data length");var c=a(Array.from(i.slice(1)),5,8,!1);if(c.length<2||c.length>65)throw new Error("Invalid witness data length");if(0===i[0]&&53!==c.length&&65!==c.length)throw new Error("Invalid witness data length for witness version 0");var u=Buffer.from(c.slice(0,33)).toString("hex");return{witness:Buffer.from(c.slice(33)).toString("hex"),blindingPublicKey:u,witnessVersion:o,hrp:r}}(t,n))},e}();t.BLECH32="blech32",t.BLECH32M="blech32m",t.Blech32Address=m,t.MAX_LEN=1e3,t.decode=b,t.encode=g,t.getEncodingType=f},93726:(e,t,n)=>{"use strict";e.exports=n(45982)},13550:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var Buffer;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{Buffer="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(46601).Buffer}catch(e){}function a(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function s(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function c(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=s(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=s(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=l[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?y+n:u[d-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==Buffer),this.toArrayLike(Buffer,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,y=h>>>13,g=0|a[2],b=8191&g,m=g>>>13,v=0|a[3],w=8191&v,_=v>>>13,E=0|a[4],S=8191&E,k=E>>>13,A=0|a[5],O=8191&A,P=A>>>13,I=0|a[6],T=8191&I,N=I>>>13,x=0|a[7],R=8191&x,C=x>>>13,B=0|a[8],L=8191&B,j=B>>>13,D=0|a[9],U=8191&D,M=D>>>13,H=0|s[0],z=8191&H,F=H>>>13,K=0|s[1],q=8191&K,V=K>>>13,W=0|s[2],G=8191&W,Y=W>>>13,$=0|s[3],Z=8191&$,X=$>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ye=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(r=Math.imul(f,z))|0)+((8191&(i=(i=Math.imul(f,F))+Math.imul(d,z)|0))<<13)|0;u=((o=Math.imul(d,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(y,z)|0,o=Math.imul(y,F);var be=(u+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(d,q)|0))<<13)|0;u=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,z),i=(i=Math.imul(b,F))+Math.imul(m,z)|0,o=Math.imul(m,F),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0;var me=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(w,z),i=(i=Math.imul(w,F))+Math.imul(_,z)|0,o=Math.imul(_,F),r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Y)|0;var ve=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,Z)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(S,z),i=(i=Math.imul(S,F))+Math.imul(k,z)|0,o=Math.imul(k,F),r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(b,G)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0;var we=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,z),i=(i=Math.imul(O,F))+Math.imul(P,z)|0,o=Math.imul(P,F),r=r+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,V)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;u=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(T,z),i=(i=Math.imul(T,F))+Math.imul(N,z)|0,o=Math.imul(N,F),r=r+Math.imul(O,q)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,V)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Y)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0;var Ee=(u+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,z),i=(i=Math.imul(R,F))+Math.imul(C,z)|0,o=Math.imul(C,F),r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,V)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var Se=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(j,z)|0,o=Math.imul(j,F),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,V)|0,r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0;var ke=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,z),i=(i=Math.imul(U,F))+Math.imul(M,z)|0,o=Math.imul(M,F),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,V)|0)+Math.imul(j,q)|0,o=o+Math.imul(j,V)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,Y)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Ae=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,V))+Math.imul(M,q)|0,o=Math.imul(M,V),r=r+Math.imul(L,G)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Y)|0,r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(P,ne)|0,o=o+Math.imul(P,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(b,fe)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(m,fe)|0,o=o+Math.imul(m,de)|0;var Oe=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(U,G),i=(i=Math.imul(U,Y))+Math.imul(M,G)|0,o=Math.imul(M,Y),r=r+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,X)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Pe=(u+(r=r+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ye)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(U,Z),i=(i=Math.imul(U,X))+Math.imul(M,Z)|0,o=Math.imul(M,X),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,r=r+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,de)|0;var Ie=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(M,Q)|0,o=Math.imul(M,ee),r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,r=r+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,de)|0;var Te=(u+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,ne),i=(i=Math.imul(U,re))+Math.imul(M,ne)|0,o=Math.imul(M,re),r=r+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,r=r+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,de)|0;var Ne=(u+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(U,oe),i=(i=Math.imul(U,ae))+Math.imul(M,oe)|0,o=Math.imul(M,ae),r=r+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,ue)|0,r=r+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,de)|0;var xe=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ye)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(U,ce),i=(i=Math.imul(U,ue))+Math.imul(M,ce)|0,o=Math.imul(M,ue),r=r+Math.imul(L,fe)|0,i=(i=i+Math.imul(L,de)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,de)|0;var Re=(u+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(U,fe),i=(i=Math.imul(U,de))+Math.imul(M,fe)|0,o=Math.imul(M,de);var Ce=(u+(r=r+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Be=(u+(r=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,ye))+Math.imul(M,pe)|0))<<13)|0;return u=((o=Math.imul(M,ye))+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,c[0]=ge,c[1]=be,c[2]=me,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Ee,c[7]=Se,c[8]=ke,c[9]=Ae,c[10]=Oe,c[11]=Pe,c[12]=Ie,c[13]=Te,c[14]=Ne,c[15]=xe,c[16]=Re,c[17]=Ce,c[18]=Be,0!==u&&(c[19]=u,n.length++),n};function p(e,t,n){return(new y).mulp(e,t,n)}function y(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?h(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):p(this,e,t),n},y.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},y.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},y.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},y.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,d=u,h=0;h<a;h++){var p=n[l+h],y=r[l+h],g=n[l+h+a],b=r[l+h+a],m=f*g-d*b;b=f*b+d*g,g=m,n[l+h]=p+g,r[l+h]=y+b,n[l+h+a]=p-g,r[l+h+a]=y-b,h!==s&&(m=c*f-u*d,d=c*d+u*f,f=m)}},y.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},y.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},y.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},y.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,o,s,c,r,i),this.transform(u,o,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,r),this.transform(s,c,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,c=r.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(c)):(n.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(m,b),m.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,b),i(w,b),i(_,b),_.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new v;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return g[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var y=h,g=0;0!==y.cmp(s);g++)y=y.redSqr();r(g<p);var b=this.pow(f,new o(1).iushln(p-g-1));d=d.redMul(b),f=b.redSqr(),h=h.redMul(f),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new S(e)},i(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},36683:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={},r=0;r<32;r++){var i=t.charAt(r);if(void 0!==n[i])throw new TypeError(i+" is ambiguous");n[i]=r}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function a(e){for(var t=1,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}for(t=o(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);t=o(t)^31&i}return t}function s(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),i=e.toUpperCase();if(e!==r&&e!==i)return"Mixed-case string "+e;var s=(e=r).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var c=e.slice(0,s),u=e.slice(s+1);if(u.length<6)return"Data too short";var l=a(c);if("string"==typeof l)return l;for(var f=[],d=0;d<u.length;++d){var h=u.charAt(d),p=n[h];if(void 0===p)return"Unknown character "+h;l=o(l)^p,d+6>=u.length||f.push(p)}return 1!==l?"Invalid checksum for "+e:{prefix:c,words:f}}function c(e,t,n,r){for(var i=0,o=0,a=(1<<n)-1,s=[],c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=n;)o-=n,s.push(i>>o&a);if(r)o>0&&s.push(i<<n-o&a);else{if(o>=t)return"Excess padding";if(i<<n-o&a)return"Non-zero padding"}return s}e.exports={decodeUnsafe:function(){var e=s.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=s.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,n,r){if(r=r||90,e.length+7+n.length>r)throw new TypeError("Exceeds length limit");var i=a(e=e.toLowerCase());if("string"==typeof i)throw new Error(i);for(var s=e+"1",c=0;c<n.length;++c){var u=n[c];if(u>>5!=0)throw new Error("Non 5-bit word");i=o(i)^u,s+=t.charAt(u)}for(c=0;c<6;++c)i=o(i);for(i^=1,c=0;c<6;++c){s+=t.charAt(i>>5*(5-c)&31)}return s},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},99282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=i(t)^r>>5}t=i(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=i(t)^31&r}return t}function a(e,t,n,r){let i=0,o=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(i=i<<t|e[r],o+=t;o>=n;)o-=n,s.push(i>>o&a);if(r)o>0&&s.push(i<<n-o&a);else{if(o>=t)return"Excess padding";if(i<<n-o&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let f=o(u);if("string"==typeof f)return f;const d=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;f=i(f)^n,e+6>=l.length||d.push(n)}return f!==t?"Invalid checksum for "+e:{prefix:u,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=o(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=i(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=i(s);s^=t;for(let e=0;e<6;++e){c+=n.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},7336:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const r=n(33967),i=n(79196),o=n(31213),a=n(47177),s=n(99282),c=n(58334),u=40,l=2,f=16,d=2,h=80,p="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function y(e){const t=c.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function g(e){let t,n;try{t=s.bech32.decode(e)}catch(e){}if(t){if(n=t.words[0],0!==n)throw new TypeError(e+" uses wrong encoding")}else if(t=s.bech32m.decode(e),n=t.words[0],0===n)throw new TypeError(e+" uses wrong encoding");const r=s.bech32.fromWords(t.words.slice(1));return{version:n,prefix:t.prefix,data:Buffer.from(r)}}function b(e,t,n){const r=s.bech32.toWords(e);return r.unshift(t),0===t?s.bech32.encode(n,r):s.bech32m.encode(n,r)}t.fromBase58Check=y,t.fromBech32=g,t.toBase58Check=function(e,t){(0,a.typeforce)((0,a.tuple)(a.Hash160bit,a.UInt8),arguments);const n=Buffer.allocUnsafe(21);return n.writeUInt8(t,0),e.copy(n,1),c.encode(n)},t.toBech32=b,t.fromOutputScript=function(e,t){t=t||r.bitcoin;try{return i.p2pkh({output:e,network:t}).address}catch(e){}try{return i.p2sh({output:e,network:t}).address}catch(e){}try{return i.p2wpkh({output:e,network:t}).address}catch(e){}try{return i.p2wsh({output:e,network:t}).address}catch(e){}try{return i.p2tr({output:e,network:t}).address}catch(e){}try{return function(e,t){const n=e.slice(2);if(n.length<l||n.length>u)throw new TypeError("Invalid program length for segwit address");const r=e[0]-h;if(r<d||r>f)throw new TypeError("Invalid version for segwit address");if(e[1]!==n.length)throw new TypeError("Invalid script for segwit address");return console.warn(p),b(n,r,t.bech32)}(e,t)}catch(e){}throw new Error(o.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let n,a;t=t||r.bitcoin;try{n=y(e)}catch(e){}if(n){if(n.version===t.pubKeyHash)return i.p2pkh({hash:n.hash}).output;if(n.version===t.scriptHash)return i.p2sh({hash:n.hash}).output}else{try{a=g(e)}catch(e){}if(a){if(a.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===a.version){if(20===a.data.length)return i.p2wpkh({hash:a.data}).output;if(32===a.data.length)return i.p2wsh({hash:a.data}).output}else if(1===a.version){if(32===a.data.length)return i.p2tr({pubkey:a.data}).output}else if(a.version>=d&&a.version<=f&&a.data.length>=l&&a.data.length<=u)return console.warn(p),o.compile([a.version+h,a.data])}}throw new Error(e+" has no matching Script")}},77297:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(buffer){if(buffer.length<8)return!1;if(buffer.length>72)return!1;if(48!==buffer[0])return!1;if(buffer[1]!==buffer.length-2)return!1;if(2!==buffer[2])return!1;const e=buffer[3];if(0===e)return!1;if(5+e>=buffer.length)return!1;if(2!==buffer[4+e])return!1;const t=buffer[5+e];return 0!==t&&(6+e+t===buffer.length&&(!(128&buffer[4])&&(!(e>1&&0===buffer[4]&&!(128&buffer[5]))&&(!(128&buffer[e+6])&&!(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))))))},t.decode=function(buffer){if(buffer.length<8)throw new Error("DER sequence length is too short");if(buffer.length>72)throw new Error("DER sequence length is too long");if(48!==buffer[0])throw new Error("Expected DER sequence");if(buffer[1]!==buffer.length-2)throw new Error("DER sequence length is invalid");if(2!==buffer[2])throw new Error("Expected DER integer");const e=buffer[3];if(0===e)throw new Error("R length is zero");if(5+e>=buffer.length)throw new Error("R length is too long");if(2!==buffer[4+e])throw new Error("Expected DER integer (2)");const t=buffer[5+e];if(0===t)throw new Error("S length is zero");if(6+e+t!==buffer.length)throw new Error("S length is invalid");if(128&buffer[4])throw new Error("R value is negative");if(e>1&&0===buffer[4]&&!(128&buffer[5]))throw new Error("R value excessively padded");if(128&buffer[e+6])throw new Error("S value is negative");if(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))throw new Error("S value excessively padded");return{r:buffer.slice(4,4+e),s:buffer.slice(6+e)}},t.encode=function(e,t){const n=e.length,r=t.length;if(0===n)throw new Error("R length is zero");if(0===r)throw new Error("S length is zero");if(n>33)throw new Error("R length is too long");if(r>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(n>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const i=Buffer.allocUnsafe(6+n+r);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+n]=2,i[5+n]=t.length,t.copy(i,6+n),i}},18543:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const r=n(54673),i=n(47994),o=n(38323),a=n(47127),s=n(47177),{typeforce:c}=s,u=new TypeError("Cannot compute merkle root for zero transactions"),l=new TypeError("Cannot compute witness commit for non-segwit block");class f{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(buffer){if(buffer.length<80)throw new Error("Buffer too small (< 80 bytes)");const e=new r.BufferReader(buffer),t=new f;if(t.version=e.readInt32(),t.prevHash=e.readSlice(32),t.merkleRoot=e.readSlice(32),t.timestamp=e.readUInt32(),t.bits=e.readUInt32(),t.nonce=e.readUInt32(),80===buffer.length)return t;const n=()=>{const t=a.Transaction.fromBuffer(e.buffer.slice(e.offset),!0);return e.offset+=t.byteLength(),t},i=e.readVarInt();t.transactions=[];for(let e=0;e<i;++e){const e=n();t.transactions.push(e)}const o=t.getWitnessCommit();return o&&(t.witnessCommit=o),t}static fromHex(e){return f.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,n=8388607&e,r=Buffer.alloc(32,0);return r.writeUIntBE(n,29-t,3),r}static calculateMerkleRoot(e,t){if(c([{getHash:s.Function}],e),0===e.length)throw u;if(t&&!d(e))throw l;const n=e.map((e=>e.getHash(t))),r=(0,o.fastMerkleRoot)(n,i.hash256);return t?i.hash256(Buffer.concat([r,e[0].ins[0].witness[0]])):r}getWitnessCommit(){if(!d(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof Buffer&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+r.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,n)=>e+n.byteLength(t)),0)}getHash(){return i.hash256(this.toBuffer(!0))}getId(){return(0,r.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const buffer=Buffer.allocUnsafe(this.byteLength(e)),t=new r.BufferWriter(buffer);return t.writeInt32(this.version),t.writeSlice(this.prevHash),t.writeSlice(this.merkleRoot),t.writeUInt32(this.timestamp),t.writeUInt32(this.bits),t.writeUInt32(this.nonce),e||!this.transactions||(r.varuint.encode(this.transactions.length,buffer,t.offset),t.offset+=r.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(buffer,t.offset),t.offset+=n}))),buffer}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit()))}checkProofOfWork(){const e=(0,r.reverseBuffer)(this.getHash()),t=f.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw u;const e=f.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw u;if(!this.hasWitnessCommit())throw l;const e=f.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function d(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=f},54673:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const r=n(47177),{typeforce:i}=r,o=n(57795);function a(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function s(buffer,e){const t=buffer.readUInt32LE(e);let n=buffer.readUInt32LE(e+4);return n*=4294967296,a(n+t,9007199254740991),n+t}function c(buffer,e,t){return a(e,9007199254740991),buffer.writeInt32LE(-1&e,t),buffer.writeUInt32LE(Math.floor(e/4294967296),t+4),t+8}t.varuint=o,t.readUInt64LE=s,t.writeUInt64LE=c,t.reverseBuffer=function(buffer){if(buffer.length<1)return buffer;let e=buffer.length-1,t=0;for(let n=0;n<buffer.length/2;n++)t=buffer[n],buffer[n]=buffer[e],buffer[e]=t,e--;return buffer},t.cloneBuffer=function(buffer){const e=Buffer.allocUnsafe(buffer.length);return buffer.copy(e),e};class u{static withCapacity(e){return new u(Buffer.alloc(e))}constructor(buffer,e=0){this.buffer=buffer,this.offset=e,i(r.tuple(r.Buffer,r.UInt32),[buffer,e])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=c(this.buffer,e,this.offset)}writeVarInt(e){o.encode(e,this.buffer,this.offset),this.offset+=o.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=u;t.BufferReader=class{constructor(buffer,e=0){this.buffer=buffer,this.offset=e,i(r.tuple(r.Buffer,r.UInt32),[buffer,e])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=s(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=o.decode(this.buffer,this.offset);return this.offset+=o.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let n=0;n<e;n++)t.push(this.readVarSlice());return t}}},47994:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const r=n(23482),i=n(79785);function o(buffer){try{return r("rmd160").update(buffer).digest()}catch(e){try{return r("ripemd160").update(buffer).digest()}catch(e){return(new i).update(buffer).digest()}}}function a(buffer){return r("sha256").update(buffer).digest()}t.ripemd160=o,t.sha1=function(buffer){return r("sha1").update(buffer).digest()},t.sha256=a,t.hash160=function(buffer){return o(a(buffer))},t.hash256=function(buffer){return a(a(buffer))};const s=Object.fromEntries(["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"].map((e=>{const t=a(Buffer.from(e));return[e,Buffer.concat([t,t])]})));t.taggedHash=function(e,t){return a(Buffer.concat([s[e],t]))}},21885:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getEccLib=t.initEccLib=void 0;const r={};t.initEccLib=function(e){var t;e?e!==r.eccLib&&(o("function"==typeof(t=e).isXOnlyPoint),o(t.isXOnlyPoint(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(t.isXOnlyPoint(i("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),o(t.isXOnlyPoint(i("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),o(t.isXOnlyPoint(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(!t.isXOnlyPoint(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!t.isXOnlyPoint(i("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),o("function"==typeof t.xOnlyPointAddTweak),a.forEach((e=>{const n=t.xOnlyPointAddTweak(i(e.pubkey),i(e.tweak));null===e.result?o(null===n):(o(null!==n),o(n.parity===e.parity),o(Buffer.from(n.xOnlyPubkey).equals(i(e.result))))})),r.eccLib=e):r.eccLib=e},t.getEccLib=function(){if(!r.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return r.eccLib};const i=e=>Buffer.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}const a=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},1093:(e,t,n)=>{"use strict";t.Lk=void 0;const r=n(7336);t.Lk=r;n(47994);n(33967);n(79196);n(31213);var i=n(18543);var o=n(76666);var a=n(88132);var s=n(47127);var c=n(21885)},38323:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let n=e.length;const r=e.concat();for(;n>1;){let e=0;for(let i=0;i<n;i+=2,++e){const o=r[i],a=i+1===n?o:r[i+1],s=Buffer.concat([o,a]);r[e]=t(s)}n=e}return r[0]}},33967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},88132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const n={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=n;const r={};t.REVERSE_OPS=r;for(const e of Object.keys(n)){r[n[e]]=e}},54913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const r=n(48764),i=n(21885),o=n(47994),a=n(54673),s=n(47177);t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;function c(e){const n=e.version||t.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",r.Buffer.concat([r.Buffer.from([n]),f(e.output)]))}function u(e,t){return o.taggedHash("TapTweak",r.Buffer.concat(t?[e,t]:[e]))}function l(e,t){return o.taggedHash("TapBranch",r.Buffer.concat([e,t]))}function f(e){const t=a.varuint.encodingLength(e.length),buffer=r.Buffer.allocUnsafe(t);return a.varuint.encode(e.length,buffer),r.Buffer.concat([buffer,e])}t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const n=(e.length-33)/32;let r=t;for(let t=0;t<n;t++){const n=e.slice(33+32*t,65+32*t);r=r.compare(n)<0?l(r,n):l(n,r)}return r},t.toHashTree=function e(t){if((0,s.isTapleaf)(t))return{hash:c(t)};const n=[e(t[0]),e(t[1])];n.sort(((e,t)=>e.hash.compare(t.hash)));const[r,i]=n;return{hash:l(r.hash,i.hash),left:r,right:i}},t.findScriptPath=function e(t,n){if("left"in(r=t)&&"right"in r){const r=e(t.left,n);if(void 0!==r)return[...r,t.right.hash];const i=e(t.right,n);if(void 0!==i)return[...i,t.left.hash]}else if(t.hash.equals(n))return[];var r},t.tapleafHash=c,t.tapTweakHash=u,t.tweakKey=function(e,t){if(!r.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const n=u(e,t),o=(0,i.getEccLib)().xOnlyPointAddTweak(e,n);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:r.Buffer.from(o.xOnlyPubkey)}:null}},56318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const r=n(33967),i=n(31213),o=n(47177),a=n(65994),s=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const n={name:"embed",network:e.network||r.bitcoin};if(a.prop(n,"output",(()=>{if(e.data)return i.compile([s.OP_RETURN].concat(e.data))})),a.prop(n,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==s.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,e)}},79196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const r=n(56318);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return r.p2data}});const i=n(39724);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=n(85406);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const a=n(16301);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});const s=n(43171);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});const c=n(80055);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return c.p2wpkh}});const u=n(4381);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return u.p2wsh}});const l=n(49762);Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return l.p2tr}})},65994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=n.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},39724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const r=n(33967),i=n(31213),o=n(47177),a=n(65994),s=i.OPS,c=s.OP_RESERVED;function u(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function n(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===s.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(n)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const l={network:e.network||r.bitcoin};let f=[],d=!1;function h(e){d||(d=!0,f=i.decompile(e),l.m=f[0]-c,l.n=f[f.length-2]-c,l.pubkeys=f.slice(1,-2))}if(a.prop(l,"output",(()=>{if(e.m&&l.n&&e.pubkeys)return i.compile([].concat(c+e.m,e.pubkeys,c+l.n,s.OP_CHECKMULTISIG))})),a.prop(l,"m",(()=>{if(l.output)return h(l.output),l.m})),a.prop(l,"n",(()=>{if(l.pubkeys)return l.pubkeys.length})),a.prop(l,"pubkeys",(()=>{if(e.output)return h(e.output),l.pubkeys})),a.prop(l,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),a.prop(l,"input",(()=>{if(e.signatures)return i.compile([s.OP_0].concat(e.signatures))})),a.prop(l,"witness",(()=>{if(l.input)return[]})),a.prop(l,"name",(()=>{if(l.m&&l.n)return`p2ms(${l.m} of ${l.n})`})),t.validate){if(e.output){if(h(e.output),!o.typeforce.Number(f[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(f[f.length-2]))throw new TypeError("Output is invalid");if(f[f.length-1]!==s.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(l.m<=0||l.n>16||l.m>l.n||l.n!==f.length-3)throw new TypeError("Output is invalid");if(!l.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==l.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==l.n)throw new TypeError("n mismatch");if(e.pubkeys&&!u(e.pubkeys,l.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(l.n=e.pubkeys.length,l.n<l.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<l.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>l.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==s.OP_0)throw new TypeError("Input is invalid");if(0===l.signatures.length||!l.signatures.every(n))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!u(e.signatures,l.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(l,e)}},85406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const r=n(33967),i=n(31213),o=n(47177),a=n(65994),s=i.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const n=a.value((()=>i.decompile(e.input))),c={name:"p2pk",network:e.network||r.bitcoin};if(a.prop(c,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,s.OP_CHECKSIG])})),a.prop(c,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),a.prop(c,"signature",(()=>{if(e.input)return n()[0]})),a.prop(c,"input",(()=>{if(e.signature)return i.compile([e.signature])})),a.prop(c,"witness",(()=>{if(c.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==s.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(c.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(c.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(c.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==n().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(c.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(c,e)}},16301:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const r=n(47994),i=n(33967),o=n(31213),a=n(47177),s=n(65994),c=n(58334),u=o.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},e);const n=s.value((()=>{const t=c.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),l=s.value((()=>o.decompile(e.input))),f=e.network||i.bitcoin,d={name:"p2pkh",network:f};if(s.prop(d,"address",(()=>{if(!d.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(f.pubKeyHash,0),d.hash.copy(e,1),c.encode(e)})),s.prop(d,"hash",(()=>e.output?e.output.slice(3,23):e.address?n().hash:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0)),s.prop(d,"output",(()=>{if(d.hash)return o.compile([u.OP_DUP,u.OP_HASH160,d.hash,u.OP_EQUALVERIFY,u.OP_CHECKSIG])})),s.prop(d,"pubkey",(()=>{if(e.input)return l()[1]})),s.prop(d,"signature",(()=>{if(e.input)return l()[0]})),s.prop(d,"input",(()=>{if(e.pubkey&&e.signature)return o.compile([e.signature,e.pubkey])})),s.prop(d,"witness",(()=>{if(d.input)return[]})),t.validate){let t=Buffer.from([]);if(e.address){if(n().version!==f.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw new TypeError("Invalid address");t=n().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==u.OP_DUP||e.output[1]!==u.OP_HASH160||20!==e.output[2]||e.output[23]!==u.OP_EQUALVERIFY||e.output[24]!==u.OP_CHECKSIG)throw new TypeError("Output is invalid");const n=e.output.slice(3,23);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.pubkey){const n=r.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const n=l();if(2!==n.length)throw new TypeError("Input is invalid");if(!o.isCanonicalScriptSignature(n[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(n[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(n[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(n[1]))throw new TypeError("Pubkey mismatch");const i=r.hash160(n[1]);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},43171:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const r=n(47994),i=n(33967),o=n(31213),a=n(47177),s=n(65994),c=n(58334),u=o.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);let n=e.network;n||(n=e.redeem&&e.redeem.network||i.bitcoin);const l={network:n},f=s.value((()=>{const t=c.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),d=s.value((()=>o.decompile(e.input))),h=s.value((()=>{const t=d(),r=t[t.length-1];return{network:n,output:r===u.OP_FALSE?Buffer.from([]):r,input:o.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(s.prop(l,"address",(()=>{if(!l.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(l.network.scriptHash,0),l.hash.copy(e,1),c.encode(e)})),s.prop(l,"hash",(()=>e.output?e.output.slice(2,22):e.address?f().hash:l.redeem&&l.redeem.output?r.hash160(l.redeem.output):void 0)),s.prop(l,"output",(()=>{if(l.hash)return o.compile([u.OP_HASH160,l.hash,u.OP_EQUAL])})),s.prop(l,"redeem",(()=>{if(e.input)return h()})),s.prop(l,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return o.compile([].concat(o.decompile(e.redeem.input),e.redeem.output))})),s.prop(l,"witness",(()=>l.redeem&&l.redeem.witness?l.redeem.witness:l.input?[]:void 0)),s.prop(l,"name",(()=>{const e=["p2sh"];return void 0!==l.redeem&&void 0!==l.redeem.name&&e.push(l.redeem.name),e.join("-")})),t.validate){let t=Buffer.from([]);if(e.address){if(f().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==f().hash.length)throw new TypeError("Invalid address");t=f().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==u.OP_HASH160||20!==e.output[1]||e.output[22]!==u.OP_EQUAL)throw new TypeError("Output is invalid");const n=e.output.slice(2,22);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}const i=e=>{if(e.output){const n=o.decompile(e.output);if(!n||n.length<1)throw new TypeError("Redeem.output too short");const i=r.hash160(e.output);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch");t=i}if(e.input){const t=e.input.length>0,n=e.witness&&e.witness.length>0;if(!t&&!n)throw new TypeError("Empty input");if(t&&n)throw new TypeError("Input and witness provided");if(t){const t=o.decompile(e.input);if(!o.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=d();if(!e||e.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(h().output))throw new TypeError("Input is invalid");i(h())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.input){const t=h();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}i(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,e)}},49762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=void 0;const r=n(48764),i=n(33967),o=n(31213),a=n(47177),s=n(21885),c=n(54913),u=n(65994),l=n(99282),f=o.OPS;t.p2tr=function(e,t){if(!(e.address||e.output||e.pubkey||e.internalPubkey||e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(34)),internalPubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),pubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),signature:a.typeforce.maybe(a.typeforce.BufferN(64)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer)),scriptTree:a.typeforce.maybe(a.isTaptree),redeem:a.typeforce.maybe({output:a.typeforce.maybe(a.typeforce.Buffer),redeemVersion:a.typeforce.maybe(a.typeforce.Number),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),redeemVersion:a.typeforce.maybe(a.typeforce.Number)},e);const n=u.value((()=>{const t=l.bech32m.decode(e.address),n=t.words.shift(),i=l.bech32m.fromWords(t.words);return{version:n,prefix:t.prefix,data:r.Buffer.from(i)}})),d=u.value((()=>{if(e.witness&&e.witness.length)return e.witness.length>=2&&80===e.witness[e.witness.length-1][0]?e.witness.slice(0,-1):e.witness.slice()})),h=u.value((()=>e.scriptTree?(0,c.toHashTree)(e.scriptTree):e.hash?{hash:e.hash}:void 0)),p=e.network||i.bitcoin,y={name:"p2tr",network:p};if(u.prop(y,"address",(()=>{if(!y.pubkey)return;const e=l.bech32m.toWords(y.pubkey);return e.unshift(1),l.bech32m.encode(p.bech32,e)})),u.prop(y,"hash",(()=>{const e=h();if(e)return e.hash;const t=d();if(t&&t.length>1){const e=t[t.length-1],n=e[0]&a.TAPLEAF_VERSION_MASK,r=t[t.length-2],i=(0,c.tapleafHash)({output:r,version:n});return(0,c.rootHashFromPath)(e,i)}return null})),u.prop(y,"output",(()=>{if(y.pubkey)return o.compile([f.OP_1,y.pubkey])})),u.prop(y,"redeemVersion",(()=>e.redeemVersion?e.redeemVersion:e.redeem&&void 0!==e.redeem.redeemVersion&&null!==e.redeem.redeemVersion?e.redeem.redeemVersion:c.LEAF_VERSION_TAPSCRIPT)),u.prop(y,"redeem",(()=>{const e=d();if(e&&!(e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&a.TAPLEAF_VERSION_MASK}})),u.prop(y,"pubkey",(()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return n().data;if(y.internalPubkey){const e=(0,c.tweakKey)(y.internalPubkey,y.hash);if(e)return e.x}})),u.prop(y,"internalPubkey",(()=>{if(e.internalPubkey)return e.internalPubkey;const t=d();return t&&t.length>1?t[t.length-1].slice(1,33):void 0})),u.prop(y,"signature",(()=>{if(e.signature)return e.signature;const t=d();return t&&1===t.length?t[0]:void 0})),u.prop(y,"witness",(()=>{if(e.witness)return e.witness;const t=h();if(t&&e.redeem&&e.redeem.output&&e.internalPubkey){const n=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion}),i=(0,c.findScriptPath)(t,n);if(!i)return;const o=(0,c.tweakKey)(e.internalPubkey,t.hash);if(!o)return;const a=r.Buffer.concat([r.Buffer.from([y.redeemVersion|o.parity]),e.internalPubkey].concat(i));return[e.redeem.output,a]}return e.signature?[e.signature]:void 0})),t.validate){let t=r.Buffer.from([]);if(e.address){if(p&&p.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==n().version)throw new TypeError("Invalid address version");if(32!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.pubkey){if(t.length>0&&!t.equals(e.pubkey))throw new TypeError("Pubkey mismatch");t=e.pubkey}if(e.output){if(34!==e.output.length||e.output[0]!==f.OP_1||32!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");t=e.output.slice(2)}if(e.internalPubkey){const n=(0,c.tweakKey)(e.internalPubkey,y.hash);if(t.length>0&&!t.equals(n.x))throw new TypeError("Pubkey mismatch");t=n.x}if(t&&t.length&&!(0,s.getEccLib)().isXOnlyPoint(t))throw new TypeError("Invalid pubkey for p2tr");const i=h();if(e.hash&&i&&!e.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&i){const t=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion});if(!(0,c.findScriptPath)(i,t))throw new TypeError("Redeem script not in tree")}const u=d();if(e.redeem&&y.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==y.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(y.redeem.output&&!e.redeem.output.equals(y.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&y.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.redeem.witness,y.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(1===u.length){if(e.signature&&!e.signature.equals(u[0]))throw new TypeError("Signature mismatch")}else{const n=u[u.length-1];if(n.length<33)throw new TypeError(`The control-block length is too small. Got ${n.length}, expected min 33.`);if((n.length-33)%32!=0)throw new TypeError(`The control-block length of ${n.length} is incorrect!`);const r=(n.length-33)/32;if(r>128)throw new TypeError(`The script path is too long. Got ${r}, expected max 128.`);const i=n.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,s.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=n[0]&a.TAPLEAF_VERSION_MASK,l=u[u.length-2],f=(0,c.tapleafHash)({output:l,version:o}),d=(0,c.rootHashFromPath)(n,f),h=(0,c.tweakKey)(i,d);if(!h)throw new TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(h.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(h.parity!==(1&n[0]))throw new Error("Incorrect parity")}}return Object.assign(y,e)}},80055:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const r=n(47994),i=n(33967),o=n(31213),a=n(47177),s=n(65994),c=n(99282),u=o.OPS,l=Buffer.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const n=s.value((()=>{const t=c.bech32.decode(e.address),n=t.words.shift(),r=c.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),f=e.network||i.bitcoin,d={name:"p2wpkh",network:f};if(s.prop(d,"address",(()=>{if(!d.hash)return;const e=c.bech32.toWords(d.hash);return e.unshift(0),c.bech32.encode(f.bech32,e)})),s.prop(d,"hash",(()=>e.output?e.output.slice(2,22):e.address?n().data:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0)),s.prop(d,"output",(()=>{if(d.hash)return o.compile([u.OP_0,d.hash])})),s.prop(d,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),s.prop(d,"signature",(()=>{if(e.witness)return e.witness[0]})),s.prop(d,"input",(()=>{if(d.witness)return l})),s.prop(d,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=Buffer.from([]);if(e.address){if(f&&f.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw new TypeError("Invalid address version");if(20!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==u.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const n=r.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");if(t=n,!(0,a.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!o.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const n=r.hash160(e.witness[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},4381:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const r=n(47994),i=n(33967),o=n(31213),a=n(47177),s=n(65994),c=n(99282),u=o.OPS,l=Buffer.alloc(0);function f(e){return!(!Buffer.isBuffer(e)||65!==e.length||4!==e[0]||!(0,a.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const n=s.value((()=>{const t=c.bech32.decode(e.address),n=t.words.shift(),r=c.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),d=s.value((()=>o.decompile(e.redeem.input)));let h=e.network;h||(h=e.redeem&&e.redeem.network||i.bitcoin);const p={network:h};if(s.prop(p,"address",(()=>{if(!p.hash)return;const e=c.bech32.toWords(p.hash);return e.unshift(0),c.bech32.encode(h.bech32,e)})),s.prop(p,"hash",(()=>e.output?e.output.slice(2):e.address?n().data:p.redeem&&p.redeem.output?r.sha256(p.redeem.output):void 0)),s.prop(p,"output",(()=>{if(p.hash)return o.compile([u.OP_0,p.hash])})),s.prop(p,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:l,witness:e.witness.slice(0,-1)}})),s.prop(p,"input",(()=>{if(p.witness)return l})),s.prop(p,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=o.toStack(d());return p.redeem=Object.assign({witness:t},e.redeem),p.redeem.input=l,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),s.prop(p,"name",(()=>{const e=["p2wsh"];return void 0!==p.redeem&&void 0!==p.redeem.name&&e.push(p.redeem.name),e.join("-")})),t.validate){let t=Buffer.from([]);if(e.address){if(n().prefix!==h.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw new TypeError("Invalid address version");if(32!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==u.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const n=e.output.slice(2);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem){if(e.redeem.network&&e.redeem.network!==h)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");const n=r.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem.input&&!o.isPushOnly(d()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&d().some(f)||e.redeem.output&&(o.decompile(e.redeem.output)||[]).some(f))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(f)||(o.decompile(t)||[]).some(f))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(p,e)}},76666:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const r=n(95011),i=n(3493),o=n(96403),a=n(7336),s=n(54673),c=n(33967),u=n(79196),l=n(54913),f=n(31213),d=n(47127),h=n(67969),p=n(71748),y={network:c.bitcoin,maximumFeeRate:5e3};class g{static fromBase64(e,t={}){const buffer=Buffer.from(e,"base64");return this.fromBuffer(buffer,t)}static fromHex(e,t={}){const buffer=Buffer.from(e,"hex");return this.fromBuffer(buffer,t)}static fromBuffer(buffer,e={}){const t=r.Psbt.fromBuffer(buffer,b),n=new g(e,t);var i,o;return i=n.__CACHE.__TX,o=n.__CACHE,i.ins.forEach((e=>{O(o,e)})),n}constructor(e={},t=new r.Psbt(new m)){this.data=t,this.opts=Object.assign({},y,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const n=(e,t,n,r)=>Object.defineProperty(e,t,{enumerable:n,writable:r});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,s.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,a.fromOutputScript)(e.script,this.opts.network)}catch(e){}return{script:(0,s.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=g.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){S(e),this.opts.maximumFeeRate=e}setVersion(e){S(e),k(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){S(e),k(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){S(t),k(this.data.inputs,"setInputSequence");const n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=t,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,h.checkTaprootInputFields)(e,e,"addInput"),k(this.data.inputs,"addInput"),e.witnessScript&&V(e.witnessScript);const t=this.__CACHE;this.data.addInput(e);O(t,t.__TX.ins[t.__TX.ins.length-1]);const n=this.data.inputs.length-1,r=this.data.inputs[n];return r.nonWitnessUtxo&&U(this.__CACHE,r,n),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");k(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:n}=this.opts,r=(0,a.toOutputScript)(t,n);e=Object.assign(e,{script:r})}(0,h.checkTaprootOutputFields)(e,e,"addOutput");const n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(_))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,n){const r=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=r*i;if(r>=n.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${r} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const n=t.__TX.clone();return M(this.data.inputs,n,t,!0),n}getFeeRate(){return N("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return N("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,o.checkForInput)(this.data.inputs,0),G(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t){const n=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,t):this._finalizeInput(e,n,t)}finalizeTaprootInput(e,t,n=h.tapScriptFinalizer){const r=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(r))return this._finalizeTaprootInput(e,r,t,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,n=x){const{script:r,isP2SH:i,isP2WSH:o,isSegwit:a}=function(e,t,n){const r=n.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=H(n,t,e),a=r.ins[e].index;i.script=o.outs[a].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);(t.witnessScript||(0,p.isP2WPKH)(i.script))&&(i.isSegwit=!0);return i}(e,t,this.__CACHE);if(!r)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:n}=e;t.forEach((e=>{const{hashType:t}=f.signature.decode(e.signature);if(n!==t)throw new Error("Signature sighash does not match input sighash type")}))}(t);const{finalScriptSig:s,finalScriptWitness:c}=n(e,t,r,a,i,o);if(s&&this.data.updateInput(e,{finalScriptSig:s}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!s&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,n,r=h.tapScriptFinalizer){if(!t.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){const n=u.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),r=(0,p.witnessStackToScriptWitness)(n.witness);this.data.updateInput(e,{finalScriptWitness:r})}else{const{finalScriptWitness:i}=r(e,t,n);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,o.checkForInput)(this.data.inputs,e),n=q(z(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=f.decompile(e);if(!t)return;const n=t[t.length-1];if(!Buffer.isBuffer(n)||K(n)||(r=n,f.isCanonicalScriptSignature(r)))return;var r;if(!f.decompile(n))return;return n}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=D(e),n=t[t.length-1];if(K(n))return;if(!f.decompile(n))return;return n}(t.finalScriptWitness));return("raw"===n.type?"":n.type+"-")+W(n.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,n,r){const i=z(n,t,r),{meaningfulScript:o}=q(i,n,"input",t.redeemScript,t.witnessScript);return(0,p.pubkeyInScript)(e,o)}(t,(0,o.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const n=(0,o.checkForInput)(this.data.inputs,e),r=E(t);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}outputHasPubkey(e,t){return function(e,t,n,r){const i=r.__TX.outs[n].script,{meaningfulScript:o}=q(i,n,"output",t.redeemScript,t.witnessScript);return(0,p.pubkeyInScript)(e,o)}(t,(0,o.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const n=(0,o.checkForOutput)(this.data.outputs,e),r=E(t);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}validateSignaturesOfAllInputs(e){(0,o.checkForInput)(this.data.inputs,0);return G(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,n){const r=this.data.inputs[e];return(0,h.isTaprootInput)(r)?this.validateSignaturesOfTaprootInput(e,t,n):this._validateSignaturesOfInput(e,t,n)}_validateSignaturesOfInput(e,t,n){const r=this.data.inputs[e],i=(r||{}).partialSig;if(!r||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const o=n?i.filter((e=>e.pubkey.equals(n))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const a=[];let s,c,u;for(const n of o){const i=f.signature.decode(n.signature),{hash:o,script:l}=u!==i.hashType?C(e,Object.assign({},r,{sighashType:i.hashType}),this.__CACHE,!0):{hash:s,script:c};u=i.hashType,s=o,c=l,A(n.pubkey,l,"verify"),a.push(t(n.pubkey,o,i.signature))}return a.every((e=>!0===e))}validateSignaturesOfTaprootInput(e,t,n){const r=this.data.inputs[e],i=(r||{}).tapKeySig,o=(r||{}).tapScriptSig;if(!r&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const a=(n=n&&(0,h.toXOnly)(n))?B(e,r,this.data.inputs,n,this.__CACHE):function(e,t,n,r){const i=[];if(t.tapInternalKey){const n=(0,h.tweakInternalPubKey)(e,t);i.push(n)}if(t.tapScriptSig){const e=t.tapScriptSig.map((e=>e.pubkey));i.push(...e)}const o=i.map((i=>B(e,t,n,i,r)));return o.flat()}(e,r,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");const s=a.find((e=>!!e.leafHash));if(i&&s){if(!t(s.pubkey,s.hash,i))return!1}if(o)for(const e of o){const n=a.find((t=>e.pubkey.equals(t.pubkey)));if(n){if(!t(e.pubkey,n.hash,e.signature))return!1}}return!0}signAllInputsHD(e,t=[d.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const n=[];for(const r of G(this.data.inputs.length))try{this.signInputHD(r,e,t),n.push(!0)}catch(e){n.push(!1)}if(n.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[d.Transaction.SIGHASH_ALL]){return new Promise(((n,r)=>{if(!e||!e.publicKey||!e.fingerprint)return r(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const n of G(this.data.inputs.length))o.push(this.signInputHDAsync(n,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return r(new Error("No inputs were signed"));n()}))}))}signInputHD(e,t,n=[d.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return j(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,n))),this}signInputHDAsync(e,t,n=[d.Transaction.SIGHASH_ALL]){return new Promise(((r,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=j(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,n)));return Promise.all(o).then((()=>{r()})).catch(i)}))}signAllInputs(e,t){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=[];for(const r of G(this.data.inputs.length))try{this.signInput(r,e,t),n.push(!0)}catch(e){n.push(!1)}if(n.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise(((n,r)=>{if(!e||!e.publicKey)return r(new Error("Need Signer to sign input"));const i=[],o=[];for(const[n]of this.data.inputs.entries())o.push(this.signInputAsync(n,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return r(new Error("No inputs were signed"));n()}))}))}signInput(e,t,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(r)?this._signTaprootInput(e,r,t,void 0,n):this._signInput(e,t,n)}signTaprootInput(e,t,n,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(i))return this._signTaprootInput(e,i,t,n,r);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,n=[d.Transaction.SIGHASH_ALL]){const{hash:r,sighashType:i}=R(this.data.inputs,e,t.publicKey,this.__CACHE,n),o=[{pubkey:t.publicKey,signature:f.signature.encode(t.sign(r),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,n,r,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,n,r,i),a=o.filter((e=>!e.leafHash)).map((e=>(0,h.serializeTaprootSignature)(n.signSchnorr(e.hash),t.sighashType)))[0],s=o.filter((e=>!!e.leafHash)).map((e=>({pubkey:(0,h.toXOnly)(n.publicKey),signature:(0,h.serializeTaprootSignature)(n.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash})));return a&&this.data.updateInput(e,{tapKeySig:a}),s.length&&this.data.updateInput(e,{tapScriptSig:s}),this}signInputAsync(e,t,n){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(r)?this._signTaprootInputAsync(e,r,t,void 0,n):this._signInputAsync(e,t,n)}))}signTaprootInputAsync(e,t,n,r){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,n,r);throw new Error(`Input #${e} is not of type Taproot.`)}))}_signInputAsync(e,t,n=[d.Transaction.SIGHASH_ALL]){const{hash:r,sighashType:i}=R(this.data.inputs,e,t.publicKey,this.__CACHE,n);return Promise.resolve(t.sign(r)).then((n=>{const r=[{pubkey:t.publicKey,signature:f.signature.encode(n,i)}];this.data.updateInput(e,{partialSig:r})}))}async _signTaprootInputAsync(e,t,n,r,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,n,r,i),a=[],s=o.filter((e=>!e.leafHash))[0];if(s){const e=Promise.resolve(n.signSchnorr(s.hash)).then((e=>({tapKeySig:(0,h.serializeTaprootSignature)(e,t.sighashType)})));a.push(e)}const c=o.filter((e=>!!e.leafHash));if(c.length){const e=c.map((e=>Promise.resolve(n.signSchnorr(e.hash)).then((r=>({tapScriptSig:[{pubkey:(0,h.toXOnly)(n.publicKey),signature:(0,h.serializeTaprootSignature)(r,t.sighashType),leafHash:e.leafHash}]})))));a.push(...e)}return Promise.all(a).then((t=>{t.forEach((t=>this.data.updateInput(e,t)))}))}checkTaprootHashesForSig(e,t,n,r,i){if("function"!=typeof n.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const o=B(e,t,this.data.inputs,n.publicKey,this.__CACHE,r,i);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return o}toBuffer(){return v(this.__CACHE),this.data.toBuffer()}toHex(){return v(this.__CACHE),this.data.toHex()}toBase64(){return v(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&V(t.witnessScript),(0,h.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&U(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){const n=this.data.outputs[e];return(0,h.checkTaprootOutputFields)(n,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=g;const b=buffer=>new m(buffer);class m{constructor(buffer=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=d.Transaction.fromBuffer(buffer),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!Buffer.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?(0,s.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!Buffer.isBuffer(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function v(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function w(e,t,n){if(!t)return!1;let r;if(r=n?n.map((e=>{const n=function(e){if(65===e.length){const t=1&e[64],n=e.slice(0,33);return n[0]=2|t,n}return e.slice()}(e);return t.find((e=>e.pubkey.equals(n)))})).filter((e=>!!e)):t,r.length>e)throw new Error("Too many signatures");return r.length===e}function _(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function E(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function S(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function k(e,t){e.forEach((e=>{if((0,h.isTaprootInput)(e)?(0,h.checkTaprootInputForSigs)(e,t):(0,p.checkInputForSig)(e,t))throw new Error("Can not modify transaction, signatures exist.")}))}function A(e,t,n){if(!(0,p.pubkeyInScript)(e,t))throw new Error(`Can not ${n} for this input with the key ${e.toString("hex")}`)}function O(e,t){const n=(0,s.reverseBuffer)(Buffer.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[n])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[n]=1}function P(e,t){return(n,r,i,o)=>{const a=e({redeem:{output:i}}).output;if(!r.equals(a))throw new Error(`${t} for ${o} #${n} doesn't match the scriptPubKey in the prevout`)}}const I=P(u.p2sh,"Redeem script"),T=P(u.p2wsh,"Witness script");function N(e,t,n,r){if(!n.every(_))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&r.__FEE_RATE)return r.__FEE_RATE;if("__FEE"===e&&r.__FEE)return r.__FEE;let i,o=!0;return r.__EXTRACTED_TX?(i=r.__EXTRACTED_TX,o=!1):i=r.__TX.clone(),M(n,i,r,o),"__FEE_RATE"===e?r.__FEE_RATE:"__FEE"===e?r.__FEE:void 0}function x(e,t,n,r,i,o){const a=W(n);if(!function(e,t,n){switch(n){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return w(1,e.partialSig);case"multisig":const n=u.p2ms({output:t});return w(n.m,e.partialSig,n.pubkeys);default:return!1}}(t,n,a))throw new Error(`Can not finalize input #${e}`);return function(e,t,n,r,i,o){let a,s;const c=function(e,t,n){let r;switch(t){case"multisig":const t=function(e,t){const n=u.p2ms({output:e});return n.pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,n);r=u.p2ms({output:e,signatures:t});break;case"pubkey":r=u.p2pk({output:e,signature:n[0].signature});break;case"pubkeyhash":r=u.p2pkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature});break;case"witnesspubkeyhash":r=u.p2wpkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature})}return r}(e,t,n),l=o?u.p2wsh({redeem:c}):null,f=i?u.p2sh({redeem:l||c}):null;r?(s=l?(0,p.witnessStackToScriptWitness)(l.witness):(0,p.witnessStackToScriptWitness)(c.witness),f&&(a=f.input)):a=f?f.input:c.input;return{finalScriptSig:a,finalScriptWitness:s}}(n,a,t.partialSig,r,i,o)}function R(e,t,n,r,i){const a=(0,o.checkForInput)(e,t),{hash:s,sighashType:c,script:u}=C(t,a,r,!1,i);return A(n,u,"sign"),{hash:s,sighashType:c}}function C(e,t,n,r,i){const o=n.__TX,a=t.sighashType||d.Transaction.SIGHASH_ALL;let s,c;if(L(a,i),t.nonWitnessUtxo){const r=H(n,t,e),i=o.ins[e].hash,a=r.getHash();if(!i.equals(a))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const s=o.ins[e].index;c=r.outs[s]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");c=t.witnessUtxo}const{meaningfulScript:l,type:f}=q(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(f)>=0)s=o.hashForWitnessV0(e,l,c.value,a);else if((0,p.isP2WPKH)(l)){const t=u.p2pkh({hash:l.slice(2)}).output;s=o.hashForWitnessV0(e,t,c.value,a)}else{if(void 0===t.nonWitnessUtxo&&!1===n.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${l.toString("hex")}`);r||!1===n.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),s=o.hashForSignature(e,l,a)}return{script:l,sighashType:a,hash:s}}function B(e,t,n,r,i,o,a){const s=i.__TX,c=t.sighashType||d.Transaction.SIGHASH_DEFAULT;L(c,a);const u=n.map(((e,t)=>F(t,e,i))),f=u.map((e=>e.script)),y=u.map((e=>e.value)),g=[];if(t.tapInternalKey&&!o){const n=(0,h.tweakInternalPubKey)(e,t);if((0,h.toXOnly)(r).equals(n)){const t=s.hashForWitnessV1(e,f,y,c);g.push({pubkey:r,hash:t})}}const b=(t.tapLeafScript||[]).filter((e=>(0,p.pubkeyInScript)(r,e.script))).map((e=>{const t=(0,l.tapleafHash)({output:e.script,version:e.leafVersion});return Object.assign({hash:t},e)})).filter((e=>!o||o.equals(e.hash))).map((t=>{const n=s.hashForWitnessV1(e,f,y,d.Transaction.SIGHASH_DEFAULT,t.hash);return{pubkey:r,hash:n,leafHash:t.hash}}));return g.concat(b)}function L(e,t){if(t&&t.indexOf(e)<0){const t=function(e){let t=e&d.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case d.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case d.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case d.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function j(e,t,n){const r=(0,o.checkForInput)(t,e);if(!r.bip32Derivation||0===r.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=r.bip32Derivation.map((e=>e.masterFingerprint.equals(n.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=n.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function D(buffer){let e=0;function t(){const t=i.decode(buffer,e);return e+=i.decode.bytes,t}function n(){return n=t(),e+=n,buffer.slice(e-n,e);var n}return function(){const e=t(),r=[];for(let t=0;t<e;t++)r.push(n());return r}()}function U(e,t,n){e.__NON_WITNESS_UTXO_BUF_CACHE[n]=t.nonWitnessUtxo;const r=d.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[n]=r;const i=e,o=n;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function M(e,t,n,r){let i=0;e.forEach(((e,o)=>{if(r&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),r&&e.finalScriptWitness&&(t.ins[o].witness=D(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const r=H(n,e,o),a=t.ins[o].index,s=r.outs[a];i+=s.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),a=i-o;if(a<0)throw new Error("Outputs are spending more than Inputs");const s=t.virtualSize();n.__FEE=a,n.__EXTRACTED_TX=t,n.__FEE_RATE=Math.floor(a/s)}function H(e,t,n){const r=e.__NON_WITNESS_UTXO_TX_CACHE;return r[n]||U(e,t,n),r[n]}function z(e,t,n){const{script:r}=F(e,t,n);return r}function F(e,t,n){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){const r=H(n,t,e).outs[n.__TX.ins[e].index];return{script:r.script,value:r.value}}throw new Error("Can't find pubkey in input without Utxo data")}function K(e){return 33===e.length&&f.isCanonicalPubKey(e)}function q(e,t,n,r,i){const o=(0,p.isP2SHScript)(e),a=o&&r&&(0,p.isP2WSHScript)(r),s=(0,p.isP2WSHScript)(e);if(o&&void 0===r)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((s||a)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return a?(c=i,I(t,e,r,n),T(t,r,i,n),V(c)):s?(c=i,T(t,e,i,n),V(c)):o?(c=r,I(t,e,r,n)):c=e,{meaningfulScript:c,type:a?"p2sh-p2wsh":o?"p2sh":s?"p2wsh":"raw"}}function V(e){if((0,p.isP2WPKH)(e)||(0,p.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function W(e){return(0,p.isP2WPKH)(e)?"witnesspubkeyhash":(0,p.isP2PKH)(e)?"pubkeyhash":(0,p.isP2MS)(e)?"multisig":(0,p.isP2PK)(e)?"pubkey":"nonstandard"}function G(e){return[...Array(e).keys()]}},67969:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.checkTaprootInputForSigs=t.tapTreeFromList=t.tapTreeToList=t.tweakInternalPubKey=t.checkTaprootOutputFields=t.checkTaprootInputFields=t.isTaprootOutput=t.isTaprootInput=t.serializeTaprootSignature=t.tapScriptFinalizer=t.toXOnly=void 0;const r=n(47177),i=n(47127),o=n(71748),a=n(54913),s=n(79196),c=n(71748);function u(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,o.isP2TR)(e.witnessUtxo.script))}function l(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,o.isP2TR)(t))}function f(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(const n of e)if(t=p(n,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}(e)}function d(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||i.Transaction.SIGHASH_DEFAULT}}function h(e,t=[],n=0){if(n>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,r.isTapleaf)(e)?(t.push({depth:n,leafVersion:e.version||a.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&h(e[0],t,n+1),e[1]&&h(e[1],t,n+1),t):[]}function p(e,t,n=0){if(n>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===n)return t?void 0:{output:e.script,version:e.leafVersion};if((0,r.isTapleaf)(t))return;const i=p(e,t&&t[0],n+1);if(i)return[i,t&&t[1]];const o=p(e,t&&t[1],n+1);return o?[t&&t[0],o]:void 0}function y(e,t){if(!t)return!0;const n=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(0,a.rootHashFromPath)(e.controlBlock,n).equals(t)}function g(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}t.toXOnly=e=>32===e.length?e:e.slice(1,33),t.tapScriptFinalizer=function(e,t,n){const r=function(e,t,n){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const r=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,n){const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(!n||n.equals(r))&&void 0!==t.find((e=>e.leafHash.equals(r)))}(t,e.tapScriptSig,n)));if(!r)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return r}(t,e,n);try{const e=function(e,t){const n=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(n))).map((e=>function(e,t){return Object.assign({positionInScript:(0,o.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))}(t,r),n=e.concat(r.script).concat(r.controlBlock);return{finalScriptWitness:(0,o.witnessStackToScriptWitness)(n)}}catch(t){throw new Error(`Can not finalize taproot input #${e}: ${t}`)}},t.serializeTaprootSignature=function(e,t){const n=t?Buffer.from([t]):Buffer.from([]);return Buffer.concat([e,n])},t.isTaprootInput=u,t.isTaprootOutput=l,t.checkTaprootInputFields=function(e,t,n){!function(e,t,n){const r=u(e)&&g(t),i=g(e)&&u(t),o=e===t&&u(t)&&g(t);if(r||i||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}(e,t,n),function(e,t,n){if(t.tapMerkleRoot){const r=(t.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot))),i=(e.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot)));if(!r||!i)throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot){if(!(t.tapLeafScript||[]).every((t=>y(t,e.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}}(e,t,n)},t.checkTaprootOutputFields=function(e,t,n){!function(e,t,n){const r=l(e)&&g(t),i=g(e)&&l(t),o=e===t&&l(t)&&g(t);if(r||i||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}(e,t,n),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const n=t.tapInternalKey||e.tapInternalKey,r=t.tapTree||e.tapTree;if(n){const{script:t}=e,i=function(e,t){const n=t&&f(t.leaves),{output:r}=(0,s.p2tr)({internalPubkey:e,scriptTree:n});return r}(n,r);if(t&&!t.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(e,t)},t.tweakInternalPubKey=function(e,t){const n=t.tapInternalKey,r=n&&(0,a.tweakKey)(n,t.tapMerkleRoot);if(!r)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${n&&n.toString("hex")}`);return r.x},t.tapTreeToList=function(e){if(!(0,r.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return h(e)},t.tapTreeFromList=f,t.checkTaprootInputForSigs=function(e,t){return function(e){const t=[];e.tapKeySig&&t.push(e.tapKeySig);e.tapScriptSig&&t.push(...e.tapScriptSig.map((e=>e.signature)));if(!t.length){const n=function(e){if(!e)return;const t=e.slice(2);if(64===t.length||65===t.length)return t}(e.finalScriptWitness);n&&t.push(n)}return t}(e).some((e=>(0,c.signatureBlocksAction)(e,d,t)))}},71748:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signatureBlocksAction=t.checkInputForSig=t.pubkeyInScript=t.pubkeyPositionInScript=t.witnessStackToScriptWitness=t.isP2TR=t.isP2SHScript=t.isP2WSHScript=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=void 0;const r=n(3493),i=n(31213),o=n(47127),a=n(47994),s=n(79196);function c(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}function u(e,t){const n=(0,a.hash160)(e),r=e.slice(1,33),o=i.decompile(t);if(null===o)throw new Error("Unknown script error");return o.findIndex((t=>"number"!=typeof t&&(t.equals(e)||t.equals(n)||t.equals(r))))}function l(e,t,n){const{hashType:r}=t(e),i=[];r&o.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&r){case o.Transaction.SIGHASH_ALL:break;case o.Transaction.SIGHASH_SINGLE:case o.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(n)}t.isP2MS=c(s.p2ms),t.isP2PK=c(s.p2pk),t.isP2PKH=c(s.p2pkh),t.isP2WPKH=c(s.p2wpkh),t.isP2WSHScript=c(s.p2wsh),t.isP2SHScript=c(s.p2sh),t.isP2TR=c(s.p2tr),t.witnessStackToScriptWitness=function(e){let buffer=Buffer.allocUnsafe(0);function t(e){const t=buffer.length,n=r.encodingLength(e);buffer=Buffer.concat([buffer,Buffer.allocUnsafe(n)]),r.encode(e,buffer,t)}function n(e){t(e.length),function(e){buffer=Buffer.concat([buffer,Buffer.from(e)])}(e)}var i;return t((i=e).length),i.forEach(n),buffer},t.pubkeyPositionInScript=u,t.pubkeyInScript=function(e,t){return-1!==u(e,t)},t.checkInputForSig=function(e,t){return function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){const t=e.finalScriptSig&&i.decompile(e.finalScriptSig)||[],n=e.finalScriptWitness&&i.decompile(e.finalScriptWitness)||[];return t.concat(n).filter((e=>Buffer.isBuffer(e)&&i.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else t=e.partialSig;return t.map((e=>e.signature))}(e).some((e=>l(e,i.signature.decode,t)))},t.signatureBlocksAction=l},38624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const r=n(88132);function i(e){return e<r.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(buffer,e,t){const n=i(e);return 1===n?buffer.writeUInt8(e,t):2===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA1,t),buffer.writeUInt8(e,t+1)):3===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA2,t),buffer.writeUInt16LE(e,t+1)):(buffer.writeUInt8(r.OPS.OP_PUSHDATA4,t),buffer.writeUInt32LE(e,t+1)),n},t.decode=function(buffer,e){const t=buffer.readUInt8(e);let n,i;if(t<r.OPS.OP_PUSHDATA1)n=t,i=1;else if(t===r.OPS.OP_PUSHDATA1){if(e+2>buffer.length)return null;n=buffer.readUInt8(e+1),i=2}else if(t===r.OPS.OP_PUSHDATA2){if(e+3>buffer.length)return null;n=buffer.readUInt16LE(e+1),i=3}else{if(e+5>buffer.length)return null;if(t!==r.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=buffer.readUInt32LE(e+1),i=5}return{opcode:t,number:n,size:i}}},31213:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.isPushOnly=t.OPS=void 0;const r=n(77297),i=n(88132);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return i.OPS}});const o=n(38624),a=n(56879),s=n(14666),c=n(47177),{typeforce:u}=c,l=i.OPS.OP_RESERVED;function f(e){return c.Buffer(e)||function(e){return c.Number(e)&&(e===i.OPS.OP_0||e>=i.OPS.OP_1&&e<=i.OPS.OP_16||e===i.OPS.OP_1NEGATE)}(e)}function d(e){return c.Array(e)&&e.every(f)}function h(buffer){return 0===buffer.length?i.OPS.OP_0:1===buffer.length?buffer[0]>=1&&buffer[0]<=16?l+buffer[0]:129===buffer[0]?i.OPS.OP_1NEGATE:void 0:void 0}function p(e){return Buffer.isBuffer(e)}function y(e){return Buffer.isBuffer(e)}function g(e){if(p(e))return e;u(c.Array,e);const t=e.reduce(((e,t)=>y(t)?1===t.length&&void 0!==h(t)?e+1:e+o.encodingLength(t.length)+t.length:e+1),0),buffer=Buffer.allocUnsafe(t);let n=0;if(e.forEach((e=>{if(y(e)){const t=h(e);if(void 0!==t)return buffer.writeUInt8(t,n),void(n+=1);n+=o.encode(buffer,e.length,n),e.copy(buffer,n),n+=e.length}else buffer.writeUInt8(e,n),n+=1})),n!==buffer.length)throw new Error("Could not decode chunks");return buffer}function b(buffer){if(e=buffer,c.Array(e))return buffer;var e;u(c.Buffer,buffer);const t=[];let n=0;for(;n<buffer.length;){const e=buffer[n];if(e>i.OPS.OP_0&&e<=i.OPS.OP_PUSHDATA4){const e=o.decode(buffer,n);if(null===e)return null;if(n+=e.size,n+e.number>buffer.length)return null;const r=buffer.slice(n,n+e.number);n+=e.number;const i=h(r);void 0!==i?t.push(i):t.push(r)}else t.push(e),n+=1}return t}function m(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=d,t.compile=g,t.decompile=b,t.toASM=function(e){return p(e)&&(e=b(e)),e.map((e=>{if(y(e)){const t=h(e);if(void 0===t)return e.toString("hex");e=t}return i.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return u(c.String,e),g(e.split(" ").map((e=>void 0!==i.OPS[e]?i.OPS[e]:(u(c.Hex,e),Buffer.from(e,"hex")))))},t.toStack=function(e){return e=b(e),u(d,e),e.map((e=>y(e)?e:e===i.OPS.OP_0?Buffer.allocUnsafe(0):a.encode(e-l)))},t.isCanonicalPubKey=function(buffer){return c.isPoint(buffer)},t.isDefinedHashType=m,t.isCanonicalScriptSignature=function(buffer){return!!Buffer.isBuffer(buffer)&&(!!m(buffer[buffer.length-1])&&r.check(buffer.slice(0,-1)))},t.number=a,t.signature=s},56879:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(buffer,e,t){e=e||4,t=void 0===t||t;const n=buffer.length;if(0===n)return 0;if(n>e)throw new TypeError("Script number overflow");if(t&&0==(127&buffer[n-1])&&(n<=1||0==(128&buffer[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const e=buffer.readUInt32LE(0),t=buffer.readUInt8(4);return 128&t?-(4294967296*(-129&t)+e):4294967296*t+e}let r=0;for(let e=0;e<n;++e)r|=buffer[e]<<8*e;return 128&buffer[n-1]?-(r&~(128<<8*(n-1))):r},t.encode=function(e){let t=Math.abs(e);const n=(r=t)>2147483647?5:r>8388607?4:r>32767?3:r>127?2:r>0?1:0;var r;const buffer=Buffer.allocUnsafe(n),i=e<0;for(let e=0;e<n;++e)buffer.writeUInt8(255&t,e),t>>=8;return 128&buffer[n-1]?buffer.writeUInt8(i?128:0,n-1):i&&(buffer[n-1]|=128),buffer}},14666:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const r=n(77297),i=n(47177),{typeforce:o}=i,a=Buffer.alloc(1,0);function s(e){let t=0;for(;0===e[t];)++t;return t===e.length?a:128&(e=e.slice(t))[0]?Buffer.concat([a,e],1+e.length):e}function c(e){0===e[0]&&(e=e.slice(1));const buffer=Buffer.alloc(32,0),t=Math.max(0,32-e.length);return e.copy(buffer,t),buffer}t.decode=function(buffer){const e=buffer.readUInt8(buffer.length-1),t=-129&e;if(t<=0||t>=4)throw new Error("Invalid hashType "+e);const n=r.decode(buffer.slice(0,-1)),i=c(n.r),o=c(n.s);return{signature:Buffer.concat([i,o],64),hashType:e}},t.encode=function(e,t){o({signature:i.BufferN(64),hashType:i.UInt8},{signature:e,hashType:t});const n=-129&t;if(n<=0||n>=4)throw new Error("Invalid hashType "+t);const a=Buffer.allocUnsafe(1);a.writeUInt8(t,0);const c=s(e.slice(0,32)),u=s(e.slice(32,64));return Buffer.concat([r.encode(c,u),a])}},47127:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const r=n(54673),i=n(47994),o=n(31213),a=n(31213),s=n(47177),{typeforce:c}=s;function u(e){const t=e.length;return r.varuint.encodingLength(t)+t}const l=Buffer.allocUnsafe(0),f=[],d=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),h=Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),p=Buffer.from("ffffffffffffffff","hex"),y={script:l,valueBuffer:p};class g{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(buffer,e){const t=new r.BufferReader(buffer),n=new g;n.version=t.readInt32();const i=t.readUInt8(),o=t.readUInt8();let a=!1;i===g.ADVANCED_TRANSACTION_MARKER&&o===g.ADVANCED_TRANSACTION_FLAG?a=!0:t.offset-=2;const s=t.readVarInt();for(let e=0;e<s;++e)n.ins.push({hash:t.readSlice(32),index:t.readUInt32(),script:t.readVarSlice(),sequence:t.readUInt32(),witness:f});const c=t.readVarInt();for(let e=0;e<c;++e)n.outs.push({value:t.readUInt64(),script:t.readVarSlice()});if(a){for(let e=0;e<s;++e)n.ins[e].witness=t.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=t.readUInt32(),e)return n;if(t.offset!==buffer.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return g.fromBuffer(Buffer.from(e,"hex"),!1)}static isCoinbaseHash(buffer){c(s.Hash256bit,buffer);for(let e=0;e<32;++e)if(0!==buffer[e])return!1;return!0}isCoinbase(){return 1===this.ins.length&&g.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,n,r){return c(s.tuple(s.Hash256bit,s.UInt32,s.maybe(s.UInt32),s.maybe(s.Buffer)),arguments),s.Null(n)&&(n=g.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:r||l,sequence:n,witness:f})-1}addOutput(e,t){return c(s.tuple(s.Buffer,s.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+r.varuint.encodingLength(this.ins.length)+r.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+u(t.script)),0)+this.outs.reduce(((e,t)=>e+8+u(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return r.varuint.encodingLength(t)+e.reduce(((e,t)=>e+u(t)),0)}(t.witness)),0):0)}clone(){const e=new g;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,n){if(c(s.tuple(s.UInt32,s.Buffer,s.Number),arguments),e>=this.ins.length)return h;const r=o.compile(o.decompile(t).filter((e=>e!==a.OPS.OP_CODESEPARATOR))),u=this.clone();if((31&n)===g.SIGHASH_NONE)u.outs=[],u.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}));else if((31&n)===g.SIGHASH_SINGLE){if(e>=this.outs.length)return h;u.outs.length=e+1;for(let t=0;t<e;t++)u.outs[t]=y;u.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}))}n&g.SIGHASH_ANYONECANPAY?(u.ins=[u.ins[e]],u.ins[0].script=r):(u.ins.forEach((e=>{e.script=l})),u.ins[e].script=r);const buffer=Buffer.allocUnsafe(u.byteLength(!1)+4);return buffer.writeInt32LE(n,buffer.length-4),u.__toBuffer(buffer,0,!1),i.hash256(buffer)}hashForWitnessV1(e,t,n,o,a,f){if(c(s.tuple(s.UInt32,c.arrayOf(s.Buffer),c.arrayOf(s.Satoshi),s.UInt32),arguments),n.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const d=o===g.SIGHASH_DEFAULT?g.SIGHASH_ALL:o&g.SIGHASH_OUTPUT_MASK,h=(o&g.SIGHASH_INPUT_MASK)===g.SIGHASH_ANYONECANPAY,p=d===g.SIGHASH_NONE,y=d===g.SIGHASH_SINGLE;let b=l,m=l,v=l,w=l,_=l;if(!h){let e=r.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),b=i.sha256(e.end()),e=r.BufferWriter.withCapacity(8*this.ins.length),n.forEach((t=>e.writeUInt64(t))),m=i.sha256(e.end()),e=r.BufferWriter.withCapacity(t.map(u).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),v=i.sha256(e.end()),e=r.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),w=i.sha256(e.end())}if(p||y){if(y&&e<this.outs.length){const t=this.outs[e],n=r.BufferWriter.withCapacity(8+u(t.script));n.writeUInt64(t.value),n.writeVarSlice(t.script),_=i.sha256(n.end())}}else{const e=this.outs.map((e=>8+u(e.script))).reduce(((e,t)=>e+t)),t=r.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),_=i.sha256(t.end())}const E=(a?2:0)+(f?1:0),S=174-(h?49:0)-(p?32:0)+(f?32:0)+(a?37:0),k=r.BufferWriter.withCapacity(S);if(k.writeUInt8(o),k.writeInt32(this.version),k.writeUInt32(this.locktime),k.writeSlice(b),k.writeSlice(m),k.writeSlice(v),k.writeSlice(w),p||y||k.writeSlice(_),k.writeUInt8(E),h){const r=this.ins[e];k.writeSlice(r.hash),k.writeUInt32(r.index),k.writeUInt64(n[e]),k.writeVarSlice(t[e]),k.writeUInt32(r.sequence)}else k.writeUInt32(e);if(f){const e=r.BufferWriter.withCapacity(u(f));e.writeVarSlice(f),k.writeSlice(i.sha256(e.end()))}return y&&k.writeSlice(_),a&&(k.writeSlice(a),k.writeUInt8(0),k.writeUInt32(4294967295)),i.taggedHash("TapSighash",Buffer.concat([Buffer.of(0),k.end()]))}hashForWitnessV0(e,t,n,o){c(s.tuple(s.UInt32,s.Buffer,s.Satoshi,s.UInt32),arguments);let a,l=Buffer.from([]),f=d,h=d,p=d;if(o&g.SIGHASH_ANYONECANPAY||(l=Buffer.allocUnsafe(36*this.ins.length),a=new r.BufferWriter(l,0),this.ins.forEach((e=>{a.writeSlice(e.hash),a.writeUInt32(e.index)})),h=i.hash256(l)),o&g.SIGHASH_ANYONECANPAY||(31&o)===g.SIGHASH_SINGLE||(31&o)===g.SIGHASH_NONE||(l=Buffer.allocUnsafe(4*this.ins.length),a=new r.BufferWriter(l,0),this.ins.forEach((e=>{a.writeUInt32(e.sequence)})),p=i.hash256(l)),(31&o)!==g.SIGHASH_SINGLE&&(31&o)!==g.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+u(t.script)),0);l=Buffer.allocUnsafe(e),a=new r.BufferWriter(l,0),this.outs.forEach((e=>{a.writeUInt64(e.value),a.writeVarSlice(e.script)})),f=i.hash256(l)}else if((31&o)===g.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];l=Buffer.allocUnsafe(8+u(t.script)),a=new r.BufferWriter(l,0),a.writeUInt64(t.value),a.writeVarSlice(t.script),f=i.hash256(l)}l=Buffer.allocUnsafe(156+u(t)),a=new r.BufferWriter(l,0);const y=this.ins[e];return a.writeInt32(this.version),a.writeSlice(h),a.writeSlice(p),a.writeSlice(y.hash),a.writeUInt32(y.index),a.writeVarSlice(t),a.writeUInt64(n),a.writeUInt32(y.sequence),a.writeSlice(f),a.writeUInt32(this.locktime),a.writeUInt32(o),i.hash256(l)}getHash(e){return e&&this.isCoinbase()?Buffer.alloc(32,0):i.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,r.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(buffer,e){return this.__toBuffer(buffer,e,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){c(s.tuple(s.Number,s.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){c(s.tuple(s.Number,[s.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(buffer,e,t=!1){buffer||(buffer=Buffer.allocUnsafe(this.byteLength(t)));const n=new r.BufferWriter(buffer,e||0);n.writeInt32(this.version);const i=t&&this.hasWitnesses();return i&&(n.writeUInt8(g.ADVANCED_TRANSACTION_MARKER),n.writeUInt8(g.ADVANCED_TRANSACTION_FLAG)),n.writeVarInt(this.ins.length),this.ins.forEach((e=>{n.writeSlice(e.hash),n.writeUInt32(e.index),n.writeVarSlice(e.script),n.writeUInt32(e.sequence)})),n.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?n.writeUInt64(e.value):n.writeSlice(e.valueBuffer),n.writeVarSlice(e.script)})),i&&this.ins.forEach((e=>{n.writeVector(e.witness)})),n.writeUInt32(this.locktime),void 0!==e?buffer.slice(e,n.offset):buffer}}t.Transaction=g,g.DEFAULT_SEQUENCE=4294967295,g.SIGHASH_DEFAULT=0,g.SIGHASH_ALL=1,g.SIGHASH_NONE=2,g.SIGHASH_SINGLE=3,g.SIGHASH_ANYONECANPAY=128,g.SIGHASH_OUTPUT_MASK=3,g.SIGHASH_INPUT_MASK=128,g.ADVANCED_TRANSACTION_MARKER=0,g.ADVANCED_TRANSACTION_FLAG=1},47177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const r=n(48764);t.typeforce=n(2401);const i=r.Buffer.alloc(32,0),o=r.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.isPoint=function(e){if(!r.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],n=e.slice(1,33);if(0===n.compare(i))return!1;if(n.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const a=e.slice(33);return 0!==a.compare(i)&&(!(a.compare(o)>=0)&&(4===t&&65===e.length))};const a=Math.pow(2,31)-1;function s(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return t.typeforce.UInt32(e)&&e<=a},t.BIP32Path=s,s.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign};function c(e){return!(!e||!("output"in e))&&(!!r.Buffer.isBuffer(e.output)&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version))}t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=c,t.isTaptree=function e(n){return(0,t.Array)(n)?2===n.length&&n.every((t=>e(t))):c(n)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},28805:(e,t,n)=>{"use strict";const r=n(23482),i=n(36683),o=n(17221),Buffer=n(89509).Buffer,a=n(13550),s=n(1093).Lk,c=n(50361),u={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0,1]},l={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},f={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},d={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0,1]},h={word_length:4,var_onion_optin:{required:!1,supported:!0},payment_secret:{required:!1,supported:!0}},p=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],y={m:new a(1e3,10),u:new a(1e6,10),n:new a(1e9,10),p:new a(1e12,10)},g=new a("2100000000000000000",10),b=new a(1e11,10),m=new a(1e8,10),v=new a(1e5,10),w=new a(100,10),_=new a(10,10),E={payment_hash:1,payment_secret:16,description:13,payee_node_key:19,purpose_commit_hash:23,expire_time:6,min_final_cltv_expiry:24,fallback_address:9,routing_info:3,feature_bits:5},S={};for(let e=0,t=Object.keys(E);e<t.length;e++){const n=t[e],r=E[t[e]].toString();S[r]=n}const k={payment_hash:B,payment_secret:B,description:function(e){const buffer=function(e){return Buffer.from(e,"utf8")}(e);return i.toWords(buffer)},payee_node_key:B,purpose_commit_hash:function(e){let buffer;if(void 0===e||!("string"==typeof e||e instanceof String))throw new Error("purpose or purpose commit must be a string or hex string");buffer=e.match(/^([a-zA-Z0-9]{2})*$/)?Buffer.from(e,"hex"):N(Buffer.from(e,"utf8"));return i.toWords(buffer)},expire_time:T,min_final_cltv_expiry:T,fallback_address:function(e,t){return[e.code].concat(B(e.addressHash))},routing_info:function(e){let buffer=Buffer.from([]);return e.forEach((e=>{buffer=Buffer.concat([buffer,C(e.pubkey)]),buffer=Buffer.concat([buffer,C(e.short_channel_id)]),buffer=Buffer.concat([buffer,Buffer.from([0,0,0].concat(T(e.fee_base_msat,8)).slice(-4))]),buffer=Buffer.concat([buffer,Buffer.from([0,0,0].concat(T(e.fee_proportional_millionths,8)).slice(-4))]),buffer=Buffer.concat([buffer,Buffer.from([0].concat(T(e.cltv_expiry_delta,8)).slice(-2))])})),B(buffer)},feature_bits:function(e){let t=e.word_length,n=[];p.forEach((t=>{n.push(!!(e[t]||{}).required),n.push(!!(e[t]||{}).supported)}));for(;!1===n[n.length-1];)n.pop();for(;n.length%5!=0;)n.push(!1);if(e.extra_bits&&Array.isArray(e.extra_bits.bits)&&e.extra_bits.bits.length>0){for(;n.length<e.extra_bits.start_bit;)n.push(!1);n=n.concat(e.extra_bits.bits)}if(void 0!==t&&n.length/5>t)throw new Error("word_length is too small to contain all featureBits");void 0===t&&(t=Math.ceil(n.length/5));return new Array(t).fill(0).map(((e,t)=>n[5*t+4]<<4|n[5*t+3]<<3|n[5*t+2]<<2|n[5*t+1]<<1|n[5*t]<<0)).reverse()}},A={1:e=>R(e,!0).toString("hex"),16:e=>R(e,!0).toString("hex"),13:e=>R(e,!0).toString("utf8"),19:e=>R(e,!0).toString("hex"),23:e=>R(e,!0).toString("hex"),6:I,24:I,9:function(e,t){const n=e[0],r=R(e=e.slice(1),!0);let i=null;switch(n){case 17:i=s.toBase58Check(r,t.pubKeyHash);break;case 18:i=s.toBase58Check(r,t.scriptHash);break;case 0:case 1:i=s.toBech32(r,n,t.bech32)}return{code:n,address:i,addressHash:r.toString("hex")}},3:function(e){const t=[];let n,r,i,o,a,s=R(e,!0);for(;s.length>0;)n=s.slice(0,33).toString("hex"),r=s.slice(33,41).toString("hex"),i=parseInt(s.slice(41,45).toString("hex"),16),o=parseInt(s.slice(45,49).toString("hex"),16),a=parseInt(s.slice(49,51).toString("hex"),16),s=s.slice(51),t.push({pubkey:n,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:o,cltv_expiry_delta:a});return t},5:function(e){const t=e.slice().reverse().map((e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)])).reduce(((e,t)=>e.concat(t)),[]);for(;t.length<2*p.length;)t.push(!1);const n={word_length:e.length};if(p.forEach(((e,r)=>{n[e]={required:t[2*r],supported:t[2*r+1]}})),t.length>2*p.length){const e=t.slice(2*p.length);n.extra_bits={start_bit:2*p.length,bits:e,has_required:e.reduce(((e,t,n)=>n%2!=0?e||!1:e||t),!1)}}else n.extra_bits={start_bit:2*p.length,bits:[],has_required:!1};return n}},O="unknownTag";function P(e){return t=>({tagCode:parseInt(e),words:i.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function I(e){return e.reverse().reduce(((e,t,n)=>e+t*Math.pow(32,n)),0)}function T(e,t){const n=[];if(void 0===t&&(t=5),0===(e=Math.floor(e)))return[0];for(;e>0;)n.push(e&Math.pow(2,t)-1),e=Math.floor(e/Math.pow(2,t));return n.reverse()}function N(e){return r("sha256").update(e).digest()}function x(e,t,n){let r=0,i=0;const o=(1<<n)-1,a=[];for(let s=0;s<e.length;++s)for(r=r<<t|e[s],i+=t;i>=n;)i-=n,a.push(r>>i&o);return i>0&&a.push(r<<n-i&o),a}function R(e,t){let buffer=Buffer.from(x(e,5,8));return t&&5*e.length%8!=0&&(buffer=buffer.slice(0,-1)),buffer}function C(e){return void 0!==e&&("string"==typeof e||e instanceof String)&&e.match(/^([a-zA-Z0-9]{2})*$/)?Buffer.from(e,"hex"):e}function B(e){const buffer=C(e);return i.toWords(buffer)}function L(e,t){const n=e.filter((e=>e.tagName===t));return n.length>0?n[0].data:null}function j(e,t){return null!==L(e,t)}function D(e,t){const n={};if(Object.keys(e).sort().forEach((t=>{n[t]=e[t]})),!0===t){const e="__tagsObject_cache";Object.defineProperty(n,"tagsObject",{get(){return this[e]||Object.defineProperty(this,e,{value:F(this.tags)}),this[e]}})}return n}function U(e){if(!e.toString().match(/^\d+$/))throw new Error("satoshis must be an integer");return M(new a(e,10).mul(new a(1e3,10)))}function M(e){if(!e.toString().match(/^\d+$/))throw new Error("millisatoshis must be an integer");const t=new a(e,10),n=t.toString(10),r=n.length;let i,o;return r>11&&/0{11}$/.test(n)?(i="",o=t.div(b).toString(10)):r>8&&/0{8}$/.test(n)?(i="m",o=t.div(m).toString(10)):r>5&&/0{5}$/.test(n)?(i="u",o=t.div(v).toString(10)):r>2&&/0{2}$/.test(n)?(i="n",o=t.div(w).toString(10)):(i="p",o=t.mul(_).toString(10)),o+i}function H(e,t){const n=z(e,!1);if(!n.mod(new a(1e3,10)).eq(new a(0,10)))throw new Error("Amount is outside of valid range");const r=n.div(new a(1e3,10));return t?r.toString():r}function z(e,t){let n,r;if(e.slice(-1).match(/^[munp]$/))n=e.slice(-1),r=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");r=e}if(!r.match(/^\d+$/))throw new Error("Not a valid human readable amount");const i=new a(r,10),o=n?i.mul(b).div(y[n]):i.mul(b);if("p"===n&&!i.mod(new a(10,10)).eq(new a(0,10))||o.gt(g))throw new Error("Amount is outside of valid range");return t?o.toString():o}function F(e){const t={};return e.forEach((e=>{e.tagName===O?(t.unknownTags||(t.unknownTags=[]),t.unknownTags.push(e.data)):t[e.tagName]=e.data})),t}e.exports={encode:function(e,t){const n=c(e);void 0===t&&(t=!0);const r=!(void 0===n.signature||void 0===n.recoveryFlag);let l,f,d,p,y,g;if(void 0!==n.network||r){if(void 0===n.network&&r)throw new Error("Need network for proper payment request reconstruction");if(!n.network.bech32||void 0===n.network.pubKeyHash||void 0===n.network.scriptHash||!Array.isArray(n.network.validWitnessVersions))throw new Error("Invalid network");l=n.network}else n.network=u,l=u;if(void 0!==n.timestamp||r){if(void 0===n.timestamp&&r)throw new Error("Need timestamp for proper payment request reconstruction")}else n.timestamp=Math.floor((new Date).getTime()/1e3);if(void 0===n.tags)throw new Error("Payment Requests need tags array");if(!j(n.tags,S[1]))throw new Error("Lightning Payment Request needs a payment hash");if(j(n.tags,S[16]))if(j(n.tags,S[5])){const e=L(n.tags,S[5]);if(!e.payment_secret||!e.payment_secret.supported&&!e.payment_secret.required)throw new Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included")}else{if(!t)throw new Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included");n.tags.push({tagName:S[5],data:h})}if(!j(n.tags,S[13])&&!j(n.tags,S[23])){if(!t)throw new Error("Payment request requires description or purpose commit hash");n.tags.push({tagName:S[13],data:""})}if(j(n.tags,S[13])&&Buffer.from(L(n.tags,S[13]),"utf8").length>639)throw new Error("Description is too long: Max length 639 bytes");if(j(n.tags,S[6])||r||!t||n.tags.push({tagName:S[6],data:3600}),j(n.tags,S[24])||r||!t||n.tags.push({tagName:S[24],data:9}),j(n.tags,S[19])&&(d=C(L(n.tags,S[19]))),n.payeeNodeKey&&(f=C(n.payeeNodeKey)),f&&d&&!d.equals(f))throw new Error("payeeNodeKey and tag payee node key do not match");if(f=f||d,f&&(n.payeeNodeKey=f.toString("hex")),j(n.tags,S[9])){const e=L(n.tags,S[9]);if(g=e.address,y=e.addressHash,p=e.code,void 0===y||void 0===p){let t,n;try{t=s.fromBech32(g),y=t.data,p=t.version}catch(e){try{n=s.fromBase58Check(g),n.version===l.pubKeyHash?p=17:n.version===l.scriptHash&&(p=18),y=n.hash}catch(e){throw new Error("Fallback address type is unknown")}}if(t&&!(t.version in l.validWitnessVersions))throw new Error("Fallback address witness version is unknown");if(t&&t.prefix!==l.bech32)throw new Error("Fallback address network type does not match payment request network type");if(n&&n.version!==l.pubKeyHash&&n.version!==l.scriptHash)throw new Error("Fallback address version (base58) is unknown or the network type is incorrect");e.addressHash=y.toString("hex"),e.code=p}}if(j(n.tags,S[3])){L(n.tags,S[3]).forEach((e=>{if(void 0===e.pubkey||void 0===e.short_channel_id||void 0===e.fee_base_msat||void 0===e.fee_proportional_millionths||void 0===e.cltv_expiry_delta)throw new Error("Routing info is incomplete");if(!o.publicKeyVerify(C(e.pubkey)))throw new Error("Routing info pubkey is not a valid pubkey");const t=C(e.short_channel_id);if(!(t instanceof Buffer)||8!==t.length)throw new Error("Routing info short channel id must be 8 bytes");if("number"!=typeof e.fee_base_msat||Math.floor(e.fee_base_msat)!==e.fee_base_msat)throw new Error("Routing info fee base msat is not an integer");if("number"!=typeof e.fee_proportional_millionths||Math.floor(e.fee_proportional_millionths)!==e.fee_proportional_millionths)throw new Error("Routing info fee proportional millionths is not an integer");if("number"!=typeof e.cltv_expiry_delta||Math.floor(e.cltv_expiry_delta)!==e.cltv_expiry_delta)throw new Error("Routing info cltv expiry delta is not an integer")}))}let b,m="ln";if(m+=l.bech32,n.millisatoshis&&n.satoshis){b=M(new a(n.millisatoshis,10));if(U(new a(n.satoshis,10))!==b)throw new Error("satoshis and millisatoshis do not match")}else b=n.millisatoshis?M(new a(n.millisatoshis,10)):n.satoshis?U(new a(n.satoshis,10)):"";m+=b;const v=T(n.timestamp);for(;v.length<7;)v.unshift(0);const w=n.tags;let _=[];w.forEach((e=>{const t=Object.keys(k);if(r&&t.push(O),-1===t.indexOf(e.tagName))throw new Error("Unknown tag key: "+e.tagName);let n;if(e.tagName!==O){_.push(E[e.tagName]);n=(0,k[e.tagName])(e.data)}else{const t=function(e){return e.words=i.decode(e.words,Number.MAX_SAFE_INTEGER).words,e}(e.data);_.push(t.tagCode),n=t.words}_=_.concat([0].concat(T(n.length)).slice(-2)),_=_.concat(n)}));let A=v.concat(_);const P=N(Buffer.concat([Buffer.from(m,"utf8"),Buffer.from(x(A,5,8))]));let I;if(r){if(!f)throw new Error("Reconstruction with signature and recoveryID requires payeeNodeKey to verify correctness of input data.");{const e=Buffer.from(o.ecdsaRecover(Buffer.from(n.signature,"hex"),n.recoveryFlag,P,!0));if(f&&!f.equals(e))throw new Error("Signature, message, and recoveryID did not produce the same pubkey as payeeNodeKey");I=B(n.signature+"0"+n.recoveryFlag)}}return I&&(A=A.concat(I)),j(n.tags,S[6])&&(n.timeExpireDate=n.timestamp+L(n.tags,S[6]),n.timeExpireDateString=new Date(1e3*n.timeExpireDate).toISOString()),n.timestampString=new Date(1e3*n.timestamp).toISOString(),n.complete=!!I,n.paymentRequest=n.complete?i.encode(m,A,Number.MAX_SAFE_INTEGER):"",n.prefix=m,n.wordsTemp=i.encode("temp",A,Number.MAX_SAFE_INTEGER),D(n)},decode:function(e,t){if("string"!=typeof e)throw new Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw new Error("Not a proper lightning payment request");const n=i.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const r=n.prefix;let a=n.words;const s=a.slice(-104),c=a.slice(0,-104);a=a.slice(0,-104);let h=R(s,!0);const p=h.slice(-1)[0];if(h=h.slice(0,-1),!(p in[0,1,2,3])||64!==h.length)throw new Error("Signature is missing or incorrect");let y=r.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(y&&!y[2]&&(y=r.match(/^ln(\S+)$/)),!y)throw new Error("Not a proper lightning payment request");const g=y[1];let b;if(t){if(void 0===t.bech32||void 0===t.pubKeyHash||void 0===t.scriptHash||!Array.isArray(t.validWitnessVersions))throw new Error("Invalid network");b=t}else switch(g){case u.bech32:b=u;break;case l.bech32:b=l;break;case f.bech32:b=f;break;case d.bech32:b=d}if(!b||b.bech32!==g)throw new Error("Unknown coin bech32 prefix");const m=y[2];let v,w,_;if(m){const e=y[3];try{v=parseInt(H(m+e,!0))}catch(e){v=null,_=!0}w=z(m+e,!0)}else v=null,w=null;const E=I(a.slice(0,7)),k=new Date(1e3*E).toISOString();a=a.slice(7);const T=[];let C,B,U,M,F,K;for(;a.length>0;){const e=a[0].toString();C=S[e]||O,B=A[e]||P(e),a=a.slice(1),U=I(a.slice(0,2)),a=a.slice(2),M=a.slice(0,U),a=a.slice(U),T.push({tagName:C,data:B(M,b)})}j(T,S[6])&&(F=E+L(T,S[6]),K=new Date(1e3*F).toISOString());const q=N(Buffer.concat([Buffer.from(r,"utf8"),Buffer.from(x(c,5,8))])),V=Buffer.from(o.ecdsaRecover(h,p,q,!0));if(j(T,S[19])&&L(T,S[19])!==V.toString("hex"))throw new Error("Lightning Payment Request signature pubkey does not match payee pubkey");let W={paymentRequest:e,complete:!0,prefix:r,wordsTemp:i.encode("temp",c.concat(s),Number.MAX_SAFE_INTEGER),network:b,satoshis:v,millisatoshis:w,timestamp:E,timestampString:k,payeeNodeKey:V.toString("hex"),signature:h.toString("hex"),recoveryFlag:p,tags:T};return _&&delete W.satoshis,F&&(W=Object.assign(W,{timeExpireDate:F,timeExpireDateString:K})),D(W,!0)},sign:function(e,t){const n=c(e),r=C(t);if(n.complete&&n.paymentRequest)return n;if(void 0===r||32!==r.length||!o.privateKeyVerify(r))throw new Error("privateKey must be a 32 byte Buffer and valid private key");let a,s;if(j(n.tags,S[19])&&(s=C(L(n.tags,S[19]))),n.payeeNodeKey&&(a=C(n.payeeNodeKey)),a&&s&&!s.equals(a))throw new Error("payee node key tag and payeeNodeKey attribute must match");a=s||a;const u=Buffer.from(o.publicKeyCreate(r));if(a&&!u.equals(a))throw new Error("The private key given is not the private key of the node public key given");const l=i.decode(n.wordsTemp,Number.MAX_SAFE_INTEGER).words,f=N(Buffer.concat([Buffer.from(n.prefix,"utf8"),R(l)])),d=o.ecdsaSign(f,r);d.signature=Buffer.from(d.signature);const h=B(d.signature.toString("hex")+"0"+d.recid);return n.payeeNodeKey=u.toString("hex"),n.signature=d.signature.toString("hex"),n.recoveryFlag=d.recid,n.wordsTemp=i.encode("temp",l.concat(h),Number.MAX_SAFE_INTEGER),n.complete=!0,n.paymentRequest=i.encode(n.prefix,l.concat(h),Number.MAX_SAFE_INTEGER),D(n)},satToHrp:U,millisatToHrp:M,hrpToSat:H,hrpToMillisat:z}},29931:(e,t,n)=>{var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(89214);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},77191:(e,t,n)=>{var r=n(58162);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},53310:(e,t,n)=>{"use strict";var r=n(77191),Buffer=n(89509).Buffer;e.exports=function(e){function t(buffer){var t=buffer.slice(0,-4),n=buffer.slice(-4),r=e(t);if(!(n[0]^r[0]|n[1]^r[1]|n[2]^r[2]|n[3]^r[3]))return t}return{encode:function(t){var n=e(t);return r.encode(Buffer.concat([t,n],t.length+4))},decode:function(e){var n=t(r.decode(e));if(!n)throw new Error("Invalid checksum");return n},decodeUnsafe:function(e){var buffer=r.decodeUnsafe(e);if(buffer)return t(buffer)}}}},58334:(e,t,n)=>{"use strict";var r=n(23482),i=n(53310);e.exports=i((function(buffer){var e=r("sha256").update(buffer).digest();return r("sha256").update(e).digest()}))},48764:(e,t,n)=>{"use strict";const r=n(79742),i=n(80645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=Buffer,t.SlowBuffer=function(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer.prototype),t}function Buffer(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|p(e,t);let r=s(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return Buffer.from(r,t,n);const i=function(e){if(Buffer.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||$(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),s(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,Buffer.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function p(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(buffer,e,t,n,r){if(0===buffer.length)return-1;if("string"==typeof t?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),$(t=+t)&&(t=r?0:buffer.length-1),t<0&&(t=buffer.length+t),t>=buffer.length){if(r)return-1;t=buffer.length-1}else if(t<0){if(!r)return-1;t=0}if("string"==typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:m(buffer,e,t,n,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(buffer,e,t):Uint8Array.prototype.lastIndexOf.call(buffer,e,t):m(buffer,[e],t,n,r);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){let o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if($(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return G(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return G(W(t),e,n,r)}function S(e,t,n,r){return G(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(o=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.kMaxLength=a,Buffer.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},Buffer.allocUnsafe=function(e){return l(e)},Buffer.allocUnsafeSlow=function(e){return l(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(Y(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const buffer=Buffer.allocUnsafe(t);let r=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))r+t.length>buffer.length?(Buffer.isBuffer(t)||(t=Buffer.from(t)),t.copy(buffer,r)):Uint8Array.prototype.set.call(buffer,t,r);else{if(!Buffer.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(buffer,r)}r+=t.length}return buffer},Buffer.byteLength=p,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},Buffer.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},Buffer.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(Buffer.prototype[o]=Buffer.prototype.inspect),Buffer.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},Buffer.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Z[e[r]];return i}function N(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function B(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}Buffer.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,Buffer.prototype),r},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readBigUInt64LE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),Buffer.prototype.readBigUInt64BE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),Buffer.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},Buffer.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readBigInt64LE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),Buffer.prototype.readBigInt64BE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeBigUInt64LE=X((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeBigUInt64BE=X((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},Buffer.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},Buffer.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeBigInt64LE=X((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeBigInt64BE=X((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},Buffer.prototype.copy=function(e,t,n,r){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},Buffer.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=Buffer.isBuffer(e)?e:Buffer.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const U={};function M(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){F(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||K(t,e.length-(n+1))}(r,i,o)}function F(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,n){if(Math.floor(e)!==e)throw F(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=H(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},71027:(e,t,n)=>{var Buffer=n(89509).Buffer,r=n(42830).Transform,i=n(32553).s;function o(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(35717)(o,r),o.prototype.update=function(e,t,n){"string"==typeof e&&(e=Buffer.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||Buffer.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new i(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=o},23482:(e,t,n)=>{"use strict";var r=n(35717),i=n(62318),o=n(79785),a=n(89072),s=n(71027);function c(e){s.call(this,"digest"),this._hash=e}r(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},78028:(e,t,n)=>{var r=n(62318);e.exports=function(buffer){return(new r).update(buffer).digest()}},58355:(e,t,n)=>{"use strict";var r=n(35717),i=n(51031),o=n(71027),Buffer=n(89509).Buffer,a=n(78028),s=n(79785),c=n(89072),u=Buffer.alloc(128);function l(e,t){o.call(this,"digest"),"string"==typeof t&&(t=Buffer.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new s:c(e)).update(t).digest():t.length<n&&(t=Buffer.concat([t,u],n));for(var r=this._ipad=Buffer.allocUnsafe(n),i=this._opad=Buffer.allocUnsafe(n),a=0;a<n;a++)r[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new s:c(e),this._hash.update(r)}r(l,o),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new s:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new l("rmd160",t):"md5"===e?new i(a,t):new l(e,t)}},51031:(e,t,n)=>{"use strict";var r=n(35717),Buffer=n(89509).Buffer,i=n(71027),o=Buffer.alloc(128),a=64;function s(e,t){i.call(this,"digest"),"string"==typeof t&&(t=Buffer.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=Buffer.concat([t,o],a));for(var n=this._ipad=Buffer.allocUnsafe(a),r=this._opad=Buffer.allocUnsafe(a),s=0;s<a;s++)n[s]=54^t[s],r[s]=92^t[s];this._hash=[n]}r(s,i),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(Buffer.concat(this._hash));return this._alg(Buffer.concat([this._opad,e]))},e.exports=s},40452:function(e,t,n){var r;e.exports=(r=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var y=e[n],g=e[y],b=e[g],m=257*e[p]^16843008*p;a[n]=m<<24|m>>>8,s[n]=m<<16|m>>>16,c[n]=m<<8|m>>>24,u[n]=m,m=16843009*b^65537*g^257*y^16843008*n,l[p]=m<<24|m>>>8,f[p]=m<<16|m>>>16,d[p]=m<<8|m>>>24,h[p]=m,n?(n=y^e[e[e[b^y]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=t[a]:(u=o[a-1],a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/n|0]<<24),o[a]=o[a-n]^u);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[i[u>>>24]]^f[i[u>>>16&255]]^d[i[u>>>8&255]]^h[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,h,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],h=4,p=1;p<c;p++){var y=r[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&d]^n[h++],g=r[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&u]^n[h++],b=r[f>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^n[h++],m=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^n[h++];u=y,l=g,f=b,d=m}y=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[h++],g=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[h++],b=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[h++],m=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[h++],e[t]=y,e[t+1]=g,e[t+2]=b,e[t+3]=m},keySize:8});e.AES=t._createHelper(y)}(),r.AES)},87407:function(e,t,n){var r;e.exports=(r=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo;const i=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,r=t>>16&255,i=t>>8&255,o=255&t,a=e.sbox[0][n]+e.sbox[1][r];return a^=e.sbox[2][i],a+=e.sbox[3][o],a}function u(e,t,n){let r,o=t,a=n;for(let t=0;t<i;++t)o^=e.pbox[t],a=c(e,o)^a,r=o,o=a,a=r;return r=o,o=a,a=r,a^=e.pbox[i],o^=e.pbox[i+1],{left:o,right:a}}function l(e,t,n){let r,o=t,a=n;for(let t=i+1;t>1;--t)o^=e.pbox[t],a=c(e,o)^a,r=o,o=a,a=r;return r=o,o=a,a=r,a^=e.pbox[1],o^=e.pbox[0],{left:o,right:a}}function f(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=a[t][n]}let r=0;for(let a=0;a<i+2;a++)e.pbox[a]=o[a]^t[r],r++,r>=n&&(r=0);let s=0,c=0,l=0;for(let t=0;t<i+2;t+=2)l=u(e,s,c),s=l.left,c=l.right,e.pbox[t]=s,e.pbox[t+1]=c;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)l=u(e,s,c),s=l.left,c=l.right,e.sbox[t][n]=s,e.sbox[t][n+1]=c;return!0}var d=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;f(s,t,n)}},encryptBlock:function(e,t){var n=u(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=l(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(d)}(),r.Blowfish)},75109:function(e,t,n){var r;e.exports=(r=n(78249),n(90888),void(r.lib.Cipher||function(e){var t=r,n=t.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),u=t.algo.EvpKDF,l=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:b}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),f=(n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var t=d.extend();function n(t,n,r){var i,o=this._iv;o?(i=o,this._iv=e):i=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=o.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:h,padding:p}),reset:function(){var e;l.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(t):t).toString(c)},parse:function(e){var t,n=c.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=o.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),y.create({ciphertext:n,salt:t})}},b=n.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return y.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),m=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,i){if(r||(r=o.random(8)),i)a=u.create({keySize:t+n,hasher:i}).compute(e,r);else var a=u.create({keySize:t+n}).compute(e,r);var s=o.create(a.words.slice(t),4*n);return a.sigBytes=4*t,y.create({key:a,iv:s,salt:r})}},v=n.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:m}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,b.decrypt.call(this,e,t,i.key,r)}})}()))},78249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(42480)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),l=a.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(i,f);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),y=(s.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new y.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),r)},98269:function(e,t,n){var r;e.exports=(r=n(78249),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},43786:function(e,t,n){var r;e.exports=(r=n(78249),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<r;c++)o.push(i.charAt(s>>>6*(3-c)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(r=c)}return n(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),r.enc.Base64url)},63465:function(e,t,n){var r;e.exports=(r=n(78249),r.enc.Hex)},50298:function(e,t,n){var r;e.exports=(r=n(78249),function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},55743:function(e,t,n){var r;e.exports=(r=n(78249),r.enc.Utf8)},90888:function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(78249),n(62783),n(89824),i=(r=l).lib,o=i.Base,a=i.WordArray,s=r.algo,c=s.MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),o=a.create(),s=o.words,c=r.keySize,u=r.iterations;s.length<c;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*c,o}}),r.EvpKDF=function(e,t,n){return u.create(n).compute(e,t)},l.EvpKDF)},42209:function(e,t,n){var r,i,o,a;e.exports=(a=n(78249),n(75109),i=(r=a).lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},a.format.Hex)},88010:function(e,t,n){var r;e.exports=(r=n(78249),n(52153),n(89824),r.HmacSHA256)},89824:function(e,t,n){var r,i,o,a;e.exports=(r=n(78249),o=(i=r).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),s=i.words,c=o.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},81354:function(e,t,n){var r;e.exports=(r=n(78249),n(64938),n(4433),n(50298),n(98269),n(43786),n(68214),n(62783),n(52153),n(87792),n(70034),n(17460),n(13327),n(30706),n(89824),n(2112),n(90888),n(75109),n(8568),n(74242),n(59968),n(27660),n(31148),n(43615),n(92807),n(71077),n(56475),n(16991),n(42209),n(40452),n(94253),n(51857),n(84454),n(93974),n(87407),r)},4433:function(e,t,n){var r;e.exports=(r=n(78249),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},68214:function(e,t,n){var r;e.exports=(r=n(78249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],y=e[t+4],g=e[t+5],b=e[t+6],m=e[t+7],v=e[t+8],w=e[t+9],_=e[t+10],E=e[t+11],S=e[t+12],k=e[t+13],A=e[t+14],O=e[t+15],P=o[0],I=o[1],T=o[2],N=o[3];P=u(P,I,T,N,a,7,s[0]),N=u(N,P,I,T,c,12,s[1]),T=u(T,N,P,I,h,17,s[2]),I=u(I,T,N,P,p,22,s[3]),P=u(P,I,T,N,y,7,s[4]),N=u(N,P,I,T,g,12,s[5]),T=u(T,N,P,I,b,17,s[6]),I=u(I,T,N,P,m,22,s[7]),P=u(P,I,T,N,v,7,s[8]),N=u(N,P,I,T,w,12,s[9]),T=u(T,N,P,I,_,17,s[10]),I=u(I,T,N,P,E,22,s[11]),P=u(P,I,T,N,S,7,s[12]),N=u(N,P,I,T,k,12,s[13]),T=u(T,N,P,I,A,17,s[14]),P=l(P,I=u(I,T,N,P,O,22,s[15]),T,N,c,5,s[16]),N=l(N,P,I,T,b,9,s[17]),T=l(T,N,P,I,E,14,s[18]),I=l(I,T,N,P,a,20,s[19]),P=l(P,I,T,N,g,5,s[20]),N=l(N,P,I,T,_,9,s[21]),T=l(T,N,P,I,O,14,s[22]),I=l(I,T,N,P,y,20,s[23]),P=l(P,I,T,N,w,5,s[24]),N=l(N,P,I,T,A,9,s[25]),T=l(T,N,P,I,p,14,s[26]),I=l(I,T,N,P,v,20,s[27]),P=l(P,I,T,N,k,5,s[28]),N=l(N,P,I,T,h,9,s[29]),T=l(T,N,P,I,m,14,s[30]),P=f(P,I=l(I,T,N,P,S,20,s[31]),T,N,g,4,s[32]),N=f(N,P,I,T,v,11,s[33]),T=f(T,N,P,I,E,16,s[34]),I=f(I,T,N,P,A,23,s[35]),P=f(P,I,T,N,c,4,s[36]),N=f(N,P,I,T,y,11,s[37]),T=f(T,N,P,I,m,16,s[38]),I=f(I,T,N,P,_,23,s[39]),P=f(P,I,T,N,k,4,s[40]),N=f(N,P,I,T,a,11,s[41]),T=f(T,N,P,I,p,16,s[42]),I=f(I,T,N,P,b,23,s[43]),P=f(P,I,T,N,w,4,s[44]),N=f(N,P,I,T,S,11,s[45]),T=f(T,N,P,I,O,16,s[46]),P=d(P,I=f(I,T,N,P,h,23,s[47]),T,N,a,6,s[48]),N=d(N,P,I,T,m,10,s[49]),T=d(T,N,P,I,A,15,s[50]),I=d(I,T,N,P,g,21,s[51]),P=d(P,I,T,N,S,6,s[52]),N=d(N,P,I,T,p,10,s[53]),T=d(T,N,P,I,_,15,s[54]),I=d(I,T,N,P,c,21,s[55]),P=d(P,I,T,N,v,6,s[56]),N=d(N,P,I,T,O,10,s[57]),T=d(T,N,P,I,b,15,s[58]),I=d(I,T,N,P,k,21,s[59]),P=d(P,I,T,N,y,6,s[60]),N=d(N,P,I,T,E,10,s[61]),T=d(T,N,P,I,h,15,s[62]),I=d(I,T,N,P,w,21,s[63]),o[0]=o[0]+P|0,o[1]=o[1]+I|0,o[2]=o[2]+T|0,o[3]=o[3]+N|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},8568:function(e,t,n){var r;e.exports=(r=n(78249),n(75109),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),r.mode.CFB)},59968:function(e,t,n){var r;e.exports=(r=n(78249),n(75109),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)e[t+c]^=s[c]}});return e.Decryptor=i,e}(),r.mode.CTRGladman)},74242:function(e,t,n){var r,i,o;e.exports=(o=n(78249),n(75109),o.mode.CTR=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}}),r.Decryptor=i,r),o.mode.CTR)},31148:function(e,t,n){var r,i;e.exports=(i=n(78249),n(75109),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),i.mode.ECB)},27660:function(e,t,n){var r,i,o;e.exports=(o=n(78249),n(75109),o.mode.OFB=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}}),r.Decryptor=i,r),o.mode.OFB)},43615:function(e,t,n){var r;e.exports=(r=n(78249),n(75109),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},92807:function(e,t,n){var r;e.exports=(r=n(78249),n(75109),r.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},71077:function(e,t,n){var r;e.exports=(r=n(78249),n(75109),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},16991:function(e,t,n){var r;e.exports=(r=n(78249),n(75109),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},56475:function(e,t,n){var r;e.exports=(r=n(78249),n(75109),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},2112:function(e,t,n){var r,i,o,a,s,c,u,l,f;e.exports=(f=n(78249),n(52153),n(89824),i=(r=f).lib,o=i.Base,a=i.WordArray,s=r.algo,c=s.SHA256,u=s.HMAC,l=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=u.create(n.hasher,e),i=a.create(),o=a.create([1]),s=i.words,c=o.words,l=n.keySize,f=n.iterations;s.length<l;){var d=r.update(t).finalize(o);r.reset();for(var h=d.words,p=h.length,y=d,g=1;g<f;g++){y=r.finalize(y),r.reset();for(var b=y.words,m=0;m<p;m++)h[m]^=b[m]}i.concat(d),c[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)},f.PBKDF2)},93974:function(e,t,n){var r;e.exports=(r=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(r[0]^=u,r[1]^=f,r[2]^=l,r[3]^=d,r[4]^=u,r[5]^=f,r[6]^=l,r[7]^=d,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),r.RabbitLegacy)},84454:function(e,t,n){var r;e.exports=(r=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(i[0]^=u,i[1]^=f,i[2]^=l,i[3]^=d,i[4]^=u,i[5]^=f,i[6]^=l,i[7]^=d,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),r.Rabbit)},51857:function(e,t,n){var r;e.exports=(r=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(a)}(),r.RC4)},30706:function(e,t,n){var r;e.exports=(r=n(78249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,h,w,_,E,S,k,A,O,P,I=this._hash.words,T=f.words,N=d.words,x=s.words,R=c.words,C=u.words,B=l.words;for(E=o=I[0],S=a=I[1],k=h=I[2],A=w=I[3],O=_=I[4],n=0;n<80;n+=1)P=o+e[t+x[n]]|0,P+=n<16?p(a,h,w)+T[0]:n<32?y(a,h,w)+T[1]:n<48?g(a,h,w)+T[2]:n<64?b(a,h,w)+T[3]:m(a,h,w)+T[4],P=(P=v(P|=0,C[n]))+_|0,o=_,_=w,w=v(h,10),h=a,a=P,P=E+e[t+R[n]]|0,P+=n<16?m(S,k,A)+N[0]:n<32?b(S,k,A)+N[1]:n<48?g(S,k,A)+N[2]:n<64?y(S,k,A)+N[3]:p(S,k,A)+N[4],P=(P=v(P|=0,B[n]))+O|0,E=O,O=A,A=v(k,10),k=S,S=P;P=I[1]+h+A|0,I[1]=I[2]+w+O|0,I[2]=I[3]+_+E|0,I[3]=I[4]+o+S|0,I[4]=I[0]+a+k|0,I[0]=P},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function y(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function b(e,t,n){return e&n|t&~n}function m(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(h),t.HmacRIPEMD160=o._createHmacHelper(h)}(Math),r.RIPEMD160)},62783:function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(78249),i=(r=l).lib,o=i.WordArray,a=i.Hasher,s=r.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var f=(r<<5|r>>>27)+s+c[u];f+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=r,r=f}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(u),r.HmacSHA1=a._createHmacHelper(u),l.SHA1)},87792:function(e,t,n){var r,i,o,a,s,c;e.exports=(c=n(78249),n(52153),i=(r=c).lib.WordArray,o=r.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=a._createHelper(s),r.HmacSHA224=a._createHmacHelper(s),c.SHA224)},52153:function(e,t,n){var r;e.exports=(r=n(78249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],y=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[h-2],b=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[h]=y+u[h-7]+b+u[h-16]}var m=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[h]+u[h];d=f,f=l,l=s,s=a+w|0,a=o,o=i,i=r,r=w+(v+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},13327:function(e,t,n){var r;e.exports=(r=n(78249),n(64938),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.x64.Word,s=t.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,f=0,d=0;d<7;d++){if(1&i){var h=(1<<d)-1;h<32?f^=1<<h:s^=1<<h-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(I=n[i]).high^=a,I.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var h=0,p=0,y=0;y<5;y++)h^=(I=n[d+5*y]).high,p^=I.low;var g=f[d];g.high=h,g.low=p}for(d=0;d<5;d++){var b=f[(d+4)%5],m=f[(d+1)%5],v=m.high,w=m.low;for(h=b.high^(v<<1|w>>>31),p=b.low^(w<<1|v>>>31),y=0;y<5;y++)(I=n[d+5*y]).high^=h,I.low^=p}for(var _=1;_<25;_++){var E=(I=n[_]).high,S=I.low,k=c[_];k<32?(h=E<<k|S>>>32-k,p=S<<k|E>>>32-k):(h=S<<k-32|E>>>64-k,p=E<<k-32|S>>>64-k);var A=f[u[_]];A.high=h,A.low=p}var O=f[0],P=n[0];for(O.high=P.high,O.low=P.low,d=0;d<5;d++)for(y=0;y<5;y++){var I=n[_=d+5*y],T=f[_],N=f[(d+1)%5+5*y],x=f[(d+2)%5+5*y];I.high=T.high^~N.high&x.high,I.low=T.low^~N.low&x.low}I=n[0];var R=l[s];I.high^=R.high,I.low^=R.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var f=a[l],d=f.high,h=f.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(d)}return new i.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(d),t.HmacSHA3=o._createHmacHelper(d)}(Math),r.SHA3)},17460:function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(78249),n(64938),n(70034),i=(r=l).x64,o=i.Word,a=i.WordArray,s=r.algo,c=s.SHA512,u=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u),l.SHA384)},70034:function(e,t,n){var r;e.exports=(r=n(78249),n(64938),function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=s()}();var l=a.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],f=n[6],d=n[7],h=r.high,p=r.low,y=i.high,g=i.low,b=o.high,m=o.low,v=a.high,w=a.low,_=s.high,E=s.low,S=l.high,k=l.low,A=f.high,O=f.low,P=d.high,I=d.low,T=h,N=p,x=y,R=g,C=b,B=m,L=v,j=w,D=_,U=E,M=S,H=k,z=A,F=O,K=P,q=I,V=0;V<80;V++){var W,G,Y=u[V];if(V<16)G=Y.high=0|e[t+2*V],W=Y.low=0|e[t+2*V+1];else{var $=u[V-15],Z=$.high,X=$.low,J=(Z>>>1|X<<31)^(Z>>>8|X<<24)^Z>>>7,Q=(X>>>1|Z<<31)^(X>>>8|Z<<24)^(X>>>7|Z<<25),ee=u[V-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=u[V-7],ae=oe.high,se=oe.low,ce=u[V-16],ue=ce.high,le=ce.low;G=(G=(G=J+ae+((W=Q+se)>>>0<Q>>>0?1:0))+re+((W+=ie)>>>0<ie>>>0?1:0))+ue+((W+=le)>>>0<le>>>0?1:0),Y.high=G,Y.low=W}var fe,de=D&M^~D&z,he=U&H^~U&F,pe=T&x^T&C^x&C,ye=N&R^N&B^R&B,ge=(T>>>28|N<<4)^(T<<30|N>>>2)^(T<<25|N>>>7),be=(N>>>28|T<<4)^(N<<30|T>>>2)^(N<<25|T>>>7),me=(D>>>14|U<<18)^(D>>>18|U<<14)^(D<<23|U>>>9),ve=(U>>>14|D<<18)^(U>>>18|D<<14)^(U<<23|D>>>9),we=c[V],_e=we.high,Ee=we.low,Se=K+me+((fe=q+ve)>>>0<q>>>0?1:0),ke=be+ye;K=z,q=F,z=M,F=H,M=D,H=U,D=L+(Se=(Se=(Se=Se+de+((fe+=he)>>>0<he>>>0?1:0))+_e+((fe+=Ee)>>>0<Ee>>>0?1:0))+G+((fe+=W)>>>0<W>>>0?1:0))+((U=j+fe|0)>>>0<j>>>0?1:0)|0,L=C,j=B,C=x,B=R,x=T,R=N,T=Se+(ge+pe+(ke>>>0<be>>>0?1:0))+((N=fe+ke|0)>>>0<fe>>>0?1:0)|0}p=r.low=p+N,r.high=h+T+(p>>>0<N>>>0?1:0),g=i.low=g+R,i.high=y+x+(g>>>0<R>>>0?1:0),m=o.low=m+B,o.high=b+C+(m>>>0<B>>>0?1:0),w=a.low=w+j,a.high=v+L+(w>>>0<j>>>0?1:0),E=s.low=E+U,s.high=_+D+(E>>>0<U>>>0?1:0),k=l.low=k+H,l.high=S+M+(k>>>0<H>>>0?1:0),O=f.low=O+F,f.high=A+z+(O>>>0<F>>>0?1:0),I=d.low=I+q,d.high=P+K+(I>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),r.SHA512)},94253:function(e,t,n){var r;e.exports=(r=n(78249),n(98269),n(68214),n(90888),n(75109),function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(n=0;n<24;n++)u[n/6|0]|=t[(s[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(s[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(n=0;n<16;n++)f[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&l[c])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(f);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(n.create(t)),this._des2=f.createEncryptor(n.create(r)),this._des3=f.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),r.TripleDES)},64938:function(e,t,n){var r;e.exports=(r=n(78249),function(e){var t=r,n=t.lib,i=n.Base,o=n.WordArray,a=t.x64={};a.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),r)},27484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",c="week",u="month",l="quarter",f="year",d="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},b=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},m={s:b,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+b(r,2,"0")+":"+b(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),o=n-i<0,a=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:f,w:c,d:s,D:d,h:a,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",w={};w[v]=g;var _=function(e){return e instanceof A},E=function e(t,n,r){var i;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;w[s]=t,i=s}return!r&&i&&(v=i),i||!r&&v},S=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new A(n)},k=m;k.l=E,k.i=_,k.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=E(e.locale,null,!0),this.parse(e)}var b=g.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return k},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},b.isAfter=function(e,t){return S(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<S(e)},b.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var n=this,r=!!k.u(t)||t,l=k.p(e),h=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},y=this.$W,g=this.$M,b=this.$D,m="set"+(this.$u?"UTC":"");switch(l){case f:return r?h(1,0):h(31,11);case u:return r?h(1,g):h(0,g+1);case c:var v=this.$locale().weekStart||0,w=(y<v?y+7:y)-v;return h(r?b-w:b+(6-w),g);case s:case d:return p(m+"Hours",0);case a:return p(m+"Minutes",1);case o:return p(m+"Seconds",2);case i:return p(m+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var n,c=k.p(e),l="set"+(this.$u?"UTC":""),h=(n={},n[s]=l+"Date",n[d]=l+"Date",n[u]=l+"Month",n[f]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],p=c===s?this.$D+(t-this.$W):t;if(c===u||c===f){var y=this.clone().set(d,1);y.$d[h](p),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[k.p(e)]()},b.add=function(r,l){var d,h=this;r=Number(r);var p=k.p(l),y=function(e){var t=S(h);return k.w(t.date(t.date()+Math.round(e*r)),h)};if(p===u)return this.set(u,this.$M+r);if(p===f)return this.set(f,this.$y+r);if(p===s)return y(1);if(p===c)return y(7);var g=(d={},d[o]=t,d[a]=n,d[i]=e,d)[p]||1,b=this.$d.getTime()+r*g;return k.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),o=this.$H,a=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=n.meridiem,f=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},d=function(e){return k.s(o%12||12,e,"0")},p=l||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(y,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return s+1;case"MM":return k.s(s+1,2,"0");case"MMM":return f(n.monthsShort,s,u,3);case"MMMM":return f(u,s);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(n.weekdaysMin,t.$W,c,2);case"ddd":return f(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return k.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(o,a,!0);case"A":return p(o,a,!1);case"m":return String(a);case"mm":return k.s(a,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(r,d,h){var p,y=this,g=k.p(d),b=S(r),m=(b.utcOffset()-this.utcOffset())*t,v=this-b,w=function(){return k.m(y,b)};switch(g){case f:p=w()/12;break;case u:p=w();break;case l:p=w()/3;break;case c:p=(v-m)/6048e5;break;case s:p=(v-m)/864e5;break;case a:p=v/n;break;case o:p=v/t;break;case i:p=v/e;break;default:p=v}return h?p:k.a(p)},b.daysInMonth=function(){return this.endOf(u).$D},b.$locale=function(){return w[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=E(e,t,!0);return r&&(n.$L=r),n},b.clone=function(){return k.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},g}(),O=A.prototype;return S.prototype=O,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",f],["$D",d]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,A,S),e.$i=!0),S},S.locale=E,S.isDayjs=_,S.unix=function(e){return S(1e3*e)},S.en=w[v],S.Ls=w,S.p={},S}()},98507:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e){return e>1&&e<5&&1!=~~(e/10)}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pár sekund":"pár sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?o+(r(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?o+(r(e)?"dny":"dní"):o+"dny";case"M":return t||i?"měsíc":"měsícem";case"MM":return t||i?o+(r(e)?"měsíce":"měsíců"):o+"měsíci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?o+(r(e)?"roky":"let"):o+"lety"}}var o={name:"cs",weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),months:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),monthsShort:"led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(e){return e+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"před %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i}};return n.default.locale(o,null,!0),o}(n(27484))},17427:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"da",weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn._man._tirs._ons._tors._fre._lør.".split("_"),weekdaysMin:"sø._ma._ti._on._to._fr._lø.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,ordinal:function(e){return e+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"}};return n.default.locale(r,null,!0),r}(n(27484))},67763:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return n.default.locale(r,null,!0),r}(n(27484))},47822:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e,t,n,r){var i={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"päivä",dd:"%d päivää",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_neljä_viisi_kuusi_seitsemän_kahdeksan_yhdeksän".split("_")},o={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"päivän",dd:"%d päivän",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_neljän_viiden_kuuden_seitsemän_kahdeksan_yhdeksän".split("_")},a=r&&!t?o:i,s=a[n];return e<10?s.replace("%d",a.numbers[e]):s.replace("%d",e)}var i={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s päästä",past:"%s sitten",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return n.default.locale(i,null,!0),i}(n(27484))},96023:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(r,null,!0),r}(n(27484))},77573:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return n.default.locale(r,null,!0),r}(n(27484))},15551:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"º"}};return n.default.locale(r,null,!0),r}(n(27484))},15473:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"mr",weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"}};return n.default.locale(r,null,!0),r}(n(27484))},81987:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesiące":"miesięcy");case"yy":return i+(r(e)?"lata":"lat")}}var o="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),a="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),s=/D MMMM/,c=function(e,t){return s.test(t)?o[e.month()]:a[e.month()]};c.s=a,c.f=o;var u={name:"pl",weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),months:c,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:i,mm:i,h:i,hh:i,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:i,y:"rok",yy:i},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return n.default.locale(u,null,!0),u}(n(27484))},57548:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"pt-br",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"º"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return n.default.locale(r,null,!0),r}(n(27484))},91876:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"sv",weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(e){var t=e%10;return"["+e+(1===t||2===t?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"}};return n.default.locale(r,null,!0),r}(n(27484))},33852:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r}(n(27484))},37412:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},86428:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ECPairFactory=t.networks=void 0;const r=n(14644);t.networks=r;const i=n(4844),o=n(61798),a=n(37174),s=n(25049),c=i.typeforce.maybe(i.typeforce.compile({compressed:i.maybe(i.Boolean),network:i.maybe(i.Network)}));t.ECPairFactory=function(e){function t(buffer,t){if(i.typeforce(i.Buffer256bit,buffer),!e.isPrivate(buffer))throw new TypeError("Private key not in range [1, n)");return i.typeforce(c,t),new u(buffer,void 0,t)}function n(buffer,t){return i.typeforce(e.isPoint,buffer),i.typeforce(c,t),new u(void 0,buffer,t)}(0,s.testEcc)(e);class u{__D;__Q;compressed;network;lowR;constructor(t,n,i){this.__D=t,this.__Q=n,this.lowR=!1,void 0===i&&(i={}),this.compressed=void 0===i.compressed||i.compressed,this.network=i.network||r.bitcoin,void 0!==n&&(this.__Q=Buffer.from(e.pointCompress(n,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const t=e.pointFromScalar(this.__D,this.compressed);this.__Q=Buffer.from(t)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return a.encode(this.network.wif,this.__D,this.compressed)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}sign(t,n){if(!this.__D)throw new Error("Missing private key");if(void 0===n&&(n=this.lowR),!1===n)return Buffer.from(e.sign(t,this.__D));{let n=e.sign(t,this.__D);const r=Buffer.alloc(32,0);let i=0;for(;n[0]>127;)i++,r.writeUIntLE(i,0,6),n=e.sign(t,this.__D,r);return Buffer.from(n)}}signSchnorr(t){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return Buffer.from(e.signSchnorr(t,this.privateKey))}verify(t,n){return e.verify(t,this.publicKey,n)}verifySchnorr(t,n){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),n)}tweakFromPublicKey(t){const r=32===(i=this.publicKey).length?i:i.slice(1,33);var i;const o=e.xOnlyPointAddTweak(r,t);if(!o||null===o.xOnlyPubkey)throw new Error("Cannot tweak public key!");const a=Buffer.from([0===o.parity?2:3]);return n(Buffer.concat([a,o.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(n){const r=3===this.publicKey[0]||4===this.publicKey[0]&&1==(1&this.publicKey[64])?e.privateNegate(this.privateKey):this.privateKey,i=e.privateAdd(r,n);if(!i)throw new Error("Invalid tweaked private key!");return t(Buffer.from(i),{network:this.network,compressed:this.compressed})}}return{isPoint:function(t){return e.isPoint(t)},fromPrivateKey:t,fromPublicKey:n,fromWIF:function(e,n){const o=a.decode(e),s=o.version;if(i.Array(n)){if(!(n=n.filter((e=>s===e.wif)).pop()))throw new Error("Unknown network version")}else if(n=n||r.bitcoin,s!==n.wif)throw new Error("Invalid network version");return t(o.privateKey,{compressed:o.compressed,network:n})},makeRandom:function(n){i.typeforce(c,n),void 0===n&&(n={});const r=n.rng||o;let a;do{a=r(32),i.typeforce(i.Buffer256bit,a)}while(!e.isPrivate(a));return t(a,n)}}}},45217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networks=t.ECPairFactory=t.default=void 0;var r=n(86428);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.ECPairFactory}}),Object.defineProperty(t,"ECPairFactory",{enumerable:!0,get:function(){return r.ECPairFactory}}),Object.defineProperty(t,"networks",{enumerable:!0,get:function(){return r.networks}})},14644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},25049:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testEcc=void 0;const r=e=>Buffer.from(e,"hex");function i(e){if(!e)throw new Error("ecc library invalid")}t.testEcc=function(e){i(e.isPoint(r("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),i(!e.isPoint(r("030000000000000000000000000000000000000000000000000000000000000005"))),i(e.isPrivate(r("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),i(e.isPrivate(r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),i(!e.isPrivate(r("0000000000000000000000000000000000000000000000000000000000000000"))),i(!e.isPrivate(r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),i(!e.isPrivate(r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),i(Buffer.from(e.privateAdd(r("0000000000000000000000000000000000000000000000000000000000000001"),r("0000000000000000000000000000000000000000000000000000000000000000"))).equals(r("0000000000000000000000000000000000000000000000000000000000000001"))),i(null===e.privateAdd(r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),r("0000000000000000000000000000000000000000000000000000000000000003"))),i(Buffer.from(e.privateAdd(r("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),r("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(r("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),i(Buffer.from(e.privateNegate(r("0000000000000000000000000000000000000000000000000000000000000001"))).equals(r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),i(Buffer.from(e.privateNegate(r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(r("0000000000000000000000000000000000000000000000000000000000000003"))),i(Buffer.from(e.privateNegate(r("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(r("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),i(Buffer.from(e.pointCompress(r("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(r("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),i(Buffer.from(e.pointCompress(r("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(r("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),i(Buffer.from(e.pointCompress(r("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(r("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),i(Buffer.from(e.pointCompress(r("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(r("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),i(Buffer.from(e.pointFromScalar(r("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(r("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),i(null===e.xOnlyPointAddTweak(r("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(r("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),r("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));i(Buffer.from(t.xOnlyPubkey).equals(r("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(r("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),r("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),i(Buffer.from(t.xOnlyPubkey).equals(r("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===t.parity),i(Buffer.from(e.sign(r("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(r("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),i(e.verify(r("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),r("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),r("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&i(Buffer.from(e.signSchnorr(r("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),r("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),r("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(r("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&i(e.verifySchnorr(r("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),r("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),r("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},4844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybe=t.Boolean=t.Array=t.Buffer256bit=t.Network=t.typeforce=void 0,t.typeforce=n(2401),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.maybe=t.typeforce.maybe},86266:(e,t,n)=>{"use strict";var r=t;r.version=n(18597).i8,r.utils=n(80953),r.rand=n(29931),r.curve=n(88254),r.curves=n(45427),r.ec=n(57954),r.eddsa=n(65980)},4918:(e,t,n)=>{"use strict";var r=n(13550),i=n(80953),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=o(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<r.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+r[l];u.push(c)}for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?d=d.mixedAdd(n.points[a]):c===-h&&(d=d.mixedAdd(n.points[a].neg()));f=f.add(d)}return f.toP()},c.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var l=0;u>=0&&0===a[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var f=a[u];s(0!==f),c="affine"===e.type?f>0?c.mixedAdd(i[f-1>>1]):c.mixedAdd(i[-f-1>>1].neg()):f>0?c.add(i[f-1>>1]):c.add(i[-f-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,r,i){var s,c,u,l=this._wnafT1,f=this._wnafT2,d=this._wnafT3,h=0;for(s=0;s<r;s++){var p=(u=t[s])._getNAFPoints(e);l[s]=p.wnd,f[s]=p.points}for(s=r-1;s>=1;s-=2){var y=s-1,g=s;if(1===l[y]&&1===l[g]){var b=[t[y],null,null,t[g]];0===t[y].y.cmp(t[g].y)?(b[1]=t[y].add(t[g]),b[2]=t[y].toJ().mixedAdd(t[g].neg())):0===t[y].y.cmp(t[g].y.redNeg())?(b[1]=t[y].toJ().mixedAdd(t[g]),b[2]=t[y].add(t[g].neg())):(b[1]=t[y].toJ().mixedAdd(t[g]),b[2]=t[y].toJ().mixedAdd(t[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(n[y],n[g]);for(h=Math.max(v[0].length,h),d[y]=new Array(h),d[g]=new Array(h),c=0;c<h;c++){var w=0|v[0][c],_=0|v[1][c];d[y][c]=m[3*(w+1)+(_+1)],d[g][c]=0,f[y]=b}}else d[y]=o(n[y],l[y],this._bitLength),d[g]=o(n[g],l[g],this._bitLength),h=Math.max(d[y].length,h),h=Math.max(d[g].length,h)}var E=this.jpoint(null,null,null),S=this._wnafT4;for(s=h;s>=0;s--){for(var k=0;s>=0;){var A=!0;for(c=0;c<r;c++)S[c]=0|d[c][s],0!==S[c]&&(A=!1);if(!A)break;k++,s--}if(s>=0&&k++,E=E.dblp(k),s<0)break;for(c=0;c<r;c++){var O=S[c];0!==O&&(O>0?u=f[c][O-1>>1]:O<0&&(u=f[c][-O-1>>1].neg()),E="affine"===u.type?E.mixedAdd(u):E.add(u))}}for(s=0;s<r;s++)f[s]=null;return i?E:E.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},31138:(e,t,n)=>{"use strict";var r=n(80953),i=n(13550),o=n(35717),a=n(4918),s=r.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,n,r){return new u(this,e,t,n,r)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),c=i.redMul(a),u=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(c,u,f,l)},u.prototype._projDbl=function(){var e,t,n,r,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(r=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(r.redSub(c)),n=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(r.redSub(c)),n=u.redMul(o))}else r=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(r)).redMul(o),t=this.curve._mulC(r).redMul(s.redISub(c)),n=r.redMul(o);return this.curve.point(e,t,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),c=n.redAdd(t),u=o.redMul(a),l=s.redMul(c),f=o.redMul(c),d=a.redMul(s);return this.curve.point(u,l,d,f)},u.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=r.redMul(c).redMul(l);return this.curve.twisted?(t=r.redMul(u).redMul(a.redSub(this.curve._mulA(o))),n=c.redMul(u)):(t=r.redMul(u).redMul(a.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,n)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},u.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},88254:(e,t,n)=>{"use strict";var r=t;r.base=n(4918),r.short=n(6673),r.mont=n(22881),r.edwards=n(31138)},22881:(e,t,n)=>{"use strict";var r=n(13550),i=n(35717),o=n(4918),a=n(80953);function s(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(e,t,n)=>{"use strict";var r=n(80953),i=n(13550),o=n(35717),a=n(4918),s=r.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),y=new i(0),g=new i(0),b=new i(1),m=0;0!==d.cmpn(0);){var v=h.div(d);u=h.sub(v.mul(d)),l=g.sub(v.mul(p));var w=b.sub(v.mul(y));if(!r&&u.cmp(f)<0)t=c.neg(),n=p,r=u.neg(),o=l;else if(r&&2==++m)break;c=u,h=d,d=u,g=p,p=l,b=y,y=w}a=u.neg(),s=l;var _=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),c=i.mul(n.b),u=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[2*o]=s,r[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,n){return new u(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},u.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),c.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),f=r.redMul(u),d=c.redSqr().redIAdd(l).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=n.redMul(c),f=s.redSqr().redIAdd(u).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),f=u.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),p=o.redMul(f),y=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),b=h.redMul(g);b=b.redIAdd(b).redISub(d);var m=u.redMul(s);t+1<e&&(c=c.redMul(d)),o=y,s=m,u=b}return this.curve.jpoint(o,u.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=y.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),y=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=h.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,h)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:(e,t,n)=>{"use strict";var r,i=t,o=n(33715),a=n(88254),s=n(80953).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(91037)}catch(e){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},57954:(e,t,n)=>{"use strict";var r=n(13550),i=n(2156),o=n(80953),a=n(45427),s=n(29931),c=o.assert,u=n(31251),l=n(90611);function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new u(this,e)},f.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new r(1)),d=0;;d++){var h=o.k?o.k(d):new r(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),g=y.umod(this.n);if(0!==g.cmpn(0)){var b=h.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==y.cmp(g)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),m^=1),new l({r:g,s:b,recoveryParam:m})}}}}}},f.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,n.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,n,i){c((3&n)===n,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,a=new r(e),s=t.r,u=t.s,f=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),y=u.mul(h).umod(o);return this.g.mulAdd(p,s,y)},f.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new l(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},31251:(e,t,n)=>{"use strict";var r=n(13550),i=n(80953).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(e,t,n)=>{"use strict";var r=n(13550),i=n(80953),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;var o=c(e,n);if(!1===o)return!1;if(o+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=c(e,n);if(!1===a)return!1;var u=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var l=c(e,n);if(!1===l)return!1;if(e.length!==l+n.place)return!1;var f=e.slice(n.place,l+n.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new r(u),this.s=new r(f),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=u(t),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}},65980:(e,t,n)=>{"use strict";var r=n(33715),i=n(45427),o=n(80953),a=o.assert,s=o.parseBytes,c=n(79087),u=n(23622);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},79087:(e,t,n)=>{"use strict";var r=n(80953),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},23622:(e,t,n)=>{"use strict";var r=n(13550),i=n(80953),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},91037:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(e,t,n)=>{"use strict";var r=t,i=n(13550),o=n(79746),a=n(34504);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=0==(1&c)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==u?c:-c,n[0].push(a),s=0==(1&u)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==c?u:-u,n[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},17187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3349:(e,t,n)=>{"use strict";var Buffer=n(89509).Buffer,r=n(88473).Transform;function i(e){r.call(this),this._block=Buffer.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(35717)(i,r),i.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");Buffer.isBuffer(e)||(e=Buffer.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)n[i++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var o=0,a=8*e.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},33715:(e,t,n)=>{var r=t;r.utils=n(26436),r.common=n(95772),r.sha=n(89041),r.ripemd=n(12949),r.hmac=n(52344),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},95772:(e,t,n)=>{"use strict";var r=n(26436),i=n(79746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},52344:(e,t,n)=>{"use strict";var r=n(26436),i=n(79746);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},12949:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=r.rotl32,a=r.sum32,s=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],m=n,v=r,w=i,_=u,E=l,S=0;S<80;S++){var k=a(o(c(n,f(S,r,i,u),e[p[S]+t],d(S)),g[S]),l);n=l,l=u,u=o(i,10),i=r,r=k,k=a(o(c(m,f(79-S,v,w,_),e[y[S]+t],h(S)),b[S]),E),m=E,E=_,_=o(w,10),w=v,v=k}k=s(this.h[1],i,_),this.h[1]=s(this.h[2],u,E),this.h[2]=s(this.h[3],l,m),this.h[3]=s(this.h[4],n,v),this.h[4]=s(this.h[0],r,w),this.h[0]=k},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(e,t,n)=>{"use strict";t.sha1=n(84761),t.sha224=n(10799),t.sha256=n(89344),t.sha384=n(80772),t.sha512=n(45900)},84761:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(37038),a=r.rotl32,s=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),y=c(a(i,5),u(p,o,l,d),h,n[r],f[p]);h=d,d=l,l=a(o,30),o=i,i=y}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},10799:(e,t,n)=>{"use strict";var r=n(26436),i=n(89344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},89344:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(37038),a=n(79746),s=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,y=o.g1_256,g=i.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}r.inherits(m,g),e.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(y(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],g=this.h[2],b=this.h[3],m=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var E=u(_,h(m),l(m,v,w),this.k[r],n[r]),S=s(d(i),f(i,o,g));_=w,w=v,v=m,m=s(b,E),b=g,g=o,o=i,i=s(E,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],b),this.h[4]=s(this.h[4],m),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},m.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},80772:(e,t,n)=>{"use strict";var r=n(26436),i=n(45900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},45900:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(79746),a=r.rotr64_hi,s=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,y=r.sum64_5_hi,g=r.sum64_5_lo,b=i.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function w(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function E(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function S(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function k(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function O(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function P(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function I(e,t){var n=a(e,t,1)^a(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=s(e,t,1)^s(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function N(e,t){var n=a(e,t,19)^a(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function x(e,t){var n=s(e,t,19)^s(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(v,b),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=N(n[r-4],n[r-3]),o=x(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],c=I(n[r-30],n[r-29]),u=T(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=h(i,o,a,s,c,u,l,f),n[r+1]=p(i,o,a,s,c,u,l,f)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],m=this.h[9],v=this.h[10],I=this.h[11],T=this.h[12],N=this.h[13],x=this.h[14],R=this.h[15];o(this.k.length===n.length);for(var C=0;C<n.length;C+=2){var B=x,L=R,j=O(b,m),D=P(b,m),U=w(b,m,v,I,T),M=_(b,m,v,I,T,N),H=this.k[C],z=this.k[C+1],F=n[C],K=n[C+1],q=y(B,L,j,D,U,M,H,z,F,K),V=g(B,L,j,D,U,M,H,z,F,K);B=k(r,i),L=A(r,i),j=E(r,i,a,s,c),D=S(r,i,a,s,c,u);var W=f(B,L,j,D),G=d(B,L,j,D);x=T,R=N,T=v,N=I,v=b,I=m,b=f(h,p,q,V),m=d(p,p,q,V),h=c,p=u,c=a,u=s,a=r,s=i,r=f(q,V,W,G),i=d(q,V,W,G)}l(this.h,0,r,i),l(this.h,2,a,s),l(this.h,4,c,u),l(this.h,6,h,p),l(this.h,8,b,m),l(this.h,10,v,I),l(this.h,12,T,N),l(this.h,14,x,R)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},37038:(e,t,n)=>{"use strict";var r=n(26436).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},26436:(e,t,n)=>{"use strict";var r=n(79746),i=n(35717);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=c(i.toString(16))}return n},t.zero2=s,t.zero8=c,t.join32=function(e,t,n,i){var o=n-t;r(o%4==0);for(var a=new Array(o/4),s=0,c=t;s<a.length;s++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[s]=u>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,s){var c=0,u=t;return c+=(u=u+r>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+n+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,s,c,u){var l=0,f=t;return l+=(f=f+r>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+n+i+a+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,s,c,u){return t+r+o+s+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},2156:(e,t,n)=>{"use strict";var r=n(33715),i=n(34504),o=n(79746);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},80645:(e,t)=>{t.read=function(buffer,e,t,n,r){var i,o,a=8*r-n-1,s=(1<<a)-1,c=s>>1,u=-7,l=t?r-1:0,f=t?-1:1,d=buffer[e+l];for(l+=f,i=d&(1<<-u)-1,d>>=-u,u+=a;u>0;i=256*i+buffer[e+l],l+=f,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=256*o+buffer[e+l],l+=f,u-=8);if(0===i)i=1-c;else{if(i===s)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),i-=c}return(d?-1:1)*o*Math.pow(2,i-n)},t.write=function(buffer,e,t,n,r,i){var o,a,s,c=8*i-r-1,u=(1<<c)-1,l=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,h=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-o))<1&&(o--,s*=2),(e+=o+l>=1?f/s:f*Math.pow(2,1-l))*s>=2&&(o++,s/=2),o+l>=u?(a=0,o=u):o+l>=1?(a=(e*s-1)*Math.pow(2,r),o+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,r),o=0));r>=8;buffer[t+d]=255&a,d+=h,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;buffer[t+d]=255&o,d+=h,o/=256,c-=8);buffer[t+d-h]|=128*p}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},6264:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const r=n(55815),i=n(41502),o=n(78668),a=n(25735),s=n(27715),c=n(58334),u=40,l=2,f=16,d=2,h=80,p="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function y(e){const t=c.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function g(e){let t,n;try{t=s.bech32.decode(e)}catch(e){}if(t){if(n=t.words[0],0!==n)throw new TypeError(e+" uses wrong encoding")}else if(t=s.bech32m.decode(e),n=t.words[0],0===n)throw new TypeError(e+" uses wrong encoding");const r=s.bech32.fromWords(t.words.slice(1));return{version:n,prefix:t.prefix,data:Buffer.from(r)}}function b(e,t,n){const r=s.bech32.toWords(e);return r.unshift(t),0===t?s.bech32.encode(n,r):s.bech32m.encode(n,r)}t.fromBase58Check=y,t.fromBech32=g,t.toBase58Check=function(e,t){(0,a.typeforce)((0,a.tuple)(a.Hash160bit,a.UInt8),arguments);const n=Buffer.allocUnsafe(21);return n.writeUInt8(t,0),e.copy(n,1),c.encode(n)},t.toBech32=b,t.fromOutputScript=function(e,t){t=t||r.bitcoin;try{return i.p2pkh({output:e,network:t}).address}catch(e){}try{return i.p2sh({output:e,network:t}).address}catch(e){}try{return i.p2wpkh({output:e,network:t}).address}catch(e){}try{return i.p2wsh({output:e,network:t}).address}catch(e){}try{return i.p2tr({output:e,network:t}).address}catch(e){}try{return function(e,t){const n=e.slice(2);if(n.length<l||n.length>u)throw new TypeError("Invalid program length for segwit address");const r=e[0]-h;if(r<d||r>f)throw new TypeError("Invalid version for segwit address");if(e[1]!==n.length)throw new TypeError("Invalid script for segwit address");return console.warn(p),b(n,r,t.bech32)}(e,t)}catch(e){}throw new Error(o.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let n,a;t=t||r.bitcoin;try{n=y(e)}catch(e){}if(n){if(n.version===t.pubKeyHash)return i.p2pkh({hash:n.hash}).output;if(n.version===t.scriptHash)return i.p2sh({hash:n.hash}).output}else{try{a=g(e)}catch(e){}if(a){if(a.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===a.version){if(20===a.data.length)return i.p2wpkh({hash:a.data}).output;if(32===a.data.length)return i.p2wsh({hash:a.data}).output}else if(1===a.version){if(32===a.data.length)return i.p2tr({pubkey:a.data}).output}else if(a.version>=d&&a.version<=f&&a.data.length>=l&&a.data.length<=u)return console.warn(p),o.compile([a.version+h,a.data])}}throw new Error(e+" has no matching Script")}},15999:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(buffer){if(buffer.length<8)return!1;if(buffer.length>72)return!1;if(48!==buffer[0])return!1;if(buffer[1]!==buffer.length-2)return!1;if(2!==buffer[2])return!1;const e=buffer[3];if(0===e)return!1;if(5+e>=buffer.length)return!1;if(2!==buffer[4+e])return!1;const t=buffer[5+e];return 0!==t&&(6+e+t===buffer.length&&(!(128&buffer[4])&&(!(e>1&&0===buffer[4]&&!(128&buffer[5]))&&(!(128&buffer[e+6])&&!(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))))))},t.decode=function(buffer){if(buffer.length<8)throw new Error("DER sequence length is too short");if(buffer.length>72)throw new Error("DER sequence length is too long");if(48!==buffer[0])throw new Error("Expected DER sequence");if(buffer[1]!==buffer.length-2)throw new Error("DER sequence length is invalid");if(2!==buffer[2])throw new Error("Expected DER integer");const e=buffer[3];if(0===e)throw new Error("R length is zero");if(5+e>=buffer.length)throw new Error("R length is too long");if(2!==buffer[4+e])throw new Error("Expected DER integer (2)");const t=buffer[5+e];if(0===t)throw new Error("S length is zero");if(6+e+t!==buffer.length)throw new Error("S length is invalid");if(128&buffer[4])throw new Error("R value is negative");if(e>1&&0===buffer[4]&&!(128&buffer[5]))throw new Error("R value excessively padded");if(128&buffer[e+6])throw new Error("S value is negative");if(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))throw new Error("S value excessively padded");return{r:buffer.slice(4,4+e),s:buffer.slice(6+e)}},t.encode=function(e,t){const n=e.length,r=t.length;if(0===n)throw new Error("R length is zero");if(0===r)throw new Error("S length is zero");if(n>33)throw new Error("R length is too long");if(r>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(n>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const i=Buffer.allocUnsafe(6+n+r);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+n]=2,i[5+n]=t.length,t.copy(i,6+n),i}},57046:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const r=n(74929),i=n(76e3),o=n(22787),a=n(95262),s=n(25735),{typeforce:c}=s,u=new TypeError("Cannot compute merkle root for zero transactions"),l=new TypeError("Cannot compute witness commit for non-segwit block");class f{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(buffer){if(buffer.length<80)throw new Error("Buffer too small (< 80 bytes)");const e=new r.BufferReader(buffer),t=new f;if(t.version=e.readInt32(),t.prevHash=e.readSlice(32),t.merkleRoot=e.readSlice(32),t.timestamp=e.readUInt32(),t.bits=e.readUInt32(),t.nonce=e.readUInt32(),80===buffer.length)return t;const n=()=>{const t=a.Transaction.fromBuffer(e.buffer.slice(e.offset),!0);return e.offset+=t.byteLength(),t},i=e.readVarInt();t.transactions=[];for(let e=0;e<i;++e){const e=n();t.transactions.push(e)}const o=t.getWitnessCommit();return o&&(t.witnessCommit=o),t}static fromHex(e){return f.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,n=8388607&e,r=Buffer.alloc(32,0);return r.writeUIntBE(n,29-t,3),r}static calculateMerkleRoot(e,t){if(c([{getHash:s.Function}],e),0===e.length)throw u;if(t&&!d(e))throw l;const n=e.map((e=>e.getHash(t))),r=(0,o.fastMerkleRoot)(n,i.hash256);return t?i.hash256(Buffer.concat([r,e[0].ins[0].witness[0]])):r}getWitnessCommit(){if(!d(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof Buffer&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+r.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,n)=>e+n.byteLength(t)),0)}getHash(){return i.hash256(this.toBuffer(!0))}getId(){return(0,r.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const buffer=Buffer.allocUnsafe(this.byteLength(e)),t=new r.BufferWriter(buffer);return t.writeInt32(this.version),t.writeSlice(this.prevHash),t.writeSlice(this.merkleRoot),t.writeUInt32(this.timestamp),t.writeUInt32(this.bits),t.writeUInt32(this.nonce),e||!this.transactions||(r.varuint.encode(this.transactions.length,buffer,t.offset),t.offset+=r.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(buffer,t.offset),t.offset+=n}))),buffer}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit()))}checkProofOfWork(){const e=(0,r.reverseBuffer)(this.getHash()),t=f.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw u;const e=f.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw u;if(!this.hasWitnessCommit())throw l;const e=f.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function d(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=f},74929:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const r=n(25735),{typeforce:i}=r,o=n(57795);function a(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function s(buffer,e){const t=buffer.readUInt32LE(e);let n=buffer.readUInt32LE(e+4);return n*=4294967296,a(n+t,9007199254740991),n+t}function c(buffer,e,t){return a(e,9007199254740991),buffer.writeInt32LE(-1&e,t),buffer.writeUInt32LE(Math.floor(e/4294967296),t+4),t+8}t.varuint=o,t.readUInt64LE=s,t.writeUInt64LE=c,t.reverseBuffer=function(buffer){if(buffer.length<1)return buffer;let e=buffer.length-1,t=0;for(let n=0;n<buffer.length/2;n++)t=buffer[n],buffer[n]=buffer[e],buffer[e]=t,e--;return buffer},t.cloneBuffer=function(buffer){const e=Buffer.allocUnsafe(buffer.length);return buffer.copy(e),e};class u{static withCapacity(e){return new u(Buffer.alloc(e))}constructor(buffer,e=0){this.buffer=buffer,this.offset=e,i(r.tuple(r.Buffer,r.UInt32),[buffer,e])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=c(this.buffer,e,this.offset)}writeVarInt(e){o.encode(e,this.buffer,this.offset),this.offset+=o.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=u;t.BufferReader=class{constructor(buffer,e=0){this.buffer=buffer,this.offset=e,i(r.tuple(r.Buffer,r.UInt32),[buffer,e])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=s(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=o.decode(this.buffer,this.offset);return this.offset+=o.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let n=0;n<e;n++)t.push(this.readVarSlice());return t}}},76e3:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const r=n(23482),i=n(79785);function o(buffer){try{return r("rmd160").update(buffer).digest()}catch(e){try{return r("ripemd160").update(buffer).digest()}catch(e){return(new i).update(buffer).digest()}}}function a(buffer){return r("sha256").update(buffer).digest()}t.ripemd160=o,t.sha1=function(buffer){return r("sha1").update(buffer).digest()},t.sha256=a,t.hash160=function(buffer){return o(a(buffer))},t.hash256=function(buffer){return a(a(buffer))};const s=Object.fromEntries(["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"].map((e=>{const t=a(Buffer.from(e));return[e,Buffer.concat([t,t])]})));t.taggedHash=function(e,t){return a(Buffer.concat([s[e],t]))}},32698:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getEccLib=t.initEccLib=void 0;const r={};t.initEccLib=function(e){var t;e?e!==r.eccLib&&(o("function"==typeof(t=e).isXOnlyPoint),o(t.isXOnlyPoint(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(t.isXOnlyPoint(i("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),o(t.isXOnlyPoint(i("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),o(t.isXOnlyPoint(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(!t.isXOnlyPoint(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!t.isXOnlyPoint(i("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),o("function"==typeof t.xOnlyPointAddTweak),a.forEach((e=>{const n=t.xOnlyPointAddTweak(i(e.pubkey),i(e.tweak));null===e.result?o(null===n):(o(null!==n),o(n.parity===e.parity),o(Buffer.from(n.xOnlyPubkey).equals(i(e.result))))})),r.eccLib=e):r.eccLib=e},t.getEccLib=function(){if(!r.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return r.eccLib};const i=e=>Buffer.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}const a=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},43513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEccLib=t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;const r=n(6264);t.address=r;const i=n(76e3);t.crypto=i;const o=n(55815);t.networks=o;const a=n(41502);t.payments=a;const s=n(78668);t.script=s;var c=n(57046);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return c.Block}});var u=n(28207);Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return u.Psbt}});var l=n(26308);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return l.OPS}});var f=n(95262);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return f.Transaction}});var d=n(32698);Object.defineProperty(t,"initEccLib",{enumerable:!0,get:function(){return d.initEccLib}})},22787:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let n=e.length;const r=e.concat();for(;n>1;){let e=0;for(let i=0;i<n;i+=2,++e){const o=r[i],a=i+1===n?o:r[i+1],s=Buffer.concat([o,a]);r[e]=t(s)}n=e}return r[0]}},55815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},26308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const n={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=n;const r={};t.REVERSE_OPS=r;for(const e of Object.keys(n)){r[n[e]]=e}},54246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const r=n(48764),i=n(32698),o=n(76e3),a=n(74929),s=n(25735);t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;function c(e){const n=e.version||t.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",r.Buffer.concat([r.Buffer.from([n]),f(e.output)]))}function u(e,t){return o.taggedHash("TapTweak",r.Buffer.concat(t?[e,t]:[e]))}function l(e,t){return o.taggedHash("TapBranch",r.Buffer.concat([e,t]))}function f(e){const t=a.varuint.encodingLength(e.length),buffer=r.Buffer.allocUnsafe(t);return a.varuint.encode(e.length,buffer),r.Buffer.concat([buffer,e])}t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const n=(e.length-33)/32;let r=t;for(let t=0;t<n;t++){const n=e.slice(33+32*t,65+32*t);r=r.compare(n)<0?l(r,n):l(n,r)}return r},t.toHashTree=function e(t){if((0,s.isTapleaf)(t))return{hash:c(t)};const n=[e(t[0]),e(t[1])];n.sort(((e,t)=>e.hash.compare(t.hash)));const[r,i]=n;return{hash:l(r.hash,i.hash),left:r,right:i}},t.findScriptPath=function e(t,n){if("left"in(r=t)&&"right"in r){const r=e(t.left,n);if(void 0!==r)return[...r,t.right.hash];const i=e(t.right,n);if(void 0!==i)return[...i,t.left.hash]}else if(t.hash.equals(n))return[];var r},t.tapleafHash=c,t.tapTweakHash=u,t.tweakKey=function(e,t){if(!r.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const n=u(e,t),o=(0,i.getEccLib)().xOnlyPointAddTweak(e,n);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:r.Buffer.from(o.xOnlyPubkey)}:null}},17109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const r=n(55815),i=n(78668),o=n(25735),a=n(21198),s=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const n={name:"embed",network:e.network||r.bitcoin};if(a.prop(n,"output",(()=>{if(e.data)return i.compile([s.OP_RETURN].concat(e.data))})),a.prop(n,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==s.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,e)}},41502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const r=n(17109);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return r.p2data}});const i=n(88910);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=n(21484);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const a=n(51636);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});const s=n(14476);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});const c=n(16410);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return c.p2wpkh}});const u=n(19944);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return u.p2wsh}});const l=n(99126);Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return l.p2tr}})},21198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=n.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},88910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const r=n(55815),i=n(78668),o=n(25735),a=n(21198),s=i.OPS,c=s.OP_RESERVED;function u(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function n(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===s.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(n)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const l={network:e.network||r.bitcoin};let f=[],d=!1;function h(e){d||(d=!0,f=i.decompile(e),l.m=f[0]-c,l.n=f[f.length-2]-c,l.pubkeys=f.slice(1,-2))}if(a.prop(l,"output",(()=>{if(e.m&&l.n&&e.pubkeys)return i.compile([].concat(c+e.m,e.pubkeys,c+l.n,s.OP_CHECKMULTISIG))})),a.prop(l,"m",(()=>{if(l.output)return h(l.output),l.m})),a.prop(l,"n",(()=>{if(l.pubkeys)return l.pubkeys.length})),a.prop(l,"pubkeys",(()=>{if(e.output)return h(e.output),l.pubkeys})),a.prop(l,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),a.prop(l,"input",(()=>{if(e.signatures)return i.compile([s.OP_0].concat(e.signatures))})),a.prop(l,"witness",(()=>{if(l.input)return[]})),a.prop(l,"name",(()=>{if(l.m&&l.n)return`p2ms(${l.m} of ${l.n})`})),t.validate){if(e.output){if(h(e.output),!o.typeforce.Number(f[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(f[f.length-2]))throw new TypeError("Output is invalid");if(f[f.length-1]!==s.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(l.m<=0||l.n>16||l.m>l.n||l.n!==f.length-3)throw new TypeError("Output is invalid");if(!l.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==l.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==l.n)throw new TypeError("n mismatch");if(e.pubkeys&&!u(e.pubkeys,l.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(l.n=e.pubkeys.length,l.n<l.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<l.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>l.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==s.OP_0)throw new TypeError("Input is invalid");if(0===l.signatures.length||!l.signatures.every(n))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!u(e.signatures,l.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(l,e)}},21484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const r=n(55815),i=n(78668),o=n(25735),a=n(21198),s=i.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const n=a.value((()=>i.decompile(e.input))),c={name:"p2pk",network:e.network||r.bitcoin};if(a.prop(c,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,s.OP_CHECKSIG])})),a.prop(c,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),a.prop(c,"signature",(()=>{if(e.input)return n()[0]})),a.prop(c,"input",(()=>{if(e.signature)return i.compile([e.signature])})),a.prop(c,"witness",(()=>{if(c.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==s.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(c.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(c.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(c.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==n().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(c.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(c,e)}},51636:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const r=n(76e3),i=n(55815),o=n(78668),a=n(25735),s=n(21198),c=n(58334),u=o.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},e);const n=s.value((()=>{const t=c.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),l=s.value((()=>o.decompile(e.input))),f=e.network||i.bitcoin,d={name:"p2pkh",network:f};if(s.prop(d,"address",(()=>{if(!d.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(f.pubKeyHash,0),d.hash.copy(e,1),c.encode(e)})),s.prop(d,"hash",(()=>e.output?e.output.slice(3,23):e.address?n().hash:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0)),s.prop(d,"output",(()=>{if(d.hash)return o.compile([u.OP_DUP,u.OP_HASH160,d.hash,u.OP_EQUALVERIFY,u.OP_CHECKSIG])})),s.prop(d,"pubkey",(()=>{if(e.input)return l()[1]})),s.prop(d,"signature",(()=>{if(e.input)return l()[0]})),s.prop(d,"input",(()=>{if(e.pubkey&&e.signature)return o.compile([e.signature,e.pubkey])})),s.prop(d,"witness",(()=>{if(d.input)return[]})),t.validate){let t=Buffer.from([]);if(e.address){if(n().version!==f.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw new TypeError("Invalid address");t=n().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==u.OP_DUP||e.output[1]!==u.OP_HASH160||20!==e.output[2]||e.output[23]!==u.OP_EQUALVERIFY||e.output[24]!==u.OP_CHECKSIG)throw new TypeError("Output is invalid");const n=e.output.slice(3,23);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.pubkey){const n=r.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const n=l();if(2!==n.length)throw new TypeError("Input is invalid");if(!o.isCanonicalScriptSignature(n[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(n[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(n[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(n[1]))throw new TypeError("Pubkey mismatch");const i=r.hash160(n[1]);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},14476:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const r=n(76e3),i=n(55815),o=n(78668),a=n(25735),s=n(21198),c=n(58334),u=o.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);let n=e.network;n||(n=e.redeem&&e.redeem.network||i.bitcoin);const l={network:n},f=s.value((()=>{const t=c.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),d=s.value((()=>o.decompile(e.input))),h=s.value((()=>{const t=d(),r=t[t.length-1];return{network:n,output:r===u.OP_FALSE?Buffer.from([]):r,input:o.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(s.prop(l,"address",(()=>{if(!l.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(l.network.scriptHash,0),l.hash.copy(e,1),c.encode(e)})),s.prop(l,"hash",(()=>e.output?e.output.slice(2,22):e.address?f().hash:l.redeem&&l.redeem.output?r.hash160(l.redeem.output):void 0)),s.prop(l,"output",(()=>{if(l.hash)return o.compile([u.OP_HASH160,l.hash,u.OP_EQUAL])})),s.prop(l,"redeem",(()=>{if(e.input)return h()})),s.prop(l,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return o.compile([].concat(o.decompile(e.redeem.input),e.redeem.output))})),s.prop(l,"witness",(()=>l.redeem&&l.redeem.witness?l.redeem.witness:l.input?[]:void 0)),s.prop(l,"name",(()=>{const e=["p2sh"];return void 0!==l.redeem&&void 0!==l.redeem.name&&e.push(l.redeem.name),e.join("-")})),t.validate){let t=Buffer.from([]);if(e.address){if(f().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==f().hash.length)throw new TypeError("Invalid address");t=f().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==u.OP_HASH160||20!==e.output[1]||e.output[22]!==u.OP_EQUAL)throw new TypeError("Output is invalid");const n=e.output.slice(2,22);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}const i=e=>{if(e.output){const n=o.decompile(e.output);if(!n||n.length<1)throw new TypeError("Redeem.output too short");const i=r.hash160(e.output);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch");t=i}if(e.input){const t=e.input.length>0,n=e.witness&&e.witness.length>0;if(!t&&!n)throw new TypeError("Empty input");if(t&&n)throw new TypeError("Input and witness provided");if(t){const t=o.decompile(e.input);if(!o.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=d();if(!e||e.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(h().output))throw new TypeError("Input is invalid");i(h())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.input){const t=h();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}i(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,e)}},99126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=void 0;const r=n(48764),i=n(55815),o=n(78668),a=n(25735),s=n(32698),c=n(54246),u=n(21198),l=n(27715),f=o.OPS;t.p2tr=function(e,t){if(!(e.address||e.output||e.pubkey||e.internalPubkey||e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(34)),internalPubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),pubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),signature:a.typeforce.maybe(a.typeforce.BufferN(64)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer)),scriptTree:a.typeforce.maybe(a.isTaptree),redeem:a.typeforce.maybe({output:a.typeforce.maybe(a.typeforce.Buffer),redeemVersion:a.typeforce.maybe(a.typeforce.Number),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),redeemVersion:a.typeforce.maybe(a.typeforce.Number)},e);const n=u.value((()=>{const t=l.bech32m.decode(e.address),n=t.words.shift(),i=l.bech32m.fromWords(t.words);return{version:n,prefix:t.prefix,data:r.Buffer.from(i)}})),d=u.value((()=>{if(e.witness&&e.witness.length)return e.witness.length>=2&&80===e.witness[e.witness.length-1][0]?e.witness.slice(0,-1):e.witness.slice()})),h=u.value((()=>e.scriptTree?(0,c.toHashTree)(e.scriptTree):e.hash?{hash:e.hash}:void 0)),p=e.network||i.bitcoin,y={name:"p2tr",network:p};if(u.prop(y,"address",(()=>{if(!y.pubkey)return;const e=l.bech32m.toWords(y.pubkey);return e.unshift(1),l.bech32m.encode(p.bech32,e)})),u.prop(y,"hash",(()=>{const e=h();if(e)return e.hash;const t=d();if(t&&t.length>1){const e=t[t.length-1],n=e[0]&a.TAPLEAF_VERSION_MASK,r=t[t.length-2],i=(0,c.tapleafHash)({output:r,version:n});return(0,c.rootHashFromPath)(e,i)}return null})),u.prop(y,"output",(()=>{if(y.pubkey)return o.compile([f.OP_1,y.pubkey])})),u.prop(y,"redeemVersion",(()=>e.redeemVersion?e.redeemVersion:e.redeem&&void 0!==e.redeem.redeemVersion&&null!==e.redeem.redeemVersion?e.redeem.redeemVersion:c.LEAF_VERSION_TAPSCRIPT)),u.prop(y,"redeem",(()=>{const e=d();if(e&&!(e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&a.TAPLEAF_VERSION_MASK}})),u.prop(y,"pubkey",(()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return n().data;if(y.internalPubkey){const e=(0,c.tweakKey)(y.internalPubkey,y.hash);if(e)return e.x}})),u.prop(y,"internalPubkey",(()=>{if(e.internalPubkey)return e.internalPubkey;const t=d();return t&&t.length>1?t[t.length-1].slice(1,33):void 0})),u.prop(y,"signature",(()=>{if(e.signature)return e.signature;const t=d();return t&&1===t.length?t[0]:void 0})),u.prop(y,"witness",(()=>{if(e.witness)return e.witness;const t=h();if(t&&e.redeem&&e.redeem.output&&e.internalPubkey){const n=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion}),i=(0,c.findScriptPath)(t,n);if(!i)return;const o=(0,c.tweakKey)(e.internalPubkey,t.hash);if(!o)return;const a=r.Buffer.concat([r.Buffer.from([y.redeemVersion|o.parity]),e.internalPubkey].concat(i));return[e.redeem.output,a]}return e.signature?[e.signature]:void 0})),t.validate){let t=r.Buffer.from([]);if(e.address){if(p&&p.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==n().version)throw new TypeError("Invalid address version");if(32!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.pubkey){if(t.length>0&&!t.equals(e.pubkey))throw new TypeError("Pubkey mismatch");t=e.pubkey}if(e.output){if(34!==e.output.length||e.output[0]!==f.OP_1||32!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");t=e.output.slice(2)}if(e.internalPubkey){const n=(0,c.tweakKey)(e.internalPubkey,y.hash);if(t.length>0&&!t.equals(n.x))throw new TypeError("Pubkey mismatch");t=n.x}if(t&&t.length&&!(0,s.getEccLib)().isXOnlyPoint(t))throw new TypeError("Invalid pubkey for p2tr");const i=h();if(e.hash&&i&&!e.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&i){const t=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion});if(!(0,c.findScriptPath)(i,t))throw new TypeError("Redeem script not in tree")}const u=d();if(e.redeem&&y.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==y.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(y.redeem.output&&!e.redeem.output.equals(y.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&y.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.redeem.witness,y.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(1===u.length){if(e.signature&&!e.signature.equals(u[0]))throw new TypeError("Signature mismatch")}else{const n=u[u.length-1];if(n.length<33)throw new TypeError(`The control-block length is too small. Got ${n.length}, expected min 33.`);if((n.length-33)%32!=0)throw new TypeError(`The control-block length of ${n.length} is incorrect!`);const r=(n.length-33)/32;if(r>128)throw new TypeError(`The script path is too long. Got ${r}, expected max 128.`);const i=n.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,s.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=n[0]&a.TAPLEAF_VERSION_MASK,l=u[u.length-2],f=(0,c.tapleafHash)({output:l,version:o}),d=(0,c.rootHashFromPath)(n,f),h=(0,c.tweakKey)(i,d);if(!h)throw new TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(h.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(h.parity!==(1&n[0]))throw new Error("Incorrect parity")}}return Object.assign(y,e)}},16410:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const r=n(76e3),i=n(55815),o=n(78668),a=n(25735),s=n(21198),c=n(27715),u=o.OPS,l=Buffer.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const n=s.value((()=>{const t=c.bech32.decode(e.address),n=t.words.shift(),r=c.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),f=e.network||i.bitcoin,d={name:"p2wpkh",network:f};if(s.prop(d,"address",(()=>{if(!d.hash)return;const e=c.bech32.toWords(d.hash);return e.unshift(0),c.bech32.encode(f.bech32,e)})),s.prop(d,"hash",(()=>e.output?e.output.slice(2,22):e.address?n().data:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0)),s.prop(d,"output",(()=>{if(d.hash)return o.compile([u.OP_0,d.hash])})),s.prop(d,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),s.prop(d,"signature",(()=>{if(e.witness)return e.witness[0]})),s.prop(d,"input",(()=>{if(d.witness)return l})),s.prop(d,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=Buffer.from([]);if(e.address){if(f&&f.bech32!==n().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw new TypeError("Invalid address version");if(20!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==u.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const n=r.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");if(t=n,!(0,a.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!o.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const n=r.hash160(e.witness[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},19944:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const r=n(76e3),i=n(55815),o=n(78668),a=n(25735),s=n(21198),c=n(27715),u=o.OPS,l=Buffer.alloc(0);function f(e){return!(!Buffer.isBuffer(e)||65!==e.length||4!==e[0]||!(0,a.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const n=s.value((()=>{const t=c.bech32.decode(e.address),n=t.words.shift(),r=c.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),d=s.value((()=>o.decompile(e.redeem.input)));let h=e.network;h||(h=e.redeem&&e.redeem.network||i.bitcoin);const p={network:h};if(s.prop(p,"address",(()=>{if(!p.hash)return;const e=c.bech32.toWords(p.hash);return e.unshift(0),c.bech32.encode(h.bech32,e)})),s.prop(p,"hash",(()=>e.output?e.output.slice(2):e.address?n().data:p.redeem&&p.redeem.output?r.sha256(p.redeem.output):void 0)),s.prop(p,"output",(()=>{if(p.hash)return o.compile([u.OP_0,p.hash])})),s.prop(p,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:l,witness:e.witness.slice(0,-1)}})),s.prop(p,"input",(()=>{if(p.witness)return l})),s.prop(p,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=o.toStack(d());return p.redeem=Object.assign({witness:t},e.redeem),p.redeem.input=l,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),s.prop(p,"name",(()=>{const e=["p2wsh"];return void 0!==p.redeem&&void 0!==p.redeem.name&&e.push(p.redeem.name),e.join("-")})),t.validate){let t=Buffer.from([]);if(e.address){if(n().prefix!==h.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw new TypeError("Invalid address version");if(32!==n().data.length)throw new TypeError("Invalid address data");t=n().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==u.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const n=e.output.slice(2);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem){if(e.redeem.network&&e.redeem.network!==h)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");const n=r.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem.input&&!o.isPushOnly(d()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&d().some(f)||e.redeem.output&&(o.decompile(e.redeem.output)||[]).some(f))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(f)||(o.decompile(t)||[]).some(f))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(p,e)}},28207:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const r=n(95011),i=n(3493),o=n(96403),a=n(6264),s=n(74929),c=n(55815),u=n(41502),l=n(54246),f=n(78668),d=n(95262),h=n(39239),p=n(95685),y={network:c.bitcoin,maximumFeeRate:5e3};class g{static fromBase64(e,t={}){const buffer=Buffer.from(e,"base64");return this.fromBuffer(buffer,t)}static fromHex(e,t={}){const buffer=Buffer.from(e,"hex");return this.fromBuffer(buffer,t)}static fromBuffer(buffer,e={}){const t=r.Psbt.fromBuffer(buffer,b),n=new g(e,t);var i,o;return i=n.__CACHE.__TX,o=n.__CACHE,i.ins.forEach((e=>{O(o,e)})),n}constructor(e={},t=new r.Psbt(new m)){this.data=t,this.opts=Object.assign({},y,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const n=(e,t,n,r)=>Object.defineProperty(e,t,{enumerable:n,writable:r});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,s.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,a.fromOutputScript)(e.script,this.opts.network)}catch(e){}return{script:(0,s.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=g.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){S(e),this.opts.maximumFeeRate=e}setVersion(e){S(e),k(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){S(e),k(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){S(t),k(this.data.inputs,"setInputSequence");const n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=t,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,h.checkTaprootInputFields)(e,e,"addInput"),k(this.data.inputs,"addInput"),e.witnessScript&&V(e.witnessScript);const t=this.__CACHE;this.data.addInput(e);O(t,t.__TX.ins[t.__TX.ins.length-1]);const n=this.data.inputs.length-1,r=this.data.inputs[n];return r.nonWitnessUtxo&&U(this.__CACHE,r,n),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");k(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:n}=this.opts,r=(0,a.toOutputScript)(t,n);e=Object.assign(e,{script:r})}(0,h.checkTaprootOutputFields)(e,e,"addOutput");const n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(_))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,n){const r=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=r*i;if(r>=n.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${r} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const n=t.__TX.clone();return M(this.data.inputs,n,t,!0),n}getFeeRate(){return N("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return N("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,o.checkForInput)(this.data.inputs,0),G(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t){const n=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,t):this._finalizeInput(e,n,t)}finalizeTaprootInput(e,t,n=h.tapScriptFinalizer){const r=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(r))return this._finalizeTaprootInput(e,r,t,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,n=x){const{script:r,isP2SH:i,isP2WSH:o,isSegwit:a}=function(e,t,n){const r=n.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=H(n,t,e),a=r.ins[e].index;i.script=o.outs[a].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);(t.witnessScript||(0,p.isP2WPKH)(i.script))&&(i.isSegwit=!0);return i}(e,t,this.__CACHE);if(!r)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:n}=e;t.forEach((e=>{const{hashType:t}=f.signature.decode(e.signature);if(n!==t)throw new Error("Signature sighash does not match input sighash type")}))}(t);const{finalScriptSig:s,finalScriptWitness:c}=n(e,t,r,a,i,o);if(s&&this.data.updateInput(e,{finalScriptSig:s}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!s&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,n,r=h.tapScriptFinalizer){if(!t.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){const n=u.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),r=(0,p.witnessStackToScriptWitness)(n.witness);this.data.updateInput(e,{finalScriptWitness:r})}else{const{finalScriptWitness:i}=r(e,t,n);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,o.checkForInput)(this.data.inputs,e),n=q(z(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=f.decompile(e);if(!t)return;const n=t[t.length-1];if(!Buffer.isBuffer(n)||K(n)||(r=n,f.isCanonicalScriptSignature(r)))return;var r;if(!f.decompile(n))return;return n}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=D(e),n=t[t.length-1];if(K(n))return;if(!f.decompile(n))return;return n}(t.finalScriptWitness));return("raw"===n.type?"":n.type+"-")+W(n.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,n,r){const i=z(n,t,r),{meaningfulScript:o}=q(i,n,"input",t.redeemScript,t.witnessScript);return(0,p.pubkeyInScript)(e,o)}(t,(0,o.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const n=(0,o.checkForInput)(this.data.inputs,e),r=E(t);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}outputHasPubkey(e,t){return function(e,t,n,r){const i=r.__TX.outs[n].script,{meaningfulScript:o}=q(i,n,"output",t.redeemScript,t.witnessScript);return(0,p.pubkeyInScript)(e,o)}(t,(0,o.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const n=(0,o.checkForOutput)(this.data.outputs,e),r=E(t);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}validateSignaturesOfAllInputs(e){(0,o.checkForInput)(this.data.inputs,0);return G(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,n){const r=this.data.inputs[e];return(0,h.isTaprootInput)(r)?this.validateSignaturesOfTaprootInput(e,t,n):this._validateSignaturesOfInput(e,t,n)}_validateSignaturesOfInput(e,t,n){const r=this.data.inputs[e],i=(r||{}).partialSig;if(!r||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const o=n?i.filter((e=>e.pubkey.equals(n))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const a=[];let s,c,u;for(const n of o){const i=f.signature.decode(n.signature),{hash:o,script:l}=u!==i.hashType?C(e,Object.assign({},r,{sighashType:i.hashType}),this.__CACHE,!0):{hash:s,script:c};u=i.hashType,s=o,c=l,A(n.pubkey,l,"verify"),a.push(t(n.pubkey,o,i.signature))}return a.every((e=>!0===e))}validateSignaturesOfTaprootInput(e,t,n){const r=this.data.inputs[e],i=(r||{}).tapKeySig,o=(r||{}).tapScriptSig;if(!r&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const a=(n=n&&(0,h.toXOnly)(n))?B(e,r,this.data.inputs,n,this.__CACHE):function(e,t,n,r){const i=[];if(t.tapInternalKey){const n=(0,h.tweakInternalPubKey)(e,t);i.push(n)}if(t.tapScriptSig){const e=t.tapScriptSig.map((e=>e.pubkey));i.push(...e)}const o=i.map((i=>B(e,t,n,i,r)));return o.flat()}(e,r,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");const s=a.find((e=>!!e.leafHash));if(i&&s){if(!t(s.pubkey,s.hash,i))return!1}if(o)for(const e of o){const n=a.find((t=>e.pubkey.equals(t.pubkey)));if(n){if(!t(e.pubkey,n.hash,e.signature))return!1}}return!0}signAllInputsHD(e,t=[d.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const n=[];for(const r of G(this.data.inputs.length))try{this.signInputHD(r,e,t),n.push(!0)}catch(e){n.push(!1)}if(n.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[d.Transaction.SIGHASH_ALL]){return new Promise(((n,r)=>{if(!e||!e.publicKey||!e.fingerprint)return r(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const n of G(this.data.inputs.length))o.push(this.signInputHDAsync(n,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return r(new Error("No inputs were signed"));n()}))}))}signInputHD(e,t,n=[d.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return j(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,n))),this}signInputHDAsync(e,t,n=[d.Transaction.SIGHASH_ALL]){return new Promise(((r,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=j(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,n)));return Promise.all(o).then((()=>{r()})).catch(i)}))}signAllInputs(e,t){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=[];for(const r of G(this.data.inputs.length))try{this.signInput(r,e,t),n.push(!0)}catch(e){n.push(!1)}if(n.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise(((n,r)=>{if(!e||!e.publicKey)return r(new Error("Need Signer to sign input"));const i=[],o=[];for(const[n]of this.data.inputs.entries())o.push(this.signInputAsync(n,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return r(new Error("No inputs were signed"));n()}))}))}signInput(e,t,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(r)?this._signTaprootInput(e,r,t,void 0,n):this._signInput(e,t,n)}signTaprootInput(e,t,n,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(i))return this._signTaprootInput(e,i,t,n,r);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,n=[d.Transaction.SIGHASH_ALL]){const{hash:r,sighashType:i}=R(this.data.inputs,e,t.publicKey,this.__CACHE,n),o=[{pubkey:t.publicKey,signature:f.signature.encode(t.sign(r),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,n,r,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,n,r,i),a=o.filter((e=>!e.leafHash)).map((e=>(0,h.serializeTaprootSignature)(n.signSchnorr(e.hash),t.sighashType)))[0],s=o.filter((e=>!!e.leafHash)).map((e=>({pubkey:(0,h.toXOnly)(n.publicKey),signature:(0,h.serializeTaprootSignature)(n.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash})));return a&&this.data.updateInput(e,{tapKeySig:a}),s.length&&this.data.updateInput(e,{tapScriptSig:s}),this}signInputAsync(e,t,n){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=(0,o.checkForInput)(this.data.inputs,e);return(0,h.isTaprootInput)(r)?this._signTaprootInputAsync(e,r,t,void 0,n):this._signInputAsync(e,t,n)}))}signTaprootInputAsync(e,t,n,r){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,o.checkForInput)(this.data.inputs,e);if((0,h.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,n,r);throw new Error(`Input #${e} is not of type Taproot.`)}))}_signInputAsync(e,t,n=[d.Transaction.SIGHASH_ALL]){const{hash:r,sighashType:i}=R(this.data.inputs,e,t.publicKey,this.__CACHE,n);return Promise.resolve(t.sign(r)).then((n=>{const r=[{pubkey:t.publicKey,signature:f.signature.encode(n,i)}];this.data.updateInput(e,{partialSig:r})}))}async _signTaprootInputAsync(e,t,n,r,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,n,r,i),a=[],s=o.filter((e=>!e.leafHash))[0];if(s){const e=Promise.resolve(n.signSchnorr(s.hash)).then((e=>({tapKeySig:(0,h.serializeTaprootSignature)(e,t.sighashType)})));a.push(e)}const c=o.filter((e=>!!e.leafHash));if(c.length){const e=c.map((e=>Promise.resolve(n.signSchnorr(e.hash)).then((r=>({tapScriptSig:[{pubkey:(0,h.toXOnly)(n.publicKey),signature:(0,h.serializeTaprootSignature)(r,t.sighashType),leafHash:e.leafHash}]})))));a.push(...e)}return Promise.all(a).then((t=>{t.forEach((t=>this.data.updateInput(e,t)))}))}checkTaprootHashesForSig(e,t,n,r,i){if("function"!=typeof n.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const o=B(e,t,this.data.inputs,n.publicKey,this.__CACHE,r,i);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return o}toBuffer(){return v(this.__CACHE),this.data.toBuffer()}toHex(){return v(this.__CACHE),this.data.toHex()}toBase64(){return v(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&V(t.witnessScript),(0,h.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&U(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){const n=this.data.outputs[e];return(0,h.checkTaprootOutputFields)(n,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=g;const b=buffer=>new m(buffer);class m{constructor(buffer=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=d.Transaction.fromBuffer(buffer),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!Buffer.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?(0,s.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!Buffer.isBuffer(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function v(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function w(e,t,n){if(!t)return!1;let r;if(r=n?n.map((e=>{const n=function(e){if(65===e.length){const t=1&e[64],n=e.slice(0,33);return n[0]=2|t,n}return e.slice()}(e);return t.find((e=>e.pubkey.equals(n)))})).filter((e=>!!e)):t,r.length>e)throw new Error("Too many signatures");return r.length===e}function _(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function E(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function S(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function k(e,t){e.forEach((e=>{if((0,h.isTaprootInput)(e)?(0,h.checkTaprootInputForSigs)(e,t):(0,p.checkInputForSig)(e,t))throw new Error("Can not modify transaction, signatures exist.")}))}function A(e,t,n){if(!(0,p.pubkeyInScript)(e,t))throw new Error(`Can not ${n} for this input with the key ${e.toString("hex")}`)}function O(e,t){const n=(0,s.reverseBuffer)(Buffer.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[n])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[n]=1}function P(e,t){return(n,r,i,o)=>{const a=e({redeem:{output:i}}).output;if(!r.equals(a))throw new Error(`${t} for ${o} #${n} doesn't match the scriptPubKey in the prevout`)}}const I=P(u.p2sh,"Redeem script"),T=P(u.p2wsh,"Witness script");function N(e,t,n,r){if(!n.every(_))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&r.__FEE_RATE)return r.__FEE_RATE;if("__FEE"===e&&r.__FEE)return r.__FEE;let i,o=!0;return r.__EXTRACTED_TX?(i=r.__EXTRACTED_TX,o=!1):i=r.__TX.clone(),M(n,i,r,o),"__FEE_RATE"===e?r.__FEE_RATE:"__FEE"===e?r.__FEE:void 0}function x(e,t,n,r,i,o){const a=W(n);if(!function(e,t,n){switch(n){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return w(1,e.partialSig);case"multisig":const n=u.p2ms({output:t});return w(n.m,e.partialSig,n.pubkeys);default:return!1}}(t,n,a))throw new Error(`Can not finalize input #${e}`);return function(e,t,n,r,i,o){let a,s;const c=function(e,t,n){let r;switch(t){case"multisig":const t=function(e,t){const n=u.p2ms({output:e});return n.pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,n);r=u.p2ms({output:e,signatures:t});break;case"pubkey":r=u.p2pk({output:e,signature:n[0].signature});break;case"pubkeyhash":r=u.p2pkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature});break;case"witnesspubkeyhash":r=u.p2wpkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature})}return r}(e,t,n),l=o?u.p2wsh({redeem:c}):null,f=i?u.p2sh({redeem:l||c}):null;r?(s=l?(0,p.witnessStackToScriptWitness)(l.witness):(0,p.witnessStackToScriptWitness)(c.witness),f&&(a=f.input)):a=f?f.input:c.input;return{finalScriptSig:a,finalScriptWitness:s}}(n,a,t.partialSig,r,i,o)}function R(e,t,n,r,i){const a=(0,o.checkForInput)(e,t),{hash:s,sighashType:c,script:u}=C(t,a,r,!1,i);return A(n,u,"sign"),{hash:s,sighashType:c}}function C(e,t,n,r,i){const o=n.__TX,a=t.sighashType||d.Transaction.SIGHASH_ALL;let s,c;if(L(a,i),t.nonWitnessUtxo){const r=H(n,t,e),i=o.ins[e].hash,a=r.getHash();if(!i.equals(a))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const s=o.ins[e].index;c=r.outs[s]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");c=t.witnessUtxo}const{meaningfulScript:l,type:f}=q(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(f)>=0)s=o.hashForWitnessV0(e,l,c.value,a);else if((0,p.isP2WPKH)(l)){const t=u.p2pkh({hash:l.slice(2)}).output;s=o.hashForWitnessV0(e,t,c.value,a)}else{if(void 0===t.nonWitnessUtxo&&!1===n.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${l.toString("hex")}`);r||!1===n.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),s=o.hashForSignature(e,l,a)}return{script:l,sighashType:a,hash:s}}function B(e,t,n,r,i,o,a){const s=i.__TX,c=t.sighashType||d.Transaction.SIGHASH_DEFAULT;L(c,a);const u=n.map(((e,t)=>F(t,e,i))),f=u.map((e=>e.script)),y=u.map((e=>e.value)),g=[];if(t.tapInternalKey&&!o){const n=(0,h.tweakInternalPubKey)(e,t);if((0,h.toXOnly)(r).equals(n)){const t=s.hashForWitnessV1(e,f,y,c);g.push({pubkey:r,hash:t})}}const b=(t.tapLeafScript||[]).filter((e=>(0,p.pubkeyInScript)(r,e.script))).map((e=>{const t=(0,l.tapleafHash)({output:e.script,version:e.leafVersion});return Object.assign({hash:t},e)})).filter((e=>!o||o.equals(e.hash))).map((t=>{const n=s.hashForWitnessV1(e,f,y,d.Transaction.SIGHASH_DEFAULT,t.hash);return{pubkey:r,hash:n,leafHash:t.hash}}));return g.concat(b)}function L(e,t){if(t&&t.indexOf(e)<0){const t=function(e){let t=e&d.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case d.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case d.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case d.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function j(e,t,n){const r=(0,o.checkForInput)(t,e);if(!r.bip32Derivation||0===r.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=r.bip32Derivation.map((e=>e.masterFingerprint.equals(n.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=n.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function D(buffer){let e=0;function t(){const t=i.decode(buffer,e);return e+=i.decode.bytes,t}function n(){return n=t(),e+=n,buffer.slice(e-n,e);var n}return function(){const e=t(),r=[];for(let t=0;t<e;t++)r.push(n());return r}()}function U(e,t,n){e.__NON_WITNESS_UTXO_BUF_CACHE[n]=t.nonWitnessUtxo;const r=d.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[n]=r;const i=e,o=n;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function M(e,t,n,r){let i=0;e.forEach(((e,o)=>{if(r&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),r&&e.finalScriptWitness&&(t.ins[o].witness=D(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const r=H(n,e,o),a=t.ins[o].index,s=r.outs[a];i+=s.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),a=i-o;if(a<0)throw new Error("Outputs are spending more than Inputs");const s=t.virtualSize();n.__FEE=a,n.__EXTRACTED_TX=t,n.__FEE_RATE=Math.floor(a/s)}function H(e,t,n){const r=e.__NON_WITNESS_UTXO_TX_CACHE;return r[n]||U(e,t,n),r[n]}function z(e,t,n){const{script:r}=F(e,t,n);return r}function F(e,t,n){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){const r=H(n,t,e).outs[n.__TX.ins[e].index];return{script:r.script,value:r.value}}throw new Error("Can't find pubkey in input without Utxo data")}function K(e){return 33===e.length&&f.isCanonicalPubKey(e)}function q(e,t,n,r,i){const o=(0,p.isP2SHScript)(e),a=o&&r&&(0,p.isP2WSHScript)(r),s=(0,p.isP2WSHScript)(e);if(o&&void 0===r)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((s||a)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return a?(c=i,I(t,e,r,n),T(t,r,i,n),V(c)):s?(c=i,T(t,e,i,n),V(c)):o?(c=r,I(t,e,r,n)):c=e,{meaningfulScript:c,type:a?"p2sh-p2wsh":o?"p2sh":s?"p2wsh":"raw"}}function V(e){if((0,p.isP2WPKH)(e)||(0,p.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function W(e){return(0,p.isP2WPKH)(e)?"witnesspubkeyhash":(0,p.isP2PKH)(e)?"pubkeyhash":(0,p.isP2MS)(e)?"multisig":(0,p.isP2PK)(e)?"pubkey":"nonstandard"}function G(e){return[...Array(e).keys()]}},39239:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.checkTaprootInputForSigs=t.tapTreeFromList=t.tapTreeToList=t.tweakInternalPubKey=t.checkTaprootOutputFields=t.checkTaprootInputFields=t.isTaprootOutput=t.isTaprootInput=t.serializeTaprootSignature=t.tapScriptFinalizer=t.toXOnly=void 0;const r=n(25735),i=n(95262),o=n(95685),a=n(54246),s=n(41502),c=n(95685);function u(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,o.isP2TR)(e.witnessUtxo.script))}function l(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,o.isP2TR)(t))}function f(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(const n of e)if(t=p(n,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}(e)}function d(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||i.Transaction.SIGHASH_DEFAULT}}function h(e,t=[],n=0){if(n>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,r.isTapleaf)(e)?(t.push({depth:n,leafVersion:e.version||a.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&h(e[0],t,n+1),e[1]&&h(e[1],t,n+1),t):[]}function p(e,t,n=0){if(n>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===n)return t?void 0:{output:e.script,version:e.leafVersion};if((0,r.isTapleaf)(t))return;const i=p(e,t&&t[0],n+1);if(i)return[i,t&&t[1]];const o=p(e,t&&t[1],n+1);return o?[t&&t[0],o]:void 0}function y(e,t){if(!t)return!0;const n=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(0,a.rootHashFromPath)(e.controlBlock,n).equals(t)}function g(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}t.toXOnly=e=>32===e.length?e:e.slice(1,33),t.tapScriptFinalizer=function(e,t,n){const r=function(e,t,n){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const r=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,n){const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(!n||n.equals(r))&&void 0!==t.find((e=>e.leafHash.equals(r)))}(t,e.tapScriptSig,n)));if(!r)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return r}(t,e,n);try{const e=function(e,t){const n=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(n))).map((e=>function(e,t){return Object.assign({positionInScript:(0,o.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))}(t,r),n=e.concat(r.script).concat(r.controlBlock);return{finalScriptWitness:(0,o.witnessStackToScriptWitness)(n)}}catch(t){throw new Error(`Can not finalize taproot input #${e}: ${t}`)}},t.serializeTaprootSignature=function(e,t){const n=t?Buffer.from([t]):Buffer.from([]);return Buffer.concat([e,n])},t.isTaprootInput=u,t.isTaprootOutput=l,t.checkTaprootInputFields=function(e,t,n){!function(e,t,n){const r=u(e)&&g(t),i=g(e)&&u(t),o=e===t&&u(t)&&g(t);if(r||i||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}(e,t,n),function(e,t,n){if(t.tapMerkleRoot){const r=(t.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot))),i=(e.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot)));if(!r||!i)throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot){if(!(t.tapLeafScript||[]).every((t=>y(t,e.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${n}. Tapleaf not part of taptree.`)}}(e,t,n)},t.checkTaprootOutputFields=function(e,t,n){!function(e,t,n){const r=l(e)&&g(t),i=g(e)&&l(t),o=e===t&&l(t)&&g(t);if(r||i||o)throw new Error(`Invalid arguments for Psbt.${n}. Cannot use both taproot and non-taproot fields.`)}(e,t,n),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const n=t.tapInternalKey||e.tapInternalKey,r=t.tapTree||e.tapTree;if(n){const{script:t}=e,i=function(e,t){const n=t&&f(t.leaves),{output:r}=(0,s.p2tr)({internalPubkey:e,scriptTree:n});return r}(n,r);if(t&&!t.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(e,t)},t.tweakInternalPubKey=function(e,t){const n=t.tapInternalKey,r=n&&(0,a.tweakKey)(n,t.tapMerkleRoot);if(!r)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${n&&n.toString("hex")}`);return r.x},t.tapTreeToList=function(e){if(!(0,r.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return h(e)},t.tapTreeFromList=f,t.checkTaprootInputForSigs=function(e,t){return function(e){const t=[];e.tapKeySig&&t.push(e.tapKeySig);e.tapScriptSig&&t.push(...e.tapScriptSig.map((e=>e.signature)));if(!t.length){const n=function(e){if(!e)return;const t=e.slice(2);if(64===t.length||65===t.length)return t}(e.finalScriptWitness);n&&t.push(n)}return t}(e).some((e=>(0,c.signatureBlocksAction)(e,d,t)))}},95685:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signatureBlocksAction=t.checkInputForSig=t.pubkeyInScript=t.pubkeyPositionInScript=t.witnessStackToScriptWitness=t.isP2TR=t.isP2SHScript=t.isP2WSHScript=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=void 0;const r=n(3493),i=n(78668),o=n(95262),a=n(76e3),s=n(41502);function c(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}function u(e,t){const n=(0,a.hash160)(e),r=e.slice(1,33),o=i.decompile(t);if(null===o)throw new Error("Unknown script error");return o.findIndex((t=>"number"!=typeof t&&(t.equals(e)||t.equals(n)||t.equals(r))))}function l(e,t,n){const{hashType:r}=t(e),i=[];r&o.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&r){case o.Transaction.SIGHASH_ALL:break;case o.Transaction.SIGHASH_SINGLE:case o.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(n)}t.isP2MS=c(s.p2ms),t.isP2PK=c(s.p2pk),t.isP2PKH=c(s.p2pkh),t.isP2WPKH=c(s.p2wpkh),t.isP2WSHScript=c(s.p2wsh),t.isP2SHScript=c(s.p2sh),t.isP2TR=c(s.p2tr),t.witnessStackToScriptWitness=function(e){let buffer=Buffer.allocUnsafe(0);function t(e){const t=buffer.length,n=r.encodingLength(e);buffer=Buffer.concat([buffer,Buffer.allocUnsafe(n)]),r.encode(e,buffer,t)}function n(e){t(e.length),function(e){buffer=Buffer.concat([buffer,Buffer.from(e)])}(e)}var i;return t((i=e).length),i.forEach(n),buffer},t.pubkeyPositionInScript=u,t.pubkeyInScript=function(e,t){return-1!==u(e,t)},t.checkInputForSig=function(e,t){return function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){const t=e.finalScriptSig&&i.decompile(e.finalScriptSig)||[],n=e.finalScriptWitness&&i.decompile(e.finalScriptWitness)||[];return t.concat(n).filter((e=>Buffer.isBuffer(e)&&i.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else t=e.partialSig;return t.map((e=>e.signature))}(e).some((e=>l(e,i.signature.decode,t)))},t.signatureBlocksAction=l},41447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const r=n(26308);function i(e){return e<r.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(buffer,e,t){const n=i(e);return 1===n?buffer.writeUInt8(e,t):2===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA1,t),buffer.writeUInt8(e,t+1)):3===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA2,t),buffer.writeUInt16LE(e,t+1)):(buffer.writeUInt8(r.OPS.OP_PUSHDATA4,t),buffer.writeUInt32LE(e,t+1)),n},t.decode=function(buffer,e){const t=buffer.readUInt8(e);let n,i;if(t<r.OPS.OP_PUSHDATA1)n=t,i=1;else if(t===r.OPS.OP_PUSHDATA1){if(e+2>buffer.length)return null;n=buffer.readUInt8(e+1),i=2}else if(t===r.OPS.OP_PUSHDATA2){if(e+3>buffer.length)return null;n=buffer.readUInt16LE(e+1),i=3}else{if(e+5>buffer.length)return null;if(t!==r.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=buffer.readUInt32LE(e+1),i=5}return{opcode:t,number:n,size:i}}},78668:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.isPushOnly=t.OPS=void 0;const r=n(15999),i=n(26308);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return i.OPS}});const o=n(41447),a=n(43908),s=n(66925),c=n(25735),{typeforce:u}=c,l=i.OPS.OP_RESERVED;function f(e){return c.Buffer(e)||function(e){return c.Number(e)&&(e===i.OPS.OP_0||e>=i.OPS.OP_1&&e<=i.OPS.OP_16||e===i.OPS.OP_1NEGATE)}(e)}function d(e){return c.Array(e)&&e.every(f)}function h(buffer){return 0===buffer.length?i.OPS.OP_0:1===buffer.length?buffer[0]>=1&&buffer[0]<=16?l+buffer[0]:129===buffer[0]?i.OPS.OP_1NEGATE:void 0:void 0}function p(e){return Buffer.isBuffer(e)}function y(e){return Buffer.isBuffer(e)}function g(e){if(p(e))return e;u(c.Array,e);const t=e.reduce(((e,t)=>y(t)?1===t.length&&void 0!==h(t)?e+1:e+o.encodingLength(t.length)+t.length:e+1),0),buffer=Buffer.allocUnsafe(t);let n=0;if(e.forEach((e=>{if(y(e)){const t=h(e);if(void 0!==t)return buffer.writeUInt8(t,n),void(n+=1);n+=o.encode(buffer,e.length,n),e.copy(buffer,n),n+=e.length}else buffer.writeUInt8(e,n),n+=1})),n!==buffer.length)throw new Error("Could not decode chunks");return buffer}function b(buffer){if(e=buffer,c.Array(e))return buffer;var e;u(c.Buffer,buffer);const t=[];let n=0;for(;n<buffer.length;){const e=buffer[n];if(e>i.OPS.OP_0&&e<=i.OPS.OP_PUSHDATA4){const e=o.decode(buffer,n);if(null===e)return null;if(n+=e.size,n+e.number>buffer.length)return null;const r=buffer.slice(n,n+e.number);n+=e.number;const i=h(r);void 0!==i?t.push(i):t.push(r)}else t.push(e),n+=1}return t}function m(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=d,t.compile=g,t.decompile=b,t.toASM=function(e){return p(e)&&(e=b(e)),e.map((e=>{if(y(e)){const t=h(e);if(void 0===t)return e.toString("hex");e=t}return i.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return u(c.String,e),g(e.split(" ").map((e=>void 0!==i.OPS[e]?i.OPS[e]:(u(c.Hex,e),Buffer.from(e,"hex")))))},t.toStack=function(e){return e=b(e),u(d,e),e.map((e=>y(e)?e:e===i.OPS.OP_0?Buffer.allocUnsafe(0):a.encode(e-l)))},t.isCanonicalPubKey=function(buffer){return c.isPoint(buffer)},t.isDefinedHashType=m,t.isCanonicalScriptSignature=function(buffer){return!!Buffer.isBuffer(buffer)&&(!!m(buffer[buffer.length-1])&&r.check(buffer.slice(0,-1)))},t.number=a,t.signature=s},43908:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(buffer,e,t){e=e||4,t=void 0===t||t;const n=buffer.length;if(0===n)return 0;if(n>e)throw new TypeError("Script number overflow");if(t&&0==(127&buffer[n-1])&&(n<=1||0==(128&buffer[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const e=buffer.readUInt32LE(0),t=buffer.readUInt8(4);return 128&t?-(4294967296*(-129&t)+e):4294967296*t+e}let r=0;for(let e=0;e<n;++e)r|=buffer[e]<<8*e;return 128&buffer[n-1]?-(r&~(128<<8*(n-1))):r},t.encode=function(e){let t=Math.abs(e);const n=(r=t)>2147483647?5:r>8388607?4:r>32767?3:r>127?2:r>0?1:0;var r;const buffer=Buffer.allocUnsafe(n),i=e<0;for(let e=0;e<n;++e)buffer.writeUInt8(255&t,e),t>>=8;return 128&buffer[n-1]?buffer.writeUInt8(i?128:0,n-1):i&&(buffer[n-1]|=128),buffer}},66925:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const r=n(15999),i=n(25735),{typeforce:o}=i,a=Buffer.alloc(1,0);function s(e){let t=0;for(;0===e[t];)++t;return t===e.length?a:128&(e=e.slice(t))[0]?Buffer.concat([a,e],1+e.length):e}function c(e){0===e[0]&&(e=e.slice(1));const buffer=Buffer.alloc(32,0),t=Math.max(0,32-e.length);return e.copy(buffer,t),buffer}t.decode=function(buffer){const e=buffer.readUInt8(buffer.length-1),t=-129&e;if(t<=0||t>=4)throw new Error("Invalid hashType "+e);const n=r.decode(buffer.slice(0,-1)),i=c(n.r),o=c(n.s);return{signature:Buffer.concat([i,o],64),hashType:e}},t.encode=function(e,t){o({signature:i.BufferN(64),hashType:i.UInt8},{signature:e,hashType:t});const n=-129&t;if(n<=0||n>=4)throw new Error("Invalid hashType "+t);const a=Buffer.allocUnsafe(1);a.writeUInt8(t,0);const c=s(e.slice(0,32)),u=s(e.slice(32,64));return Buffer.concat([r.encode(c,u),a])}},95262:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const r=n(74929),i=n(76e3),o=n(78668),a=n(78668),s=n(25735),{typeforce:c}=s;function u(e){const t=e.length;return r.varuint.encodingLength(t)+t}const l=Buffer.allocUnsafe(0),f=[],d=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),h=Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),p=Buffer.from("ffffffffffffffff","hex"),y={script:l,valueBuffer:p};class g{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(buffer,e){const t=new r.BufferReader(buffer),n=new g;n.version=t.readInt32();const i=t.readUInt8(),o=t.readUInt8();let a=!1;i===g.ADVANCED_TRANSACTION_MARKER&&o===g.ADVANCED_TRANSACTION_FLAG?a=!0:t.offset-=2;const s=t.readVarInt();for(let e=0;e<s;++e)n.ins.push({hash:t.readSlice(32),index:t.readUInt32(),script:t.readVarSlice(),sequence:t.readUInt32(),witness:f});const c=t.readVarInt();for(let e=0;e<c;++e)n.outs.push({value:t.readUInt64(),script:t.readVarSlice()});if(a){for(let e=0;e<s;++e)n.ins[e].witness=t.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=t.readUInt32(),e)return n;if(t.offset!==buffer.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return g.fromBuffer(Buffer.from(e,"hex"),!1)}static isCoinbaseHash(buffer){c(s.Hash256bit,buffer);for(let e=0;e<32;++e)if(0!==buffer[e])return!1;return!0}isCoinbase(){return 1===this.ins.length&&g.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,n,r){return c(s.tuple(s.Hash256bit,s.UInt32,s.maybe(s.UInt32),s.maybe(s.Buffer)),arguments),s.Null(n)&&(n=g.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:r||l,sequence:n,witness:f})-1}addOutput(e,t){return c(s.tuple(s.Buffer,s.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+r.varuint.encodingLength(this.ins.length)+r.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+u(t.script)),0)+this.outs.reduce(((e,t)=>e+8+u(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return r.varuint.encodingLength(t)+e.reduce(((e,t)=>e+u(t)),0)}(t.witness)),0):0)}clone(){const e=new g;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,n){if(c(s.tuple(s.UInt32,s.Buffer,s.Number),arguments),e>=this.ins.length)return h;const r=o.compile(o.decompile(t).filter((e=>e!==a.OPS.OP_CODESEPARATOR))),u=this.clone();if((31&n)===g.SIGHASH_NONE)u.outs=[],u.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}));else if((31&n)===g.SIGHASH_SINGLE){if(e>=this.outs.length)return h;u.outs.length=e+1;for(let t=0;t<e;t++)u.outs[t]=y;u.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}))}n&g.SIGHASH_ANYONECANPAY?(u.ins=[u.ins[e]],u.ins[0].script=r):(u.ins.forEach((e=>{e.script=l})),u.ins[e].script=r);const buffer=Buffer.allocUnsafe(u.byteLength(!1)+4);return buffer.writeInt32LE(n,buffer.length-4),u.__toBuffer(buffer,0,!1),i.hash256(buffer)}hashForWitnessV1(e,t,n,o,a,f){if(c(s.tuple(s.UInt32,c.arrayOf(s.Buffer),c.arrayOf(s.Satoshi),s.UInt32),arguments),n.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const d=o===g.SIGHASH_DEFAULT?g.SIGHASH_ALL:o&g.SIGHASH_OUTPUT_MASK,h=(o&g.SIGHASH_INPUT_MASK)===g.SIGHASH_ANYONECANPAY,p=d===g.SIGHASH_NONE,y=d===g.SIGHASH_SINGLE;let b=l,m=l,v=l,w=l,_=l;if(!h){let e=r.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),b=i.sha256(e.end()),e=r.BufferWriter.withCapacity(8*this.ins.length),n.forEach((t=>e.writeUInt64(t))),m=i.sha256(e.end()),e=r.BufferWriter.withCapacity(t.map(u).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),v=i.sha256(e.end()),e=r.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),w=i.sha256(e.end())}if(p||y){if(y&&e<this.outs.length){const t=this.outs[e],n=r.BufferWriter.withCapacity(8+u(t.script));n.writeUInt64(t.value),n.writeVarSlice(t.script),_=i.sha256(n.end())}}else{const e=this.outs.map((e=>8+u(e.script))).reduce(((e,t)=>e+t)),t=r.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),_=i.sha256(t.end())}const E=(a?2:0)+(f?1:0),S=174-(h?49:0)-(p?32:0)+(f?32:0)+(a?37:0),k=r.BufferWriter.withCapacity(S);if(k.writeUInt8(o),k.writeInt32(this.version),k.writeUInt32(this.locktime),k.writeSlice(b),k.writeSlice(m),k.writeSlice(v),k.writeSlice(w),p||y||k.writeSlice(_),k.writeUInt8(E),h){const r=this.ins[e];k.writeSlice(r.hash),k.writeUInt32(r.index),k.writeUInt64(n[e]),k.writeVarSlice(t[e]),k.writeUInt32(r.sequence)}else k.writeUInt32(e);if(f){const e=r.BufferWriter.withCapacity(u(f));e.writeVarSlice(f),k.writeSlice(i.sha256(e.end()))}return y&&k.writeSlice(_),a&&(k.writeSlice(a),k.writeUInt8(0),k.writeUInt32(4294967295)),i.taggedHash("TapSighash",Buffer.concat([Buffer.of(0),k.end()]))}hashForWitnessV0(e,t,n,o){c(s.tuple(s.UInt32,s.Buffer,s.Satoshi,s.UInt32),arguments);let a,l=Buffer.from([]),f=d,h=d,p=d;if(o&g.SIGHASH_ANYONECANPAY||(l=Buffer.allocUnsafe(36*this.ins.length),a=new r.BufferWriter(l,0),this.ins.forEach((e=>{a.writeSlice(e.hash),a.writeUInt32(e.index)})),h=i.hash256(l)),o&g.SIGHASH_ANYONECANPAY||(31&o)===g.SIGHASH_SINGLE||(31&o)===g.SIGHASH_NONE||(l=Buffer.allocUnsafe(4*this.ins.length),a=new r.BufferWriter(l,0),this.ins.forEach((e=>{a.writeUInt32(e.sequence)})),p=i.hash256(l)),(31&o)!==g.SIGHASH_SINGLE&&(31&o)!==g.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+u(t.script)),0);l=Buffer.allocUnsafe(e),a=new r.BufferWriter(l,0),this.outs.forEach((e=>{a.writeUInt64(e.value),a.writeVarSlice(e.script)})),f=i.hash256(l)}else if((31&o)===g.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];l=Buffer.allocUnsafe(8+u(t.script)),a=new r.BufferWriter(l,0),a.writeUInt64(t.value),a.writeVarSlice(t.script),f=i.hash256(l)}l=Buffer.allocUnsafe(156+u(t)),a=new r.BufferWriter(l,0);const y=this.ins[e];return a.writeInt32(this.version),a.writeSlice(h),a.writeSlice(p),a.writeSlice(y.hash),a.writeUInt32(y.index),a.writeVarSlice(t),a.writeUInt64(n),a.writeUInt32(y.sequence),a.writeSlice(f),a.writeUInt32(this.locktime),a.writeUInt32(o),i.hash256(l)}getHash(e){return e&&this.isCoinbase()?Buffer.alloc(32,0):i.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,r.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(buffer,e){return this.__toBuffer(buffer,e,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){c(s.tuple(s.Number,s.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){c(s.tuple(s.Number,[s.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(buffer,e,t=!1){buffer||(buffer=Buffer.allocUnsafe(this.byteLength(t)));const n=new r.BufferWriter(buffer,e||0);n.writeInt32(this.version);const i=t&&this.hasWitnesses();return i&&(n.writeUInt8(g.ADVANCED_TRANSACTION_MARKER),n.writeUInt8(g.ADVANCED_TRANSACTION_FLAG)),n.writeVarInt(this.ins.length),this.ins.forEach((e=>{n.writeSlice(e.hash),n.writeUInt32(e.index),n.writeVarSlice(e.script),n.writeUInt32(e.sequence)})),n.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?n.writeUInt64(e.value):n.writeSlice(e.valueBuffer),n.writeVarSlice(e.script)})),i&&this.ins.forEach((e=>{n.writeVector(e.witness)})),n.writeUInt32(this.locktime),void 0!==e?buffer.slice(e,n.offset):buffer}}t.Transaction=g,g.DEFAULT_SEQUENCE=4294967295,g.SIGHASH_DEFAULT=0,g.SIGHASH_ALL=1,g.SIGHASH_NONE=2,g.SIGHASH_SINGLE=3,g.SIGHASH_ANYONECANPAY=128,g.SIGHASH_OUTPUT_MASK=3,g.SIGHASH_INPUT_MASK=128,g.ADVANCED_TRANSACTION_MARKER=0,g.ADVANCED_TRANSACTION_FLAG=1},25735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const r=n(48764);t.typeforce=n(2401);const i=r.Buffer.alloc(32,0),o=r.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.isPoint=function(e){if(!r.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],n=e.slice(1,33);if(0===n.compare(i))return!1;if(n.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const a=e.slice(33);return 0!==a.compare(i)&&(!(a.compare(o)>=0)&&(4===t&&65===e.length))};const a=Math.pow(2,31)-1;function s(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return t.typeforce.UInt32(e)&&e<=a},t.BIP32Path=s,s.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign};function c(e){return!(!e||!("output"in e))&&(!!r.Buffer.isBuffer(e.output)&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version))}t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=c,t.isTaptree=function e(n){return(0,t.Array)(n)?2===n.length&&n.every((t=>e(t))):c(n)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},93169:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptType=t.isConfidential=t.decodeType=t.getNetwork=t.toOutputScript=t.fromOutputScript=t.toConfidential=t.toBlech32=t.toBech32=t.toBase58Check=t.fromConfidential=t.fromBlech32=t.fromBech32=t.fromBase58Check=t.ScriptType=t.AddressType=void 0;const a=o(n(76272)),s=o(n(43564)),c=o(n(14627)),u=o(n(63145)),l=n(93726),f=n(27715),d=o(n(58334)),h=n(75961),{typeforce:p}=u,y=40,g=2,b=16,m=1,v=80;var w,_;function E(e){const t=d.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function S(e){let t,n;try{t=f.bech32.decode(e)}catch(e){}if(t){if(n=t.words[0],0!==n)throw new TypeError(e+" uses wrong encoding")}else if(t=f.bech32m.decode(e),n=t.words[0],0===n)throw new TypeError(e+" uses wrong encoding");const r=f.bech32.fromWords(t.words.slice(1));return{version:n,prefix:t.prefix,data:Buffer.from(r)}}function k(e){let t;try{t=l.Blech32Address.fromString(e,l.BLECH32)}catch{t=l.Blech32Address.fromString(e,l.BLECH32M)}const n=Buffer.from(t.blindingPublicKey,"hex"),r=Buffer.from(t.witness,"hex"),i=Buffer.concat([Buffer.from([t.witnessVersion?t.witnessVersion+v:t.witnessVersion,r.length]),r]);return{version:t.witnessVersion,pubkey:n,data:i}}function A(e){const t=x(e);return e.startsWith(t.blech32)?function(e,t){const n=k(e),r=I(n.data,t);return{blindingKey:n.pubkey,unconfidentialAddress:r,scriptPubKey:n.data}}(e,t):function(e,t){const n=d.decode(e),r=n.readUInt8(1);if(r!==t.pubKeyHash&&r!==t.scriptHash)throw new TypeError(e+"is not valid");if(n.length<55)throw new TypeError(e+" is too short");if(n.length>55)throw new TypeError(e+" is too long");const i=n.slice(2,35),o=n.slice(35,n.length),a=Buffer.of(r),s=Buffer.concat([a,o]),c=d.encode(s),u=T(c);return{blindingKey:i,unconfidentialAddress:c,scriptPubKey:u}}(e,t)}function O(e,t,n){const r=f.bech32.toWords(e);return r.unshift(t),0===t?f.bech32.encode(n,r):f.bech32m.encode(n,r)}function P(e,t,n,r){return l.Blech32Address.from(e.slice(2).toString("hex"),t.toString("hex"),n,r).address}function I(e,t){t=t||a.liquid;try{return s.p2pkh({output:e,network:t}).address}catch(e){}try{return s.p2sh({output:e,network:t}).address}catch(e){}try{return s.p2wpkh({output:e,network:t}).address}catch(e){}try{return s.p2wsh({output:e,network:t}).address}catch(e){}try{return function(e,t){const n=e.slice(2);if(n.length<g||n.length>y)throw new TypeError("Invalid program length for segwit address");const r=e[0]-v;if(r<m||r>b)throw new TypeError("Invalid version for segwit address");if(e[1]!==n.length)throw new TypeError("Invalid script for segwit address");return O(n,r,t.bech32)}(e,t)}catch(e){}throw new Error(c.toASM(e)+" has no matching Address")}function T(e,t){let n,r,i;t=t||x(e);try{n=E(e)}catch(e){}if(n){if(n.version===t.pubKeyHash)return s.p2pkh({hash:n.hash}).output;if(n.version===t.scriptHash)return s.p2sh({hash:n.hash}).output}else{try{r=S(e)}catch(e){}if(r){if(r.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===r.version){if(20===r.data.length)return s.p2wpkh({hash:r.data}).output;if(32===r.data.length)return s.p2wsh({hash:r.data}).output}else if(r.version>=m&&r.version<=b&&r.data.length>=g&&r.data.length<=y)return c.compile([r.version+v,r.data])}else{try{i=A(e)}catch(e){}if(i)return T(i.unconfidentialAddress,t)}}throw new Error(e+" has no matching Script")}function N(e,t){if(t.startsWith(e.blech32)||t.startsWith(e.bech32))return!0;try{const n=d.decode(t).readUInt8(0);if(n===e.confidentialPrefix||n===e.pubKeyHash||n===e.scriptHash)return!0}catch{return!1}return!1}function x(e){const t=[a.liquid,a.regtest,a.testnet];for(const n of t)if(N(n,e))return n;throw new Error(e+" has an invalid prefix")}function R(e,t){return new Error(`unknown address prefix (${e}), need ${t.pubKeyHash} or ${t.scriptHash}`)}function C(e,t){return function(e,t){return e.startsWith(t.bech32)}(e,t=t||x(e))?function(e){switch(S(e).data.length){case 20:return w.P2Wpkh;case 32:return w.P2Wsh;default:throw new Error("invalid program length")}}(e):function(e,t){return e.startsWith(t.blech32)}(e,t)?function(e){const t=k(e);switch(t.data.length-2){case 20:return w.ConfidentialP2Wpkh;case 32:return w.ConfidentialP2Wsh;default:throw new Error("invalid blech32 program length: "+(t.data.length-2))}}(e):function(e,t){const n=d.decode(e);if(n.readUInt8(0)===t.confidentialPrefix){if(20!==n.slice(35).length)throw new Error("decoded address is of unknown size");const e=n.readUInt8(1);switch(e){case t.pubKeyHash:return w.ConfidentialP2Pkh;case t.scriptHash:return w.ConfidentialP2Sh;default:throw R(e,t)}}const r=n.readUInt8(0);if(20!==n.slice(1).length)throw new Error("decoded address is of unknown size");switch(r){case t.pubKeyHash:return w.P2Pkh;case t.scriptHash:return w.P2Sh;default:throw R(r,t)}}(e,t)}!function(e){e[e.P2Pkh=0]="P2Pkh",e[e.P2Sh=1]="P2Sh",e[e.P2Wpkh=2]="P2Wpkh",e[e.P2Wsh=3]="P2Wsh",e[e.ConfidentialP2Pkh=4]="ConfidentialP2Pkh",e[e.ConfidentialP2Sh=5]="ConfidentialP2Sh",e[e.ConfidentialP2Wpkh=6]="ConfidentialP2Wpkh",e[e.ConfidentialP2Wsh=7]="ConfidentialP2Wsh"}(w=t.AddressType||(t.AddressType={})),function(e){e[e.P2Pkh=0]="P2Pkh",e[e.P2Sh=1]="P2Sh",e[e.P2Wpkh=2]="P2Wpkh",e[e.P2Wsh=3]="P2Wsh",e[e.P2Tr=4]="P2Tr"}(_=t.ScriptType||(t.ScriptType={})),t.fromBase58Check=E,t.fromBech32=S,t.fromBlech32=k,t.fromConfidential=A,t.toBase58Check=function(e,t){p(u.tuple(u.Hash160bit,u.UInt8),arguments);const n=Buffer.allocUnsafe(21);return n.writeUInt8(t,0),e.copy(n,1),d.encode(n)},t.toBech32=O,t.toBlech32=P,t.toConfidential=function(e,t){const n=x(e);return e.startsWith(n.bech32)?function(e,t,n){const r=T(e,n),i=S(e).version;return P(r,t,n.blech32,i)}(e,t,n):function(e,t,n){const r=d.decode(e),i=r.readUInt8(0);if(21!==r.length||i!==n.pubKeyHash&&i!==n.scriptHash)throw new TypeError(e+"is not valid");if(t.length<33)throw new TypeError("Blinding key is too short");if(t.length>33)throw new TypeError("Blinding key is too long");const o=Buffer.alloc(2);o[0]=n.confidentialPrefix,o[1]=i;const a=Buffer.concat([o,t,Buffer.from(r.slice(1))]);return d.encode(a)}(e,t,n)},t.fromOutputScript=I,t.toOutputScript=T,t.getNetwork=x,t.decodeType=C,t.isConfidential=function(e){return C(e)>=4},t.getScriptType=function(e){switch(e[0]){case h.OPS.OP_0:return 20===e.slice(2).length?_.P2Wpkh:_.P2Wsh;case h.OPS.OP_HASH160:return _.P2Sh;case h.OPS.OP_DUP:return _.P2Pkh;case h.OPS.OP_1:return _.P2Tr;default:throw new Error("unknow script type")}}},51623:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AssetHash=void 0;class r{constructor(e,t){this.prefix=e,this.value=t}static fromHex(e){const t=Buffer.from(e,"hex");return 32===t.length?this.fromBytes(t.reverse()):this.fromBytes(t)}static fromBytes(e){if(32===e.length)return new r(r.UNCONFIDENTIAL_PREFIX,e);const t=e.length>0?e[0]:0,n=e.length>1?e.slice(1):Buffer.alloc(0);if(t!==r.UNCONFIDENTIAL_PREFIX&&!r.CONFIDENTIAL_PREFIXES.includes(t))throw new Error("Invalid asset prefix");if(t===r.UNCONFIDENTIAL_PREFIX&&32!==n.length)throw new Error("Invalid unconfidential asset length");if(r.CONFIDENTIAL_PREFIXES.includes(t)&&32!==n.length)throw new Error("Invalid confidential asset length");return new r(t,n)}get hex(){return this.prefix===r.UNCONFIDENTIAL_PREFIX?(e=this.value,Buffer.from(e).reverse()).toString("hex"):Buffer.concat([Buffer.of(this.prefix),this.value]).toString("hex");var e}get bytes(){return Buffer.concat([Buffer.of(this.prefix),this.value])}get bytesWithoutPrefix(){return this.value}get isConfidential(){return this.prefix!==r.UNCONFIDENTIAL_PREFIX}}t.AssetHash=r,r.UNCONFIDENTIAL_PREFIX=1,r.CONFIDENTIAL_PREFIXES=[10,11]},3803:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.findScriptPath=t.toHashTree=t.tapLeafHash=t.BIP341Factory=t.LEAF_VERSION_TAPSCRIPT=void 0;const r=n(66438),i=n(45217),o=n(39831);function a(e){const n=e.version||t.LEAF_VERSION_TAPSCRIPT,i=Buffer.from(e.scriptHex,"hex"),a=o.BufferWriter.withCapacity(1+(0,o.varSliceSize)(i));return a.writeUInt8(n),a.writeVarSlice(i),(0,r.taggedHash)("TapLeaf/elements",a.end())}function s(e,t,n){const i=e.slice(1,33),o=Buffer.concat([i,t]),a=(0,r.taggedHash)("TapTweak/elements",o),s=n.xOnlyPointAddTweak(i,a);if(!s)throw new Error("Invalid tweaked key");return s}function c(e){return(t,n)=>{let r=Buffer.alloc(0);n&&(r=n.hash);const{xOnlyPubkey:i}=s(t,r,e);return Buffer.concat([Buffer.from([81,32]),i])}}function u(e){return(n,r,i,o)=>{const{parity:a}=s(n,i,e),c=Buffer.of(r.version||t.LEAF_VERSION_TAPSCRIPT+a),u=Buffer.concat([c,n.slice(1),...o]);return[Buffer.from(r.scriptHex,"hex"),u]}}t.LEAF_VERSION_TAPSCRIPT=196,t.BIP341Factory=function(e){return{taprootSignKey:d(e),taprootSignScriptStack:u(e),taprootOutputScript:c(e)}},t.tapLeafHash=a,t.toHashTree=function e(n,i=!1){switch(n.length){case 0:return{hash:Buffer.alloc(32)};case 1:const o=n[0];if(0!=(1&(o.version||t.LEAF_VERSION_TAPSCRIPT)))throw new Error("Invalid leaf version");return{hash:a(o),scriptHex:i?o.scriptHex:void 0};default:const s=Math.ceil(n.length/2),c=e(n.slice(0,s),i),u=e(n.slice(s),i);let l=c.hash,f=u.hash;return c.hash.compare(u.hash)>0&&([l,f]=[f,l]),{left:c,right:u,hash:(0,r.taggedHash)("TapBranch/elements",Buffer.concat([l,f]))}}},t.findScriptPath=function e(t,n){if(t.left){if(t.left.hash.equals(n))return t.right?[t.right.hash]:[];const r=e(t.left,n);if(r.length)return t.right?r.concat([t.right.hash]):r}if(t.right){if(t.right.hash.equals(n))return t.left?[t.left.hash]:[];const r=e(t.right,n);if(r.length)return t.left?r.concat([t.left.hash]):r}return[]};const l=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140","hex"),f=Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex");function d(e){return(t,n)=>{const o=(0,i.ECPairFactory)(e).fromPrivateKey(n),a=2===o.publicKey[0]?o.privateKey:e.privateAdd(e.privateSub(l,n),f),s=(0,r.taggedHash)("TapTweak/elements",o.publicKey.slice(1,33)),c=e.privateAdd(a,s);if(null===c)throw new Error("Invalid Tweak");const u=e.signSchnorr(t,c);if(!e.verifySchnorr(t,(0,i.ECPairFactory)(e).fromPrivateKey(Buffer.from(c)).publicKey.slice(1),u))throw new Error("Invalid Signature");return Buffer.from(u)}}},52869:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(buffer){if(buffer.length<8)return!1;if(buffer.length>72)return!1;if(48!==buffer[0])return!1;if(buffer[1]!==buffer.length-2)return!1;if(2!==buffer[2])return!1;const e=buffer[3];if(0===e)return!1;if(5+e>=buffer.length)return!1;if(2!==buffer[4+e])return!1;const t=buffer[5+e];return 0!==t&&(6+e+t===buffer.length&&(!(128&buffer[4])&&(!(e>1&&0===buffer[4]&&!(128&buffer[5]))&&(!(128&buffer[e+6])&&!(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))))))},t.decode=function(buffer){if(buffer.length<8)throw new Error("DER sequence length is too short");if(buffer.length>72)throw new Error("DER sequence length is too long");if(48!==buffer[0])throw new Error("Expected DER sequence");if(buffer[1]!==buffer.length-2)throw new Error("DER sequence length is invalid");if(2!==buffer[2])throw new Error("Expected DER integer");const e=buffer[3];if(0===e)throw new Error("R length is zero");if(5+e>=buffer.length)throw new Error("R length is too long");if(2!==buffer[4+e])throw new Error("Expected DER integer (2)");const t=buffer[5+e];if(0===t)throw new Error("S length is zero");if(6+e+t!==buffer.length)throw new Error("S length is invalid");if(128&buffer[4])throw new Error("R value is negative");if(e>1&&0===buffer[4]&&!(128&buffer[5]))throw new Error("R value excessively padded");if(128&buffer[e+6])throw new Error("S value is negative");if(t>1&&0===buffer[e+6]&&!(128&buffer[e+7]))throw new Error("S value excessively padded");return{r:buffer.slice(4,4+e),s:buffer.slice(6+e)}},t.encode=function(e,t){const n=e.length,r=t.length;if(0===n)throw new Error("R length is zero");if(0===r)throw new Error("S length is zero");if(n>33)throw new Error("R length is too long");if(r>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(n>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const i=Buffer.allocUnsafe(6+n+r);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+n]=2,i[5+n]=t.length,t.copy(i,6+n),i}},39831:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varSliceSize=t.varuint=void 0;const a=o(n(63145)),{typeforce:s}=a,c=o(n(57795));t.varuint=c;function u(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function l(buffer,e){const t=buffer.readUInt32LE(e);let n=buffer.readUInt32LE(e+4);return n*=4294967296,u(n+t,0x10000000000000000),n+t}function f(buffer,e,t){return u(e,0x10000000000000000),buffer.writeInt32LE(-1&e,t),buffer.writeUInt32LE(Math.floor(e/4294967296),t+4),t+8}t.varSliceSize=function(e){const t=e.length;return c.encodingLength(t)+t},t.readUInt64LE=l,t.writeUInt64LE=f,t.reverseBuffer=function(buffer){if(buffer.length<1)return buffer;let e=buffer.length-1,t=0;for(let n=0;n<buffer.length/2;n++)t=buffer[n],buffer[n]=buffer[e],buffer[e]=t,e--;return buffer},t.cloneBuffer=function(buffer){const e=Buffer.allocUnsafe(buffer.length);return buffer.copy(e),e};class d{constructor(buffer,e=0){this.buffer=buffer,this.offset=e,s(a.tuple(a.Buffer,a.UInt32),[buffer,e])}static withCapacity(e){return new d(Buffer.alloc(e))}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=f(this.buffer,e,this.offset)}writeVarInt(e){c.encode(e,this.buffer,this.offset),this.offset+=c.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}writeConfidentialInFields(e){this.writeVarSlice(e.issuanceRangeProof||Buffer.alloc(0)),this.writeVarSlice(e.inflationRangeProof||Buffer.alloc(0)),this.writeVector(e.witness),this.writeVector(e.peginWitness||[])}writeConfidentialOutFields(e){this.writeVarSlice(e.surjectionProof||Buffer.alloc(0)),this.writeVarSlice(e.rangeProof||Buffer.alloc(0))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=d;t.BufferReader=class{constructor(buffer,e=0){this.buffer=buffer,this.offset=e,s(a.tuple(a.Buffer,a.UInt32),[buffer,e])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=l(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=c.decode(this.buffer,this.offset);return this.offset+=c.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let n=0;n<e;n++)t.push(this.readVarSlice());return t}readConfidentialAsset(){const e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e||10===e||11===e?Buffer.concat([t,this.readSlice(32)]):t}readConfidentialNonce(){const e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e||2===e||3===e?Buffer.concat([t,this.readSlice(32)]):t}readConfidentialValue(){const e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e?Buffer.concat([t,this.readSlice(8)]):8===e||9===e?Buffer.concat([t,this.readSlice(32)]):t}readConfidentialInFields(){return{issuanceRangeProof:this.readVarSlice(),inflationRangeProof:this.readVarSlice(),witness:this.readVector(),peginWitness:this.readVector()}}readConfidentialOutFields(){return{surjectionProof:this.readVarSlice(),rangeProof:this.readVarSlice()}}readIssuance(){return{assetBlindingNonce:this.readSlice(32),assetEntropy:this.readSlice(32),assetAmount:this.readConfidentialValue(),tokenAmount:this.readConfidentialValue()}}}},56196:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.satoshiToConfidentialValue=t.confidentialValueToSatoshi=t.Confidential=void 0;const a=o(n(66438)),s=n(76235),c=n(52560);t.Confidential=class{constructor(e){this.zkp=e}nonceHash(e,t){return a.sha256(Buffer.from(this.zkp.ecdh(e,t)))}valueBlindingFactor(e,t,n,r,i,o){const a=e.concat(t),s=e.length,c=n.concat(r),u=i.concat(o);return Buffer.from(this.zkp.pedersen.blindGeneratorBlindSum(a,c,u,s))}valueCommitment(e,t,n){const{pedersen:r}=this.zkp;return Buffer.from(r.commitment(e,t,n))}assetCommitment(e,t){const{generator:n}=this.zkp;return Buffer.from(n.generateBlinded(e,t))}unblindOutputWithKey(e,t){const n=this.nonceHash(e.nonce,t);return this.unblindOutputWithNonce(e,n)}unblindOutputWithNonce(e,t){if(!e.rangeProof||0===e.rangeProof.length)throw new Error("Missing rangeproof to rewind");const n=this.zkp,{value:r,blinder:i,message:o}=n.rangeproof.rewind(e.rangeProof,e.value,e.asset,t,e.script);return{value:r,asset:Buffer.from(o.slice(0,32)),valueBlindingFactor:Buffer.from(i),assetBlindingFactor:Buffer.from(o.slice(32))}}rangeProofInfo(e){const{rangeproof:t}=this.zkp,{exp:n,mantissa:r,minValue:i,maxValue:o}=t.info(e);return{minValue:parseInt(i,10),maxValue:parseInt(o,10),ctExp:parseInt(n,10),ctBits:parseInt(r,10)}}rangeProofWithNonceHash(e,t,n,r,i,o,a,s,c,u,l,f){const d=this.nonceHash(e,t);return this.rangeProof(n,r,i,o,a,s,d,c,u,l,f)}rangeProofVerify(e,t,n,r){const{rangeproof:i}=this.zkp;return i.verify(e,t,n,r)}rangeProof(e,t,n,r,i,o,a,s,c="1",u="0",l="52"){const{rangeproof:f}=this.zkp,d=Buffer.concat([t,o]);return Buffer.from(f.sign(e,n,r,i,a,0===parseInt(e,10)?"0":c,u,l,d,s))}surjectionProof(e,t,n,r,i){const{generator:o,surjectionproof:a}=this.zkp,s=o.generateBlinded(e,t),c=n.map(((e,t)=>o.generateBlinded(e,r[t]))),u=a.initialize(n,e,100,i);return Buffer.from(a.generate(u.proof,c,s,u.inputIndex,r[u.inputIndex],t))}surjectionProofVerify(e,t,n,r,i){const{generator:o,surjectionproof:a}=this.zkp,s=e.map(((e,n)=>o.generateBlinded(e,t[n]))),c=o.generateBlinded(n,r);return a.verify(i,s,c)}blindValueProof(e,t,n,r,i){const{rangeproof:o}=this.zkp;return Buffer.from(o.sign(e,t,n,r,i,e,"-1"))}blindAssetProof(e,t,n){const{generator:r,surjectionproof:i}=this.zkp,o=r.generate(e),a=i.initialize([e],e,100,s.ZERO);return Buffer.from(i.generate(a.proof,[o],t,a.inputIndex,s.ZERO,n))}assetBlindProofVerify(e,t,n){const{generator:r,surjectionproof:i}=this.zkp,o=[r.generate(e)],a=t;return i.verify(n,o,a)}},t.confidentialValueToSatoshi=function(e){return c.ElementsValue.fromBytes(e).number},t.satoshiToConfidentialValue=function(e){return c.ElementsValue.fromNumber(e).bytes}},66438:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const i=r(n(23482));function o(buffer){try{return(0,i.default)("rmd160").update(buffer).digest()}catch(e){return(0,i.default)("ripemd160").update(buffer).digest()}}function a(buffer){return(0,i.default)("sha256").update(buffer).digest()}t.ripemd160=o,t.sha1=function(buffer){return(0,i.default)("sha1").update(buffer).digest()},t.sha256=a,t.hash160=function(buffer){return o(a(buffer))},t.hash256=function(buffer){return a(a(buffer))};const s=Object.fromEntries(["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapLeaf/elements","TapBranch/elements","TapSighash","TapSighash/elements","TapTweak","TapTweak/elements","KeyAgg list","KeyAgg coefficient"].map((e=>{const t=a(Buffer.from(e,"utf-8"));return[e,Buffer.concat([t,t])]})));t.taggedHash=function(e,t){return a(Buffer.concat([s[e],t]))}},84434:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.opcodes=t.bip341=t.issuance=t.script=t.payments=t.networks=t.crypto=t.confidential=t.address=void 0;const s=o(n(93169));t.address=s;const c=o(n(66438));t.crypto=c;const u=o(n(76272));t.networks=u;const l=o(n(43564));t.payments=l;const f=o(n(14627));t.script=f;const d=o(n(63590));t.issuance=d;const h=o(n(3803));t.bip341=h;const p=o(n(56196));t.confidential=p;var y=n(75961);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return y.OPS}});var g=n(76235);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return g.Transaction}}),a(n(51623),t),a(n(52560),t),a(n(87409),t),a(n(74624),t)},63590:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.amountWithPrecisionToSatoshis=t.calculateReissuanceToken=t.calculateAsset=t.issuanceEntropyFromInput=t.generateEntropy=t.isReissuance=t.newIssuance=t.hashContract=t.validateIssuanceContract=t.hasTokenAmount=void 0;const a=n(39831),s=o(n(66438)),c=n(73694),u=n(52560);function l(e){return e.precision>=0&&e.precision<=8}function f(e){if(!l(e))throw new Error("Invalid asset contract");const t=Object.keys(e).sort().reduce(((t,n)=>({...t,[n]:e[n]})),{});return s.sha256(Buffer.from(JSON.stringify(t))).slice().reverse()}function d(e){return!e.assetBlindingNonce.equals(Buffer.alloc(32))}function h(e,t=Buffer.alloc(32)){if(32!==e.txHash.length)throw new Error("Invalid txHash length");const n=Buffer.allocUnsafe(36),r=new a.BufferWriter(n,0);r.writeSlice(e.txHash),r.writeInt32(e.vout);const i=s.hash256(r.buffer),o=Buffer.concat([i,t]);return(0,c.sha256Midstate)(o)}function p(e){return e?1:0}t.hasTokenAmount=function(e){return!!(e.tokenAmount&&e.tokenAmount.length>1)},t.validateIssuanceContract=l,t.hashContract=f,t.newIssuance=function(e,t,n){if(e<0)throw new Error("Invalid asset amount");if(t<0)throw new Error("Invalid token amount");const r=n?f(n):Buffer.alloc(32);return{assetAmount:0===e?Buffer.of(0):u.ElementsValue.fromNumber(e).bytes,tokenAmount:0===t?Buffer.of(0):u.ElementsValue.fromNumber(t).bytes,assetBlindingNonce:Buffer.alloc(32),assetEntropy:r}},t.isReissuance=d,t.generateEntropy=h,t.issuanceEntropyFromInput=function(e){if(!e.issuance)throw new Error("input does not contain issuance data");return d(e.issuance)?e.issuance.assetEntropy:h({txHash:e.hash,vout:e.index},e.issuance.assetEntropy)},t.calculateAsset=function(e){if(32!==e.length)throw new Error("Invalid entropy length");const t=Buffer.alloc(32);return(0,c.sha256Midstate)(Buffer.concat([e,t]))},t.calculateReissuanceToken=function(e,t=!1){if(32!==e.length)throw new Error("Invalid entropy length");return(0,c.sha256Midstate)(Buffer.concat([e,Buffer.of(p(t)+1),Buffer.alloc(31)]))},t.amountWithPrecisionToSatoshis=function(e,t=8){return Math.pow(10,t)*e}},76272:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.liquid=void 0;const r=e=>Buffer.from(e,"hex").reverse(),i=r("00902a6b70c2ca83b5d9c815d96a0e2f4202179316970d14ea1847dae5b1ca21"),o=r("a771da8e52ee6ad581ed1e9a99825e5b3b7992225534eaa2ae23244fe26ab1c1"),a=r("1466275836220db2944ca059a3a10ef6fd2ea684b0688d2c379296888a206003");t.liquid={messagePrefix:"Liquid Signed Message:\n",bech32:"ex",blech32:"lq",bip32:{public:76067358,private:76066276},pubKeyHash:57,scriptHash:39,wif:128,confidentialPrefix:12,assetHash:"6f0279e9ed041c3d710a9f57d0c02928416460c4b722ae3457a11eec381c526d",genesisBlockHash:a,name:"liquid"},t.regtest={messagePrefix:"Liquid Signed Message:\n",bech32:"ert",blech32:"el",bip32:{public:70617039,private:70615956},pubKeyHash:235,scriptHash:75,wif:239,confidentialPrefix:4,assetHash:"5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225",genesisBlockHash:i,name:"regtest"},t.testnet={...t.regtest,bech32:"tex",blech32:"tlq",pubKeyHash:36,scriptHash:19,confidentialPrefix:23,assetHash:"144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49",genesisBlockHash:o,name:"testnet"}},75961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const n={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_SUBSTR_LAZY:195,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_DETERMINISTICRANDOM:192,OP_CHECKSIGFROMSTACK:193,OP_CHECKSIGFROMSTACKVERIFY:194,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP2:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_SHA256INITIALIZE:196,OP_SHA256UPDATE:197,OP_SHA256FINALIZE:198,OP_INSPECTINPUTOUTPOINT:199,OP_INSPECTINPUTASSET:200,OP_INSPECTINPUTVALUE:201,OP_INSPECTINPUTSCRIPTPUBKEY:202,OP_INSPECTINPUTSEQUENCE:203,OP_INSPECTINPUTISSUANCE:204,OP_PUSHCURRENTINPUTINDEX:205,OP_INSPECTOUTPUTASSET:206,OP_INSPECTOUTPUTVALUE:207,OP_INSPECTOUTPUTNONCE:208,OP_INSPECTOUTPUTSCRIPTPUBKEY:209,OP_INSPECTVERSION:210,OP_INSPECTLOCKTIME:211,OP_INSPECTNUMINPUTS:212,OP_INSPECTNUMOUTPUTS:213,OP_TXWEIGHT:214,OP_ADD64:215,OP_SUB64:216,OP_MUL64:217,OP_DIV64:218,OP_NEG64:219,OP_LESSTHAN64:220,OP_LESSTHANOREQUAL64:221,OP_GREATERTHAN64:222,OP_GREATERTHANOREQUAL64:223,OP_SCRIPTNUMTOLE64:224,OP_LE64TOSCRIPTNUM:225,OP_LE32TOLE64:226,OP_ECMULSCALARVERIFY:227,OP_TWEAKVERIFY:228,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=n;const r={};t.REVERSE_OPS=r;for(const e of Object.keys(n)){r[n[e]]=e}},12322:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const a=n(76272),s=o(n(14627)),c=n(63145),u=o(n(35838)),l=s.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,c.typeforce)({network:c.typeforce.maybe(c.typeforce.Object),output:c.typeforce.maybe(c.typeforce.Buffer),data:c.typeforce.maybe(c.typeforce.arrayOf(c.typeforce.Buffer))},e);const n={name:"embed",network:e.network||a.liquid};if(u.prop(n,"output",(()=>{if(e.data)return s.compile([l.OP_RETURN].concat(e.data))})),u.prop(n,"data",(()=>{if(e.output)return s.decompile(e.output).slice(1)})),t.validate&&e.output){const t=s.decompile(e.output);if(t[0]!==l.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(c.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,e)}},43564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const r=n(12322);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return r.p2data}});const i=n(31221);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=n(21015);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const a=n(12411);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});const s=n(22050);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});const c=n(17956);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return c.p2wpkh}});const u=n(18820);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return u.p2wsh}})},35838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=n.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},31221:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const a=n(76272),s=o(n(14627)),c=n(63145),u=o(n(35838)),l=s.OPS,f=l.OP_RESERVED;function d(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function n(e){return s.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===l.OP_0)}t=Object.assign({validate:!0},t||{}),(0,c.typeforce)({network:c.typeforce.maybe(c.typeforce.Object),m:c.typeforce.maybe(c.typeforce.Number),n:c.typeforce.maybe(c.typeforce.Number),output:c.typeforce.maybe(c.typeforce.Buffer),pubkeys:c.typeforce.maybe(c.typeforce.arrayOf(c.isPoint)),signatures:c.typeforce.maybe(c.typeforce.arrayOf(n)),input:c.typeforce.maybe(c.typeforce.Buffer)},e);const r={network:e.network||a.liquid};let i=[],o=!1;function h(e){o||(o=!0,i=s.decompile(e),r.m=i[0]-f,r.n=i[i.length-2]-f,r.pubkeys=i.slice(1,-2))}if(u.prop(r,"output",(()=>{if(e.m&&r.n&&e.pubkeys)return s.compile([].concat(f+e.m,e.pubkeys,f+r.n,l.OP_CHECKMULTISIG))})),u.prop(r,"m",(()=>{if(r.output)return h(r.output),r.m})),u.prop(r,"n",(()=>{if(r.pubkeys)return r.pubkeys.length})),u.prop(r,"pubkeys",(()=>{if(e.output)return h(e.output),r.pubkeys})),u.prop(r,"signatures",(()=>{if(e.input)return s.decompile(e.input).slice(1)})),u.prop(r,"input",(()=>{if(e.signatures)return s.compile([l.OP_0].concat(e.signatures))})),u.prop(r,"witness",(()=>{if(r.input)return[]})),u.prop(r,"name",(()=>{if(r.m&&r.n)return`p2ms(${r.m} of ${r.n})`})),t.validate){if(e.output){if(h(e.output),!c.typeforce.Number(i[0]))throw new TypeError("Output is invalid");if(!c.typeforce.Number(i[i.length-2]))throw new TypeError("Output is invalid");if(i[i.length-1]!==l.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(r.m<=0||r.n>16||r.m>r.n||r.n!==i.length-3)throw new TypeError("Output is invalid");if(!r.pubkeys.every((e=>(0,c.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==r.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==r.n)throw new TypeError("n mismatch");if(e.pubkeys&&!d(e.pubkeys,r.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(r.n=e.pubkeys.length,r.n<r.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<r.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>r.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==l.OP_0)throw new TypeError("Input is invalid");if(0===r.signatures.length||!r.signatures.every(n))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!d(e.signatures,r.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(r,e)}},21015:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const a=n(76272),s=o(n(14627)),c=n(63145),u=o(n(35838)),l=s.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,c.typeforce)({network:c.typeforce.maybe(c.typeforce.Object),output:c.typeforce.maybe(c.typeforce.Buffer),pubkey:c.typeforce.maybe(c.isPoint),signature:c.typeforce.maybe(s.isCanonicalScriptSignature),input:c.typeforce.maybe(c.typeforce.Buffer)},e);const n=u.value((()=>s.decompile(e.input))),r={name:"p2pk",network:e.network||a.liquid};if(u.prop(r,"output",(()=>{if(e.pubkey)return s.compile([e.pubkey,l.OP_CHECKSIG])})),u.prop(r,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),u.prop(r,"signature",(()=>{if(e.input)return n()[0]})),u.prop(r,"input",(()=>{if(e.signature)return s.compile([e.signature])})),u.prop(r,"witness",(()=>{if(r.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==l.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,c.isPoint)(r.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(r.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(r.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==n().length)throw new TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(r.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(r,e)}},12411:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const s=o(n(66438)),c=n(76272),u=o(n(14627)),l=n(63145),f=o(n(35838)),d=a(n(58334)),h=u.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input||e.confidentialAddress))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,l.typeforce)({network:l.typeforce.maybe(l.typeforce.Object),address:l.typeforce.maybe(l.typeforce.String),hash:l.typeforce.maybe(l.typeforce.BufferN(20)),output:l.typeforce.maybe(l.typeforce.BufferN(25)),pubkey:l.typeforce.maybe(l.isPoint),signature:l.typeforce.maybe(u.isCanonicalScriptSignature),input:l.typeforce.maybe(l.typeforce.Buffer),blindkey:l.typeforce.maybe(l.isPoint),confidentialAddress:l.typeforce.maybe(l.typeforce.String)},e);const n=f.value((()=>{const t=d.default.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),r=f.value((()=>u.decompile(e.input))),i=f.value((()=>{const t=d.default.decode(e.confidentialAddress),n=t.slice(2,35),r=Buffer.concat([Buffer.from([t.readUInt8(1)]),t.slice(35)]);return{blindkey:n,unconfidentialAddress:d.default.encode(r)}})),o=e.network||c.liquid,a={name:"p2pkh",network:o};if(f.prop(a,"address",(()=>{if(!a.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(o.pubKeyHash,0),a.hash.copy(e,1),d.default.encode(e)})),f.prop(a,"hash",(()=>{if(e.output)return e.output.slice(3,23);if(e.address)return n().hash;if(e.pubkey||a.pubkey)return s.hash160(e.pubkey||a.pubkey);if(e.confidentialAddress){const e=i().unconfidentialAddress;return d.default.decode(e).slice(1)}})),f.prop(a,"output",(()=>{if(a.hash)return u.compile([h.OP_DUP,h.OP_HASH160,a.hash,h.OP_EQUALVERIFY,h.OP_CHECKSIG])})),f.prop(a,"pubkey",(()=>{if(e.input)return r()[1]})),f.prop(a,"signature",(()=>{if(e.input)return r()[0]})),f.prop(a,"input",(()=>{if(e.pubkey&&e.signature)return u.compile([e.signature,e.pubkey])})),f.prop(a,"witness",(()=>{if(a.input)return[]})),f.prop(a,"blindkey",(()=>e.confidentialAddress?i().blindkey:e.blindkey?e.blindkey:void 0)),f.prop(a,"confidentialAddress",(()=>{if(!a.address)return;if(!a.blindkey)return;const e=d.default.decode(a.address),t=Buffer.concat([Buffer.from([o.confidentialPrefix,e.readUInt8(0)]),a.blindkey,Buffer.from(e.slice(1))]);return d.default.encode(t)})),t.validate){let t=Buffer.from([]),a=Buffer.from([]);if(e.address){if(n().version!==o.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw new TypeError("Invalid address");t=n().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==h.OP_DUP||e.output[1]!==h.OP_HASH160||20!==e.output[2]||e.output[23]!==h.OP_EQUALVERIFY||e.output[24]!==h.OP_CHECKSIG)throw new TypeError("Output is invalid");const n=e.output.slice(3,23);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.pubkey){const n=s.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const n=r();if(2!==n.length)throw new TypeError("Input is invalid");if(!u.isCanonicalScriptSignature(n[0]))throw new TypeError("Input has invalid signature");if(!(0,l.isPoint)(n[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(n[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(n[1]))throw new TypeError("Pubkey mismatch");const i=s.hash160(n[1]);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch")}if(e.confidentialAddress){if(e.address&&e.address!==i().unconfidentialAddress)throw new TypeError("Address mismatch");if(a.length>0&&!a.equals(i().blindkey))throw new TypeError("Blindkey mismatch");a=i().blindkey}if(e.blindkey){if(!(0,l.isPoint)(e.blindkey))throw new TypeError("Blindkey is invalid");if(a.length>0&&!a.equals(e.blindkey))throw new TypeError("Blindkey mismatch");a=e.blindkey}}return Object.assign(a,e)}},22050:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const a=o(n(66438)),s=n(76272),c=o(n(14627)),u=n(63145),l=o(n(35838)),f=o(n(58334)),d=c.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input||e.confidentialAddress))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),address:u.typeforce.maybe(u.typeforce.String),hash:u.typeforce.maybe(u.typeforce.BufferN(20)),output:u.typeforce.maybe(u.typeforce.BufferN(23)),redeem:u.typeforce.maybe({network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.Buffer),input:u.typeforce.maybe(u.typeforce.Buffer),witness:u.typeforce.maybe(u.typeforce.arrayOf(u.typeforce.Buffer))}),input:u.typeforce.maybe(u.typeforce.Buffer),witness:u.typeforce.maybe(u.typeforce.arrayOf(u.typeforce.Buffer)),blindkey:u.typeforce.maybe(u.isPoint),confidentialAddress:u.typeforce.maybe(u.typeforce.String)},e);let n=e.network;n||(n=e.redeem&&e.redeem.network||s.liquid);const r={network:n},i=l.value((()=>{const t=f.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),o=l.value((()=>c.decompile(e.input))),h=l.value((()=>{const t=o();return{network:n,output:t[t.length-1],input:c.compile(t.slice(0,-1)),witness:e.witness||[]}})),p=l.value((()=>{const t=f.decode(e.confidentialAddress),n=t.slice(2,35),r=Buffer.concat([Buffer.from([t.readUInt8(1)]),t.slice(35)]);return{blindkey:n,unconfidentialAddress:f.encode(r)}}));if(l.prop(r,"address",(()=>{if(!r.hash)return;const e=Buffer.allocUnsafe(21);return e.writeUInt8(r.network.scriptHash,0),r.hash.copy(e,1),f.encode(e)})),l.prop(r,"hash",(()=>{if(e.output)return e.output.slice(2,22);if(e.address)return i().hash;if(r.redeem&&r.redeem.output)return a.hash160(r.redeem.output);if(e.confidentialAddress){const e=p().unconfidentialAddress;return f.decode(e).slice(1)}})),l.prop(r,"output",(()=>{if(r.hash)return c.compile([d.OP_HASH160,r.hash,d.OP_EQUAL])})),l.prop(r,"redeem",(()=>{if(e.input)return h()})),l.prop(r,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return c.compile([].concat(c.decompile(e.redeem.input),e.redeem.output))})),l.prop(r,"witness",(()=>r.redeem&&r.redeem.witness?r.redeem.witness:r.input?[]:void 0)),l.prop(r,"name",(()=>{const e=["p2sh"];return void 0!==r.redeem&&void 0!==r.redeem.name&&e.push(r.redeem.name),e.join("-")})),l.prop(r,"blindkey",(()=>e.confidentialAddress?p().blindkey:e.blindkey?e.blindkey:void 0)),l.prop(r,"confidentialAddress",(()=>{if(!r.address)return;if(!r.blindkey)return;const e=f.decode(r.address),t=Buffer.concat([Buffer.from([n.confidentialPrefix,e.readUInt8(0)]),r.blindkey,Buffer.from(e.slice(1))]);return f.encode(t)})),t.validate){let t=Buffer.from([]),r=Buffer.from([]);if(e.address){if(i().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==i().hash.length)throw new TypeError("Invalid address");t=i().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==d.OP_HASH160||20!==e.output[1]||e.output[22]!==d.OP_EQUAL)throw new TypeError("Output is invalid");const n=e.output.slice(2,22);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}const s=e=>{if(e.output){const n=c.decompile(e.output);if(!n||n.length<1)throw new TypeError("Redeem.output too short");const r=a.hash160(e.output);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const t=e.input.length>0,n=e.witness&&e.witness.length>0;if(!t&&!n)throw new TypeError("Empty input");if(t&&n)throw new TypeError("Input and witness provided");if(t){const t=c.decompile(e.input);if(!c.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=o();if(!e||e.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(h().output))throw new TypeError("Input is invalid");s(h())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.input){const t=h();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}s(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.confidentialAddress){if(e.address&&e.address!==p().unconfidentialAddress)throw new TypeError("Address mismatch");if(r.length>0&&!r.equals(p().blindkey))throw new TypeError("Blindkey mismatch");r=p().blindkey}if(e.blindkey){if(!(0,u.isPoint)(e.blindkey))throw new TypeError("Blindkey is invalid");if(r.length>0&&!r.equals(e.blindkey))throw new TypeError("Blindkey mismatch");r=e.blindkey}}return Object.assign(r,e)}},17956:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const a=o(n(93169)),s=o(n(66438)),c=n(76272),u=o(n(14627)),l=n(63145),f=o(n(35838)),d=n(27715),h=u.OPS,p=Buffer.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness||e.confidentialAddress))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,l.typeforce)({address:l.typeforce.maybe(l.typeforce.String),hash:l.typeforce.maybe(l.typeforce.BufferN(20)),input:l.typeforce.maybe(l.typeforce.BufferN(0)),network:l.typeforce.maybe(l.typeforce.Object),output:l.typeforce.maybe(l.typeforce.BufferN(22)),pubkey:l.typeforce.maybe(l.isPoint),signature:l.typeforce.maybe(u.isCanonicalScriptSignature),witness:l.typeforce.maybe(l.typeforce.arrayOf(l.typeforce.Buffer))},e);const n=e.network||c.liquid,r=f.value((()=>{const t=d.bech32.decode(e.address),n=t.words.shift(),r=d.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),i=f.value((()=>{const t=a.fromBlech32(e.confidentialAddress);return{blindingKey:t.pubkey,unconfidentialAddress:a.toBech32(t.data.slice(2),t.version,n.bech32)}})),o={name:"p2wpkh",network:n};if(f.prop(o,"address",(()=>{if(!o.hash)return;const e=d.bech32.toWords(o.hash);return e.unshift(0),d.bech32.encode(n.bech32,e)})),f.prop(o,"hash",(()=>{if(e.output)return e.output.slice(2,22);if(e.address)return r().data;if(e.pubkey||o.pubkey)return s.hash160(e.pubkey||o.pubkey);if(e.confidentialAddress){const e=i().unconfidentialAddress;return a.fromBech32(e).data}})),f.prop(o,"output",(()=>{if(o.hash)return u.compile([h.OP_0,o.hash])})),f.prop(o,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),f.prop(o,"signature",(()=>{if(e.witness)return e.witness[0]})),f.prop(o,"input",(()=>{if(o.witness)return p})),f.prop(o,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),f.prop(o,"blindkey",(()=>e.confidentialAddress?i().blindingKey:e.blindkey?e.blindkey:void 0)),f.prop(o,"confidentialAddress",(()=>{if(!o.address)return;if(!o.blindkey)return;if(!o.network)return;const e=a.fromBech32(o.address),t=Buffer.concat([Buffer.from([e.version,e.data.length]),e.data]);return 0===e.version?a.toBlech32(t,o.blindkey,o.network.blech32,0):void 0})),t.validate){let t=Buffer.from([]),o=Buffer.from([]);if(e.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==h.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const n=s.hash160(e.pubkey);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");if(t=n,!(0,l.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!u.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,l.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const n=s.hash160(e.witness[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}if(e.confidentialAddress){if(e.address&&e.address!==i().unconfidentialAddress)throw new TypeError("Address mismatch");if(o.length>0&&!o.equals(i().blindingKey))throw new TypeError("Blindkey mismatch");o=i().blindingKey}if(e.blindkey){if(!(0,l.isPoint)(e.blindkey))throw new TypeError("Blindkey is invalid");if(o.length>0&&!o.equals(e.blindkey))throw new TypeError("Blindkey mismatch");o=e.blindkey}}return Object.assign(o,e)}},18820:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const a=o(n(93169)),s=o(n(66438)),c=n(76272),u=o(n(14627)),l=n(63145),f=o(n(35838)),d=n(27715),h=u.OPS,p=Buffer.alloc(0);function y(e){return!(!Buffer.isBuffer(e)||65!==e.length||4!==e[0]||!(0,l.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness||e.confidentialAddress))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,l.typeforce)({network:l.typeforce.maybe(l.typeforce.Object),address:l.typeforce.maybe(l.typeforce.String),hash:l.typeforce.maybe(l.typeforce.BufferN(32)),output:l.typeforce.maybe(l.typeforce.BufferN(34)),redeem:l.typeforce.maybe({input:l.typeforce.maybe(l.typeforce.Buffer),network:l.typeforce.maybe(l.typeforce.Object),output:l.typeforce.maybe(l.typeforce.Buffer),witness:l.typeforce.maybe(l.typeforce.arrayOf(l.typeforce.Buffer))}),input:l.typeforce.maybe(l.typeforce.BufferN(0)),witness:l.typeforce.maybe(l.typeforce.arrayOf(l.typeforce.Buffer)),blindkey:l.typeforce.maybe(l.isPoint),confidentialAddress:l.typeforce.maybe(l.typeforce.String)},e);let n=e.network;n||(n=e.redeem&&e.redeem.network||c.liquid);const r=f.value((()=>{const t=d.bech32.decode(e.address),n=t.words.shift(),r=d.bech32.fromWords(t.words);return{version:n,prefix:t.prefix,data:Buffer.from(r)}})),i=f.value((()=>u.decompile(e.redeem.input))),o=f.value((()=>{const t=a.fromBlech32(e.confidentialAddress);return{blindingKey:t.pubkey,unconfidentialAddress:a.toBech32(t.data.slice(2),t.version,n.bech32)}})),g={network:n};if(f.prop(g,"address",(()=>{if(!g.hash)return;const e=d.bech32.toWords(g.hash);return e.unshift(0),d.bech32.encode(n.bech32,e)})),f.prop(g,"hash",(()=>{if(e.output)return e.output.slice(2);if(e.address)return r().data;if(g.redeem&&g.redeem.output)return s.sha256(g.redeem.output);if(e.confidentialAddress){const e=o().unconfidentialAddress;return a.fromBech32(e).data}})),f.prop(g,"output",(()=>{if(g.hash)return u.compile([h.OP_0,g.hash])})),f.prop(g,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:p,witness:e.witness.slice(0,-1)}})),f.prop(g,"input",(()=>{if(g.witness)return p})),f.prop(g,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=u.toStack(i());return g.redeem=Object.assign({witness:t},e.redeem),g.redeem.input=p,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),f.prop(g,"name",(()=>{const e=["p2wsh"];return void 0!==g.redeem&&void 0!==g.redeem.name&&e.push(g.redeem.name),e.join("-")})),f.prop(g,"blindkey",(()=>e.confidentialAddress?o().blindingKey:e.blindkey?e.blindkey:void 0)),f.prop(g,"confidentialAddress",(()=>{if(!g.address)return;if(!g.blindkey)return;const e=a.fromBech32(g.address),t=Buffer.concat([Buffer.from([e.version,e.data.length]),e.data]);return a.toBlech32(t,g.blindkey,g.network.blech32,0)})),t.validate){let t=Buffer.from([]),a=Buffer.from([]);if(e.address){if(r().prefix!==n.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==h.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const n=e.output.slice(2);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===u.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");const n=s.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem.input&&!u.isPushOnly(i()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,n)=>e.equals(t[n])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&i().some(y)||e.redeem.output&&(u.decompile(e.redeem.output)||[]).some(y))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(y)||(u.decompile(t)||[]).some(y))throw new TypeError("Witness contains uncompressed pubkey")}if(e.confidentialAddress){if(e.address&&e.address!==o().unconfidentialAddress)throw new TypeError("Address mismatch");if(a.length>0&&!a.equals(o().blindingKey))throw new TypeError("Blindkey mismatch");a=o().blindingKey}if(e.blindkey){if(!(0,l.isPoint)(e.blindkey))throw new TypeError("Blindkey is invalid");if(a.length>0&&!a.equals(e.blindkey))throw new TypeError("Blindkey mismatch");a=e.blindkey}}return Object.assign(g,e)}},63301:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encodeBIP32Derivation=t.decodeBip32Derivation=t.hardenedKeyStart=void 0,t.hardenedKeyStart=2147483648,t.decodeBip32Derivation=function(e){if(e.length%4!=0||e.length/4-1<1)throw new Error("invalid BIP32 derivation format");const n=e.slice(0,4),r=[];for(let t=4;t<e.length;t+=4)r.push(e.slice(t,t+4).readUInt32LE());const i=function(e){const n=e.map((e=>function(e){if(e<t.hardenedKeyStart)return e.toString();return e-=t.hardenedKeyStart,e.toString()+"'"}(e)));return n.join("/")}(r);return{masterFingerprint:n,path:i}},t.encodeBIP32Derivation=function(e,n){const r=n.split("/"),i=Buffer.allocUnsafe(4+4*r.length);e.copy(i,0);let o=4;return r.forEach((e=>{const n="'"===e.slice(-1);let r=2147483647&parseInt(n?e.slice(0,-1):e,10);n&&(r+=t.hardenedKeyStart),i.writeUInt32LE(r,o),o+=4})),i}},62646:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.findTapLeafToFinalize=t.sortSignatures=t.serializeTaprootSignature=t.toXOnly=void 0;const r=n(3803),i=n(93592);t.toXOnly=e=>{switch(e.length){case 32:return e;case 33:return Buffer.from(e.slice(1));default:throw new Error("Invalid pubkey length")}},t.serializeTaprootSignature=function(e,t){const n=t?Buffer.from([t]):Buffer.from([]);return Buffer.concat([e,n])},t.sortSignatures=function(e,t){const n=(0,r.tapLeafHash)({scriptHex:t.script.toString("hex"),version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(n))).map((e=>function(e,t){return Object.assign({positionInScript:(0,i.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))},t.findTapLeafToFinalize=function(e,t,n){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const i=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,n){const i=(0,r.tapLeafHash)({scriptHex:e.script.toString("hex"),version:e.leafVersion});return(!n||n.equals(i))&&void 0!==t.find((e=>e.leafHash.equals(i)))}(t,e.tapScriptSig,n)));if(!i)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return i}},39776:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Blinder=void 0;const r=n(51623),i=n(63590),o=n(76235);t.Blinder=class{constructor(e,t,n,r){if(0===t.length)throw new Error("Missing owned inputs");e.sanityCheck(),this.pset=e,this.ownedInputs=t,this.blindingValidator=n,this.blindingGenerator=r}blindNonLast(e){this.blind(e,!1)}blindLast(e){this.blind(e,!0)}blind(e,t){if(this.pset.isFullyBlinded())return;const{issuanceBlindingArgs:n,outputBlindingArgs:r}=e;if(0===r.length)throw new Error("missing outputs blinding args");n&&n.length>0&&n.forEach((e=>this.validateIssuanceBlindingArgs(e)));const i=r.sort(((e,t)=>e.index-t.index));i.forEach(((e,n)=>{const r=t&&n===i.length-1;this.validateOutputBlindingArgs(e,r)})),this.validateBlindingData(t,r);const o=this.calculateInputScalar(n),a=this.calculateOutputScalar(i),s=this.pset.copy();n&&n.forEach((({index:e,issuanceValueCommitment:t,issuanceValueRangeProof:n,issuanceValueBlindProof:r,issuanceTokenCommitment:i,issuanceTokenRangeProof:o,issuanceTokenBlindProof:a})=>{s.inputs[e].issuanceValueCommitment=t,s.inputs[e].issuanceValueRangeproof=n,s.inputs[e].issuanceBlindValueProof=r,s.inputs[e].issuanceInflationKeysCommitment=i,s.inputs[e].issuanceInflationKeysRangeproof=o,s.inputs[e].issuanceBlindInflationKeysProof=a}));for(let e=0;e<i.length;e++){const{index:n,assetBlinder:r,assetCommitment:c,assetSurjectionProof:u,assetBlindProof:l,valueBlinder:f,nonceCommitment:d,nonce:h}=i[e];let{valueCommitment:p,valueRangeProof:y,valueBlindProof:g}=i[e];const b=s.outputs[n],m=b.value.toString(10);if(t&&e===i.length-1){const e=this.calculateLastValueBlinder(f,a,o);p=this.blindingGenerator.lastValueCommitment(m,c,e),y=this.blindingGenerator.lastValueRangeProof(m,b.asset,p,c,e,r,h,b.script||Buffer.alloc(0)),g=this.blindingGenerator.lastBlindValueProof(m,p,c,e)}s.outputs[n].valueCommitment=p,s.outputs[n].valueRangeproof=y,s.outputs[n].blindValueProof=g,s.outputs[n].assetCommitment=c,s.outputs[n].assetSurjectionProof=u,s.outputs[n].blindAssetProof=l,s.outputs[n].ecdhPubkey=d,s.outputs[n].blinderIndex=void 0}t?s.globals.scalars=void 0:(s.globals.scalars||(s.globals.scalars=[]),s.globals.scalars.push(a)),s.sanityCheck(),this.pset.globals=s.globals,this.pset.inputs=s.inputs,this.pset.outputs=s.outputs}calculateInputScalar(e){let t=Buffer.from(o.ZERO);for(const n of this.ownedInputs){t=this.blindingGenerator.computeAndAddToScalarOffset(t,n.value,n.assetBlindingFactor,n.valueBlindingFactor);const r=this.pset.inputs[n.index];if(r.hasIssuance()||r.hasReissuance()){const i=e&&e.find((({index:e})=>e===n.index));if(i){const e=i.issuanceValueBlinder&&i.issuanceValueBlinder.length>0?i.issuanceValueBlinder:o.ZERO;if(t=this.blindingGenerator.computeAndAddToScalarOffset(t,r.issuanceValue?r.issuanceValue.toString(10):"0",o.ZERO,e),r.issuanceInflationKeys>0){const e=i.issuanceTokenBlinder&&i.issuanceTokenBlinder.length>0?i.issuanceTokenBlinder:o.ZERO;t=this.blindingGenerator.computeAndAddToScalarOffset(t,r.issuanceInflationKeys.toString(10),o.ZERO,e)}}}}return t}calculateOutputScalar(e){let t=Buffer.from(o.ZERO);for(const n of e){const e=this.pset.outputs[n.index];t=this.blindingGenerator.computeAndAddToScalarOffset(t,e.value.toString(10),n.assetBlinder,n.valueBlinder)}return t}calculateLastValueBlinder(e,t,n){const r=this.blindingGenerator.subtractScalars(t,n);let i=this.blindingGenerator.subtractScalars(e,r);if(this.pset.globals.scalars)for(const e of this.pset.globals.scalars)i=this.blindingGenerator.subtractScalars(i,e);return i}validateIssuanceBlindingArgs(e){const{index:t,issuanceAsset:n,issuanceToken:r,issuanceValueCommitment:i,issuanceTokenCommitment:o,issuanceValueRangeProof:a,issuanceTokenRangeProof:s,issuanceValueBlindProof:c,issuanceTokenBlindProof:u,issuanceValueBlinder:l,issuanceTokenBlinder:f}=e;if(t<0||t>=this.pset.globals.inputCount)throw new Error("Input index out of range");const d=this.pset.inputs[t];if(!d.hasIssuance()&&!d.hasReissuance())throw new Error("Missing issuance on target input");if(0===n.length)throw new Error("Missing issuance asset");if(32!==n.length)throw new Error("Invalid issuance asset length");if(0===i.length)throw new Error("Missing issuance value commitment");if(33!==i.length)throw new Error("Invalid issuance value commitment length");if(0===l.length)throw new Error("Missing issuance value blinder");if(32!==l.length)throw new Error("Invalid issuance value blinder length");if(0===a.length)throw new Error("Missing issuance value range proof");if(0===c.length)throw new Error("Missing issuance blind value proof");if(d.issuanceInflationKeys>0){if(0===r.length)throw new Error("Missing issuance token");if(32!==r.length)throw new Error("Invalid issuance token length");if(0===o.length)throw new Error("Missing issuance token commitment");if(33!==o.length)throw new Error("Invalid issuance token commitment length");if(0===f.length)throw new Error("Missing issuance token blinder");if(32!==f.length)throw new Error("Invalid issuance token blinder length");if(0===s.length)throw new Error("Missing issuance token range proof");if(0===u.length)throw new Error("Missing issuance blind token value proof")}}async validateOutputBlindingArgs(e,t){const{index:n,nonce:r,nonceCommitment:i,valueCommitment:o,assetCommitment:a,valueRangeProof:s,assetSurjectionProof:c,valueBlindProof:u,assetBlindProof:l,valueBlinder:f,assetBlinder:d}=e;if(n<0||n>=this.pset.globals.outputCount)throw new Error("Output index out of range");const h=this.pset.outputs[n];if(!h.needsBlinding())throw new Error("Target output does not need blinding (does not have a blinding pubkey set)");if(!this.ownOutput(h.blinderIndex))throw new Error("Output is not owned by this blinder");if(0===r.length)throw new Error("Missing nonce");if(32!==r.length)throw new Error("Invalid nonce length");if(0===i.length)throw new Error("Missing nonce commitment");if(33!==i.length)throw new Error("Invalid nonce commitment length");if(0===f.length)throw new Error("Missing value blinder");if(32!==f.length)throw new Error("Invalid value blinder length");if(0===d.length)throw new Error("Missing asset blinder");if(32!==d.length)throw new Error("Invalid asset blinder length");if(0===a.length)throw new Error("Missing asset commitment");if(33!==a.length)throw new Error("Invalid asset commitment length");if(0===c.length)throw new Error("Missing asset surjection proof");if(0===l.length)throw new Error("Missing blind asset proof");if(!t){if(0===o.length)throw new Error("Missing value commitment");if(33!==o.length)throw new Error("Invalid value commitment length");if(0===s.length)throw new Error("Missing value range proof");if(0===u.length)throw new Error("Missing blind value proof")}}ownOutput(e){return void 0!==this.ownedInputs.find((({index:t})=>t===e))}validateBlindingData(e,t){const n=this.pset.inputs.map(((e,t)=>{const n=this.ownedInputs.find((({index:e})=>e===t));return n?{asset:n.asset,assetBlinder:n.assetBlindingFactor}:{asset:r.AssetHash.fromBytes(e.getUtxo().asset).bytesWithoutPrefix,assetBlinder:o.ZERO}}));for(const e of this.pset.inputs)if((e.hasIssuance()||e.hasReissuance())&&(n.push({asset:e.getIssuanceAssetHash(),assetBlinder:o.ZERO}),e.issuanceInflationKeys>0)){const t=e.getIssuanceEntropy(),r=(0,i.calculateReissuanceToken)(t,e.blindedIssuance??!0);n.push({asset:r,assetBlinder:o.ZERO})}const a=n.map((e=>e.asset)),s=n.map((e=>e.assetBlinder));for(let n=0;n<t.length;n++){const{index:r,assetBlinder:i,assetCommitment:o,assetSurjectionProof:c,assetBlindProof:u,valueCommitment:l,valueRangeProof:f,valueBlindProof:d}=t[n],h=this.pset.outputs[r],p=e&&n===t.length-1;if(!this.blindingValidator.verifyAssetSurjectionProof(a,s,h.asset,i,c))throw new Error("Invalid output asset surjection proof");if(!this.blindingValidator.verifyBlindAssetProof(h.asset,o,u))throw new Error("Invalid output asset blind proof");if(!p){if(!this.blindingValidator.verifyValueRangeProof(f,l,o,h.script))throw new Error("Invalid output value range proof");if(!this.blindingValidator.verifyBlindValueProof(d,l,o))throw new Error("Invalid output value blind proof")}}}}},84577:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Creator=t.CreatorOutput=t.CreatorInput=void 0;const i=n(50394),o=n(40116),a=n(57868),s=n(8938),c=n(39831),u=n(51623),l=n(76235),f=r(n(53288));t.CreatorInput=class{constructor(e,t,n,r,i){this.txid=e,this.txIndex=t,this.sequence=n||l.Transaction.DEFAULT_SEQUENCE,this.heightLocktime=r||0,this.timeLocktime=i||0}validate(){if(0===this.txid.length)throw new Error("missing prevout txid");if(64!==this.txid.length)throw new Error("invalid prevout txid length");if(this.txIndex<0)throw new Error("missing prevout tx index")}toPartialInput(){const e=(0,c.reverseBuffer)(Buffer.from(this.txid,"hex")),t=new a.PsetInput(e,this.txIndex,this.sequence);return t.requiredHeightLocktime=this.heightLocktime,t.requiredTimeLocktime=this.timeLocktime,t}};t.CreatorOutput=class{constructor(e,t,n,r,i){this.asset=e,this.amount=t,this.script=n,this.blindingPublicKey=r,this.blinderIndex=i}validate(){if(0===this.asset.length)throw new Error("missing asset");if(32!==Buffer.from(this.asset,"hex").length)throw new Error("invalid asset length");if(this.blindingPublicKey&&(void 0===this.blinderIndex||this.blinderIndex<0))throw new Error("missing blinder index for confidential output")}toPartialOutput(){const e=u.AssetHash.fromHex(this.asset),t=new s.PsetOutput(this.amount,e.bytesWithoutPrefix,this.script||Buffer.of());return this.blindingPublicKey&&(t.blinderIndex=this.blinderIndex,t.blindingPubkey=this.blindingPublicKey),t}};t.Creator=class{static newPset(e){const t=e?e.locktime:void 0,n=new f.default(0);n.set(0),n.set(1);const r=new i.PsetGlobal(2,0,0,2,t);r.txModifiable=n,r.xpubs=[],r.scalars=[],r.proprietaryData=[],r.unknowns=[];const a=new o.Pset(r);return e&&e.inputs&&e.inputs.forEach((e=>{e.validate(),a.addInput(e.toPartialInput())})),e&&e.outputs&&e.outputs.forEach((e=>{e.validate(),a.addOutput(e.toPartialOutput())})),a}}},1497:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Extractor=void 0;const r=n(51623),i=n(76235),o=n(52560),a=n(93592);t.Extractor=class{static extract(e){if(e.sanityCheck(),!e.isComplete())throw new Error("Pset must be completed to extract final raw transaction");const t=new i.Transaction;return t.version=e.globals.txVersion,t.locktime=e.locktime(),e.inputs.forEach((e=>{t.addInput(e.previousTxid,e.previousTxIndex,e.sequence);const n=t.ins.length-1;if(e.hasIssuance()||e.hasReissuance()){const r=e.issuanceValueCommitment&&e.issuanceValueCommitment.length>0?e.issuanceValueCommitment:e.issuanceValue>0?o.ElementsValue.fromNumber(e.issuanceValue).bytes:Buffer.of(0),i=e.issuanceInflationKeysCommitment&&e.issuanceInflationKeysCommitment.length>0?e.issuanceInflationKeysCommitment:e.issuanceInflationKeys>0?o.ElementsValue.fromNumber(e.issuanceInflationKeys).bytes:Buffer.of(0);t.ins[n].issuance={assetAmount:r,tokenAmount:i,assetEntropy:e.issuanceAssetEntropy,assetBlindingNonce:e.issuanceBlindingNonce},e.issuanceValueRangeproof&&e.issuanceValueRangeproof.length>0&&(t.ins[n].issuanceRangeProof=e.issuanceValueRangeproof),e.issuanceInflationKeysRangeproof&&e.issuanceInflationKeysRangeproof.length>0&&(t.ins[n].inflationRangeProof=e.issuanceInflationKeysRangeproof)}t.ins[n].isPegin=e.peginWitness&&e.peginWitness.length>0,t.ins[n].isPegin&&(t.ins[n].peginWitness=e.peginWitness),e.finalScriptSig&&e.finalScriptSig.length>0&&(t.ins[n].script=e.finalScriptSig),e.finalScriptWitness&&e.finalScriptWitness.length>0&&(t.ins[n].witness=(0,a.scriptWitnessToWitnessStack)(e.finalScriptWitness))})),e.outputs.forEach((e=>{const n=e.script||Buffer.from([]),i=e.valueCommitment&&e.valueCommitment.length>0?e.valueCommitment:o.ElementsValue.fromNumber(e.value).bytes,a=e.assetCommitment&&e.assetCommitment.length>0?e.assetCommitment:r.AssetHash.fromBytes(e.asset).bytes,s=e.ecdhPubkey&&e.ecdhPubkey.length>0?e.ecdhPubkey:Buffer.of(0);t.addOutput(n,i,a,s,e.valueRangeproof,e.assetSurjectionProof)})),t}}},47199:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputProprietaryTypes=t.OutputTypes=t.InputProprietaryTypes=t.InputTypes=t.GLOBAL_PROPRIETARY_TYPE_NAMES=t.GlobalProprietaryTypes=t.GlobalTypes=t.separator=void 0,t.separator=0,function(e){e[e.XPUB=1]="XPUB",e[e.TX_VERSION=2]="TX_VERSION",e[e.FALLBACK_LOCKTIME=3]="FALLBACK_LOCKTIME",e[e.INPUT_COUNT=4]="INPUT_COUNT",e[e.OUTPUT_COUNT=5]="OUTPUT_COUNT",e[e.TX_MODIFIABLE=6]="TX_MODIFIABLE",e[e.SIGHASH_SINGLE_INPUTS=7]="SIGHASH_SINGLE_INPUTS",e[e.VERSION=251]="VERSION",e[e.PROPRIETARY=252]="PROPRIETARY"}(t.GlobalTypes||(t.GlobalTypes={})),function(e){e[e.SCALAR=0]="SCALAR",e[e.TX_MODIFIABLE=1]="TX_MODIFIABLE"}(t.GlobalProprietaryTypes||(t.GlobalProprietaryTypes={})),t.GLOBAL_PROPRIETARY_TYPE_NAMES=["scalar","txModifiable"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.RIPEMD_160=10]="RIPEMD_160",e[e.SHA_256=11]="SHA_256",e[e.HASH_160=12]="HASH_160",e[e.HASH_256=13]="HASH_256",e[e.PREVIOUS_TXID=14]="PREVIOUS_TXID",e[e.PREVIOUS_TXINDEX=15]="PREVIOUS_TXINDEX",e[e.SEQUENCE=16]="SEQUENCE",e[e.REQUIRED_TIME_LOCKTIME=17]="REQUIRED_TIME_LOCKTIME",e[e.REQUIRED_HEIGHT_LOCKTIME=18]="REQUIRED_HEIGHT_LOCKTIME",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",e[e.PROPRIETARY=252]="PROPRIETARY"}(t.InputTypes||(t.InputTypes={})),function(e){e[e.ISSUANCE_VALUE=0]="ISSUANCE_VALUE",e[e.ISSUANCE_VALUE_COMMITMENT=1]="ISSUANCE_VALUE_COMMITMENT",e[e.ISSUANCE_VALUE_RANGEPROOF=2]="ISSUANCE_VALUE_RANGEPROOF",e[e.ISSUANCE_INFLATION_KEYS_RANGEPROOF=3]="ISSUANCE_INFLATION_KEYS_RANGEPROOF",e[e.PEGIN_TX=4]="PEGIN_TX",e[e.PEGIN_TXOUT_PROOF=5]="PEGIN_TXOUT_PROOF",e[e.PEGIN_GENESIS_HASH=6]="PEGIN_GENESIS_HASH",e[e.PEGIN_CLAIM_SCRIPT=7]="PEGIN_CLAIM_SCRIPT",e[e.PEGIN_VALUE=8]="PEGIN_VALUE",e[e.PEGIN_WITNESS=9]="PEGIN_WITNESS",e[e.ISSUANCE_INFLATION_KEYS=10]="ISSUANCE_INFLATION_KEYS",e[e.ISSUANCE_INFLATION_KEYS_COMMITMENT=11]="ISSUANCE_INFLATION_KEYS_COMMITMENT",e[e.ISSUANCE_BLINDING_NONCE=12]="ISSUANCE_BLINDING_NONCE",e[e.ISSUANCE_ASSET_ENTROPY=13]="ISSUANCE_ASSET_ENTROPY",e[e.UTXO_RANGEPROOF=14]="UTXO_RANGEPROOF",e[e.ISSUANCE_BLIND_VALUE_PROOF=15]="ISSUANCE_BLIND_VALUE_PROOF",e[e.ISSUANCE_BLIND_INFLATION_KEYS_PROOF=16]="ISSUANCE_BLIND_INFLATION_KEYS_PROOF",e[e.EXPLICIT_VALUE=17]="EXPLICIT_VALUE",e[e.VALUE_PROOF=18]="VALUE_PROOF",e[e.EXPLICIT_ASSET=19]="EXPLICIT_ASSET",e[e.ASSET_PROOF=20]="ASSET_PROOF",e[e.BLINDED_ISSUANCE=21]="BLINDED_ISSUANCE"}(t.InputProprietaryTypes||(t.InputProprietaryTypes={})),function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.AMOUNT=3]="AMOUNT",e[e.SCRIPT=4]="SCRIPT",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",e[e.PROPRIETARY=252]="PROPRIETARY"}(t.OutputTypes||(t.OutputTypes={})),function(e){e[e.VALUE_COMMITMENT=1]="VALUE_COMMITMENT",e[e.ASSET=2]="ASSET",e[e.ASSET_COMMITMENT=3]="ASSET_COMMITMENT",e[e.VALUE_RANGEPROOF=4]="VALUE_RANGEPROOF",e[e.ASSET_SURJECTION_PROOF=5]="ASSET_SURJECTION_PROOF",e[e.BLINDING_PUBKEY=6]="BLINDING_PUBKEY",e[e.ECDH_PUBKEY=7]="ECDH_PUBKEY",e[e.BLINDER_INDEX=8]="BLINDER_INDEX",e[e.BLIND_VALUE_PROOF=9]="BLIND_VALUE_PROOF",e[e.BLIND_ASSET_PROOF=10]="BLIND_ASSET_PROOF"}(t.OutputProprietaryTypes||(t.OutputProprietaryTypes={}))},19587:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Finalizer=void 0;const r=n(84434),i=n(62646),o=n(93592);t.Finalizer=class{constructor(e){e.sanityCheck(),this.pset=e}finalize(){const e=this.pset.copy();e.inputs.forEach(((e,t)=>{this.finalizeInput(t)})),e.sanityCheck(),this.pset.globals=e.globals,this.pset.inputs=e.inputs,this.pset.outputs=e.outputs}finalizeInput(e,t=a){if(e<0||e>=this.pset.globals.inputCount)throw new Error("Input index out of range");const n=this.pset.inputs[e];if(n.isFinalized())return this;if(void 0===n.sighashType)throw new Error("Missing input sighash type");if(!n.getUtxo())throw new Error("Missing input (non-)witness utxo");const r=this.pset.copy(),{finalScriptSig:i,finalScriptWitness:o}=t(e,r);if(i&&(r.inputs[e].finalScriptSig=i),o&&(r.inputs[e].finalScriptWitness=o),!i&&!o&&!n.finalScriptWitness)throw new Error(`Unknown error finalizing input #${e}`);return r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}};const a=(e,t)=>{const n=t.inputs[e];if(!(n.partialSigs&&0!==n.partialSigs.length||n.tapKeySig&&0!==n.tapKeySig.length||n.tapScriptSig&&0!==n.tapScriptSig.length))throw new Error(`Missing partial signatures for input at index ${e}. If the script does not have a CHECKSIG operation you must pass a custom finalizer function`);return n.isTaproot()?c(e,t):s(e,t)},s=(e,t)=>{const n=t.inputs[e],{script:i,isP2SH:a,isP2WSH:s,isSegwit:c}=function(e){const t={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};return t.isP2SH=!!e.redeemScript,t.isP2WSH=!!e.witnessScript,e.witnessScript?t.script=e.witnessScript:e.redeemScript?t.script=e.redeemScript:e.nonWitnessUtxo?t.script=e.nonWitnessUtxo.outs[e.previousTxIndex].script:e.witnessUtxo&&(t.script=e.witnessUtxo.script),(e.witnessScript||(0,o.isP2WPKH)(t.script))&&(t.isSegwit=!0),t}(n);if(!i)throw new Error(`No script found for input #${e}`);return function(e,t,n,i,a,s){const c=(0,o.classifyScript)(n);if(!function(e,t,n){switch(n){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return(0,o.hasSigs)(1,e.partialSigs);case"multisig":const n=r.payments.p2ms({output:t});return(0,o.hasSigs)(n.m,e.partialSigs,n.pubkeys);default:return!1}}(t,n,c))throw new Error(`Can not finalize input #${e}`);return function(e,t,n,i,a,s){if("nonstandard"===t)return{finalScriptSig:void 0,finalScriptWitness:void 0};let c,u;const l=(0,o.getPayment)(e,t,n),f=s?r.payments.p2wsh({redeem:l}):null,d=a?r.payments.p2sh({redeem:f||l}):null;i?(u=f?(0,o.witnessStackToScriptWitness)(f.witness):(0,o.witnessStackToScriptWitness)(l.witness),d&&(c=d.input)):c=d?d.input:l.input;return{finalScriptSig:c,finalScriptWitness:u}}(n,c,t.partialSigs,i,a,s)}(e,n,i,c,a,s)},c=(e,t)=>{const n=t.inputs[e];if(!n.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);return n.tapKeySig?{finalScriptWitness:(0,o.witnessStackToScriptWitness)([n.tapKeySig])}:function(e,t,n){const r=(0,i.findTapLeafToFinalize)(t,e,n);try{const e=(0,i.sortSignatures)(t,r).concat(r.script).concat(r.controlBlock);return{finalScriptWitness:(0,o.witnessStackToScriptWitness)(e)}}catch(t){throw new Error(`Can not finalize taproot input #${e}: ${t}`)}}(e,n)}},50394:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PsetGlobal=t.GlobalDuplicateFieldError=void 0;const i=n(47199),o=n(6516),a=n(79371),s=r(n(57795)),c=r(n(53288)),u=n(39831),l=n(40116),f=n(63301);class d extends Error{constructor(e){e&&(e="Duplicated global "+e),super(e)}}t.GlobalDuplicateFieldError=d;class h{constructor(e,t,n,r,i){this.txVersion=e||0,this.inputCount=t||0,this.outputCount=n||0,this.version=r||0,this.fallbackLocktime=i}static fromBuffer(e){let t;const n=new h;for(;;){try{t=o.KeyPair.fromBuffer(e)}catch(e){if(e instanceof Error&&e===o.ErrEmptyKey)return n.sanityCheck(),n;throw e}switch(t.key.keyType){case i.GlobalTypes.XPUB:if(79!==t.key.keyData.length&&![2,3].includes(t.key.keyData[46]))throw new Error("Invalid xpub length");const e=t.key.keyData.slice(1),{masterFingerprint:r,path:o}=(0,f.decodeBip32Derivation)(t.value);n.xpubs||(n.xpubs=[]),n.xpubs.push({extendedKey:e,masterFingerprint:r,derivationPath:o});break;case i.GlobalTypes.TX_VERSION:if(n.txVersion>0)throw new d("tx version");if(4!==t.value.length)throw new Error("Invalid global tx version length");n.txVersion=t.value.readUInt32LE();break;case i.GlobalTypes.FALLBACK_LOCKTIME:if(n.fallbackLocktime>0)throw new d("fallback locktime");if(4!==t.value.length)throw new Error("Invalid global fallback locktime length");n.fallbackLocktime=t.value.readUInt32LE();break;case i.GlobalTypes.INPUT_COUNT:if(n.inputCount>0)throw new d("input count");n.inputCount=s.default.decode(t.value);break;case i.GlobalTypes.OUTPUT_COUNT:if(n.outputCount>0)throw new d("output count");n.outputCount=s.default.decode(t.value);break;case i.GlobalTypes.TX_MODIFIABLE:if(n.txModifiable)throw new d("tx modifiable");if(1!==t.value.length)throw new Error("Invalid global tx modifiable length");n.txModifiable=new c.default(t.value[0]);break;case i.GlobalTypes.VERSION:if(n.version>0)throw new d("version");if(4!==t.value.length)throw new Error("Invalid global version length");n.version=t.value.readUInt32LE();break;case i.GlobalTypes.PROPRIETARY:const u=a.ProprietaryData.fromKeyPair(t);if(0===l.magicPrefix.compare(u.identifier))switch(u.subType){case i.GlobalProprietaryTypes.SCALAR:if(32!==u.keyData.length)throw new Error("Invalid global scalar length");n.scalars||(n.scalars=[]),n.scalars.push(u.keyData);break;case i.GlobalProprietaryTypes.TX_MODIFIABLE:if(n.modifiable)throw new d("pset modifiable");if(1!==t.value.length)throw new Error("Invalid global pset modifiable length");n.modifiable=new c.default(t.value[0]);break;default:n.proprietaryData||(n.proprietaryData=[]),n.proprietaryData.push(u)}break;default:n.unknowns||(n.unknowns=[]),n.unknowns.push(t)}}}sanityCheck(){if(this.txVersion<2)throw new Error("Global tx version must be at least 2");if(2!==this.txVersion)throw new Error("Global version must be exactly 2");if(this.txModifiable&&parseInt(this.txModifiable.toString(),2)>7)throw new Error("Invalid global tx modifiable value");if(this.modifiable&&0!==parseInt(this.modifiable.toString(),2))throw new Error("Invalid global pset modifiable value");if(this.xpubs&&this.xpubs.some(((e,t)=>{if(t===this.xpubs.length-1)return!1;return this.xpubs.slice(t+1).some((t=>0===e.extendedKey.compare(t.extendedKey)))})))throw new d("xpub");if(this.scalars&&this.scalars.some(((e,t)=>{if(t===this.scalars.length-1)return!1;return this.scalars.slice(t+1).some((t=>0===e.compare(t)))})))throw new d("scalar");return this}toBuffer(){const e=this.getKeyPairs().map((e=>e.toBuffer()));let t=0;e.forEach((e=>{t+=e.length}));const n=u.BufferWriter.withCapacity(t);return e.forEach((e=>n.writeSlice(e))),n.buffer}getKeyPairs(){const e=[];this.xpubs&&this.xpubs.length>0&&this.xpubs.forEach((({extendedKey:t,masterFingerprint:n,derivationPath:r})=>{const a=Buffer.concat([Buffer.of(t.length),t]),s=new o.Key(i.GlobalTypes.XPUB,a),c=(0,f.encodeBIP32Derivation)(n,r);e.push(new o.KeyPair(s,c))}));const t=Buffer.allocUnsafe(4);t.writeUInt32LE(this.txVersion,0);const n=new o.Key(i.GlobalTypes.TX_VERSION);if(e.push(new o.KeyPair(n,t)),void 0!==this.fallbackLocktime){const t=Buffer.allocUnsafe(4);t.writeUInt32LE(this.fallbackLocktime,0);const n=new o.Key(i.GlobalTypes.FALLBACK_LOCKTIME);e.push(new o.KeyPair(n,t))}const r=Buffer.allocUnsafe(s.default.encodingLength(this.inputCount));s.default.encode(this.inputCount,r,0);const c=new o.Key(i.GlobalTypes.INPUT_COUNT);e.push(new o.KeyPair(c,r));const u=Buffer.allocUnsafe(s.default.encodingLength(this.outputCount));s.default.encode(this.outputCount,u,0);const l=new o.Key(i.GlobalTypes.OUTPUT_COUNT);if(e.push(new o.KeyPair(l,u)),this.txModifiable){const t=Buffer.allocUnsafe(1);t.writeUInt8(Number(this.txModifiable.toString(10)),0);const n=new o.Key(i.GlobalTypes.TX_MODIFIABLE);e.push(new o.KeyPair(n,t))}if(this.scalars&&this.scalars.length>0&&this.scalars.forEach((t=>{const n=a.ProprietaryData.proprietaryKey(i.GlobalProprietaryTypes.SCALAR,t),r=new o.Key(i.GlobalTypes.PROPRIETARY,n);e.push(new o.KeyPair(r))})),this.modifiable&&parseInt(this.modifiable.toString(),2)>0){const t=Buffer.allocUnsafe(1);t.writeUInt8(Number(this.modifiable.toString(2)),0);const n=a.ProprietaryData.proprietaryKey(i.GlobalProprietaryTypes.TX_MODIFIABLE),r=new o.Key(i.GlobalTypes.PROPRIETARY,n);e.push(new o.KeyPair(r,t))}const d=Buffer.allocUnsafe(4);d.writeUInt32LE(this.version,0);const h=new o.Key(i.GlobalTypes.VERSION);return e.push(new o.KeyPair(h,d)),this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach((t=>{const n=a.ProprietaryData.proprietaryKey(t.subType,t.keyData),r=new o.Key(i.GlobalTypes.PROPRIETARY,n);e.push(new o.KeyPair(r,t.value))})),e.concat(this.unknowns||[]),e}}t.PsetGlobal=h},87409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classifyScript=t.scriptWitnessToWitnessStack=t.witnessStackToScriptWitness=t.ZKPValidator=t.ZKPGenerator=t.Updater=t.Signer=t.PsetOutput=t.PsetInput=t.PsetGlobal=t.Pset=t.CreatorOutput=t.CreatorInput=t.Finalizer=t.Extractor=t.Creator=t.Blinder=void 0;const r=n(50394);Object.defineProperty(t,"PsetGlobal",{enumerable:!0,get:function(){return r.PsetGlobal}});const i=n(57868);Object.defineProperty(t,"PsetInput",{enumerable:!0,get:function(){return i.PsetInput}});const o=n(8938);Object.defineProperty(t,"PsetOutput",{enumerable:!0,get:function(){return o.PsetOutput}});const a=n(40116);Object.defineProperty(t,"Pset",{enumerable:!0,get:function(){return a.Pset}});const s=n(84577);Object.defineProperty(t,"Creator",{enumerable:!0,get:function(){return s.Creator}}),Object.defineProperty(t,"CreatorInput",{enumerable:!0,get:function(){return s.CreatorInput}}),Object.defineProperty(t,"CreatorOutput",{enumerable:!0,get:function(){return s.CreatorOutput}});const c=n(13039);Object.defineProperty(t,"Updater",{enumerable:!0,get:function(){return c.Updater}});const u=n(39776);Object.defineProperty(t,"Blinder",{enumerable:!0,get:function(){return u.Blinder}});const l=n(29921);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return l.Signer}});const f=n(19587);Object.defineProperty(t,"Finalizer",{enumerable:!0,get:function(){return f.Finalizer}});const d=n(1497);Object.defineProperty(t,"Extractor",{enumerable:!0,get:function(){return d.Extractor}});const h=n(93592);Object.defineProperty(t,"witnessStackToScriptWitness",{enumerable:!0,get:function(){return h.witnessStackToScriptWitness}}),Object.defineProperty(t,"scriptWitnessToWitnessStack",{enumerable:!0,get:function(){return h.scriptWitnessToWitnessStack}}),Object.defineProperty(t,"classifyScript",{enumerable:!0,get:function(){return h.classifyScript}});const p=n(70181);Object.defineProperty(t,"ZKPGenerator",{enumerable:!0,get:function(){return p.ZKPGenerator}}),Object.defineProperty(t,"ZKPValidator",{enumerable:!0,get:function(){return p.ZKPValidator}})},57868:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PsetInput=t.InputDuplicateFieldError=void 0;const a=n(43513),s=n(39831),c=n(63590),u=n(76235),l=n(63301),f=n(47199),d=n(6516),h=n(79371),p=n(40116),y=o(n(14627)),g=n(93592),b=n(51623),m=n(52560);class v extends Error{constructor(e){e&&(e="Duplicated input "+e),super(e)}}t.InputDuplicateFieldError=v;class w{constructor(e,t,n){this.previousTxid=e||Buffer.from([]),this.previousTxIndex=t||0,this.sequence=n}static fromBuffer(e){let t;const n=new w;for(;;){try{t=d.KeyPair.fromBuffer(e)}catch(e){if(e instanceof Error&&e===d.ErrEmptyKey)return n.sanityCheck(),n;throw e}switch(t.key.keyType){case f.InputTypes.NON_WITNESS_UTXO:if(n.nonWitnessUtxo)throw new v("non-witness utxo");n.nonWitnessUtxo=u.Transaction.fromBuffer(t.value);break;case f.InputTypes.WITNESS_UTXO:if(n.witnessUtxo)throw new v("witness utxo");n.witnessUtxo=_(t.value);break;case f.InputTypes.PARTIAL_SIG:n.partialSigs||(n.partialSigs=[]);const e=t.key.keyData;if(33!==e.length)throw new Error("Invalid partial sig's pubkey length");if(n.partialSigs.find((t=>t.pubkey.equals(e))))throw new v("partial sig");const r=t.value;y.signature.decode(r),n.partialSigs.push({pubkey:e,signature:r});break;case f.InputTypes.SIGHASH_TYPE:if(void 0!==n.sighashType)throw new v("sighash type");if(4!==t.value.length)throw new Error("Invalid input sighash type length");n.sighashType=t.value.readUInt32LE();break;case f.InputTypes.REDEEM_SCRIPT:if(n.redeemScript&&n.redeemScript.length>0)throw new v("redeem script");n.redeemScript=t.value;break;case f.InputTypes.WITNESS_SCRIPT:if(n.witnessScript&&n.witnessScript.length>0)throw new v("witness script");n.witnessScript=t.value;break;case f.InputTypes.BIP32_DERIVATION:const i=t.key.keyData;if(33!==i.length)throw new Error("Invalid input bip32 derivation pubkey length");if(n.bip32Derivation||(n.bip32Derivation=[]),n.bip32Derivation.find((e=>e.pubkey.equals(i))))throw new v("bip32 derivation");const{masterFingerprint:o,path:c}=(0,l.decodeBip32Derivation)(t.value);n.bip32Derivation.push({pubkey:i,masterFingerprint:o,path:c});break;case f.InputTypes.FINAL_SCRIPTSIG:if(n.finalScriptSig&&n.finalScriptSig.length>0)throw new v("final scriptsig");n.finalScriptSig=t.value;break;case f.InputTypes.FINAL_SCRIPTWITNESS:if(n.finalScriptWitness&&n.finalScriptWitness.length>0)throw new v("final script witness");n.finalScriptWitness=t.value;break;case f.InputTypes.RIPEMD_160:const d=t.key.keyData.toString("hex");if(20!==d.length)throw new Error("Invalid length for key of ripemd160 preimages");n.ripemd160Preimages||(n.ripemd160Preimages={}),n.ripemd160Preimages[d]=t.value;break;case f.InputTypes.SHA_256:const g=t.key.keyData.toString("hex");if(32!==g.length)throw new Error("Invalid length for key of sha256 preimages");n.sha256Preimages||(n.sha256Preimages={}),n.sha256Preimages[g]=t.value;break;case f.InputTypes.HASH_160:const b=t.key.keyData.toString("hex");if(20!==b.length)throw new Error("Invalid length for key of hash160 preimages");n.hash160Preimages||(n.hash160Preimages={}),n.hash160Preimages[b]=t.value;break;case f.InputTypes.HASH_256:const m=t.key.keyData.toString("hex");if(32!==m.length)throw new Error("Invalid length for key of hash256 preimages");n.hash256Preimages||(n.hash256Preimages={}),n.hash256Preimages[m]=t.value;break;case f.InputTypes.PREVIOUS_TXID:if(n.previousTxid&&n.previousTxid.length>0)throw new v("previous txid");if(32!==t.value.length)throw new Error("Invalid input previous txid length");n.previousTxid=t.value;break;case f.InputTypes.PREVIOUS_TXINDEX:if(n.previousTxIndex>0)throw new v("previous txindex");if(4!==t.value.length)throw new Error("Invalid input previous tx index length");n.previousTxIndex=t.value.readUInt32LE();break;case f.InputTypes.SEQUENCE:if(void 0!==n.sequence)throw new v("sequence");if(4!==t.value.length)throw new Error("Invalid input sequence length");n.sequence=t.value.readUInt32LE();break;case f.InputTypes.REQUIRED_TIME_LOCKTIME:if(n.requiredTimeLocktime>0)throw new v("time locktime");if(4!==t.value.length)throw new Error("Invalid input time-based locktime length");n.requiredTimeLocktime=t.value.readUInt32LE();break;case f.InputTypes.REQUIRED_HEIGHT_LOCKTIME:if(n.requiredHeightLocktime>0)throw new v("height locktime");if(4!==t.value.length)throw new Error("Invalid input height-based locktime length");n.requiredHeightLocktime=t.value.readUInt32LE();break;case f.InputTypes.TAP_KEY_SIG:if(n.tapKeySig&&n.tapKeySig.length>0)throw new v("taproot keysig");if(64!==t.value.length&&65!==t.value.length)throw new Error("Invalid input taproot key signature length");n.tapKeySig=t.value;break;case f.InputTypes.TAP_SCRIPT_SIG:if(n.tapScriptSig||(n.tapScriptSig=[]),64!==t.key.keyData.length)throw new Error("Invalid input TAP_SCRIPT_SIG key data length");const w=t.key.keyData.slice(0,32),E=t.key.keyData.slice(32);if(n.tapScriptSig.find((e=>e.pubkey.equals(w))))throw new v("taproot scriptsig");if(64!==t.value.length&&65!==t.value.length)throw new Error("Invalid input taproot key signature length");n.tapScriptSig.push({pubkey:w,leafHash:E,signature:t.value});break;case f.InputTypes.TAP_LEAF_SCRIPT:if(n.tapLeafScript||(n.tapLeafScript=[]),(t.key.keyData.length-1)%32!=0)throw new Error("Invalid input TAP_LEAF_SCRIPT key data length");const S=t.key.keyData,k=t.value.slice(-1)[0];if((254&S[0])!==k)throw new Error("Invalid input taproot leaf script version");n.tapLeafScript.push({controlBlock:S,leafVersion:k,script:t.value.slice(0,-1)});break;case f.InputTypes.TAP_BIP32_DERIVATION:if(33!==t.key.keyData.length)throw new Error("Invalid input bip32 derivation pubkey length");n.tapBip32Derivation||(n.tapBip32Derivation=[]);const A=t.key.keyData;if(n.tapBip32Derivation.find((e=>e.pubkey.equals(A))))throw new v("taproot bip32 derivation");const O=s.varuint.decode(t.value),P=s.varuint.encodingLength(O),I=(0,l.decodeBip32Derivation)(t.value.slice(P+32*O)),T=new Array(O);for(let e=0,n=P;e<O;e++,n+=32)T[e]=t.value.slice(n,n+32);n.tapBip32Derivation.push({pubkey:A,masterFingerprint:I.masterFingerprint,path:I.path,leafHashes:T});break;case f.InputTypes.TAP_INTERNAL_KEY:if(n.tapInternalKey&&n.tapInternalKey.length>0)throw new v("taproot internal key");if(32!==t.value.length)throw new Error("Invalid input taproot internal key length");n.tapInternalKey=t.value;break;case f.InputTypes.TAP_MERKLE_ROOT:if(n.tapMerkleRoot&&n.tapMerkleRoot.length>0)throw new v("taproot merkle root");if(32!==t.value.length)throw new Error("Invalid input taproot merkle root length");n.tapMerkleRoot=t.value;break;case f.InputTypes.PROPRIETARY:const N=h.ProprietaryData.fromKeyPair(t);if(0===Buffer.compare(N.identifier,p.magicPrefix))switch(N.subType){case f.InputProprietaryTypes.ISSUANCE_VALUE:if(n.issuanceValue>0)throw new v("issuance value");if(8!==t.value.length)throw new Error("Invalid input issuance value length");n.issuanceValue=(0,s.readUInt64LE)(t.value,0);break;case f.InputProprietaryTypes.ISSUANCE_VALUE_COMMITMENT:if(n.issuanceValueCommitment&&n.issuanceValueCommitment.length>0)throw new v("issuance value commitment");if(33!==t.value.length)throw new Error("Invalid input issuance value commitment length");n.issuanceValueCommitment=t.value;break;case f.InputProprietaryTypes.ISSUANCE_VALUE_RANGEPROOF:if(n.issuanceValueRangeproof&&n.issuanceValueRangeproof.length>0)throw new v("issuance value range proof");n.issuanceValueRangeproof=t.value;break;case f.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_RANGEPROOF:if(n.issuanceInflationKeysRangeproof&&n.issuanceInflationKeysRangeproof.length>0)throw new v("issuance inflation keys range proof");n.issuanceInflationKeysRangeproof=t.value;break;case f.InputProprietaryTypes.PEGIN_TX:if(void 0!==n.peginTx)throw new v("pegin tx");try{n.peginTx=a.Transaction.fromBuffer(t.value)}catch(e){throw new Error("Invalid input pegin tx")}break;case f.InputProprietaryTypes.PEGIN_TXOUT_PROOF:if(n.peginTxoutProof&&n.peginTxoutProof.length>0)throw new v("pegin txout proof");n.peginTxoutProof=t.value;break;case f.InputProprietaryTypes.PEGIN_GENESIS_HASH:if(n.peginGenesisHash&&n.peginGenesisHash.length>0)throw new v("pegin genesis hash");if(32!==t.value.length)throw new Error("Invalid input pegin genesis hash length");n.peginGenesisHash=t.value;break;case f.InputProprietaryTypes.PEGIN_CLAIM_SCRIPT:if(n.peginClaimScript&&n.peginClaimScript.length>0)throw new v("pegin claim script");n.peginClaimScript=t.value;break;case f.InputProprietaryTypes.PEGIN_VALUE:if(n.peginValue>0)throw new v("pegin value");if(8!==t.value.length)throw new Error("Invalid input pegin value length");n.peginValue=(0,s.readUInt64LE)(t.value,0);break;case f.InputProprietaryTypes.PEGIN_WITNESS:if(n.peginWitness&&n.peginWitness.length>0)throw new v("pegin witness");const e=new s.BufferReader(t.value);try{n.peginWitness=e.readVector()}catch(e){throw new Error("Invalid input pegin witness")}break;case f.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS:if(n.issuanceInflationKeys>0)throw new v("issuance inflation keys");if(8!==t.value.length)throw new Error("Invalid input issuance inflation keys length");n.issuanceInflationKeys=(0,s.readUInt64LE)(t.value,0);break;case f.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_COMMITMENT:if(n.issuanceInflationKeysCommitment&&n.issuanceInflationKeysCommitment.length>0)throw new v("issuance inflation keys commitment");if(33!==t.value.length)throw new Error("Invalid input issuance inflation keys commitment length");n.issuanceInflationKeysCommitment=t.value;break;case f.InputProprietaryTypes.ISSUANCE_BLINDING_NONCE:if(n.issuanceBlindingNonce&&n.issuanceBlindingNonce.length>0)throw new v("issuance blinding nonce");if(32!==t.value.length)throw new Error("Invalid input issuance blinding nonce length");n.issuanceBlindingNonce=t.value;break;case f.InputProprietaryTypes.ISSUANCE_ASSET_ENTROPY:if(n.issuanceAssetEntropy&&n.issuanceAssetEntropy.length>0)throw new v("issuance asset entropy");if(32!==t.value.length)throw new Error("Invalid input issuance asset entropy length");n.issuanceAssetEntropy=t.value;break;case f.InputProprietaryTypes.UTXO_RANGEPROOF:if(n.utxoRangeProof&&n.utxoRangeProof.length>0)throw new v("utxo range proof");n.utxoRangeProof=t.value;break;case f.InputProprietaryTypes.ISSUANCE_BLIND_VALUE_PROOF:if(n.issuanceBlindValueProof&&n.issuanceBlindValueProof.length>0)throw new v("issuance blind value proof");n.issuanceBlindValueProof=t.value;break;case f.InputProprietaryTypes.ISSUANCE_BLIND_INFLATION_KEYS_PROOF:if(n.issuanceBlindInflationKeysProof&&n.issuanceBlindInflationKeysProof.length>0)throw new v("issuance blind inflation keys proof");n.issuanceBlindInflationKeysProof=t.value;break;case f.InputProprietaryTypes.EXPLICIT_VALUE:if(void 0!==n.explicitValue)throw new v("explicit value");if(8!==t.value.length)throw new Error("Invalid input explicit value length");n.explicitValue=(0,s.readUInt64LE)(t.value,0);break;case f.InputProprietaryTypes.VALUE_PROOF:if(n.explicitValueProof&&n.explicitValueProof.length>0)throw new v("explicit value proof");n.explicitValueProof=t.value;break;case f.InputProprietaryTypes.EXPLICIT_ASSET:if(n.explicitAsset&&n.explicitAsset.length>0)throw new v("explicit asset");n.explicitAsset=t.value;break;case f.InputProprietaryTypes.ASSET_PROOF:if(n.explicitAssetProof&&n.explicitAssetProof.length>0)throw new v("explicit asset proof");n.explicitAssetProof=t.value;break;case f.InputProprietaryTypes.BLINDED_ISSUANCE:if(void 0!==n.blindedIssuance)throw new v("blinded issuance");if(1!==t.value.length)throw new Error("invalid blinded issuance length");n.blindedIssuance=t.value.equals(Buffer.of(1));break;default:n.proprietaryData||(n.proprietaryData=[]),n.proprietaryData.push(N)}break;default:n.unknowns||(n.unknowns=[]),n.unknowns.push(t)}}}sanityCheck(){if(0===this.previousTxid.length)throw new Error("Missing input previous txid");if(this.previousTxIndex<0)throw new Error("Missing input previous tx index");if(!this.witnessUtxo&&this.witnessScript&&this.witnessScript.length>0)throw new Error("Input witness script cannot be set if witness utxo is unset");if(!this.witnessUtxo&&this.finalScriptWitness&&this.finalScriptWitness.length>0)throw new Error("Input final script witness cannot be set if witness utxo is unset");const e=this.issuanceValueCommitment&&this.issuanceValueCommitment.length>0,t=this.issuanceBlindValueProof&&this.issuanceBlindValueProof.length>0;if(this.issuanceValue&&e!==t)throw new Error("Missing input issuance value commitment or blind proof");const n=this.issuanceInflationKeysCommitment&&this.issuanceInflationKeysCommitment.length>0,r=this.issuanceBlindInflationKeysProof&&this.issuanceBlindInflationKeysProof.length>0;if(this.issuanceInflationKeys&&n!==r)throw new Error("Missing input issuance inflation keys commitment or blind proof");if(void 0!==this.sighashType&&this.sighashType<0)throw new Error("Invalid sighash type");if(this.explicitValue&&!this.explicitValueProof)throw new Error("Explicit value proof is required if explicit value is set");if(this.explicitValueProof&&!this.explicitValue)throw new Error("Explicit value is required if value proof is set");if(this.explicitAsset&&!this.explicitAssetProof)throw new Error("Explicit asset proof is required if explicit asset set");if(this.explicitAssetProof&&!this.explicitAsset)throw new Error("Explicit asset is required if asset proof is set");if(this.explicitAsset){if(b.AssetHash.fromBytes(this.explicitAsset).isConfidential)throw new Error("Explicit asset must be unconfidential")}const i=this.getUtxo();if(i&&this.explicitAsset&&!b.AssetHash.fromBytes(i.asset).isConfidential)throw new Error("Explicit asset must be undefined if previous utxo is unconfidential");if(i&&void 0!==this.explicitValue&&!m.ElementsValue.fromBytes(i.value).isConfidential)throw new Error("Explicit value must be undefined if previout utxo is unconfidential");return this}hasIssuance(){return!!this.issuanceBlindingNonce&&this.issuanceBlindingNonce.equals(u.ZERO)}hasIssuanceBlinded(){return this.issuanceValueCommitment.length>0}hasReissuance(){return!!this.issuanceBlindingNonce&&!this.issuanceBlindingNonce.equals(u.ZERO)}isFinalized(){return this.finalScriptSig&&this.finalScriptSig.length>0||this.finalScriptWitness&&this.finalScriptWitness.length>0}isTaproot(){return this.tapInternalKey&&this.tapInternalKey.length>0||this.tapMerkleRoot&&this.tapMerkleRoot.length>0||this.tapLeafScript&&this.tapLeafScript.length>0||this.tapBip32Derivation&&this.tapBip32Derivation.length>0||this.witnessUtxo&&(0,g.isP2TR)(this.witnessUtxo.script)}getIssuanceAssetHash(){if(!this.hasIssuance()&&!this.hasReissuance())return;if(!this.issuanceAssetEntropy)throw new Error("missing issuance asset entropy");let e=this.issuanceAssetEntropy;return this.hasReissuance()||(e=(0,c.generateEntropy)({txHash:this.previousTxid,vout:this.previousTxIndex},this.issuanceAssetEntropy)),(0,c.calculateAsset)(e)}getIssuanceEntropy(){if(!this.hasIssuance()&&!this.hasReissuance())throw new Error("input is not an (re)issuance");if(!this.issuanceAssetEntropy)throw new Error("missing issuance asset entropy");let e=this.issuanceAssetEntropy;return this.hasIssuance()&&(e=(0,c.generateEntropy)({txHash:this.previousTxid,vout:this.previousTxIndex},this.issuanceAssetEntropy)),e}getUtxo(){if(this.witnessUtxo||this.nonWitnessUtxo){if(!this.nonWitnessUtxo){const e=this.witnessUtxo;return e.rangeProof=this.utxoRangeProof,e}return this.nonWitnessUtxo.outs[this.previousTxIndex]}}toBuffer(){const e=this.getKeyPairs().map((e=>e.toBuffer()));let t=0;e.forEach((e=>{t+=e.length}));const n=s.BufferWriter.withCapacity(t);return e.forEach((e=>n.writeSlice(e))),n.buffer}getKeyPairs(){const e=[];if(this.nonWitnessUtxo){const t=new d.Key(f.InputTypes.NON_WITNESS_UTXO),n=this.nonWitnessUtxo.toBuffer();e.push(new d.KeyPair(t,n))}if(this.witnessUtxo){const t=new d.Key(f.InputTypes.WITNESS_UTXO),n=function(e){const t=e.asset.length+e.value.length+s.varuint.encodingLength(e.script.length)+e.script.length+e.nonce.length,n=Buffer.allocUnsafe(t),r=new s.BufferWriter(n,0);return r.writeSlice(e.asset),r.writeSlice(e.value),r.writeSlice(e.nonce),r.writeVarSlice(e.script),n}(this.witnessUtxo);e.push(new d.KeyPair(t,n))}if(this.partialSigs&&this.partialSigs.length>0&&this.partialSigs.forEach((({pubkey:t,signature:n})=>{const r=new d.Key(f.InputTypes.PARTIAL_SIG,t);e.push(new d.KeyPair(r,n))})),void 0!==this.sighashType){const t=new d.Key(f.InputTypes.SIGHASH_TYPE),n=Buffer.allocUnsafe(4);n.writeUInt32LE(this.sighashType),e.push(new d.KeyPair(t,n))}if(this.redeemScript&&this.redeemScript.length>0){const t=new d.Key(f.InputTypes.REDEEM_SCRIPT);e.push(new d.KeyPair(t,this.redeemScript))}if(this.witnessScript&&this.witnessScript.length>0){const t=new d.Key(f.InputTypes.WITNESS_SCRIPT);e.push(new d.KeyPair(t,this.witnessScript))}if(this.bip32Derivation&&this.bip32Derivation.length>0&&this.bip32Derivation.forEach((({pubkey:t,masterFingerprint:n,path:r})=>{const i=new d.Key(f.InputTypes.BIP32_DERIVATION,t),o=(0,l.encodeBIP32Derivation)(n,r);e.push(new d.KeyPair(i,o))})),this.finalScriptSig&&this.finalScriptSig.length>0){const t=new d.Key(f.InputTypes.FINAL_SCRIPTSIG);e.push(new d.KeyPair(t,this.finalScriptSig))}if(this.finalScriptWitness&&this.finalScriptWitness.length>0){const t=new d.Key(f.InputTypes.FINAL_SCRIPTWITNESS);e.push(new d.KeyPair(t,this.finalScriptWitness))}this.ripemd160Preimages&&Object.keys(this.ripemd160Preimages).length>0&&Object.entries(this.ripemd160Preimages).forEach((([t,n])=>{const r=new d.Key(f.InputTypes.RIPEMD_160,Buffer.from(t,"hex"));e.push(new d.KeyPair(r,n))})),this.sha256Preimages&&Object.keys(this.sha256Preimages).length>0&&Object.entries(this.sha256Preimages).forEach((([t,n])=>{const r=new d.Key(f.InputTypes.SHA_256,Buffer.from(t,"hex"));e.push(new d.KeyPair(r,n))})),this.hash160Preimages&&Object.keys(this.hash160Preimages).length>0&&Object.entries(this.hash160Preimages).forEach((([t,n])=>{const r=new d.Key(f.InputTypes.HASH_160,Buffer.from(t,"hex"));e.push(new d.KeyPair(r,n))})),this.hash256Preimages&&Object.keys(this.hash256Preimages).length>0&&Object.entries(this.hash256Preimages).forEach((([t,n])=>{const r=new d.Key(f.InputTypes.HASH_256,Buffer.from(t,"hex"));e.push(new d.KeyPair(r,n))}));const t=new d.Key(f.InputTypes.PREVIOUS_TXID);e.push(new d.KeyPair(t,this.previousTxid));const n=new d.Key(f.InputTypes.PREVIOUS_TXINDEX),r=Buffer.allocUnsafe(4);if(r.writeUInt32LE(this.previousTxIndex),e.push(new d.KeyPair(n,r)),this.sequence>0){const t=new d.Key(f.InputTypes.SEQUENCE),n=Buffer.allocUnsafe(4);n.writeUInt32LE(this.sequence),e.push(new d.KeyPair(t,n))}if(this.requiredTimeLocktime>0){const t=new d.Key(f.InputTypes.REQUIRED_TIME_LOCKTIME),n=Buffer.allocUnsafe(4);n.writeUInt32LE(this.requiredTimeLocktime),e.push(new d.KeyPair(t,n))}if(this.requiredHeightLocktime>0){const t=new d.Key(f.InputTypes.REQUIRED_HEIGHT_LOCKTIME),n=Buffer.allocUnsafe(4);n.writeUInt32LE(this.requiredHeightLocktime),e.push(new d.KeyPair(t,n))}if(this.tapKeySig&&this.tapKeySig.length>0){const t=new d.Key(f.InputTypes.TAP_KEY_SIG);e.push(new d.KeyPair(t,this.tapKeySig))}if(this.tapScriptSig&&this.tapScriptSig.length>0&&this.tapScriptSig.forEach((({pubkey:t,signature:n,leafHash:r})=>{const i=Buffer.concat([t,r]),o=new d.Key(f.InputTypes.TAP_SCRIPT_SIG,i);e.push(new d.KeyPair(o,n))})),this.tapLeafScript&&this.tapLeafScript.length>0&&this.tapLeafScript.forEach((({leafVersion:t,script:n,controlBlock:r})=>{const i=new d.Key(f.InputTypes.TAP_LEAF_SCRIPT,r),o=Buffer.concat([n,Buffer.of(t)]);e.push(new d.KeyPair(i,o))})),this.tapBip32Derivation&&this.tapBip32Derivation.length>0&&this.tapBip32Derivation.forEach((({pubkey:t,masterFingerprint:n,path:r,leafHashes:i})=>{const o=new d.Key(f.InputTypes.TAP_BIP32_DERIVATION,t),a=s.varuint.encodingLength(i.length),c=Buffer.allocUnsafe(a);s.varuint.encode(i.length,c);const u=Buffer.concat([c,...i,(0,l.encodeBIP32Derivation)(n,r)]);e.push(new d.KeyPair(o,u))})),this.tapInternalKey&&this.tapInternalKey.length>0){const t=new d.Key(f.InputTypes.TAP_INTERNAL_KEY);e.push(new d.KeyPair(t,this.tapInternalKey))}if(this.tapMerkleRoot&&this.tapMerkleRoot.length>0){const t=new d.Key(f.InputTypes.TAP_MERKLE_ROOT);e.push(new d.KeyPair(t,this.tapMerkleRoot))}if(this.issuanceValue>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_VALUE),n=new d.Key(f.InputTypes.PROPRIETARY,t),r=Buffer.allocUnsafe(8);(0,s.writeUInt64LE)(r,this.issuanceValue,0),e.push(new d.KeyPair(n,r))}if(this.issuanceValueCommitment&&this.issuanceValueCommitment.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_VALUE_COMMITMENT),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceValueCommitment))}if(this.issuanceValueRangeproof&&this.issuanceValueRangeproof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_VALUE_RANGEPROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceValueRangeproof))}if(this.issuanceInflationKeysRangeproof&&this.issuanceInflationKeysRangeproof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_RANGEPROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceInflationKeysRangeproof))}if(this.peginTx){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.PEGIN_TX),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.peginTx.toBuffer()))}if(this.peginTxoutProof&&this.peginTxoutProof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.PEGIN_TXOUT_PROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.peginTxoutProof))}if(this.peginGenesisHash&&this.peginGenesisHash.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.PEGIN_GENESIS_HASH),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.peginGenesisHash))}if(this.peginClaimScript&&this.peginClaimScript.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.PEGIN_CLAIM_SCRIPT),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.peginClaimScript))}if(this.peginValue>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.PEGIN_VALUE),n=new d.Key(f.InputTypes.PROPRIETARY,t),r=Buffer.allocUnsafe(8);(0,s.writeUInt64LE)(r,this.peginValue,0),e.push(new d.KeyPair(n,r))}if(this.peginWitness&&this.peginWitness.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.PEGIN_WITNESS),n=new s.BufferWriter(Buffer.allocUnsafe(0));n.writeVector(this.peginWitness);const r=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(r,n.buffer))}if(this.issuanceInflationKeys>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS),n=new d.Key(f.InputTypes.PROPRIETARY,t),r=Buffer.allocUnsafe(8);(0,s.writeUInt64LE)(r,this.issuanceInflationKeys,0),e.push(new d.KeyPair(n,r))}if(this.issuanceInflationKeysCommitment&&this.issuanceInflationKeysCommitment.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_COMMITMENT),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceInflationKeysCommitment))}if(this.issuanceBlindingNonce&&this.issuanceBlindingNonce.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_BLINDING_NONCE),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceBlindingNonce))}if(this.issuanceAssetEntropy&&this.issuanceAssetEntropy.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_ASSET_ENTROPY),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceAssetEntropy))}if(this.utxoRangeProof&&this.utxoRangeProof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.UTXO_RANGEPROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.utxoRangeProof))}if(this.issuanceBlindValueProof&&this.issuanceBlindValueProof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_BLIND_VALUE_PROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceBlindValueProof))}if(this.issuanceBlindInflationKeysProof&&this.issuanceBlindInflationKeysProof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ISSUANCE_BLIND_INFLATION_KEYS_PROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.issuanceBlindInflationKeysProof))}if(this.explicitValue&&this.explicitValue>=0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.EXPLICIT_VALUE),n=new d.Key(f.InputTypes.PROPRIETARY,t),r=Buffer.allocUnsafe(8);(0,s.writeUInt64LE)(r,this.explicitValue,0),e.push(new d.KeyPair(n,r))}if(this.explicitValueProof&&this.explicitValueProof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.VALUE_PROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.explicitValueProof))}if(this.explicitAsset&&this.explicitAsset.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.EXPLICIT_ASSET),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.explicitAsset))}if(this.explicitAssetProof&&this.explicitAssetProof.length>0){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.ASSET_PROOF),n=new d.Key(f.InputTypes.PROPRIETARY,t);e.push(new d.KeyPair(n,this.explicitAssetProof))}if(void 0!==this.blindedIssuance){const t=h.ProprietaryData.proprietaryKey(f.InputProprietaryTypes.BLINDED_ISSUANCE),n=new d.Key(f.InputTypes.PROPRIETARY,t),r=Buffer.of(this.blindedIssuance?1:0);e.push(new d.KeyPair(n,r))}return this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach((t=>{const n=h.ProprietaryData.proprietaryKey(t.subType,t.keyData),r=new d.Key(f.InputTypes.PROPRIETARY,n);e.push(new d.KeyPair(r,t.value))})),e.concat(this.unknowns||[]),e}}function _(e){if(e.length<45)throw new Error("Invalid input witness utxo length");const t=new s.BufferReader(e);return{asset:t.readSlice(33),value:t.readConfidentialValue(),nonce:t.readConfidentialNonce(),script:t.readVarSlice()}}t.PsetInput=w},6516:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=t.Key=t.ErrEmptyKey=void 0;const r=n(39831);t.ErrEmptyKey=new Error("no more key pairs");class i{constructor(e,t){this.keyType=e,this.keyData=t||Buffer.from([])}static fromBuffer(e){const n=e.readVarSlice();if(0===n.length)throw t.ErrEmptyKey;if(n.length>1e4)throw new Error("invalid key size");return new i(n[0],n.slice(1))}toBuffer(){const e=Buffer.concat([Buffer.of(this.keyType),this.keyData]),t=r.varuint.encodingLength(e.length)+e.length,n=r.BufferWriter.withCapacity(t);return n.writeVarSlice(e),n.buffer}}t.Key=i;class o{constructor(e,t){this.key=e,this.value=t||Buffer.from([])}static fromBuffer(e){const t=i.fromBuffer(e),n=e.readVarSlice();return new o(t,n)}toBuffer(){const e=this.key.toBuffer(),t=e.length+r.varuint.encodingLength(this.value.length)+this.value.length,n=r.BufferWriter.withCapacity(t);return n.writeSlice(e),n.writeVarSlice(this.value),n.buffer}}t.KeyPair=o},8938:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.PsetOutput=t.OutputDuplicateFieldError=void 0;const r=n(39831),i=n(63301),o=n(47199),a=n(6516),s=n(79371),c=n(40116),u=n(93592);class l extends Error{constructor(e){e&&(e="Duplicated output "+e),super(e)}}t.OutputDuplicateFieldError=l;class f{constructor(e,t,n){this.value=e||0,this.asset=t||Buffer.from([]),this.script=n}static fromBuffer(e){let t;const n=new f;for(;;){try{t=a.KeyPair.fromBuffer(e)}catch(e){if(e instanceof Error&&e===a.ErrEmptyKey)return n.sanityCheck(),n;throw e}switch(t.key.keyType){case o.OutputTypes.REDEEM_SCRIPT:if(n.redeemScript&&n.redeemScript.length>0)throw new l("redeem script");n.redeemScript=t.value;break;case o.OutputTypes.WITNESS_SCRIPT:if(n.witnessScript&&n.witnessScript.length>0)throw new l("witness script");n.witnessScript=t.value;break;case o.OutputTypes.BIP32_DERIVATION:const e=t.key.keyData;if(33!==e.length)throw new Error("Invalid output bip32 pubkey length");if(n.bip32Derivation||(n.bip32Derivation=[]),n.bip32Derivation.find((t=>t.pubkey.equals(e))))throw new l("bip32 derivation");const{masterFingerprint:a,path:u}=(0,i.decodeBip32Derivation)(t.value);n.bip32Derivation.push({pubkey:e,masterFingerprint:a,path:u});break;case o.OutputTypes.AMOUNT:if(n.value>0)throw new l("value");if(8!==t.value.length)throw new Error("Invalid output amount length");n.value=(0,r.readUInt64LE)(t.value,0);break;case o.OutputTypes.SCRIPT:if(n.script&&n.script.length>0)throw new l("script");n.script=t.value;break;case o.OutputTypes.TAP_BIP32_DERIVATION:if(33!==t.key.keyData.length)throw new Error("Invalid output bip32 derivation pubkey length");n.tapBip32Derivation||(n.tapBip32Derivation=[]);const f=t.key.keyData;if(n.tapBip32Derivation.find((e=>e.pubkey.equals(f))))throw new l("taproot bip32 derivation");const d=r.varuint.decode(t.value),h=r.varuint.encodingLength(d),p=(0,i.decodeBip32Derivation)(t.value.slice(h+32*d)),y=new Array(d);for(let e=0,n=h;e<d;e++,n+=32)y[e]=t.value.slice(n,n+32);n.tapBip32Derivation.push({pubkey:f,masterFingerprint:p.masterFingerprint,path:p.path,leafHashes:y});break;case o.OutputTypes.TAP_TREE:if(n.tapTree)throw new l("taproot tree");let g=0;const b=[];for(;g<t.value.length;){const e=t.value[g++],n=t.value[g++],i=r.varuint.decode(t.value,g);g+=r.varuint.encodingLength(i),b.push({depth:e,leafVersion:n,script:t.value.slice(g,g+i)}),g+=i}n.tapTree={leaves:b};break;case o.OutputTypes.TAP_INTERNAL_KEY:if(n.tapInternalKey&&n.tapInternalKey.length>0)throw new l("taproot internal key");if(32!==t.value.length)throw new Error("Invalid output taproot internal key length");n.tapInternalKey=t.value;break;case o.OutputTypes.PROPRIETARY:const m=s.ProprietaryData.fromKeyPair(t);if(0===Buffer.compare(m.identifier,c.magicPrefix))switch(m.subType){case o.OutputProprietaryTypes.VALUE_COMMITMENT:if(n.valueCommitment&&n.valueCommitment.length>0)throw new l("value commitment");if(33!==t.value.length)throw new Error("Invalid output value commitment length");n.valueCommitment=t.value;break;case o.OutputProprietaryTypes.ASSET:if(n.asset&&n.asset.length>0)throw new l("asset");if(32!==t.value.length)throw new Error("Invalid output asset length");n.asset=t.value;break;case o.OutputProprietaryTypes.ASSET_COMMITMENT:if(n.assetCommitment&&n.assetCommitment.length>0)throw new l("asset commitment");if(33!==t.value.length)throw new Error("Invalid output asset commitment length");n.assetCommitment=t.value;break;case o.OutputProprietaryTypes.VALUE_RANGEPROOF:if(n.valueRangeproof&&n.valueRangeproof.length>0)throw new l("value range proof");n.valueRangeproof=t.value;break;case o.OutputProprietaryTypes.ASSET_SURJECTION_PROOF:if(n.assetSurjectionProof&&n.assetSurjectionProof.length>0)throw new l("asset surjection proof");n.assetSurjectionProof=t.value;break;case o.OutputProprietaryTypes.BLINDING_PUBKEY:if(n.blindingPubkey&&n.blindingPubkey.length>0)throw new l("blinding pubkey");if(33!==t.value.length)throw new Error("Invalid output blinding pubkey length");n.blindingPubkey=t.value;break;case o.OutputProprietaryTypes.ECDH_PUBKEY:if(n.ecdhPubkey&&n.ecdhPubkey.length>0)throw new l("ecdh pubkey");if(33!==t.value.length)throw new Error("Invalid output ecdh pubkey length");n.ecdhPubkey=t.value;break;case o.OutputProprietaryTypes.BLINDER_INDEX:if(void 0!==n.blinderIndex)throw new l("blinder index");if(4!==t.value.length)throw new Error("Invalid output blinder index length");n.blinderIndex=t.value.readUInt32LE();break;case o.OutputProprietaryTypes.BLIND_VALUE_PROOF:if(n.blindValueProof&&n.blindValueProof.length>0)throw new l("blind value proof");n.blindValueProof=t.value;break;case o.OutputProprietaryTypes.BLIND_ASSET_PROOF:if(n.blindAssetProof&&n.blindAssetProof.length>0)throw new l("blind asset proof");n.blindAssetProof=t.value;break;default:n.proprietaryData||(n.proprietaryData=[]),n.proprietaryData.push(m)}break;default:n.unknowns||(n.unknowns=[]),n.unknowns.push(t)}}}sanityCheck(){const e=this.valueCommitment&&this.valueCommitment.length>0,t=this.blindValueProof&&this.blindValueProof.length>0;if(this.value>0&&e!==t)throw new Error("Missing output value commitment or blind proof");const n=this.assetCommitment&&this.assetCommitment.length>0,r=this.blindAssetProof&&this.blindAssetProof.length>0;if(!(n||this.asset&&0!==this.asset.length))throw new Error("Missing output asset");if(this.asset&&this.asset.length>0&&n!==r)throw new Error("Missing output asset commitment or blind proof");if(this.isPartiallyBlinded()&&!this.isFullyBlinded())throw new Error("Output is partially blinded while it must be either unblinded or fully blinded");if(this.isFullyBlinded()&&this.blinderIndex>0)throw new Error("Blinder index must be unset for fully blinded output");return this}needsBlinding(){return this.blindingPubkey&&this.blindingPubkey.length>0}isPartiallyBlinded(){return this.valueCommitment&&this.valueCommitment.length>0||this.assetCommitment&&this.assetCommitment.length>0||this.valueRangeproof&&this.valueRangeproof.length>0||this.assetSurjectionProof&&this.assetSurjectionProof.length>0||this.ecdhPubkey&&this.ecdhPubkey.length>0}isFullyBlinded(){return this.valueCommitment&&this.valueCommitment.length>0&&this.assetCommitment&&this.assetCommitment.length>0&&this.valueRangeproof&&this.valueRangeproof.length>0&&(this.assetSurjectionProof&&this.assetSurjectionProof.length)>0&&this.ecdhPubkey&&this.ecdhPubkey.length>0}isTaproot(){return!!(this.tapInternalKey||this.tapTree||this.tapBip32Derivation&&this.tapBip32Derivation.length||this.script&&(0,u.isP2TR)(this.script))}toBuffer(){const e=this.getKeyPairs().map((e=>e.toBuffer()));let t=0;e.forEach((e=>{t+=e.length}));const n=r.BufferWriter.withCapacity(t);return e.forEach((e=>n.writeSlice(e))),n.buffer}getKeyPairs(){const e=[];if(this.redeemScript&&this.redeemScript.length>0){const t=new a.Key(o.OutputTypes.REDEEM_SCRIPT);e.push(new a.KeyPair(t,this.redeemScript))}if(this.witnessScript&&this.witnessScript.length>0){const t=new a.Key(o.OutputTypes.WITNESS_SCRIPT);e.push(new a.KeyPair(t,this.witnessScript))}if(this.bip32Derivation&&this.bip32Derivation.length>0&&this.bip32Derivation.forEach((({pubkey:t,masterFingerprint:n,path:r})=>{const s=new a.Key(o.OutputTypes.BIP32_DERIVATION,t),c=(0,i.encodeBIP32Derivation)(n,r);e.push(new a.KeyPair(s,c))})),this.tapBip32Derivation&&this.tapBip32Derivation.length>0&&this.tapBip32Derivation.forEach((({pubkey:t,masterFingerprint:n,path:s,leafHashes:c})=>{const u=new a.Key(o.OutputTypes.TAP_BIP32_DERIVATION,t),l=r.varuint.encodingLength(c.length),f=Buffer.allocUnsafe(l);r.varuint.encode(c.length,f);const d=Buffer.concat([f,...c,(0,i.encodeBIP32Derivation)(n,s)]);e.push(new a.KeyPair(u,d))})),this.tapTree){const t=new a.Key(o.OutputTypes.TAP_TREE),n=[].concat(...this.tapTree.leaves.map((e=>[Buffer.of(e.depth,e.leafVersion),r.varuint.encode(e.script.length),e.script]))),i=Buffer.concat(n);e.push(new a.KeyPair(t,i))}if(this.tapInternalKey&&this.tapInternalKey.length>0){const t=new a.Key(o.OutputTypes.TAP_INTERNAL_KEY);e.push(new a.KeyPair(t,this.tapInternalKey))}const t=new a.Key(o.OutputTypes.AMOUNT),n=Buffer.allocUnsafe(8);(0,r.writeUInt64LE)(n,this.value,0),e.push(new a.KeyPair(t,n));const c=new a.Key(o.OutputTypes.SCRIPT);if(e.push(new a.KeyPair(c,this.script||Buffer.alloc(0))),this.valueCommitment&&this.valueCommitment.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.VALUE_COMMITMENT),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.valueCommitment))}if(this.assetCommitment&&this.assetCommitment.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.ASSET_COMMITMENT),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.assetCommitment))}if(this.asset&&this.asset.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.ASSET),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.asset))}if(this.valueRangeproof&&this.valueRangeproof.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.VALUE_RANGEPROOF),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.valueRangeproof))}if(this.assetSurjectionProof&&this.assetSurjectionProof.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.ASSET_SURJECTION_PROOF),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.assetSurjectionProof))}if(this.blindingPubkey&&this.blindingPubkey.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.BLINDING_PUBKEY),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.blindingPubkey))}if(this.ecdhPubkey&&this.ecdhPubkey.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.ECDH_PUBKEY),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.ecdhPubkey))}const u=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.BLINDER_INDEX),l=new a.Key(o.OutputTypes.PROPRIETARY,u),f=Buffer.allocUnsafe(4);let d=0;if(this.blinderIndex>0&&(d=this.blinderIndex),f.writeUInt32LE(d),e.push(new a.KeyPair(l,f)),this.blindValueProof&&this.blindValueProof.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.BLIND_VALUE_PROOF),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.blindValueProof))}if(this.blindAssetProof&&this.blindAssetProof.length>0){const t=s.ProprietaryData.proprietaryKey(o.OutputProprietaryTypes.BLIND_ASSET_PROOF),n=new a.Key(o.OutputTypes.PROPRIETARY,t);e.push(new a.KeyPair(n,this.blindAssetProof))}return this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach((t=>{const n=s.ProprietaryData.proprietaryKey(t.subType,t.keyData),r=new a.Key(o.OutputTypes.PROPRIETARY,n);e.push(new a.KeyPair(r,t.value))})),e.concat(this.unknowns||[]),e}}t.PsetOutput=f},79371:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ProprietaryData=void 0;const r=n(39831),i=n(40116);class o{constructor(e,t,n,r){this.identifier=e,this.subType=t,this.keyData=n,this.value=r}static fromKeyPair(e){if(252!==e.key.keyType)throw new Error("invalid proprietary data key type");const t=new r.BufferReader(e.key.keyData),n=e.key.keyData.length;let i=t.offset;const a=t.readVarSlice();if(0===a.length)throw new Error("invalid proprietary data identifier");const s=t.readUInt8();i=t.offset-i;const c=n-i;let u=Buffer.from([]);return c>0&&(u=t.readSlice(c)),new o(a,s,u,e.value)}static proprietaryKey(e,t){const n=function(e){const t=e?e.length:0;return r.varuint.encodingLength(i.magicPrefix.length)+i.magicPrefix.length+1+t}(t),o=Buffer.allocUnsafe(n),a=new r.BufferWriter(o);return a.writeVarSlice(i.magicPrefix),a.writeSlice(Buffer.from([e])),t&&t.length>0&&a.writeSlice(t),o}}t.ProprietaryData=o},40116:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Pset=t.magicPrefixWithSeparator=t.magicPrefix=void 0;const a=n(39831),s=n(66438),c=n(76235),u=n(47199),l=n(50394),f=n(57868),d=n(8938),h=o(n(14627)),p=n(93169),y=n(43564),g=n(52560),b=n(51623),m=n(93592);t.magicPrefix=Buffer.from([112,115,101,116]),t.magicPrefixWithSeparator=Buffer.concat([t.magicPrefix,Buffer.of(255)]);class v{constructor(e,t,n){this.inputs=t||[],this.outputs=n||[],this.globals=e||new l.PsetGlobal}static fromBase64(e){const t=Buffer.from(e,"base64");return this.fromBuffer(t)}static fromBuffer(e){const n=new a.BufferReader(e);if(!n.readSlice(t.magicPrefixWithSeparator.length).equals(t.magicPrefixWithSeparator))throw new Error("invalid magic prefix");const r=l.PsetGlobal.fromBuffer(n),i=[];for(let e=0;e<r.inputCount;e++){const e=f.PsetInput.fromBuffer(n);i.push(e)}const o=[];for(let e=0;e<r.outputCount;e++){const e=d.PsetOutput.fromBuffer(n);o.push(e)}const s=new v(r,i,o);return s.sanityCheck(),s}static ECCKeysGenerator(e){return t=>{const n=(0,m.randomBytes)(t),r=e.pointFromScalar(n);if(!r)throw new Error("Failed to generate public key");return{privateKey:n,publicKey:Buffer.from(r)}}}static ECDSASigValidator(e){return(t,n,r)=>e.verify(n,t,r)}static SchnorrSigValidator(e){return(t,n,r)=>e.verifySchnorr(n,t,r.slice(0,64))}sanityCheck(){if(this.globals.sanityCheck(),this.inputs.forEach((e=>e.sanityCheck())),this.outputs.forEach((e=>e.sanityCheck())),this.isFullyBlinded()&&this.globals.scalars&&this.globals.scalars.length>0)throw new Error("global scalars must be empty for fully blinded pset");return this}copy(){return new v(this.globals,this.inputs,this.outputs)}inputsModifiable(){return!this.globals.txModifiable||1===this.globals.txModifiable.get(0)}outputsModifiable(){return!this.globals.txModifiable||1===this.globals.txModifiable.get(1)}hasSighashSingle(){return!!this.globals.txModifiable&&1===this.globals.txModifiable.get(2)}needsBlinding(){return this.outputs.some((e=>e.needsBlinding()&&!e.isFullyBlinded()))}isFullyBlinded(){return!!this.needsBlinding()&&!this.outputs.some((e=>e.needsBlinding()&&!e.isFullyBlinded()))}isComplete(){return this.inputs.every((e=>e.isFinalized()))}locktime(){let e=0,t=0;return this.inputs.forEach((n=>{n.requiredTimeLocktime>0&&n.requiredTimeLocktime>t&&(t=n.requiredTimeLocktime),n.requiredHeightLocktime>0&&n.requiredHeightLocktime>e&&(e=n.requiredHeightLocktime)})),e>0?e:t>0?t:this.globals.fallbackLocktime||0}unsignedTx(){const e=new c.Transaction;return e.version=this.globals.txVersion,e.locktime=this.locktime(),this.inputs.forEach((t=>{let n;if(t.hasIssuance()||t.hasReissuance()){let e=t.issuanceValueCommitment;e&&0!==e.length||(e=g.ElementsValue.fromNumber(t.issuanceValue).bytes);let r=t.issuanceInflationKeysCommitment;r&&0!==r.length||(r=t.issuanceInflationKeys?g.ElementsValue.fromNumber(t.issuanceInflationKeys).bytes:Buffer.of(0));n={assetEntropy:t.issuanceAssetEntropy,assetAmount:e,tokenAmount:r,assetBlindingNonce:t.issuanceBlindingNonce}}e.addInput(t.previousTxid,t.previousTxIndex,t.sequence,void 0,n)})),this.outputs.forEach((t=>{const n=t.valueCommitment||g.ElementsValue.fromNumber(t.value).bytes,r=t.assetCommitment||b.AssetHash.fromBytes(t.asset).bytes,i=t.script||Buffer.from([]),o=t.ecdhPubkey||Buffer.of(0);e.addOutput(i,n,r,o,t.valueRangeproof,t.assetSurjectionProof)})),e}validateAllSignatures(e){return this.inputs.every(((t,n)=>this.validateInputSignatures(n,e)))}addInput(e){if(e.sanityCheck(),this.isDuplicatedInput(e))throw new Error("given input already exists in pset");if(!this.inputsModifiable())throw new Error("pset is locked for updates on inputs");if(e.requiredHeightLocktime>0||e.requiredTimeLocktime>0){const t=this.locktime();let n=e.requiredTimeLocktime,r=e.requiredHeightLocktime,i=!1;this.inputs.forEach((e=>{if(e.requiredTimeLocktime>0&&!e.requiredHeightLocktime&&(r=0,0===n))throw new Error("invalid input locktime");if(!e.requiredTimeLocktime&&e.requiredHeightLocktime>0&&(n=0,0===r))throw new Error("invalid input locktime");e.requiredTimeLocktime>0&&n>0&&(n=Math.max(n,e.requiredTimeLocktime)),e.requiredHeightLocktime>0&&r>0&&(r=Math.max(r,e.requiredHeightLocktime)),(e.partialSigs??[]).length>0&&(i=!0)}));let o=this.globals.fallbackLocktime;if(n>0&&(o=n),r>0&&(o=r),i&&t!==o)throw new Error("invalid input locktime")}return this.inputs.push(e),this.globals.inputCount++,this}addOutput(e){if(e.sanityCheck(),!this.outputsModifiable())throw new Error("pset is locked for updates on outputs");return this.outputs.push(e),this.globals.outputCount++,this}validateInputSignatures(e,t){if(e<0||e>=this.globals.inputCount)throw new Error("input index out of range");const n=this.inputs[e];return!(!n.partialSigs||0===n.partialSigs.length)&&n.partialSigs.every((n=>this.validatePartialSignature(e,t,n)))}validatePartialSignature(e,t,n){if(e<0||e>=this.globals.inputCount)throw new Error("input index out of range");const r=this.inputs[e];if(!r.partialSigs||0===r.partialSigs.length)return!1;const i=r.getUtxo();if(!i)throw new Error("missing input (non-)witness utxo");const o=n.signature[n.signature.length-1],a=this.getInputPreimage(e,o),c=r.witnessScript||r.redeemScript||i.script;!function(e,t,n){if(!function(e,t){const n=(0,s.hash160)(e),r=h.decompile(t);if(null===r)throw new Error("Unknown script error");return r.some((t=>"number"!=typeof t&&(t.equals(e)||t.equals(n))))}(e,t))throw new Error(`Cannot ${n} for this input with the key ${e.toString("hex")}`)}(n.pubkey,c,"verify");const{signature:u}=h.signature.decode(n.signature);return t(n.pubkey,a,u)}getInputPreimage(e,t,n,r){if(e<0||e>=this.globals.inputCount)throw new Error("input index out of range");const i=this.inputs[e],o=i.getUtxo();if(!o)throw new Error("missing input (non-)witness utxo");const a=this.unsignedTx();if(i.isTaproot()){if(!n||32!==n.length)throw new Error("Missing or invalid genesis block hash");const i=[],o=[];return this.inputs.forEach(((e,t)=>{const n=e.getUtxo();if(!n)throw new Error(`Missing input ${t} (non-)witness utxo`);i.push(n.script),o.push({asset:n.asset,value:n.value})})),a.hashForWitnessV1(e,i,o,t,n,r)}const s=i.redeemScript||o.script;switch((0,p.getScriptType)(s)){case p.ScriptType.P2Pkh:case p.ScriptType.P2Sh:return a.hashForSignature(e,s,t);case p.ScriptType.P2Wpkh:const n=(0,y.p2pkh)({hash:o.script.slice(2)}).output;return a.hashForWitnessV0(e,n,o.value,t);case p.ScriptType.P2Wsh:if(!i.witnessScript||0===i.witnessScript.length)throw new Error("missing witness script for p2wsh input");return a.hashForWitnessV0(e,i.witnessScript,o.value,t);default:throw new Error("unknown input (non-)witness utxo script type")}}toBase64(){return this.toBuffer().toString("base64")}toBuffer(){let e=t.magicPrefixWithSeparator.length;const n=this.globals.toBuffer();e+=n.length+1;const r=this.inputs.map((e=>e.toBuffer()));r.forEach((t=>e+=t.length+1));const i=this.outputs.map((e=>e.toBuffer()));i.forEach((t=>e+=t.length+1));const o=a.BufferWriter.withCapacity(e);return o.writeSlice(t.magicPrefixWithSeparator),o.writeSlice(n),o.writeUInt8(u.separator),r.forEach((e=>{o.writeSlice(e),o.writeUInt8(u.separator)})),i.forEach((e=>{o.writeSlice(e),o.writeUInt8(u.separator)})),o.buffer}isDuplicatedInput(e){return this.inputs.some((t=>t.previousTxid.equals(e.previousTxid)&&t.previousTxIndex===e.previousTxIndex))}}t.Pset=v},29921:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=void 0;const r=n(76235),i=n(13039),o=n(93592);t.Signer=class{constructor(e){e.sanityCheck(),this.pset=e}addSignature(e,t,n){if(e<0||e>=this.pset.globals.inputCount)throw new Error("Input index out of range");const i=this.pset.inputs[e];if(i.isFinalized())throw new Error("Input is already finalized");if(void 0===i.sighashType)throw new Error("Missing input sighash type");if((31&i.sighashType)===r.Transaction.SIGHASH_ALL&&this.pset.outputs.some((e=>e.needsBlinding()&&!e.isFullyBlinded())))throw new Error("Pset must be fully blinded");return i.isTaproot()?this._addTaprootSignature(e,t,n):this._addSignature(e,t,n)}_addSignature(e,t,n){const r=this.pset.inputs[e],a=this.pset.copy(),s=r.sighashType,{partialSig:c,witnessScript:u,redeemScript:l}=t;if(!c)throw new Error("Missing partial signature for input");if(c.signature.slice(-1)[0]!==s)throw new Error("Input and signature sighash types must match");const f=new i.Updater(a);if(u&&u.length>0&&(f.addInWitnessScript(e,u),r.witnessUtxo||(f.addInWitnessUtxo(e,r.nonWitnessUtxo.outs[r.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)),l&&l.length>0){f.addInRedeemScript(e,l);((0,o.isP2WPKH)(l)||(0,o.isP2WSH)(l))&&!r.witnessUtxo&&(f.addInWitnessUtxo(e,r.nonWitnessUtxo.outs[r.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)}if(a.inputs[e].nonWitnessUtxo){const t=r.nonWitnessUtxo.outs[r.previousTxIndex].script;((0,o.isP2WPKH)(t)||(0,o.isP2WSH)(t))&&(f.addInWitnessUtxo(e,r.nonWitnessUtxo.outs[r.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)}return f.addInPartialSignature(e,c,n),a.sanityCheck(),this.pset.globals=a.globals,this.pset.inputs=a.inputs,this.pset.outputs=a.outputs,this}_addTaprootSignature(e,t,n){const r=this.pset.copy(),{tapKeySig:o,tapScriptSigs:a,genesisBlockHash:s}=t;if(!(o||a&&a.length))throw new Error("Missing taproot signature");const c=new i.Updater(r);return o&&c.addInTapKeySig(e,o,s,n),a&&a.forEach((t=>{c.addInTapScriptSig(e,t,s,n)})),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}}},13039:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Updater=void 0;const a=n(93169),s=n(51623),c=n(63590),u=n(84577),l=o(n(14627));function f(e){if("string"==typeof e){const t=(0,a.toOutputScript)(e);return(0,a.isConfidential)(e)?{script:t,blindingPublicKey:(0,a.fromConfidential)(e).blindingKey}:{script:t}}return e}function d(e,t){if(!e||!t)return!0;if("string"==typeof e&&"string"==typeof t){const n=(0,a.getNetwork)(e),r=(0,a.getNetwork)(t);return n.name===r.name}return!0}t.Updater=class{constructor(e){e.sanityCheck(),this.pset=e}addInputs(e){const t=this.pset.copy();return e.forEach((e=>{const n=new u.CreatorInput(e.txid,e.txIndex,e.sequence,e.heightLocktime,e.timeLocktime);n.validate(),t.addInput(n.toPartialInput());const r=t.inputs.length-1;if(e.witnessUtxo&&this.addInWitnessUtxo(r,e.witnessUtxo),e.witnessUtxo&&e.witnessUtxo.rangeProof&&this.addInUtxoRangeProof(r,e.witnessUtxo.rangeProof),e.witnessScript&&this.addInWitnessScript(r,e.witnessScript),e.nonWitnessUtxo&&this.addInNonWitnessUtxo(r,e.nonWitnessUtxo),e.nonWitnessUtxo&&e.nonWitnessUtxo.outs[e.txIndex]){const t=e.nonWitnessUtxo.outs[e.txIndex];t.rangeProof&&this.addInUtxoRangeProof(r,t.rangeProof)}void 0!==e.sighashType&&this.addInSighashType(r,e.sighashType),e.tapInternalKey&&this.addInTapInternalKey(r,e.tapInternalKey),e.tapLeafScript&&this.addInTapLeafScript(r,e.tapLeafScript),e.tapMerkleRoot&&this.addInTapMerkleRoot(r,e.tapMerkleRoot),e.issaunceOpts&&this.addInIssuance(r,e.issaunceOpts),e.reissuanceOpts&&this.addInReissuance(r,e.reissuanceOpts),e.explicitAsset&&this.addInExplicitAsset(r,e.explicitAsset,e.explicitAssetProof??Buffer.alloc(0)),e.explicitValue&&this.addInExplicitValue(r,e.explicitValue,e.explicitValueProof??Buffer.alloc(0))})),t.sanityCheck(),this.pset.globals=t.globals,this.pset.inputs=t.inputs,this.pset.outputs=t.outputs,this}addOutputs(e){const t=this.pset.copy();return e.forEach((e=>{const n=new u.CreatorOutput(e.asset,e.amount,e.script,e.blindingPublicKey,e.blinderIndex);n.validate(),t.addOutput(n.toPartialOutput())})),t.sanityCheck(),this.pset.globals=t.globals,this.pset.inputs=t.inputs,this.pset.outputs=t.outputs,this}addInNonWitnessUtxo(e,t){this.validateInputIndex(e);const n=this.pset.copy();if(!t.getHash(!1).equals(n.inputs[e].previousTxid))throw new Error("Non-witness utxo hash does not match prevout txid");return n.inputs[e].nonWitnessUtxo=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInWitnessUtxo(e,t){this.validateInputIndex(e);const n=this.pset.copy();return n.inputs[e].witnessUtxo=t,n.inputs[e].utxoRangeProof=t.rangeProof,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInRedeemScript(e,t){this.validateInputIndex(e);const n=this.pset.copy();return n.inputs[e].redeemScript=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInWitnessScript(e,t){this.validateInputIndex(e);const n=this.pset.copy();return n.inputs[e].witnessScript=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInBIP32Derivation(e,t){if(this.validateInputIndex(e),33!==t.pubkey.length)throw new Error("Invalid pubkey length");const n=this.pset.copy();if(n.inputs[e].bip32Derivation||(n.inputs[e].bip32Derivation=[]),n.inputs[e].bip32Derivation.some((({pubkey:e})=>e.equals(t.pubkey))))throw new Error("Duplicated bip32 derivation pubkey");return n.inputs[e].bip32Derivation.push(t),n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInSighashType(e,t){if(this.validateInputIndex(e),t<0)throw new Error("Invalid sighash type");const n=this.pset.copy();return n.inputs[e].sighashType=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInUtxoRangeProof(e,t){this.validateInputIndex(e);const n=this.pset.copy();return n.inputs[e].utxoRangeProof=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInIssuance(e,t){this.validateIssuanceInput(e),function(e){const t=e.assetAmount||0,n=e.tokenAmount||0;if(t<=0&&n<=0)throw new Error("Either asset or token amounts must be a positive number");if(t>0&&!e.assetAddress)throw new Error("Asset address must be defined if asset amount is non-zero");if(n>0&&!e.tokenAddress)throw new Error("Token address must be defined if token amount is non-zero");if(!d(e.assetAddress,e.tokenAddress))throw new Error("Asset and token addresses must be of same network")}(t);const n=this.pset.copy(),r=t.assetAmount||0,i=t.tokenAmount||0,o=(0,c.newIssuance)(r,i,t.contract);n.inputs[e].issuanceValue=r,n.inputs[e].issuanceInflationKeys=i,n.inputs[e].issuanceAssetEntropy=o.assetEntropy,n.inputs[e].issuanceBlindingNonce=o.assetBlindingNonce,n.inputs[e].blindedIssuance=void 0===t.blindedIssuance||t.blindedIssuance;const a=(0,c.generateEntropy)({txHash:n.inputs[e].previousTxid,vout:n.inputs[e].previousTxIndex},o.assetEntropy);if(r>0){const i=s.AssetHash.fromBytes((0,c.calculateAsset)(a)).hex,{blindingPublicKey:o,script:l}=f(t.assetAddress),d=new u.CreatorOutput(i,r,l,o,o?e:void 0);n.addOutput(d.toPartialOutput())}if(i>0){const r=s.AssetHash.fromBytes((0,c.calculateReissuanceToken)(a,t.blindedIssuance??!0)).hex,{blindingPublicKey:o,script:l}=f(t.tokenAddress),d=new u.CreatorOutput(r,i,l,o,o?e:void 0);n.addOutput(d.toPartialOutput())}return n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInReissuance(e,t){this.validateReissuanceInput(e),function(e){const t="string"==typeof e.entropy?Buffer.from(e.entropy,"hex").reverse():e.entropy;if(32!==t.length)throw new Error("Invalid entropy length");const n="string"==typeof e.tokenAssetBlinder?Buffer.from(e.tokenAssetBlinder,"hex").reverse():e.tokenAssetBlinder;if(32!==n.length)throw new Error("Invalid token asset blinder length");if(e.assetAmount<=0)throw new Error("Asset amount must be a positive number");if(e.tokenAmount<=0)throw new Error("Token amount must be a positive number");if(!e.assetAddress)throw new Error("Missing asset address");if(!e.assetAddress)throw new Error("Missing token address");if(!d(e.assetAddress,e.tokenAddress))throw new Error("Asset and token addresses must be both of same network and both confidential")}(t);const n=this.pset.copy(),r="string"==typeof t.entropy?Buffer.from(t.entropy,"hex").reverse():t.entropy,i="string"==typeof t.tokenAssetBlinder?Buffer.from(t.tokenAssetBlinder,"hex").reverse():t.tokenAssetBlinder,o=s.AssetHash.fromBytes((0,c.calculateAsset)(r)).hex,a=s.AssetHash.fromBytes((0,c.calculateReissuanceToken)(r,t.initialIssuanceBlinded??!0)).hex;if(n.inputs[e].issuanceAssetEntropy=r,n.inputs[e].issuanceBlindingNonce=i,n.inputs[e].issuanceValue=t.assetAmount,n.inputs[e].issuanceInflationKeys=0,void 0!==t.blindedIssuance&&(n.inputs[e].blindedIssuance=t.blindedIssuance),t.assetAddress){const{blindingPublicKey:r,script:i}=f(t.assetAddress),a=new u.CreatorOutput(o,t.assetAmount,i,r,r?e:void 0);n.addOutput(a.toPartialOutput())}if(t.tokenAddress){const{blindingPublicKey:r,script:i}=f(t.tokenAddress),o=new u.CreatorOutput(a,t.tokenAmount,i,r,r?e:void 0);n.addOutput(o.toPartialOutput())}return n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInPartialSignature(e,t,n){if(this.validateInputIndex(e),function(e){if(33!==e.pubkey.length)throw new Error("Invalid pubkey length");l.signature.decode(e.signature)}(t),(this.pset.inputs[e].partialSigs||[]).some((({pubkey:e})=>e.equals(t.pubkey))))throw new Error("Duplicated signature pubkey");const r=this.pset.copy(),i=t.signature.slice(-1)[0],o=r.getInputPreimage(e,i),{signature:a}=l.signature.decode(t.signature);if(!n(t.pubkey,o,a))throw new Error("Invalid signature");return r.inputs[e].partialSigs||(r.inputs[e].partialSigs=[]),r.inputs[e].partialSigs.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTimeLocktime(e,t){if(this.validateInputIndex(e),t<0)throw new Error("Invalid required time locktime");const n=this.pset.copy();return n.inputs[e].requiredTimeLocktime=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInHeightLocktime(e,t){if(this.validateInputIndex(e),t<0)throw new Error("Invalid required height locktime");const n=this.pset.copy();return n.inputs[e].requiredHeightLocktime=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapKeySig(e,t,n,r){if(this.validateInputIndex(e),64!==t.length&&65!==t.length)throw new Error("Invalid taproot key signature length");if(32!==n.length)throw new Error("Invalid genesis block hash length");const i=this.pset.copy(),o=i.inputs[e];if(!o.getUtxo())throw new Error("Missing input witness utxo");if(void 0===o.sighashType)throw new Error("Missing input sighash type");if(!r(o.getUtxo().script.slice(2),i.getInputPreimage(e,o.sighashType,n),t))throw new Error(`Invalid taproot key signature for input ${e}`);return i.inputs[e].tapKeySig=t,i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}addInTapScriptSig(e,t,n,r){if(this.validateInputIndex(e),32!==t.pubkey.length)throw new Error("Invalid xonly pubkey length");if(32!==t.leafHash.length)throw new Error("Invalid leaf hash length");if(64!==t.signature.length&&65!==t.signature.length)throw new Error("Invalid signature length");if(32!==n.length)throw new Error("Invalid genesis block hash length");const i=this.pset.copy(),o=i.inputs[e];if(void 0===o.sighashType)throw new Error("Missing input sighash type");const a=i.getInputPreimage(e,o.sighashType,n,t.leafHash);if(!r(t.pubkey,a,t.signature))throw new Error(`Invalid taproot script signature for input ${e}`);return i.inputs[e].tapScriptSig||(i.inputs[e].tapScriptSig=[]),i.inputs[e].tapScriptSig.push(t),i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}addInTapLeafScript(e,t){this.validateInputIndex(e);const n=this.pset.copy();return n.inputs[e].tapLeafScript||(n.inputs[e].tapLeafScript=[]),n.inputs[e].tapLeafScript.push(t),n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapBIP32Derivation(e,t){if(this.validateInputIndex(e),33!==t.pubkey.length)throw new Error("Invalid input taproot pubkey length");const n=this.pset.copy();if(n.inputs[e].tapBip32Derivation||(n.inputs[e].tapBip32Derivation=[]),n.inputs[e].bip32Derivation.some((({pubkey:e})=>e.equals(t.pubkey))))throw new Error("Duplicated taproot bip32 derivation pubkey");return n.inputs[e].tapBip32Derivation.push(t),n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapInternalKey(e,t){if(this.validateInputIndex(e),32!==t.length)throw new Error("Invalid taproot internal key length");if(this.pset.inputs[e].tapInternalKey&&this.pset.inputs[e].tapInternalKey.length>0)throw new Error("Duplicated taproot internal key");const n=this.pset.copy();return n.inputs[e].tapInternalKey=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapMerkleRoot(e,t){if(this.validateInputIndex(e),32!==t.length)throw new Error("Invalid taproot merkle root length");if(this.pset.inputs[e].tapMerkleRoot&&this.pset.inputs[e].tapMerkleRoot.length>0)throw new Error("Duplicated taproot merkle root");const n=this.pset.copy();return n.inputs[e].tapMerkleRoot=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInExplicitValue(e,t,n){this.validateInputIndex(e);const r=this.pset.copy();return r.inputs[e].explicitValue=t,r.inputs[e].explicitValueProof=n,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInExplicitAsset(e,t,n){this.validateInputIndex(e);const r=this.pset.copy();return r.inputs[e].explicitAsset=t,r.inputs[e].explicitAssetProof=n,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutBIP32Derivation(e,t){if(this.validateOutputIndex(e),33!==t.pubkey.length)throw new Error("Invalid pubkey length");const n=this.pset.copy();if(n.outputs[e].bip32Derivation||(n.outputs[e].bip32Derivation=[]),n.outputs[e].bip32Derivation.some((({pubkey:e})=>e.equals(t.pubkey))))throw new Error("Duplicated bip32 derivation pubkey");return n.outputs[e].bip32Derivation.push(t),n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addOutRedeemScript(e,t){this.validateOutputIndex(e);const n=this.pset.copy();return n.outputs[e].redeemScript=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addOutWitnessScript(e,t){this.validateOutputIndex(e);const n=this.pset.copy();return n.outputs[e].witnessScript=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addOutTapInternalKey(e,t){if(this.validateOutputIndex(e),32!==t.length)throw new Error("Invalid taproot internal key length");if(this.pset.outputs[e].tapInternalKey&&this.pset.outputs[e].tapInternalKey.length>0)throw new Error("Duplicated taproot internal key");const n=this.pset.copy();return n.outputs[e].tapInternalKey=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addOutTapTree(e,t){if(this.validateOutputIndex(e),this.pset.outputs[e].tapTree)throw new Error("Duplicated taproot tree");const n=this.pset.copy();return n.outputs[e].tapTree=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addOutTapBIP32Derivation(e,t){if(this.validateOutputIndex(e),33!==t.pubkey.length)throw new Error("Invalid output taproot pubkey length");const n=this.pset.copy();if(n.outputs[e].tapBip32Derivation||(n.outputs[e].tapBip32Derivation=[]),n.outputs[e].bip32Derivation.some((({pubkey:e})=>e.equals(t.pubkey))))throw new Error("Duplicated taproot bip32 derivation pubkey");return n.outputs[e].tapBip32Derivation.push(t),n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}validateIssuanceInput(e){this.validateInputIndex(e);const t=this.pset.inputs[e];if(t.issuanceAssetEntropy&&t.issuanceAssetEntropy.length>0)throw new Error("Input "+e+" already has an issuance")}validateReissuanceInput(e){this.validateInputIndex(e);const t=this.pset.inputs[e];if(t.issuanceAssetEntropy&&t.issuanceAssetEntropy.length>0)throw new Error(`Input ${e} already has an issuance`);const n=t.getUtxo();if(!n)throw new Error("Input is missing prevout (non-)witness utxo");if(n.nonce.length<=1)throw new Error("Input prevout (non-)witness utxo must be confidential")}validateOutputIndex(e){if(e<0||e>=this.pset.globals.outputCount)throw new Error("Output index out of range")}validateInputIndex(e){if(e<0||e>=this.pset.globals.inputCount)throw new Error("Input index out of range")}}},93592:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.pubkeyPositionInScript=t.isP2TR=t.isP2SH=t.isP2WSH=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=t.classifyScript=t.scriptWitnessToWitnessStack=t.witnessStackToScriptWitness=t.hasSigs=t.getPayment=void 0;const a=o(n(61798)),s=n(84434),c=n(39831),u=n(66438),l=n(75961),f=o(n(14627));function d(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}t.getPayment=function(e,t,n){switch(t){case"multisig":const t=function(e,t){const n=s.payments.p2ms({output:e});return n.pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,n);return s.payments.p2ms({output:e,signatures:t});case"pubkey":return s.payments.p2pk({output:e,signature:n[0].signature});case"pubkeyhash":return s.payments.p2pkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature});case"witnesspubkeyhash":return s.payments.p2wpkh({output:e,pubkey:n[0].pubkey,signature:n[0].signature});default:throw new Error("unknown script")}},t.hasSigs=function(e,t,n){if(!t)return!1;let r;if(r=n?n.map((e=>{const n=function(e){if(65===e.length){const t=1&e[64],n=e.slice(0,33);return n[0]=2|t,n}return e.slice()}(e);return t.find((e=>e.pubkey.equals(n)))})).filter((e=>!!e)):t,r.length>e)throw new Error(`Too many signatures, needs ${e} has ${r.length}`);return r.length===e},t.witnessStackToScriptWitness=function(e){let buffer=Buffer.allocUnsafe(0);function t(e){const t=buffer.length,n=c.varuint.encodingLength(e);buffer=Buffer.concat([buffer,Buffer.allocUnsafe(n)]),c.varuint.encode(e,buffer,t)}function n(e){t(e.length),function(e){buffer=Buffer.concat([buffer,Buffer.from(e)])}(e)}var r;return t((r=e).length),r.forEach(n),buffer},t.scriptWitnessToWitnessStack=function(buffer){let e=0;function t(){const t=c.varuint.decode(buffer,e);return e+=c.varuint.decode.bytes,t}function n(){return n=t(),e+=n,buffer.slice(e-n,e);var n}return function(){const e=t(),r=[];for(let t=0;t<e;t++)r.push(n());return r}()},t.classifyScript=function(e){return(0,t.isP2WPKH)(e)?"witnesspubkeyhash":(0,t.isP2PKH)(e)?"pubkeyhash":(0,t.isP2MS)(e)?"multisig":(0,t.isP2PK)(e)?"pubkey":"nonstandard"},t.isP2MS=d(s.payments.p2ms),t.isP2PK=d(s.payments.p2pk),t.isP2PKH=d(s.payments.p2pkh),t.isP2WPKH=d(s.payments.p2wpkh),t.isP2WSH=d(s.payments.p2wsh),t.isP2SH=d(s.payments.p2sh);t.isP2TR=e=>e[0]===l.OPS.OP_1,t.pubkeyPositionInScript=function(e,t){const n=(0,u.hash160)(e),r=e.slice(1,33),i=f.decompile(t);if(null===i)throw new Error("Unknown script error");return i.findIndex((t=>"number"!=typeof t&&(t.equals(e)||t.equals(n)||t.equals(r))))},t.randomBytes=function(e){return void 0===e&&(e={}),(e.rng||a.default)(32)}},70181:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ZKPGenerator=t.ZKPValidator=void 0;const r=n(56196),i=n(76235),o=n(52560),a=n(93592),s=n(63590),c=n(51623);t.ZKPValidator=class{constructor(e){this.confidential=new r.Confidential(e)}verifyValueRangeProof(e,t,n,r){try{return this.confidential.rangeProofVerify(e,t,n,r)}catch(e){return!1}}verifyAssetSurjectionProof(e,t,n,r,i){try{return this.confidential.surjectionProofVerify(e,t,n,r,i)}catch(e){return!1}}verifyBlindValueProof(e,t,n){try{return this.confidential.rangeProofVerify(e,t,n)}catch(e){return!1}}verifyBlindAssetProof(e,t,n){try{return this.confidential.assetBlindProofVerify(e,t,n)}catch(e){return!1}}};function u(e){e.sanityCheck(),e.inputs.forEach(((e,t)=>{if(!e.getUtxo())throw new Error("Missing (non-)witness utxo for input "+t)}))}t.ZKPGenerator=class{constructor(e,...t){this.zkp=e,this.confidential=new r.Confidential(e);for(const e of t)e(this)}static WithBlindingKeysOfInputs(e){return t=>{t.inBlindingKeys=e}}static WithMasterBlindingKey(e){return t=>{t.masterBlindingKey=e}}static WithOwnedInputs(e){return t=>{t.ownedInputs=e}}computeAndAddToScalarOffset(e,t,n,r){if(n.equals(i.ZERO)&&r.equals(i.ZERO))return e.slice();const o=this.calculateScalarOffset(t,n,r);if(e.equals(i.ZERO))return o;const{ecc:a}=this.zkp,s=o.equals(i.ZERO)?o:Buffer.from(a.privateNegate(o));return e.equals(s)?i.ZERO:Buffer.from(a.privateAdd(e,o))}subtractScalars(e,t){if(t.equals(i.ZERO))return e.slice();const{ecc:n}=this.zkp,r=Buffer.from(n.privateNegate(t));return e.equals(i.ZERO)?r:Buffer.from(n.privateAdd(e,r))}lastValueCommitment(e,t,n){return this.confidential.valueCommitment(e,t,n)}lastBlindValueProof(e,t,n,r){const i=(0,a.randomBytes)(this.opts);return this.confidential.blindValueProof(e,t,n,r,i)}lastValueRangeProof(e,t,n,r,i,o,a,s){return this.confidential.rangeProof(e,t,n,r,i,o,a,s)}unblindInputs(e,t){u(e),t&&function(e,t){t.length>0&&t.forEach((t=>{if(t<0||t>=e.globals.inputCount)throw new Error("Input index out of range")}))}(e,t);const n=t||Array.from({length:e.globals.inputCount},((e,t)=>t));if(this.ownedInputs&&this.ownedInputs.length>0)return this.ownedInputs;const r=n.map((t=>{const n=e.inputs[t].getUtxo(),r=this.unblindUtxo(n);return r.index=t,r}));return this.ownedInputs=r,r}blindIssuances(e,t){return u(e),function(e,t){Object.entries(t).forEach((([t,n])=>{const r=parseInt(t,10);if(r<0||r>=e.globals.inputCount)throw new Error("Input index out of range");if(!e.inputs[r].hasIssuance()&&!e.inputs[r].hasReissuance())throw new Error("Input does not have any issuance or reissuance to blind");if(32!==n.length)throw new Error("Invalid private blinding key length for input "+r)}))}(e,t),Object.entries(t).map((([t,n])=>{const r=e.inputs[parseInt(t,10)];let o={};if(r.issuanceValue>0){const e=r.issuanceValue.toString(10),s=r.getIssuanceAssetHash(),c=(0,a.randomBytes)(this.opts),u=this.confidential.assetCommitment(s,i.ZERO),l=this.confidential.valueCommitment(e,u,c),f=(0,a.randomBytes)(this.opts),d=this.confidential.blindValueProof(e,l,u,c,f),h=this.confidential.rangeProof(e,s,l,u,c,i.ZERO,n,Buffer.from([]));o={...o,index:parseInt(t,10),issuanceAsset:s,issuanceValueCommitment:l,issuanceValueRangeProof:h,issuanceValueBlindProof:d,issuanceValueBlinder:c}}if(r.issuanceInflationKeys>0){const e=r.issuanceInflationKeys.toString(10),t=r.getIssuanceEntropy(),c=(0,s.calculateReissuanceToken)(t,!0);if(!c)throw new Error("something went wrong during the inflation token hash computation");const u=(0,a.randomBytes)(this.opts),l=this.confidential.assetCommitment(c,i.ZERO),f=this.confidential.valueCommitment(e,l,u),d=(0,a.randomBytes)(this.opts),h=this.confidential.blindValueProof(e,f,l,u,d),p=this.confidential.rangeProof(e,c,f,l,u,i.ZERO,n,Buffer.from([]));o={...o,issuanceToken:c,issuanceTokenCommitment:f,issuanceTokenRangeProof:p,issuanceTokenBlindProof:h,issuanceTokenBlinder:u}}return o}))}blindOutputs(e,t,n){u(e),n&&function(e,t){t.length>0&&t.forEach((t=>{if(t<0||t>=e.globals.outputCount)throw new Error("Output index out of range")}))}(e,n);const r=n&&n.length>0?n:e.outputs.reduce(((e,t,n)=>(t.needsBlinding()&&e.push(n),e)),[]),{assets:i,assetBlinders:o}=this.getInputAssetsAndBlinders(e);return r.map((n=>{const r=e.outputs[n],s=(0,a.randomBytes)(this.opts),c=(0,a.randomBytes)(this.opts),u=(0,a.randomBytes)(this.opts),l=r.value.toString(10),f=this.confidential.assetCommitment(r.asset,s),d=this.confidential.valueCommitment(l,f,c),h=t(),p=h.publicKey,y=this.confidential.nonceHash(r.blindingPubkey,h.privateKey),g=r.script||Buffer.from([]),b=this.confidential.rangeProof(l,r.asset,d,f,c,s,y,g),m=this.confidential.surjectionProof(r.asset,s,i,o,u),v=(0,a.randomBytes)(this.opts);return{index:n,nonce:y,nonceCommitment:p,valueCommitment:d,assetCommitment:f,valueRangeProof:b,assetSurjectionProof:m,valueBlindProof:this.confidential.blindValueProof(l,d,f,c,v),assetBlindProof:this.confidential.blindAssetProof(r.asset,f,s),valueBlinder:c,assetBlinder:s}}))}calculateScalarOffset(e,t,n){if(0===n.length)throw new Error("missing value blinder");if(t.equals(i.ZERO))return n.slice();if("0"===e)return n.slice();const{ecc:r}=this.zkp,o=Buffer.alloc(32,0);o.writeBigUInt64BE(BigInt(e),24);const a=Buffer.from(r.privateMul(t,o));return Buffer.from(r.privateNegate(n)).equals(a)?i.ZERO:Buffer.from(r.privateAdd(a,n))}unblindUtxo(e){if(1===e.nonce.length)return{index:0,value:o.ElementsValue.fromBytes(e.value).number.toString(10),asset:e.asset.slice(1),valueBlindingFactor:i.ZERO,assetBlindingFactor:i.ZERO};if(!this.inBlindingKeys&&!this.masterBlindingKey)throw new Error("Missing either input private blinding keys or SLIP-77 master blinding key");const t=this.inBlindingKeys?this.inBlindingKeys:[this.masterBlindingKey.derive(e.script).privateKey];for(const n of t)try{const t=this.confidential.unblindOutputWithKey(e,n);return{index:0,value:t.value,asset:t.asset,valueBlindingFactor:t.valueBlindingFactor,assetBlindingFactor:t.assetBlindingFactor}}catch(e){}throw new Error("Could not unblind output with any blinding key")}getInputAssetsAndBlinders(e){const t=[],n=[],r=this.maybeUnblindInUtxos(e);for(const e of r)t.push(e.asset),n.push(e.assetBlindingFactor);return e.inputs.forEach(((e,r)=>{if(e.hasIssuance()||e.hasReissuance()){const o=e.getIssuanceAssetHash();if(!o)throw new Error(`something went wrong while getting the issuance asset hash on input #${r}`);if(t.push(o),n.push(i.ZERO),!e.hasReissuance()&&e.issuanceInflationKeys>0){const o=e.getIssuanceEntropy(),a=(0,s.calculateReissuanceToken)(o,e.blindedIssuance??!0);if(!a)throw new Error(`something went wrong computing the issuance inflation keys hash on input #${r}`);t.push(a),n.push(i.ZERO)}}})),{assets:t,assetBlinders:n}}maybeUnblindInUtxos(e){if(this.ownedInputs&&this.ownedInputs.length>0)return e.inputs.map(((e,t)=>{const n=this.ownedInputs?.find((({index:e})=>e===t));if(n)return{value:"",valueBlindingFactor:Buffer.from([]),asset:n.asset,assetBlindingFactor:n.assetBlindingFactor};const r=e.getUtxo();if(!r)throw new Error(`Missing utxo for input #${t}`);return{value:"",valueBlindingFactor:Buffer.from([]),asset:c.AssetHash.fromBytes(r.asset).bytesWithoutPrefix,assetBlindingFactor:i.ZERO}}));if(!this.inBlindingKeys&&!this.masterBlindingKey)throw new Error("Missing either input private blinding keys or SLIP-77 master blinding key");return e.inputs.map((e=>{const t=e.getUtxo();try{const e=this.unblindUtxo(t);return{value:e.value,asset:e.asset,valueBlindingFactor:e.valueBlindingFactor,assetBlindingFactor:e.assetBlindingFactor}}catch(e){return{value:"",asset:t.asset,valueBlindingFactor:Buffer.from([]),assetBlindingFactor:i.ZERO}}}))}}},24457:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const r=n(75961);function i(e){return e<r.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(buffer,e,t){const n=i(e);return 1===n?buffer.writeUInt8(e,t):2===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA1,t),buffer.writeUInt8(e,t+1)):3===n?(buffer.writeUInt8(r.OPS.OP_PUSHDATA2,t),buffer.writeUInt16LE(e,t+1)):(buffer.writeUInt8(r.OPS.OP_PUSHDATA4,t),buffer.writeUInt32LE(e,t+1)),n},t.decode=function(buffer,e){const t=buffer.readUInt8(e);let n,i;if(t<r.OPS.OP_PUSHDATA1)n=t,i=1;else if(t===r.OPS.OP_PUSHDATA1){if(e+2>buffer.length)return null;n=buffer.readUInt8(e+1),i=2}else if(t===r.OPS.OP_PUSHDATA2){if(e+3>buffer.length)return null;n=buffer.readUInt16LE(e+1),i=3}else{if(e+5>buffer.length)return null;if(t!==r.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=buffer.readUInt32LE(e+1),i=5}return{opcode:t,number:n,size:i}}},14627:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.isPushOnly=t.OPS=void 0;const a=o(n(52869)),s=n(75961);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return s.OPS}});const c=o(n(24457)),u=o(n(26251)),l=o(n(78942)),f=o(n(63145)),{typeforce:d}=f,h=s.OPS.OP_RESERVED;function p(e){return f.Buffer(e)||function(e){return f.Number(e)&&(e===s.OPS.OP_0||e>=s.OPS.OP_1&&e<=s.OPS.OP_16||e===s.OPS.OP_1NEGATE)}(e)}function y(e){return f.Array(e)&&e.every(p)}function g(buffer){return 0===buffer.length?s.OPS.OP_0:1===buffer.length?buffer[0]>=1&&buffer[0]<=16?h+buffer[0]:129===buffer[0]?s.OPS.OP_1NEGATE:void 0:void 0}function b(e){return Buffer.isBuffer(e)}function m(e){return Buffer.isBuffer(e)}function v(e){if(b(e))return e;d(f.Array,e);const t=e.reduce(((e,t)=>m(t)?1===t.length&&void 0!==g(t)?e+1:e+c.encodingLength(t.length)+t.length:e+1),0),buffer=Buffer.allocUnsafe(t);let n=0;if(e.forEach((e=>{if(m(e)){const t=g(e);if(void 0!==t)return buffer.writeUInt8(t,n),void(n+=1);n+=c.encode(buffer,e.length,n),e.copy(buffer,n),n+=e.length}else buffer.writeUInt8(e,n),n+=1})),n!==buffer.length)throw new Error("Could not decode chunks");return buffer}function w(buffer){if(e=buffer,f.Array(e))return buffer;var e;d(f.Buffer,buffer);const t=[];let n=0;for(;n<buffer.length;){const e=buffer[n];if(e>s.OPS.OP_0&&e<=s.OPS.OP_PUSHDATA4){const e=c.decode(buffer,n);if(null===e)return null;if(n+=e.size,n+e.number>buffer.length)return null;const r=buffer.slice(n,n+e.number);n+=e.number;const i=g(r);void 0!==i?t.push(i):t.push(r)}else t.push(e),n+=1}return t}function _(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=y,t.compile=v,t.decompile=w,t.toASM=function(e){return b(e)&&(e=w(e)),e.map((e=>{if(m(e)){const t=g(e);if(void 0===t)return e.toString("hex");e=t}return s.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return d(f.String,e),v(e.split(" ").map((e=>void 0!==s.OPS[e]?s.OPS[e]:(d(f.Hex,e),Buffer.from(e,"hex")))))},t.toStack=function(e){return e=w(e),d(y,e),e.map((e=>m(e)?e:e===s.OPS.OP_0?Buffer.allocUnsafe(0):u.encode(e-h)))},t.isCanonicalPubKey=function(buffer){return f.isPoint(buffer)},t.isDefinedHashType=_,t.isCanonicalScriptSignature=function(buffer){return!!Buffer.isBuffer(buffer)&&(!!_(buffer[buffer.length-1])&&a.check(buffer.slice(0,-1)))},t.number=u,t.signature=l},26251:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(buffer,e,t){e=e||4,t=void 0===t||t;const n=buffer.length;if(0===n)return 0;if(n>e)throw new TypeError("Script number overflow");if(t&&0==(127&buffer[n-1])&&(n<=1||0==(128&buffer[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const e=buffer.readUInt32LE(0),t=buffer.readUInt8(4);return 128&t?-(4294967296*(-129&t)+e):4294967296*t+e}let r=0;for(let e=0;e<n;++e)r|=buffer[e]<<8*e;return 128&buffer[n-1]?-(r&~(128<<8*(n-1))):r},t.encode=function(e){let t=Math.abs(e);const n=(r=t)>2147483647?5:r>8388607?4:r>32767?3:r>127?2:r>0?1:0;var r;const buffer=Buffer.allocUnsafe(n),i=e<0;for(let e=0;e<n;++e)buffer.writeUInt8(255&t,e),t>>=8;return 128&buffer[n-1]?buffer.writeUInt8(i?128:0,n-1):i&&(buffer[n-1]|=128),buffer}},78942:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const a=o(n(52869)),s=o(n(63145)),{typeforce:c}=s,u=Buffer.alloc(1,0);function l(e){let t=0;for(;0===e[t];)++t;return t===e.length?u:128&(e=e.slice(t))[0]?Buffer.concat([u,e],1+e.length):e}function f(e){0===e[0]&&(e=e.slice(1));const buffer=Buffer.alloc(32,0),t=Math.max(0,32-e.length);return e.copy(buffer,t),buffer}t.decode=function(buffer){const e=buffer.readUInt8(buffer.length-1),t=-129&e;if(t<=0||t>=4)throw new Error("Invalid hashType "+e);const n=a.decode(buffer.slice(0,-1)),r=f(n.r),i=f(n.s);return{signature:Buffer.concat([r,i],64),hashType:e}},t.encode=function(e,t){c({signature:s.BufferN(64),hashType:s.UInt8},{signature:e,hashType:t});const n=-129&t;if(n<=0||n>=4)throw new Error("Invalid hashType "+t);const r=Buffer.allocUnsafe(1);r.writeUInt8(t,0);const i=l(e.slice(0,32)),o=l(e.slice(32,64));return Buffer.concat([a.encode(i,o),r])}},74624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},73694:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.sha256Midstate=t.hash=t.Hash=t.blockSize=t.digestLength=void 0,t.digestLength=32,t.blockSize=64;const r=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(e,t,n,i,o){let a,s,c,u,l,f,d,h,p,y,g,b,m;for(;o>=64;){for(a=t[0],s=t[1],c=t[2],u=t[3],l=t[4],f=t[5],d=t[6],h=t[7],y=0;y<16;y++)g=i+4*y,e[y]=(255&n[g])<<24|(255&n[g+1])<<16|(255&n[g+2])<<8|255&n[g+3];for(y=16;y<64;y++)p=e[y-2],b=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=e[y-15],m=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,e[y]=(b+e[y-7]|0)+(m+e[y-16]|0);for(y=0;y<64;y++)b=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&f^~l&d)|0)+(h+(r[y]+e[y]|0)|0)|0,m=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&s^a&c^s&c)|0,h=d,d=f,f=l,l=u+b|0,u=c,c=s,s=a,a=b+m|0;t[0]+=a,t[1]+=s,t[2]+=c,t[3]+=u,t[4]+=l,t[5]+=f,t[6]+=d,t[7]+=h,i+=64,o-=64}return i}class o{constructor(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.finished=!1,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,t=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[n++],t--;64===this.bufferLength&&(i(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=i(this.temp,this.state,e,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[n++],t--;return this}finish(e){if(!this.finished){const e=this.bytesHashed,t=this.bufferLength,n=e/536870912|0,r=e<<3,o=e%64<56?64:128;this.buffer[t]=128;for(let e=t+1;e<o-8;e++)this.buffer[e]=0;this.buffer[o-8]=n>>>24&255,this.buffer[o-7]=n>>>16&255,this.buffer[o-6]=n>>>8&255,this.buffer[o-5]=n>>>0&255,this.buffer[o-4]=r>>>24&255,this.buffer[o-3]=r>>>16&255,this.buffer[o-2]=r>>>8&255,this.buffer[o-1]=r>>>0&255,i(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let t=0;t<8;t++)e[4*t+0]=this.state[t]>>>24&255,e[4*t+1]=this.state[t]>>>16&255,e[4*t+2]=this.state[t]>>>8&255,e[4*t+3]=this.state[t]>>>0&255;return this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(let t=0;t<this.state.length;t++)this.state[t]=e[t];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}t.Hash=o,t.hash=function(e){const t=(new o).update(e),n=t.digest();return t.clean(),n},t.sha256Midstate=function(e){let n=e;e.length>t.blockSize&&(n=e.slice(0,t.blockSize));const r=new o;r.reset(),r.update(Uint8Array.from(n));const i=Buffer.alloc(t.digestLength);for(let e=0;e<8;e++)i[4*e+0]=r.state[e]>>>24&255,i[4*e+1]=r.state[e]>>>16&255,i[4*e+2]=r.state[e]>>>8&255,i[4*e+3]=r.state[e]>>>0&255;return i}},76235:function(e,t,n){"use strict";var Buffer=n(48764).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.ZERO=void 0;const a=n(39831),s=o(n(66438)),c=o(n(14627)),u=n(14627),l=o(n(63145)),{typeforce:f}=l,d=Buffer.allocUnsafe(0),h=[];t.ZERO=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex");const p=Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),y=1<<31>>>0,g=1<<30>>>0,b=1073741823,m=4294967295,v=Buffer.from("ffffffffffffffff","hex"),w={script:d,asset:t.ZERO,nonce:t.ZERO,valueBuffer:v};class _{constructor(){this.version=1,this.locktime=0,this.flag=0,this.ins=[],this.outs=[]}static fromBuffer(buffer,e){const t=new a.BufferReader(buffer),n=new _;n.version=t.readInt32(),n.flag=t.readUInt8();let r=!1;n.flag&_.ADVANCED_TRANSACTION_FLAG&&(r=!0);const i=t.readVarInt();for(let e=0;e<i;++e){const e=t.readSlice(32);let r=t.readUInt32();const i=t.readVarSlice(),o=t.readUInt32();let a,s=!1;r!==m&&(r&y&&(a=t.readIssuance()),r&g&&(s=!0),r&=b),n.ins.push({hash:e,index:r,script:i,sequence:o,witness:h,isPegin:s,issuance:a,peginWitness:h,issuanceRangeProof:d,inflationRangeProof:d})}const o=t.readVarInt();for(let e=0;e<o;++e){const e=t.readConfidentialAsset(),r=t.readConfidentialValue(),i=t.readConfidentialNonce(),o=t.readVarSlice();n.outs.push({asset:e,value:r,nonce:i,script:o,rangeProof:d,surjectionProof:d})}if(n.locktime=t.readUInt32(),r){for(let e=0;e<i;++e){const{witness:r,peginWitness:i,issuanceRangeProof:o,inflationRangeProof:a}=t.readConfidentialInFields();n.ins[e].witness=r,n.ins[e].peginWitness=i,n.ins[e].issuanceRangeProof=o,n.ins[e].inflationRangeProof=a}for(let e=0;e<o;++e){const{rangeProof:r,surjectionProof:i}=t.readConfidentialOutFields();n.outs[e].rangeProof=r,n.outs[e].surjectionProof=i}}if(e)return n;if(t.offset!==buffer.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return _.fromBuffer(Buffer.from(e,"hex"),!1)}static isCoinbaseHash(buffer){f(l.Hash256bit,buffer);for(let e=0;e<32;++e)if(0!==buffer[e])return!1;return!0}isCoinbase(){return 1===this.ins.length&&_.isCoinbaseHash(this.ins[0].hash)}validateIssuance(e,t,n,r){return f(l.Hash256bit,e),f(l.Hash256bit,t),f(l.oneOf(l.ConfidentialValue,l.ConfidentialCommitment,l.BufferOne),n),f(l.oneOf(l.ConfidentialValue,l.ConfidentialCommitment,l.BufferOne),r),!0}addInput(e,t,n,r,i){f(l.tuple(l.Hash256bit,l.UInt32,l.maybe(l.UInt32),l.maybe(l.Buffer),l.maybe(l.Object)),arguments);let o=!1;if(t!==m){if(t&y){if(!i)throw new Error("Issuance flag has been set but the Issuance object is not defined or invalid");this.validateIssuance(i.assetBlindingNonce,i.assetEntropy,i.assetAmount,i.tokenAmount)}t&g&&(o=!0),t&=b}return this.ins.push({hash:e,index:t,isPegin:o,issuance:i,script:r||d,witness:h,peginWitness:h,issuanceRangeProof:d,inflationRangeProof:d,sequence:n||_.DEFAULT_SEQUENCE})-1}addOutput(e,t,n,r,i,o){return f(l.tuple(l.Buffer,l.oneOf(l.ConfidentialValue,l.ConfidentialCommitment),l.AssetBufferWithFlag,l.oneOf(l.ConfidentialCommitment,l.BufferOne),l.maybe(l.Buffer),l.maybe(l.Buffer)),arguments),this.outs.push({script:e,value:t,asset:n,nonce:r||d,rangeProof:i||d,surjectionProof:o||d})-1}hasWitnesses(){return 1===this.flag||this.ins.some((e=>0!==e.witness.length))||this.outs.some((e=>0!==e.rangeProof.length&&0!==e.surjectionProof.length))}weight(){return 3*this.__byteLength(!1)+this.__byteLength(!0)}virtualSize(){const e=(this.weight()+4-1)/4;return Math.floor(e)}byteLength(e){return this.__byteLength(e||!0)}clone(){const e=new _;return e.version=this.version,e.locktime=this.locktime,e.flag=this.flag,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness,isPegin:e.isPegin,issuance:e.issuance,peginWitness:e.peginWitness,issuanceRangeProof:e.issuanceRangeProof,inflationRangeProof:e.inflationRangeProof}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value,asset:e.asset,nonce:e.nonce,rangeProof:e.rangeProof,surjectionProof:e.surjectionProof}))),e}hashForSignature(e,t,n){if(f(l.tuple(l.UInt32,l.Buffer,l.Number),arguments),e>=this.ins.length)return p;const r=c.compile(c.decompile(t).filter((e=>e!==u.OPS.OP_CODESEPARATOR))),i=this.clone();if((31&n)===_.SIGHASH_NONE)i.outs=[],i.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}));else if((31&n)===_.SIGHASH_SINGLE){if(e>=this.outs.length)return p;i.outs.length=e+1;for(let t=0;t<e;t++)i.outs[t]=w;i.ins.forEach(((t,n)=>{n!==e&&(t.sequence=0)}))}n&_.SIGHASH_ANYONECANPAY?(i.ins=[i.ins[e]],i.ins[0].script=r):(i.ins.forEach((e=>{e.script=d})),i.ins[e].script=r);const buffer=Buffer.allocUnsafe(i.__byteLength(!1,!0)+4);return buffer.writeInt32LE(n,buffer.length-4),i.__toBuffer(buffer,0,!1,!0,!0),s.hash256(buffer)}hashForWitnessV1(e,t,n,r,i,o,c){if(f(l.tuple(l.UInt32,f.arrayOf(l.Buffer),f.arrayOf(l.Object),l.UInt32),arguments),t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const u=r===_.SIGHASH_DEFAULT?_.SIGHASH_ALL:r&_.SIGHASH_OUTPUT_MASK,h=(r&_.SIGHASH_INPUT_MASK)===_.SIGHASH_ANYONECANPAY,p=u===_.SIGHASH_NONE,y=u===_.SIGHASH_SINGLE;let g=d,b=d,m=d,v=d,w=d,O=d,P=d,I=d,T=d;if(h||(g=function(e){const t=a.BufferWriter.withCapacity(36*e.length);for(const n of e)t.writeSlice(n.hash),t.writeUInt32(n.index);return s.sha256(t.end())}(this.ins),O=function(e){const t=a.BufferWriter.withCapacity(e.length);for(const n of e)t.writeUInt8(S(n));return s.sha256(t.end())}(this.ins),T=function(e){const t=e.reduce(((e,t)=>e+t.asset.length+t.value.length),0),n=a.BufferWriter.withCapacity(t);for(const t of e)n.writeSlice(t.asset),n.writeSlice(t.value);return s.sha256(n.end())}(n),P=function(e){const t=e=>(0,a.varSliceSize)(e.issuanceRangeProof||Buffer.alloc(1))+(0,a.varSliceSize)(e.inflationRangeProof||Buffer.alloc(1)),n=e.reduce(((e,n)=>e+t(n)),0),r=a.BufferWriter.withCapacity(n);for(const t of e)r.writeVarSlice(t.issuanceRangeProof||Buffer.of(0)),r.writeVarSlice(t.inflationRangeProof||Buffer.of(0));return s.sha256(r.end())}(this.ins),w=function(e){const t=a.BufferWriter.withCapacity(e.map(a.varSliceSize).reduce(((e,t)=>e+t)));return e.forEach((e=>t.writeVarSlice(e))),s.sha256(t.end())}(t),b=function(e){const t=a.BufferWriter.withCapacity(4*e.length);return e.forEach((e=>t.writeUInt32(e.sequence))),s.sha256(t.end())}(this.ins),v=function(e){const t=e.reduce(((e,t)=>t.issuance?e+k(t):e+1),0),n=0===t?e.length:t,r=a.BufferWriter.withCapacity(n);return e.forEach((e=>{e.issuance?(r.writeSlice(e.issuance.assetBlindingNonce),r.writeSlice(e.issuance.assetEntropy),r.writeSlice(e.issuance.assetAmount),r.writeSlice(e.issuance.tokenAmount)):r.writeSlice(Buffer.of(0))})),s.sha256(r.end())}(this.ins)),p||y){if(y&&e<this.outs.length){const t=this.outs[e];m=A([t]),I=E([t])}}else m=A(this.outs),I=E(this.outs);const N=(o?2:0)+(c?1:0),x=74+(h?37+n[e].asset.length+n[e].value.length+(0,a.varSliceSize)(t[e])+4+(this.ins[e].issuance?k(this.ins[e]):1):4)+(h?0:224)+(p||y?0:64)+(c?32:0)+(y?64:0)+(o?37:0),R=a.BufferWriter.withCapacity(x);if(R.writeSlice(i),R.writeSlice(i),R.writeUInt8(r),R.writeInt32(this.version),R.writeUInt32(this.locktime),h||(R.writeSlice(O),R.writeSlice(g),R.writeSlice(T),R.writeSlice(w),R.writeSlice(b),R.writeSlice(v),R.writeSlice(P)),p||y||(R.writeSlice(m),R.writeSlice(I)),R.writeUInt8(N),h){const r=this.ins[e];if(R.writeUInt8(S(r)),R.writeSlice(r.hash),R.writeUInt32(r.index),R.writeSlice(n[e].asset),R.writeSlice(n[e].value),R.writeVarSlice(t[e]),R.writeUInt32(r.sequence),r.issuance){R.writeSlice(r.issuance.assetBlindingNonce),R.writeSlice(r.issuance.assetEntropy),R.writeSlice(r.issuance.assetAmount),R.writeSlice(r.issuance.tokenAmount);const e=a.BufferWriter.withCapacity((0,a.varSliceSize)(r.issuanceRangeProof)+(0,a.varSliceSize)(r.inflationRangeProof));e.writeVarSlice(r.issuanceRangeProof||Buffer.of(0)),e.writeVarSlice(r.inflationRangeProof||Buffer.of(0));const t=s.sha256(e.end());R.writeSlice(t)}else R.writeSlice(Buffer.of(0))}else R.writeUInt32(e);if(c){const e=a.BufferWriter.withCapacity((0,a.varSliceSize)(c));e.writeVarSlice(c),R.writeSlice(s.sha256(e.end()))}return y&&(R.writeSlice(m),R.writeSlice(I)),o&&(R.writeSlice(o),R.writeUInt8(0),R.writeUInt32(4294967295)),s.taggedHash("TapSighash/elements",R.end())}hashForWitnessV0(e,n,r,i){f(l.tuple(l.UInt32,l.Buffer,l.Buffer,l.UInt32),arguments);let o=t.ZERO,c=t.ZERO,u=t.ZERO,d=t.ZERO;if(!(i&_.SIGHASH_ANYONECANPAY)){const e=a.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),c=s.hash256(e.end())}if(!(i&_.SIGHASH_ANYONECANPAY)&&(31&i)!==_.SIGHASH_SINGLE&&(31&i)!==_.SIGHASH_NONE){const e=a.BufferWriter.withCapacity(4*this.ins.length);this.ins.forEach((t=>{e.writeUInt32(t.sequence)})),u=s.hash256(e.end())}if(!(i&_.SIGHASH_ANYONECANPAY)){const e=this.ins.reduce(((e,t)=>t.issuance?e+k(t):e+1),0),t=0===e?this.ins.length:e,n=a.BufferWriter.withCapacity(t);this.ins.forEach((e=>{e.issuance?(n.writeSlice(e.issuance.assetBlindingNonce),n.writeSlice(e.issuance.assetEntropy),n.writeSlice(e.issuance.assetAmount),n.writeSlice(e.issuance.tokenAmount)):n.writeSlice(Buffer.of(0))})),d=s.hash256(n.end())}if((31&i)!==_.SIGHASH_SINGLE&&(31&i)!==_.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+t.asset.length+t.value.length+t.nonce.length+(0,a.varSliceSize)(t.script)),0),t=a.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeSlice(e.asset),t.writeSlice(e.value),t.writeSlice(e.nonce),t.writeVarSlice(e.script)})),o=s.hash256(t.end())}else if((31&i)===_.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e],n=t.asset.length+t.value.length+t.nonce.length+(0,a.varSliceSize)(t.script),r=a.BufferWriter.withCapacity(n);r.writeSlice(t.asset),r.writeSlice(t.value),r.writeSlice(t.nonce),r.writeVarSlice(t.script),o=s.hash256(r.end())}const h=this.ins[e],p=void 0!==h.issuance,y=4+c.length+u.length+d.length+h.hash.length+4+(0,a.varSliceSize)(n)+r.length+4+o.length+k(h)+4+4,g=a.BufferWriter.withCapacity(y);return g.writeUInt32(this.version),g.writeSlice(c),g.writeSlice(u),g.writeSlice(d),g.writeSlice(h.hash),g.writeUInt32(h.index),g.writeVarSlice(n),g.writeSlice(r),g.writeUInt32(h.sequence),p&&(g.writeSlice(h.issuance.assetBlindingNonce),g.writeSlice(h.issuance.assetEntropy),g.writeSlice(h.issuance.assetAmount),g.writeSlice(h.issuance.tokenAmount)),g.writeSlice(o),g.writeUInt32(this.locktime),g.writeUInt32(i),s.hash256(g.end())}getHash(e){return e&&this.isCoinbase()?Buffer.alloc(32,0):s.hash256(this.__toBuffer(void 0,void 0,e,!0))}getId(){return(0,a.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(buffer,e){return this.__toBuffer(buffer,e,!0,!1)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){f(l.tuple(l.Number,l.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){f(l.tuple(l.Number,[l.Buffer]),arguments),this.ins[e].witness=t}setPeginWitness(e,t){f(l.tuple(l.Number,[l.Buffer]),arguments),this.ins[e].peginWitness=t}setInputIssuanceRangeProof(e,t){if(f(l.tuple(l.Buffer),arguments),void 0===this.ins[e].issuance)throw new Error("Issuance not set for input #"+e);this.ins[e].issuanceRangeProof=t}setInputInflationRangeProof(e,t){if(f(l.tuple(l.Buffer),arguments),void 0===this.ins[e].issuance)throw new Error("Issuance not set for input #"+e);this.ins[e].inflationRangeProof=t}setOutputNonce(e,t){f(l.tuple(l.Number,l.Buffer),arguments),this.outs[e].nonce=t}setOutputRangeProof(e,t){f(l.tuple(l.Number,l.Buffer),arguments),this.outs[e].rangeProof=t}setOutputSurjectionProof(e,t){f(l.tuple(l.Number,l.Buffer),arguments),this.outs[e].surjectionProof=t}__byteLength(e,t){let n=8+(t?0:1)+a.varuint.encodingLength(this.ins.length)+a.varuint.encodingLength(this.outs.length);for(const e of this.ins)n+=40+(0,a.varSliceSize)(e.script),e.issuance&&(n+=64+e.issuance.assetAmount.length+e.issuance.tokenAmount.length);for(const e of this.outs)n+=e.asset.length+e.value.length+e.nonce.length+(0,a.varSliceSize)(e.script);if(e&&this.hasWitnesses()){for(const e of this.ins){n+=(0,a.varSliceSize)(e.issuanceRangeProof),n+=(0,a.varSliceSize)(e.inflationRangeProof),n+=a.varuint.encodingLength(e.witness.length);for(const t of e.witness)n+=(0,a.varSliceSize)(t);n+=a.varuint.encodingLength((e.peginWitness||[]).length);for(const t of e.peginWitness||[])n+=(0,a.varSliceSize)(t)}for(const e of this.outs)n+=(0,a.varSliceSize)(e.surjectionProof),n+=(0,a.varSliceSize)(e.rangeProof)}return n}__toBuffer(buffer,e,t,n,r){buffer||(buffer=Buffer.allocUnsafe(this.__byteLength(t,r)));const i=new a.BufferWriter(buffer,e||0);i.writeInt32(this.version);const o=t&&this.hasWitnesses();if(!r){let e=0;o&&!n&&(e|=_.ADVANCED_TRANSACTION_FLAG),i.writeUInt8(e)}return i.writeVarInt(this.ins.length),this.ins.forEach((e=>{i.writeSlice(e.hash);let t=e.index;e.issuance&&(t=(t|y)>>>0),e.isPegin&&(t=(t|g)>>>0),i.writeUInt32(t),i.writeVarSlice(e.script),i.writeUInt32(e.sequence),e.issuance&&(i.writeSlice(e.issuance.assetBlindingNonce),i.writeSlice(e.issuance.assetEntropy),i.writeSlice(e.issuance.assetAmount),i.writeSlice(e.issuance.tokenAmount))})),i.writeVarInt(this.outs.length),this.outs.forEach((e=>{const t=r&&o?Buffer.alloc(1):e.value;i.writeSlice(e.asset),i.writeSlice(t),i.writeSlice(e.nonce),r&&o&&i.writeUInt64(0),i.writeVarSlice(e.script)})),i.writeUInt32(this.locktime),!r&&o&&(this.ins.forEach((e=>{i.writeConfidentialInFields(e)})),this.outs.forEach((e=>{i.writeConfidentialOutFields(e)}))),void 0!==e?buffer.slice(e,i.offset):buffer}}function E(e){const t=e.reduce(((e,t)=>e+(e=>(0,a.varSliceSize)(e.rangeProof||Buffer.alloc(0))+(0,a.varSliceSize)(e.surjectionProof||Buffer.alloc(0)))(t)),0),n=a.BufferWriter.withCapacity(t);for(const t of e)n.writeVarSlice(t.surjectionProof||Buffer.of(0)),n.writeVarSlice(t.rangeProof||Buffer.of(0));return s.sha256(n.end())}function S(e){return(void 0!==e.issuance?y>>>24:0)|(e.isPegin?g>>>24:0)}function k(e){return e.issuance?e.issuance.assetBlindingNonce.length+e.issuance.assetEntropy.length+e.issuance.assetAmount.length+e.issuance.tokenAmount.length:0}function A(e){const t=e.reduce(((e,t)=>e+t.asset.length+t.value.length+t.nonce.length+(0,a.varSliceSize)(t.script)),0),n=a.BufferWriter.withCapacity(t);return e.forEach((e=>{n.writeSlice(e.asset),n.writeSlice(e.value),n.writeSlice(e.nonce),n.writeVarSlice(e.script)})),s.sha256(n.end())}t.Transaction=_,_.DEFAULT_SEQUENCE=4294967295,_.SIGHASH_DEFAULT=0,_.SIGHASH_ALL=1,_.SIGHASH_NONE=2,_.SIGHASH_SINGLE=3,_.SIGHASH_ANYONECANPAY=128,_.SIGHASH_OUTPUT_MASK=3,_.SIGHASH_INPUT_MASK=128,_.ADVANCED_TRANSACTION_FLAG=1},63145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Object=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.BufferOne=t.ConfidentialValue=t.AssetBuffer=t.AssetBufferWithFlag=t.ConfidentialCommitment=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const r=n(48764);t.typeforce=n(2401);const i=r.Buffer.alloc(32,0),o=r.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.isPoint=function(e){if(!r.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],n=e.slice(1,33);if(0===n.compare(i))return!1;if(n.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const a=e.slice(33);return 0!==a.compare(i)&&(!(a.compare(o)>=0)&&(4===t&&65===e.length))};const a=Math.pow(2,31)-1;function s(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return t.typeforce.UInt32(e)&&e<=a},t.BIP32Path=s,s.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign};function c(e){return!(!e||!("output"in e))&&(!!r.Buffer.isBuffer(e.output)&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version))}t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8,assetHash:t.typeforce.String,confidentialPrefix:t.typeforce.UInt8,name:t.typeforce.String}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=c,t.isTaptree=function e(n){return(0,t.Array)(n)?2===n.length&&n.every((t=>e(t))):c(n)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.ConfidentialCommitment=t.typeforce.BufferN(33),t.AssetBufferWithFlag=t.typeforce.BufferN(33),t.AssetBuffer=t.typeforce.BufferN(32),t.ConfidentialValue=t.typeforce.BufferN(9),t.BufferOne=t.typeforce.BufferN(1),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.Object=t.typeforce.Object,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},52560:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ElementsValue=void 0;const r=n(39831);class i{constructor(e,t){this.prefix=e,this.value=t}static fromNumber(e){if(e<0)throw new Error("Invalid negative number");const t=Buffer.allocUnsafe(8);return(0,r.writeUInt64LE)(t,e,0),new i(this.UNCONFIDENTIAL_PREFIX,t.reverse())}static fromHex(e){const t=Buffer.from(e,"hex");return this.fromBytes(t)}static fromBytes(e){if(8===e.length)return new i(i.UNCONFIDENTIAL_PREFIX,e);const t=e.length>0?e[0]:0,n=e.length>1?e.slice(1):Buffer.alloc(0);if(t!==i.UNCONFIDENTIAL_PREFIX&&!i.CONFIDENTIAL_PREFIXES.includes(t))throw new Error("Invalid value prefix");if(t===i.UNCONFIDENTIAL_PREFIX&&8!==n.length)throw new Error("Invalid unconfidential value length");if(i.CONFIDENTIAL_PREFIXES.includes(t)&&32!==n.length)throw new Error("Invalid confidential value length");return new i(t,n)}get hex(){return Buffer.concat([Buffer.of(this.prefix),this.value]).toString("hex")}get bytes(){return Buffer.concat([Buffer.of(this.prefix),this.value])}get number(){if(this.prefix!==i.UNCONFIDENTIAL_PREFIX)throw new Error("Invalid value prefix");return(0,r.readUInt64LE)((e=this.value,Buffer.from(e).reverse()),0);var e}get isConfidential(){return this.prefix!==i.UNCONFIDENTIAL_PREFIX}}t.ElementsValue=i,i.UNCONFIDENTIAL_PREFIX=1,i.CONFIDENTIAL_PREFIXES=[8,9]},72378:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Null]",l="[object Object]",f="[object Proxy]",d="[object Undefined]",h=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[o]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y[s]=y["[object Map]"]=y["[object Number]"]=y[l]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;var g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,b="object"==typeof self&&self&&self.Object===Object&&self,m=g||b||Function("return this")(),v=t&&!t.nodeType&&t,w=v&&e&&!e.nodeType&&e,_=w&&w.exports===v,E=_&&g.process,S=function(){try{var e=w&&w.require&&w.require("util").types;return e||E&&E.binding&&E.binding("util")}catch(e){}}(),k=S&&S.isTypedArray;var A,O,P,I=Array.prototype,T=Function.prototype,N=Object.prototype,x=m["__core-js_shared__"],R=T.toString,C=N.hasOwnProperty,B=(A=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",L=N.toString,j=R.call(Object),D=RegExp("^"+R.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=_?m.Buffer:void 0,U=m.Symbol,M=m.Uint8Array,H=Buffer?Buffer.allocUnsafe:void 0,z=(O=Object.getPrototypeOf,P=Object,function(e){return O(P(e))}),F=Object.create,K=N.propertyIsEnumerable,q=I.splice,V=U?U.toStringTag:void 0,W=function(){try{var e=me(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),G=Buffer?Buffer.isBuffer:void 0,Y=Math.max,$=Date.now,Z=me(m,"Map"),X=me(Object,"create"),J=function(){function e(){}return function(t){if(!Ne(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t){var n=Ae(e),r=!n&&ke(e),i=!n&&!r&&Pe(e),o=!n&&!r&&!i&&Re(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!C.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ve(u,c))||s.push(u);return s}function ie(e,t,n){(void 0!==n&&!Se(e[t],n)||void 0===n&&!(t in e))&&se(e,t,n)}function oe(e,t,n){var r=e[t];C.call(e,t)&&Se(r,n)&&(void 0!==n||t in e)||se(e,t,n)}function ae(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1}function se(e,t,n){"__proto__"==t&&W?W(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Q.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},Q.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Q.prototype.get=function(e){var t=this.__data__;if(X){var n=t[e];return n===r?void 0:n}return C.call(t,e)?t[e]:void 0},Q.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:C.call(t,e)},Q.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=X&&void 0===t?r:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():q.call(t,n,1),--this.size,!0)},ee.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return ae(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(Z||ee),string:new Q}},te.prototype.delete=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return be(this,e).get(e)},te.prototype.has=function(e){return be(this,e).has(e)},te.prototype.set=function(e,t){var n=be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!Z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var ce,ue=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[ce?a:++r];if(!1===t(i[s],s,i))break}return e};function le(e){return null==e?void 0===e?d:u:V&&V in Object(e)?function(e){var t=C.call(e,V),n=e[V];try{e[V]=void 0;var r=!0}catch(e){}var i=L.call(e);r&&(t?e[V]=n:delete e[V]);return i}(e):function(e){return L.call(e)}(e)}function fe(e){return xe(e)&&le(e)==o}function de(e){return!(!Ne(e)||function(e){return!!B&&B in e}(e))&&(Ie(e)?D:h).test(function(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function he(e){if(!Ne(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=we(e),n=[];for(var r in e)("constructor"!=r||!t&&C.call(e,r))&&n.push(r);return n}function pe(e,t,n,r,i){e!==t&&ue(t,(function(o,a){if(i||(i=new ne),Ne(o))!function(e,t,n,r,i,o,a){var s=_e(e,n),c=_e(t,n),u=a.get(c);if(u)return void ie(e,n,u);var f=o?o(s,c,n+"",e,t,a):void 0,d=void 0===f;if(d){var h=Ae(c),p=!h&&Pe(c),y=!h&&!p&&Re(c);f=c,h||p||y?Ae(s)?f=s:xe(v=s)&&Oe(v)?f=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):p?(d=!1,f=function(buffer,e){if(e)return buffer.slice();var t=buffer.length,n=H?H(t):new buffer.constructor(t);return buffer.copy(n),n}(c,!0)):y?(d=!1,g=c,buffer=!0?(b=g.buffer,m=new b.constructor(b.byteLength),new M(m).set(new M(b)),m):g.buffer,f=new g.constructor(buffer,g.byteOffset,g.length)):f=[]:function(e){if(!xe(e)||le(e)!=l)return!1;var t=z(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&R.call(n)==j}(c)||ke(c)?(f=s,ke(s)?f=function(e){return function(e,t,n,r){var i=!n;n||(n={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?se(n,s,c):oe(n,s,c)}return n}(e,Ce(e))}(s):Ne(s)&&!Ie(s)||(f=function(e){return"function"!=typeof e.constructor||we(e)?{}:J(z(e))}(c))):d=!1}var g,buffer,b,m;var v;d&&(a.set(c,f),i(f,c,r,o,a),a.delete(c));ie(e,n,f)}(e,t,a,n,pe,r,i);else{var s=r?r(_e(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),ie(e,a,s)}}),Ce)}function ye(e,t){return Ee(function(e,t,n){return t=Y(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Y(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,je),e+"")}var ge=W?function(e,t){return W(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:je;function be(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return de(n)?n:void 0}function ve(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&p.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||N)}function _e(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ee=function(e){var t=0,n=0;return function(){var r=$(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ge);function Se(e,t){return e===t||e!=e&&t!=t}var ke=fe(function(){return arguments}())?fe:function(e){return xe(e)&&C.call(e,"callee")&&!K.call(e,"callee")},Ae=Array.isArray;function Oe(e){return null!=e&&Te(e.length)&&!Ie(e)}var Pe=G||function(){return!1};function Ie(e){if(!Ne(e))return!1;var t=le(e);return t==s||t==c||t==a||t==f}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ne(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){return null!=e&&"object"==typeof e}var Re=k?function(e){return function(t){return e(t)}}(k):function(e){return xe(e)&&Te(e.length)&&!!y[le(e)]};function Ce(e){return Oe(e)?re(e,!0):he(e)}var Be,Le=(Be=function(e,t,n){pe(e,t,n)},ye((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Be.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!Ne(n))return!1;var r=typeof t;return!!("number"==r?Oe(n)&&ve(t,n.length):"string"==r&&t in n)&&Se(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Be(e,a,n,i)}return e})));function je(e){return e}e.exports=Le},25030:(e,t,n)=>{var r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")();function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var d=Object.prototype,h=d.hasOwnProperty,p=d.toString,y=l.Symbol,g=d.propertyIsEnumerable,b=y?y.isConcatSpreadable:void 0,m=Math.max;function v(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=w),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?v(s,t-1,n,r,i):f(i,s):r||(i[i.length]=s)}return i}function w(e){return E(e)||function(e){return function(e){return S(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==o||t==a}(e)}(e)}(e)&&h.call(e,"callee")&&(!g.call(e,"callee")||p.call(e)==i)}(e)||!!(b&&e&&e[b])}function _(e){if("string"==typeof e||function(e){return"symbol"==typeof e||S(e)&&p.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var E=Array.isArray;function S(e){return!!e&&"object"==typeof e}var k,A,O=(k=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(v(t,1),_))},A=m(void 0===A?k.length-1:A,0),function(){for(var e=arguments,t=-1,n=m(e.length-A,0),r=Array(n);++t<n;)r[t]=e[A+t];t=-1;for(var i=Array(A+1);++t<A;)i[t]=e[t];return i[A]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(k,this,i)});e.exports=O},47044:(e,t,n)=>{var r=1/0,i="[object Symbol]",o=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\\ud800-\\udfff",c="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",l="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="['’]",h="["+f+"]",p="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",y="\\d+",g="["+c+"]",b="["+u+"]",m="[^"+s+f+y+c+u+l+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",w="[\\ud800-\\udbff][\\udc00-\\udfff]",_="["+l+"]",E="(?:"+b+"|"+m+")",S="(?:"+_+"|"+m+")",k="(?:['’](?:d|ll|m|re|s|t|ve))?",A="(?:['’](?:D|LL|M|RE|S|T|VE))?",O="(?:"+p+"|\\ud83c[\\udffb-\\udfff])"+"?",P="[\\ufe0e\\ufe0f]?",I=P+O+("(?:\\u200d(?:"+["[^"+s+"]",v,w].join("|")+")"+P+O+")*"),T="(?:"+[g,v,w].join("|")+")"+I,N=RegExp(d,"g"),x=RegExp(p,"g"),R=RegExp([_+"?"+b+"+"+k+"(?="+[h,_,"$"].join("|")+")",S+"+"+A+"(?="+[h,_+E,"$"].join("|")+")",_+"?"+E+"+"+k,_+"+"+A,y,T].join("|"),"g"),C=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,B="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,L="object"==typeof self&&self&&self.Object===Object&&self,j=B||L||Function("return this")();var D,U=(D={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},function(e){return null==D?void 0:D[e]});var M=Object.prototype.toString,H=j.Symbol,z=H?H.prototype:void 0,F=z?z.toString:void 0;function K(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&M.call(e)==i}(e))return F?F.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}function q(e){return null==e?"":K(e)}var V,W=(V=function(e,t,n){return e+(n?"_":"")+t.toLowerCase()},function(e){return function(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}(function(e,t,n){return e=q(e),void 0===(t=n?void 0:t)?function(e){return C.test(e)}(e)?function(e){return e.match(R)||[]}(e):function(e){return e.match(o)||[]}(e):e.match(t)||[]}(function(e){return(e=q(e))&&e.replace(a,U).replace(x,"")}(e).replace(N,"")),V,"")});e.exports=W},18552:(e,t,n)=>{var r=n(10852)(n(55639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(51789),i=n(80401),o=n(57667),a=n(21327),s=n(81866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},38407:(e,t,n)=>{var r=n(27040),i=n(14125),o=n(82117),a=n(67518),s=n(54705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},57071:(e,t,n)=>{var r=n(10852)(n(55639),"Map");e.exports=r},83369:(e,t,n)=>{var r=n(24785),i=n(11285),o=n(96e3),a=n(49916),s=n(95265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},53818:(e,t,n)=>{var r=n(10852)(n(55639),"Promise");e.exports=r},58525:(e,t,n)=>{var r=n(10852)(n(55639),"Set");e.exports=r},46384:(e,t,n)=>{var r=n(38407),i=n(37465),o=n(63779),a=n(67599),s=n(44758),c=n(34309);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},11149:(e,t,n)=>{var r=n(55639).Uint8Array;e.exports=r},70577:(e,t,n)=>{var r=n(10852)(n(55639),"WeakMap");e.exports=r},77412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},34963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},14636:(e,t,n)=>{var r=n(22545),i=n(35694),o=n(1469),a=n(44144),s=n(65776),c=n(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&c(e),h=n||l||f||d,p=h?r(e.length,String):[],y=p.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,y))||p.push(g);return p}},62488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},34865:(e,t,n)=>{var r=n(89465),i=n(77813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},18470:(e,t,n)=>{var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},44037:(e,t,n)=>{var r=n(98363),i=n(3674);e.exports=function(e,t){return e&&r(t,i(t),e)}},63886:(e,t,n)=>{var r=n(98363),i=n(81704);e.exports=function(e,t){return e&&r(t,i(t),e)}},89465:(e,t,n)=>{var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},85990:(e,t,n)=>{var r=n(46384),i=n(77412),o=n(34865),a=n(44037),s=n(63886),c=n(64626),u=n(278),l=n(18805),f=n(1911),d=n(58234),h=n(46904),p=n(64160),y=n(43824),g=n(29148),b=n(38517),m=n(1469),v=n(44144),w=n(56688),_=n(13218),E=n(72928),S=n(3674),k=n(81704),A="[object Arguments]",O="[object Function]",P="[object Object]",I={};I[A]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[P]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[O]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,T,N,x,R){var C,B=1&n,L=2&n,j=4&n;if(T&&(C=x?T(t,N,x,R):T(t)),void 0!==C)return C;if(!_(t))return t;var D=m(t);if(D){if(C=y(t),!B)return u(t,C)}else{var U=p(t),M=U==O||"[object GeneratorFunction]"==U;if(v(t))return c(t,B);if(U==P||U==A||M&&!x){if(C=L||M?{}:b(t),!B)return L?f(t,s(C,t)):l(t,a(C,t))}else{if(!I[U])return x?t:{};C=g(t,U,B)}}R||(R=new r);var H=R.get(t);if(H)return H;R.set(t,C),E(t)?t.forEach((function(r){C.add(e(r,n,T,r,t,R))})):w(t)&&t.forEach((function(r,i){C.set(i,e(r,n,T,i,t,R))}));var z=D?void 0:(j?L?h:d:L?k:S)(t);return i(z||t,(function(r,i){z&&(r=t[i=r]),o(C,i,e(r,n,T,i,t,R))})),C}},3118:(e,t,n)=>{var r=n(13218),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},68866:(e,t,n)=>{var r=n(62488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},44239:(e,t,n)=>{var r=n(62705),i=n(89607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},9454:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},25588:(e,t,n)=>{var r=n(64160),i=n(37005);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},28458:(e,t,n)=>{var r=n(23560),i=n(15346),o=n(13218),a=n(80346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},29221:(e,t,n)=>{var r=n(64160),i=n(37005);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},38749:(e,t,n)=>{var r=n(44239),i=n(41780),o=n(37005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},280:(e,t,n)=>{var r=n(25726),i=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},10313:(e,t,n)=>{var r=n(13218),i=n(25726),o=n(33498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},22545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},74318:(e,t,n)=>{var r=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64626:(e,t,n)=>{e=n.nmd(e);var r=n(55639),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,Buffer=o&&o.exports===i?r.Buffer:void 0,a=Buffer?Buffer.allocUnsafe:void 0;e.exports=function(buffer,e){if(e)return buffer.slice();var t=buffer.length,n=a?a(t):new buffer.constructor(t);return buffer.copy(n),n}},57157:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var buffer=t?r(e.buffer):e.buffer;return new e.constructor(buffer,e.byteOffset,e.byteLength)}},93147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},40419:(e,t,n)=>{var r=n(62705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},77133:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var buffer=t?r(e.buffer):e.buffer;return new e.constructor(buffer,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},98363:(e,t,n)=>{var r=n(34865),i=n(89465);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?i(n,u,l):r(n,u,l)}return n}},18805:(e,t,n)=>{var r=n(98363),i=n(99551);e.exports=function(e,t){return r(e,i(e),t)}},1911:(e,t,n)=>{var r=n(98363),i=n(51442);e.exports=function(e,t){return r(e,i(e),t)}},14429:(e,t,n)=>{var r=n(55639)["__core-js_shared__"];e.exports=r},38777:(e,t,n)=>{var r=n(10852),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:(e,t,n)=>{var r=n(68866),i=n(99551),o=n(3674);e.exports=function(e){return r(e,o,i)}},46904:(e,t,n)=>{var r=n(68866),i=n(51442),o=n(81704);e.exports=function(e){return r(e,o,i)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},10852:(e,t,n)=>{var r=n(28458),i=n(47801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},85924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},89607:(e,t,n)=>{var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},99551:(e,t,n)=>{var r=n(34963),i=n(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},51442:(e,t,n)=>{var r=n(62488),i=n(85924),o=n(99551),a=n(70479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},64160:(e,t,n)=>{var r=n(18552),i=n(57071),o=n(53818),a=n(58525),s=n(70577),c=n(44239),u=n(80346),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",y=u(r),g=u(i),b=u(o),m=u(a),v=u(s),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=h)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case y:return p;case g:return l;case b:return f;case m:return d;case v:return h}return t}),e.exports=w},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},51789:(e,t,n)=>{var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},21327:(e,t,n)=>{var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},81866:(e,t,n)=>{var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},29148:(e,t,n)=>{var r=n(74318),i=n(57157),o=n(93147),a=n(40419),s=n(77133);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},38517:(e,t,n)=>{var r=n(3118),i=n(85924),o=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var r,i=n(14429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var r=n(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},82117:(e,t,n)=>{var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},54705:(e,t,n)=>{var r=n(18470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},24785:(e,t,n)=>{var r=n(1989),i=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},11285:(e,t,n)=>{var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},94536:(e,t,n)=>{var r=n(10852)(Object,"create");e.exports=r},86916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:(e,t,n)=>{e=n.nmd(e);var r=n(31957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},55639:(e,t,n)=>{var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},37465:(e,t,n)=>{var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var r=n(38407),i=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},50361:(e,t,n)=>{var r=n(85990);e.exports=function(e){return r(e,5)}},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},35694:(e,t,n)=>{var r=n(9454),i=n(37005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var r=n(23560),i=n(41780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},44144:(e,t,n)=>{e=n.nmd(e);var r=n(55639),i=n(95062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,Buffer=a&&a.exports===o?r.Buffer:void 0,s=(Buffer?Buffer.isBuffer:void 0)||i;e.exports=s},23560:(e,t,n)=>{var r=n(44239),i=n(13218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},56688:(e,t,n)=>{var r=n(25588),i=n(7518),o=n(31167),a=o&&o.isMap,s=a?i(a):r;e.exports=s},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},72928:(e,t,n)=>{var r=n(29221),i=n(7518),o=n(31167),a=o&&o.isSet,s=a?i(a):r;e.exports=s},36719:(e,t,n)=>{var r=n(38749),i=n(7518),o=n(31167),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(14636),i=n(280),o=n(98612);e.exports=function(e){return o(e)?r(e):i(e)}},81704:(e,t,n)=>{var r=n(14636),i=n(10313),o=n(98612);e.exports=function(e){return o(e)?r(e,!0):i(e)}},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},43720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},o={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,(0|e)<0?-1:0,!0),a&&(o[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?b:g;if(t){if(e<0)return b;if(e>=h)return E}else{if(e<=-p)return S;if(e+1>=p)return _}return e<0?s(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=c;var u=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=s(u(n,8)),o=g,a=0;a<e.length;a+=8){var c=Math.min(8,e.length-a),f=parseInt(e.substring(a,a+c),n);if(c<8){var d=s(u(n,c));o=o.mul(d).add(s(f))}else o=(o=o.mul(i)).add(s(f))}return o.unsigned=t,o}function f(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?l(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=f;var d=4294967296,h=d*d,p=h/2,y=a(1<<24),g=a(0);n.ZERO=g;var b=a(0,!0);n.UZERO=b;var m=a(1);n.ONE=m;var v=a(1,!0);n.UONE=v;var w=a(-1);n.NEG_ONE=w;var _=c(-1,2147483647,!1);n.MAX_VALUE=_;var E=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=E;var S=c(0,-2147483648,!1);n.MIN_VALUE=S;var k=n.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(u(e,6),this.unsigned),o=this,a="";;){var c=o.div(i),l=(o.sub(c.mul(i)).toInt()>>>0).toString(e);if((o=c).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(e){return r(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(r(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(m)},k.neg=k.negate,k.add=function(e){r(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,l=0,d=0,h=0,p=0;return h+=(p+=o+(65535&e.low))>>>16,d+=(h+=i+u)>>>16,l+=(d+=n+s)>>>16,l+=t+a,c((h&=65535)<<16|(p&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},k.subtract=function(e){return r(e)||(e=f(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=f(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,a=65535&this.low,u=e.high>>>16,l=65535&e.high,d=e.low>>>16,h=65535&e.low,p=0,b=0,m=0,v=0;return m+=(v+=a*h)>>>16,b+=(m+=o*h)>>>16,m&=65535,b+=(m+=a*d)>>>16,p+=(b+=i*h)>>>16,b&=65535,p+=(b+=o*d)>>>16,b&=65535,p+=(b+=a*l)>>>16,p+=n*h+i*d+o*l+a*u,c((m&=65535)<<16|(v&=65535),(p&=65535)<<16|(b&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(r(e)||(e=f(e)),e.isZero())throw Error("division by zero");var n,i,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return v;o=b}else{if(this.eq(S))return e.eq(m)||e.eq(w)?S:e.eq(S)?m:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?m:w:(i=this.sub(e.mul(n)),o=n.add(i.div(e)));if(e.eq(S))return this.unsigned?b:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),l=a<=48?1:u(2,a-48),d=s(n),h=d.mul(e);h.isNegative()||h.gt(i);)h=(d=s(n-=l,this.unsigned)).mul(e);d.isZero()&&(d=m),o=o.add(d),i=i.sub(h)}return o},k.div=k.divide,k.modulo=function(e){return r(e)||(e=f(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return c(~this.low,~this.high,this.unsigned)},k.and=function(e){return r(e)||(e=f(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return r(e)||(e=f(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return r(e)||(e=f(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},62318:(e,t,n)=>{"use strict";var r=n(35717),i=n(3349),Buffer=n(89509).Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,o,a){return s(e+(t&n|~t&r)+i+o|0,a)+t|0}function u(e,t,n,r,i,o,a){return s(e+(t&r|n&~r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return s(e+(t^n^r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return s(e+(n^(t|~r))+i+o|0,a)+t|0}r(a,i),a.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,a=this._d;n=c(n,r,i,a,e[0],3614090360,7),a=c(a,n,r,i,e[1],3905402710,12),i=c(i,a,n,r,e[2],606105819,17),r=c(r,i,a,n,e[3],3250441966,22),n=c(n,r,i,a,e[4],4118548399,7),a=c(a,n,r,i,e[5],1200080426,12),i=c(i,a,n,r,e[6],2821735955,17),r=c(r,i,a,n,e[7],4249261313,22),n=c(n,r,i,a,e[8],1770035416,7),a=c(a,n,r,i,e[9],2336552879,12),i=c(i,a,n,r,e[10],4294925233,17),r=c(r,i,a,n,e[11],2304563134,22),n=c(n,r,i,a,e[12],1804603682,7),a=c(a,n,r,i,e[13],4254626195,12),i=c(i,a,n,r,e[14],2792965006,17),n=u(n,r=c(r,i,a,n,e[15],1236535329,22),i,a,e[1],4129170786,5),a=u(a,n,r,i,e[6],3225465664,9),i=u(i,a,n,r,e[11],643717713,14),r=u(r,i,a,n,e[0],3921069994,20),n=u(n,r,i,a,e[5],3593408605,5),a=u(a,n,r,i,e[10],38016083,9),i=u(i,a,n,r,e[15],3634488961,14),r=u(r,i,a,n,e[4],3889429448,20),n=u(n,r,i,a,e[9],568446438,5),a=u(a,n,r,i,e[14],3275163606,9),i=u(i,a,n,r,e[3],4107603335,14),r=u(r,i,a,n,e[8],1163531501,20),n=u(n,r,i,a,e[13],2850285829,5),a=u(a,n,r,i,e[2],4243563512,9),i=u(i,a,n,r,e[7],1735328473,14),n=l(n,r=u(r,i,a,n,e[12],2368359562,20),i,a,e[5],4294588738,4),a=l(a,n,r,i,e[8],2272392833,11),i=l(i,a,n,r,e[11],1839030562,16),r=l(r,i,a,n,e[14],4259657740,23),n=l(n,r,i,a,e[1],2763975236,4),a=l(a,n,r,i,e[4],1272893353,11),i=l(i,a,n,r,e[7],4139469664,16),r=l(r,i,a,n,e[10],3200236656,23),n=l(n,r,i,a,e[13],681279174,4),a=l(a,n,r,i,e[0],3936430074,11),i=l(i,a,n,r,e[3],3572445317,16),r=l(r,i,a,n,e[6],76029189,23),n=l(n,r,i,a,e[9],3654602809,4),a=l(a,n,r,i,e[12],3873151461,11),i=l(i,a,n,r,e[15],530742520,16),n=f(n,r=l(r,i,a,n,e[2],3299628645,23),i,a,e[0],4096336452,6),a=f(a,n,r,i,e[7],1126891415,10),i=f(i,a,n,r,e[14],2878612391,15),r=f(r,i,a,n,e[5],4237533241,21),n=f(n,r,i,a,e[12],1700485571,6),a=f(a,n,r,i,e[3],2399980690,10),i=f(i,a,n,r,e[10],4293915773,15),r=f(r,i,a,n,e[1],2240044497,21),n=f(n,r,i,a,e[8],1873313359,6),a=f(a,n,r,i,e[15],4264355552,10),i=f(i,a,n,r,e[6],2734768916,15),r=f(r,i,a,n,e[13],1309151649,21),n=f(n,r,i,a,e[4],4149444226,6),a=f(a,n,r,i,e[11],3174756917,10),i=f(i,a,n,r,e[2],718787259,15),r=f(r,i,a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+a|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=Buffer.allocUnsafe(16);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer},e.exports=a},79746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},34504:(e,t)=>{"use strict";var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},34155:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,c=[],u=!1,l=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1798:function(e,t,n){e=n.nmd(e),function(n,r){"use strict";var i={};n.PubSub?(i=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=i,function(e){var t={},n=-1,r="*";function i(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e){return function(){throw e}}function a(e,t,n){try{e(t,n)}catch(e){setTimeout(o(e),0)}}function s(e,t,n){e(t,n)}function c(e,n,r,i){var o,c=t[n],u=i?s:a;if(Object.prototype.hasOwnProperty.call(t,n))for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&u(c[o],e,r)}function u(e,t,n){return function(){var i=String(e),o=i.lastIndexOf(".");for(c(e,e,t,n);-1!==o;)o=(i=i.substr(0,o)).lastIndexOf("."),c(e,i,t,n);c(e,r,t,n)}}function l(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&i(t[n]))}function f(e){for(var t=String(e),n=l(t)||l(r),i=t.lastIndexOf(".");!n&&-1!==i;)i=(t=t.substr(0,i)).lastIndexOf("."),n=l(t);return n}function d(e,t,n,r){var i=u(e="symbol"==typeof e?e.toString():e,t,r);return!!f(e)&&(!0===n?i():setTimeout(i,0),!0)}e.publish=function(t,n){return d(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return d(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var i="uid_"+String(++n);return t[e][i]=r,i},e.subscribeAll=function(t){return e.subscribe(r,t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r,i=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(r in t[n])i++;break}return i},e.getSubscriptions=function(e){var n,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,i,o,a=function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1},s="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||a(n)),c=!s&&"string"==typeof n,u="function"==typeof n,l=!1;if(!s){for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(i=t[r],c&&i[n]){delete i[n],l=n;break}if(u)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&i[o]===n&&(delete i[o],l=!0)}return l}e.clearSubscriptions(n)}}(i)),void 0!==e&&e.exports&&(t=e.exports=i),t.PubSub=i,e.exports=t=i}("object"==typeof window&&window||this)},61798:(e,t,n)=>{"use strict";var r=n(34155),i=65536,o=4294967295;var Buffer=n(89509).Buffer,a=n.g.crypto||n.g.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var n=Buffer.allocUnsafe(e);if(e>0)if(e>i)for(var s=0;s<e;s+=i)a.getRandomValues(n.slice(s,s+i));else a.getRandomValues(n);if("function"==typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},72408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=b.prototype;var w=v.prototype=new m;w.constructor=v,y(w,b.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+I(c,0):o,_(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",_(e))for(var u=0;u<e.length;u++){var l=o+I(s=e[u],u);c+=T(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=T(s=s.value,t,i,l=o+I(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},C={transition:null};t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.useDebugValue=function(){},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)}},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},94281:e=>{"use strict";var t={};function n(e,n,r){r||(r=Error);var i=function(e){var t,r;function i(t,r,i){return e.call(this,function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(t,r,i))||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,o,a,s;if("string"==typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var c=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(r(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},56753:(e,t,n)=>{"use strict";var r=n(34155),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(79481),a=n(64229);n(35717)(l,o);for(var s=i(a.prototype),c=0;c<s.length;c++){var u=s[c];l.prototype[u]||(l.prototype[u]=a.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:(e,t,n)=>{"use strict";e.exports=i;var r=n(74605);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(35717)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},79481:(e,t,n)=>{"use strict";var r,i=n(34155);e.exports=k,k.ReadableState=S;n(17187).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(22503),Buffer=n(48764).Buffer,s=n.g.Uint8Array||function(){};var c,u=n(94616);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,f,d,h=n(57327),p=n(61195),y=n(82457).getHighWaterMark,g=n(94281).q,b=g.ERR_INVALID_ARG_TYPE,m=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(35717)(k,a);var _=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function S(e,t,i){r=r||n(56753),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(32553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function k(e){if(r=r||n(56753),!(this instanceof k))return new k(e);var t=this instanceof r;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function A(e,t,n,r,i){c("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,Buffer.isBuffer(r)||r instanceof s||"string"==typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)_(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===Buffer.prototype||(t=function(e){return Buffer.from(e)}(t)),r)a.endEmitted?_(e,new w):O(e,a,t,!0);else if(a.ended)_(e,new m);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?O(e,a,t,!1):x(e,a)):O(e,a,t,!1)}else r||(a.reading=!1,x(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function O(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),x(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=p.destroy,k.prototype._undestroy=p.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=Buffer.from(e,t),t=""),n=!0),A(this,e,t,!1,n)},k.prototype.unshift=function(e){return A(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){l||(l=n(32553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(N,e))}function N(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function x(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function C(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(M,t,e))}function M(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function H(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):T(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){_(this,new v("_read()"))},k.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:g;function s(t,i){c("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",d),f=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}r.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",l);var f=!1;function d(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==H(r.pipes,e))&&!f&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function h(t){c("onerror",t),g(),e.removeListener("error",h),0===o(e,"error")&&_(e,t)}function p(){e.removeListener("finish",y),g()}function y(){c("onfinish"),e.removeListener("close",p),g()}function g(){c("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",y),e.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=H(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},k.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?T(this):r.reading||i.nextTick(B,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(C,this),n},k.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(C,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(45850)),f(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=D,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===d&&(d=n(15167)),d(k,e,t)})},74605:(e,t,n)=>{"use strict";e.exports=l;var r=n(94281).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(56753);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(35717)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},64229:(e,t,n)=>{"use strict";var r,i=n(34155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=k,k.WritableState=S;var a={deprecate:n(94927)},s=n(22503),Buffer=n(48764).Buffer,c=n.g.Uint8Array||function(){};var u,l=n(61195),f=n(82457).getHighWaterMark,d=n(94281).q,h=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function E(){}function S(e,t,a){r=r||n(56753),e=e||{},"boolean"!=typeof a&&(a=t instanceof r),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(N,e,t),e._writableState.errorEmitted=!0,_(e,r)):(o(r),e._writableState.errorEmitted=!0,_(e,r),N(e,t))}(e,n,r,t,o);else{var a=I(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||P(e,n),r?i.nextTick(O,e,n,a,o):O(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function k(e){var t=this instanceof(r=r||n(56753));if(!t&&!u.call(k,this))return new k(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function A(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function P(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,buffer=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var a=0,s=!0;n;)buffer[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;buffer.allBuffers=s,A(e,t,!0,t.length,buffer,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,l=n.callback;if(A(e,t,!1,t.objectMode?1:c.length,c,u,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(35717)(k,s),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===k&&(e&&e._writableState instanceof S)}})):u=function(e){return e instanceof this},k.prototype.pipe=function(){_(this,new g)},k.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,Buffer.isBuffer(r)||r instanceof c);return s&&!Buffer.isBuffer(e)&&(e=function(e){return Buffer.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=E),o.ending?function(e,t){var n=new v;_(e,n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o;return null===n?o=new m:"string"==typeof n||t.objectMode||(o=new h("chunk",["string","Buffer"],n)),!o||(_(e,o),i.nextTick(r,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else A(e,t,!1,s,r,i,o);return c}(this,o,s,e,t,n)),a},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,n){n(new p("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,N(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=l.destroy,k.prototype._undestroy=l.undestroy,k.prototype._destroy=function(e,t){t(e)}},45850:(e,t,n)=>{"use strict";var r,i=n(34155);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(8610),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function y(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[s]=null,e[c]=null,t(p(n,!1)))}}function g(e){i.nextTick(y,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(r={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){i.nextTick((function(){e[u]?n(e[u]):t(p(void 0,!0))}))}));var n,r=this[f];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[d])}return this[f]=n,n}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),b);e.exports=function(e){var t,n=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var r=n[h].read();r?(n[f]=null,n[s]=null,n[c]=null,e(p(r,!1))):(n[s]=e,n[c]=t)},writable:!0}),t));return n[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[c];return null!==t&&(n[f]=null,n[s]=null,n[c]=null,t(e)),void(n[u]=e)}var r=n[s];null!==r&&(n[f]=null,n[s]=null,n[c]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",g.bind(null,n)),n}},57327:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Buffer=n(48764).Buffer,a=n(52361).inspect,s=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return Buffer.alloc(0);for(var t,n,r,i=Buffer.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=i,r=a,Buffer.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=Buffer.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:s,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&o(t.prototype,n),c&&o(t,c),e}()},61195:(e,t,n)=>{"use strict";var r=n(34155);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(a,this,e)):r.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(i,n,e)):r.nextTick(i,n,e):t?(r.nextTick(o,n),t(e)):r.nextTick(o,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,n)=>{"use strict";var r=n(94281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},y=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?y():t.on("request",y)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},15167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},59946:(e,t,n)=>{"use strict";var r;var i=n(94281).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,f=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var d=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(8610)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&d.forEach(c),o||(d.forEach(c),f(l))}))}));return t.reduce(u)}},82457:(e,t,n)=>{"use strict";var r=n(94281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},22503:(e,t,n)=>{e.exports=n(17187).EventEmitter},88473:(e,t,n)=>{(t=e.exports=n(79481)).Stream=t,t.Readable=t,t.Writable=n(64229),t.Duplex=n(56753),t.Transform=n(74605),t.PassThrough=n(82725),t.finished=n(8610),t.pipeline=n(59946)},63694:(e,t,n)=>{var r,Buffer=n(48764).Buffer;e.exports=function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,r){"use strict";var i=e("domexception"),o=e("typeson"),a=e("typeson-registry/dist/presets/structured-cloning-throwing"),s="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:void 0!==n.g?n.g:Function("return this;")();s.DOMException||(s.DOMException=i);var c=(new o).register(a);function u(e){return c.revive(c.encapsulate(e))}t.exports=u},{domexception:5,typeson:8,"typeson-registry/dist/presets/structured-cloning-throwing":7}],2:[function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=e("./legacy-error-codes.json"),s=e("./utils.js");n.implementation=function(){function e(t){var n=r(t,2),i=n[0],a=n[1];o(this,e),this.name=a,this.message=i}return i(e,[{key:"code",get:function(){return a[this.name]||0}}]),e}(),n.init=function(e){if(Error.captureStackTrace){var t=s.wrapperForImpl(e);Error.captureStackTrace(t,t.constructor)}}},{"./legacy-error-codes.json":4,"./utils.js":6}],3:[function(e,t,n){"use strict";var r=e("webidl-conversions"),i=e("./utils.js"),o=i.implSymbol;function a(){for(var e=[],t=0;t<arguments.length&&t<2;++t)e[t]=arguments[t];void 0!==e[0]?e[0]=r.DOMString(e[0],{context:"Failed to construct 'DOMException': parameter 1"}):e[0]="",void 0!==e[1]?e[1]=r.DOMString(e[1],{context:"Failed to construct 'DOMException': parameter 2"}):e[1]="Error",s.setup(this,e)}Object.defineProperty(a,"prototype",{value:a.prototype,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(a.prototype,"name",{get:function(){return this[o].name},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"message",{get:function(){return this[o].message},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"code",{get:function(){return this[o].code},enumerable:!0,configurable:!0}),Object.defineProperty(a,"INDEX_SIZE_ERR",{value:1,enumerable:!0}),Object.defineProperty(a.prototype,"INDEX_SIZE_ERR",{value:1,enumerable:!0}),Object.defineProperty(a,"DOMSTRING_SIZE_ERR",{value:2,enumerable:!0}),Object.defineProperty(a.prototype,"DOMSTRING_SIZE_ERR",{value:2,enumerable:!0}),Object.defineProperty(a,"HIERARCHY_REQUEST_ERR",{value:3,enumerable:!0}),Object.defineProperty(a.prototype,"HIERARCHY_REQUEST_ERR",{value:3,enumerable:!0}),Object.defineProperty(a,"WRONG_DOCUMENT_ERR",{value:4,enumerable:!0}),Object.defineProperty(a.prototype,"WRONG_DOCUMENT_ERR",{value:4,enumerable:!0}),Object.defineProperty(a,"INVALID_CHARACTER_ERR",{value:5,enumerable:!0}),Object.defineProperty(a.prototype,"INVALID_CHARACTER_ERR",{value:5,enumerable:!0}),Object.defineProperty(a,"NO_DATA_ALLOWED_ERR",{value:6,enumerable:!0}),Object.defineProperty(a.prototype,"NO_DATA_ALLOWED_ERR",{value:6,enumerable:!0}),Object.defineProperty(a,"NO_MODIFICATION_ALLOWED_ERR",{value:7,enumerable:!0}),Object.defineProperty(a.prototype,"NO_MODIFICATION_ALLOWED_ERR",{value:7,enumerable:!0}),Object.defineProperty(a,"NOT_FOUND_ERR",{value:8,enumerable:!0}),Object.defineProperty(a.prototype,"NOT_FOUND_ERR",{value:8,enumerable:!0}),Object.defineProperty(a,"NOT_SUPPORTED_ERR",{value:9,enumerable:!0}),Object.defineProperty(a.prototype,"NOT_SUPPORTED_ERR",{value:9,enumerable:!0}),Object.defineProperty(a,"INUSE_ATTRIBUTE_ERR",{value:10,enumerable:!0}),Object.defineProperty(a.prototype,"INUSE_ATTRIBUTE_ERR",{value:10,enumerable:!0}),Object.defineProperty(a,"INVALID_STATE_ERR",{value:11,enumerable:!0}),Object.defineProperty(a.prototype,"INVALID_STATE_ERR",{value:11,enumerable:!0}),Object.defineProperty(a,"SYNTAX_ERR",{value:12,enumerable:!0}),Object.defineProperty(a.prototype,"SYNTAX_ERR",{value:12,enumerable:!0}),Object.defineProperty(a,"INVALID_MODIFICATION_ERR",{value:13,enumerable:!0}),Object.defineProperty(a.prototype,"INVALID_MODIFICATION_ERR",{value:13,enumerable:!0}),Object.defineProperty(a,"NAMESPACE_ERR",{value:14,enumerable:!0}),Object.defineProperty(a.prototype,"NAMESPACE_ERR",{value:14,enumerable:!0}),Object.defineProperty(a,"INVALID_ACCESS_ERR",{value:15,enumerable:!0}),Object.defineProperty(a.prototype,"INVALID_ACCESS_ERR",{value:15,enumerable:!0}),Object.defineProperty(a,"VALIDATION_ERR",{value:16,enumerable:!0}),Object.defineProperty(a.prototype,"VALIDATION_ERR",{value:16,enumerable:!0}),Object.defineProperty(a,"TYPE_MISMATCH_ERR",{value:17,enumerable:!0}),Object.defineProperty(a.prototype,"TYPE_MISMATCH_ERR",{value:17,enumerable:!0}),Object.defineProperty(a,"SECURITY_ERR",{value:18,enumerable:!0}),Object.defineProperty(a.prototype,"SECURITY_ERR",{value:18,enumerable:!0}),Object.defineProperty(a,"NETWORK_ERR",{value:19,enumerable:!0}),Object.defineProperty(a.prototype,"NETWORK_ERR",{value:19,enumerable:!0}),Object.defineProperty(a,"ABORT_ERR",{value:20,enumerable:!0}),Object.defineProperty(a.prototype,"ABORT_ERR",{value:20,enumerable:!0}),Object.defineProperty(a,"URL_MISMATCH_ERR",{value:21,enumerable:!0}),Object.defineProperty(a.prototype,"URL_MISMATCH_ERR",{value:21,enumerable:!0}),Object.defineProperty(a,"QUOTA_EXCEEDED_ERR",{value:22,enumerable:!0}),Object.defineProperty(a.prototype,"QUOTA_EXCEEDED_ERR",{value:22,enumerable:!0}),Object.defineProperty(a,"TIMEOUT_ERR",{value:23,enumerable:!0}),Object.defineProperty(a.prototype,"TIMEOUT_ERR",{value:23,enumerable:!0}),Object.defineProperty(a,"INVALID_NODE_TYPE_ERR",{value:24,enumerable:!0}),Object.defineProperty(a.prototype,"INVALID_NODE_TYPE_ERR",{value:24,enumerable:!0}),Object.defineProperty(a,"DATA_CLONE_ERR",{value:25,enumerable:!0}),Object.defineProperty(a.prototype,"DATA_CLONE_ERR",{value:25,enumerable:!0}),Object.defineProperty(a.prototype,Symbol.toStringTag,{value:"DOMException",writable:!1,enumerable:!1,configurable:!0});var s={mixedInto:[],is:function(e){if(e){if(e[o]instanceof c.implementation)return!0;for(var n=0;n<t.exports.mixedInto.length;++n)if(e instanceof t.exports.mixedInto[n])return!0}return!1},isImpl:function(e){if(e){if(e instanceof c.implementation)return!0;for(var n=i.wrapperForImpl(e),r=0;r<t.exports.mixedInto.length;++r)if(n instanceof t.exports.mixedInto[r])return!0}return!1},convert:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).context,r=void 0===n?"The provided value":n;if(t.exports.is(e))return i.implForWrapper(e);throw new TypeError(r+" is not of type 'DOMException'.")},create:function(e,t){var n=Object.create(a.prototype);return this.setup(n,e,t),n},createImpl:function(e,t){var n=Object.create(a.prototype);return this.setup(n,e,t),i.implForWrapper(n)},_internalSetup:function(e){},setup:function(e,t,n){n||(n={}),n.wrapper=e,this._internalSetup(e),Object.defineProperty(e,o,{value:new c.implementation(t,n),writable:!1,enumerable:!1,configurable:!0}),e[o][i.wrapperSymbol]=e,c.init&&c.init(e[o],n)},interface:a,expose:{Window:{DOMException:a},Worker:{DOMException:a}}};t.exports=s;var c=e(".//DOMException-impl.js")},{".//DOMException-impl.js":2,"./utils.js":6,"webidl-conversions":9}],4:[function(e,t,n){t.exports={IndexSizeError:1,DOMStringSizeError:2,HierarchyRequestError:3,WrongDocumentError:4,InvalidCharacterError:5,NoDataAllowedError:6,NoModificationAllowedError:7,NotFoundError:8,NotSupportedError:9,InUseAttributeError:10,InvalidStateError:11,SyntaxError:12,InvalidModificationError:13,NamespaceError:14,InvalidAccessError:15,ValidationError:16,TypeMismatchError:17,SecurityError:18,NetworkError:19,AbortError:20,URLMismatchError:21,QuotaExceededError:22,TimeoutError:23,InvalidNodeTypeError:24,DataCloneError:25}},{}],5:[function(e,t,n){"use strict";t.exports=e("./DOMException").interface,Object.setPrototypeOf(t.exports.prototype,Error.prototype)},{"./DOMException":3}],6:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e||"function"==typeof e}function o(e){return Object.getPrototypeOf(e)===Buffer.prototype?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength)}function a(e){return Buffer.from(o(e))}function s(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;++r)n[r]in e||Object.defineProperty(e,n[r],Object.getOwnPropertyDescriptor(t,n[r]))}var c=Symbol("wrapper"),u=Symbol("impl"),l=Symbol("SameObject caches");function f(e,t,n){return e[l]||(e[l]=Object.create(null)),t in e[l]||(e[l][t]=n()),e[l][t]}function d(e){return e?e[c]:null}function h(e){return e?e[u]:null}function p(e){var t=d(e);return t||e}function y(e){var t=h(e);return t||e}var g=Symbol("internal"),b=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));t.exports={isObject:i,getReferenceToBytes:o,getCopyToBytes:a,mixin:s,wrapperSymbol:c,implSymbol:u,getSameObject:f,wrapperForImpl:d,implForWrapper:h,tryWrapperForImpl:p,tryImplForWrapper:y,iterInternalSymbol:g,IteratorPrototype:b}},{}],7:[function(e,t,i){"use strict";var o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=void 0,a=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":s(e)})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(u="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":s(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function e(t){l(this,e),this.p=new Promise(t)};v.__typeson__type__="TypesonPromise","undefined"!=typeof Symbol&&(v.prototype[Symbol.toStringTag]="TypesonPromise"),v.prototype.then=function(e,t){var n=this;return new v((function(r,i){n.p.then((function(t){r(e?e(t):t)})).catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))},v.prototype.catch=function(e){return this.then(null,e)},v.resolve=function(e){return new v((function(t){t(e)}))},v.reject=function(e){return new v((function(t,n){n(e)}))},["all","race"].forEach((function(e){v[e]=function(t){return new v((function(n,r){Promise[e](t.map((function(e){return e&&e.constructor&&"TypesonPromise"===e.constructor.__typeson__type__?e.p:e}))).then(n,r)}))}}));var w={}.toString,_={}.hasOwnProperty,E=Object.getPrototypeOf,S=_.toString;function k(e,t){return I(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function A(e){return w.call(e).slice(8,-1)}function O(e,t){if(!e||"object"!==u(e))return!1;var n=E(e);if(!n)return null===t;var r=_.call(n,"constructor")&&n.constructor;return"function"!=typeof r?null===t:t===r||null!==t&&S.call(r)===S.call(t)||"function"==typeof t&&"string"==typeof r.__typeson__type__&&r.__typeson__type__===t.__typeson__type__}function P(e){return!(!e||"Object"!==A(e))&&(!E(e)||O(e,Object))}function I(e){return e&&"object"===u(e)}function T(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function N(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function x(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[N(t.slice(0,n))];return void 0===r?void 0:x(r,t.slice(n+1))}return e[N(t)]}function R(e,t,n){if(""===t)return n;var r=t.indexOf(".");return r>-1?R(e[N(t.slice(0,r))],t.slice(r+1),n):(e[N(t)]=n,e)}function C(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var B=Object.keys,L=Array.isArray,j={}.hasOwnProperty,D=["type","replaced","iterateIn","iterateUnsetNumeric"];function U(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function M(e,t){if(""===e.keypath)return-1;var n=e.keypath.match(/\./g)||0,r=t.keypath.match(/\./g)||0;return n&&(n=n.length),r&&(r=r.length),n>r?-1:n<r?1:e.keypath<t.keypath?-1:e.keypath>t.keypath}var H=function(){function e(t){l(this,e),this.options=t,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"stringify",value:function(e,t,n,r){r=p(p(p({},this.options),r),{},{stringification:!0});var i=this.encapsulate(e,null,r);return L(i)?JSON.stringify(i[0],t,n):i.then((function(e){return JSON.stringify(e,t,n)}))}},{key:"stringifySync",value:function(e,t,n,r){return this.stringify(e,t,n,p(p({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:"stringifyAsync",value:function(e,t,n,r){return this.stringify(e,t,n,p(p({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:"parse",value:function(e,t,n){return n=p(p(p({},this.options),n),{},{parse:!0}),this.revive(JSON.parse(e,t),n)}},{key:"parseSync",value:function(e,t,n){return this.parse(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"parseAsync",value:function(e,t,n){return this.parse(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"specialTypeNames",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)}},{key:"rootTypeName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)}},{key:"encapsulate",value:function(t,n,r){var i=U((function(e,t){return C(Promise.all(t.map((function(e){return e[1].p}))),(function(n){return C(Promise.all(n.map(U((function(n){var r=!1,o=[],a=y(t.splice(0,1),1),s=y(a[0],7),c=s[0],u=s[2],l=s[3],f=s[4],d=s[5],h=s[6],p=_(c,n,u,l,o,!0,h),g=O(p,v);return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}((function(){if(c&&g)return C(p.p,(function(t){return f[d]=t,r=!0,i(e,o)}))}),(function(t){return r?t:(c?f[d]=p:e=g?p.p:p,i(e,o))}))})))),(function(){return e}))}))})),o=(r=p(p({sync:!0},this.options),r)).sync,a=this,s={},c=[],l=[],f=[],d=!("cyclic"in r)||r.cyclic,h=r.encapsulateObserver,b=_("",t,d,n||{},f);function m(t){var n=Object.values(s);if(r.iterateNone)return n.length?n[0]:e.getJSONType(t);if(n.length){if(r.returnTypeNames)return g(new Set(n));t&&P(t)&&!j.call(t,"$types")?t.$types=s:t={$:t,$types:{$:s}}}else I(t)&&j.call(t,"$types")&&(t={$:t,$types:!0});return!r.returnTypeNames&&t}function w(e,t,n){Object.assign(e,t);var r=D.map((function(t){var n=e[t];return delete e[t],n}));n(),D.forEach((function(t,n){e[t]=r[n]}))}function _(t,n,i,o,f,d,p){var y,g={},b=u(n),m=h?function(r){var a=p||o.type||e.getJSONType(n);h(Object.assign(r||g,{keypath:t,value:n,cyclic:i,stateObj:o,promisesData:f,resolvingTypesonPromise:d,awaitingTypesonPromise:O(n,v)},{type:a}))}:null;if(["string","boolean","number","undefined"].includes(b))return void 0===n||Number.isNaN(n)||n===Number.NEGATIVE_INFINITY||n===Number.POSITIVE_INFINITY?(y=o.replaced?n:E(t,n,o,f,!1,d,m))!==n&&(g={replaced:y}):y=n,m&&m(),y;if(null===n)return m&&m(),n;if(i&&!o.iterateIn&&!o.iterateUnsetNumeric&&n&&"object"===u(n)){var S=c.indexOf(n);if(!(S<0))return s[t]="#",m&&m({cyclicKeypath:l[S]}),"#"+l[S];!0===i&&(c.push(n),l.push(t))}var k,A=P(n),I=L(n),N=(A||I)&&(!a.plainObjectReplacers.length||o.replaced)||o.iterateIn?n:E(t,n,o,f,A||I,null,m);if(N!==n?(y=N,g={replaced:N}):""===t&&O(n,v)?(f.push([t,n,i,o,void 0,void 0,o.type]),y=n):I&&"object"!==o.iterateIn||"array"===o.iterateIn?(k=new Array(n.length),g={clone:k}):(["function","symbol"].includes(u(n))||"toJSON"in n||O(n,v)||O(n,Promise)||O(n,ArrayBuffer))&&!A&&"object"!==o.iterateIn?y=n:(k={},o.addLength&&(k.length=n.length),g={clone:k}),m&&m(),r.iterateNone)return k||y;if(!k)return y;if(o.iterateIn){var x=function(e){var r={ownKeys:j.call(n,e)};w(o,r,(function(){var r=t+(t?".":"")+T(e),a=_(r,n[e],Boolean(i),o,f,d);O(a,v)?f.push([r,a,Boolean(i),o,k,e,o.type]):void 0!==a&&(k[e]=a)}))};for(var R in n)x(R);m&&m({endIterateIn:!0,end:!0})}else B(n).forEach((function(e){var r=t+(t?".":"")+T(e);w(o,{ownKeys:!0},(function(){var t=_(r,n[e],Boolean(i),o,f,d);O(t,v)?f.push([r,t,Boolean(i),o,k,e,o.type]):void 0!==t&&(k[e]=t)}))})),m&&m({endIterateOwn:!0,end:!0});if(o.iterateUnsetNumeric){for(var C=n.length,D=function(e){if(!(e in n)){var r=t+(t?".":"")+e;w(o,{ownKeys:!1},(function(){var t=_(r,void 0,Boolean(i),o,f,d);O(t,v)?f.push([r,t,Boolean(i),o,k,e,o.type]):void 0!==t&&(k[e]=t)}))}},U=0;U<C;U++)D(U);m&&m({endIterateUnsetNumeric:!0,end:!0})}return k}function E(e,t,n,r,i,c,u){for(var l=i?a.plainObjectReplacers:a.nonplainObjectReplacers,f=l.length;f--;){var h=l[f];if(h.test(t,n)){var p=h.type;if(a.revivers[p]){var y=s[e];s[e]=y?[p].concat(y):p}return Object.assign(n,{type:p,replaced:!0}),!o&&h.replaceAsync||h.replace?(u&&u({replacing:!0}),_(e,h[o||!h.replaceAsync?"replace":"replaceAsync"](t,n),d&&"readonly",n,r,c,p)):(u&&u({typeDetected:!0}),_(e,t,d&&"readonly",n,r,c,p))}}return t}return f.length?o&&r.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(i(b,f)).then(m):!o&&r.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r.stringification&&o?[m(b)]:o?m(b):Promise.resolve(m(b))}},{key:"encapsulateSync",value:function(e,t,n){return this.encapsulate(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(e,t,n){return this.encapsulate(e,t,p(p({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"revive",value:function(e,t){var n=e&&e.$types;if(!n)return e;if(!0===n)return e.$;var r=(t=p(p({sync:!0},this.options),t)).sync,i=[],o={},a=!0;n.$&&P(n.$)&&(e=e.$,n=n.$,a=!1);var s=this;function c(e,t){var n=y(s.revivers[e]||[],1)[0];if(!n)throw new Error("Unregistered type: "+e);return r&&!("revive"in n)?t:n[r&&n.revive?"revive":!r&&n.reviveAsync?"reviveAsync":"revive"](t,o)}var u=[];function l(e){return O(e,z)?void 0:e}var f,d=function(){var t=[];if(Object.entries(n).forEach((function(e){var r=y(e,2),i=r[0],o=r[1];"#"!==o&&[].concat(o).forEach((function(e){y(s.revivers[e]||[null,{}],2)[1].plain&&(t.push({keypath:i,type:e}),delete n[i])}))})),t.length)return t.sort(M).reduce((function t(n,r){var i=r.keypath,o=r.type;if(k(n))return n.then((function(e){return t(e,{keypath:i,type:o})}));var a=x(e,i);if(O(a=c(o,a),v))return a.then((function(t){var n=R(e,i,t);n===t&&(e=n)}));var s=R(e,i,a);s===a&&(e=s)}),void 0)}();return O(d,v)?f=d.then((function(){return e})):(f=function e(t,r,o,s,l){if(!a||"$types"!==t){var f=n[t],d=L(r);if(d||P(r)){var h=d?new Array(r.length):{};for(B(r).forEach((function(n){var i=e(t+(t?".":"")+T(n),r[n],o||h,h,n),a=function(e){return O(e,z)?h[n]=void 0:void 0!==e&&(h[n]=e),e};O(i,v)?u.push(i.then((function(e){return a(e)}))):a(i)})),r=h;i.length;){var p=y(i[0],4),g=p[0],b=p[1],m=p[2],w=p[3],_=x(g,b);if(void 0===_)break;m[w]=_,i.splice(0,1)}}if(!f)return r;if("#"===f){var E=x(o,r.slice(1));return void 0===E&&i.push([o,r.slice(1),s,l]),E}return[].concat(f).reduce((function e(t,n){return O(t,v)?t.then((function(t){return e(t,n)})):c(n,t)}),r)}}("",e,null),u.length&&(f=v.resolve(f).then((function(e){return v.all([e].concat(u))})).then((function(e){return y(e,1)[0]})))),k(f)?r&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():O(f,v)?f.p.then(l):f:!r&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r?l(f):Promise.resolve(l(f))}},{key:"reviveSync",value:function(e,t){return this.revive(e,p(p({throwOnBadSyncType:!0},t),{},{sync:!0}))}},{key:"reviveAsync",value:function(e,t){return this.revive(e,p(p({throwOnBadSyncType:!0},t),{},{sync:!1}))}},{key:"register",value:function(t,n){return n=n||{},[].concat(t).forEach((function t(r){var i=this;if(L(r))return r.map((function(e){return t.call(i,e)}));r&&B(r).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(e.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var i=r[t],o=i&&i.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,a=o.filter((function(e){return e.type===t}));if(a.length&&(o.splice(o.indexOf(a[0]),1),delete this.revivers[t],delete this.types[t]),"function"==typeof i){var s=i;i={test:function(e){return e&&e.constructor===s},replace:function(e){return p({},e)},revive:function(e){return Object.assign(Object.create(s.prototype),e)}}}else if(L(i)){var c=y(i,3);i={test:c[0],replace:c[1],revive:c[2]}}if(i&&i.test){var u={type:t,test:i.test.bind(i)};i.replace&&(u.replace=i.replace.bind(i)),i.replaceAsync&&(u.replaceAsync=i.replaceAsync.bind(i));var l="number"==typeof n.fallback?n.fallback:n.fallback?0:Number.POSITIVE_INFINITY;if(i.testPlainObjects?this.plainObjectReplacers.splice(l,0,u):this.nonplainObjectReplacers.splice(l,0,u),i.revive||i.reviveAsync){var f={};i.revive&&(f.revive=i.revive.bind(i)),i.reviveAsync&&(f.reviveAsync=i.reviveAsync.bind(i)),this.revivers[t]=[f,{plain:i.testPlainObjects}]}this.types[t]=i}}),this)}),this),this}}]),e}(),z=function e(){l(this,e)};z.__typeson__type__="TypesonUndefined",H.Undefined=z,H.Promise=v,H.isThenable=k,H.toStringTag=A,H.hasConstructorOf=O,H.isObject=I,H.isPlainObject=P,H.isUserObject=function e(t){if(!t||"Object"!==A(t))return!1;var n=E(t);return!n||O(t,Object)||e(n)},H.escapeKeyPathComponent=T,H.unescapeKeyPathComponent=N,H.getByKeyPath=x,H.getJSONType=function(e){return null===e?"null":Array.isArray(e)?"array":u(e)},H.JSON_TYPES=["null","boolean","number","string","array","object"];for(var F={userObject:{test:function(e,t){return H.isUserObject(e)},replace:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)},revive:function(e){return e}}},K=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(e,t){return!!Array.isArray(e)&&(Object.keys(e).some((function(e){return String(Number.parseInt(e))!==e}))&&(t.iterateIn="object",t.addLength=!0),!0)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e},revive:function(e){if(Array.isArray(e))return e;var t=[];return Object.keys(e).forEach((function(n){var r=e[n];t[n]=r})),t}}},{sparseUndefined:{test:function(e,t){return void 0===e&&!1===t.ownKeys},replace:function(e){return 0},revive:function(e){}}}],q={undef:{test:function(e,t){return void 0===e&&(t.ownKeys||!("ownKeys"in t))},replace:function(e){return 0},revive:function(e){return new H.Undefined}}},V={StringObject:{test:function(t){return"String"===H.toStringTag(t)&&"object"===e(t)},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(t){return"Boolean"===H.toStringTag(t)&&"object"===e(t)},replace:function(e){return Boolean(e)},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(t){return"Number"===H.toStringTag(t)&&"object"===e(t)},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},W=[{nan:{test:function(e){return Number.isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return Number.NaN}}},{infinity:{test:function(e){return e===Number.POSITIVE_INFINITY},replace:function(e){return"Infinity"},revive:function(e){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(e){return e===Number.NEGATIVE_INFINITY},replace:function(e){return"-Infinity"},revive:function(e){return Number.NEGATIVE_INFINITY}}}],G={date:{test:function(e){return"Date"===H.toStringTag(e)},replace:function(e){var t=e.getTime();return Number.isNaN(t)?"NaN":t},revive:function(e){return"NaN"===e?new Date(Number.NaN):new Date(e)}}},Y={regexp:{test:function(e){return"RegExp"===H.toStringTag(e)},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var t=e.source,n=e.flags;return new RegExp(t,n)}}},$={map:{test:function(e){return"Map"===H.toStringTag(e)},replace:function(e){return a(e.entries())},revive:function(e){return new Map(e)}}},Z={set:{test:function(e){return"Set"===H.toStringTag(e)},replace:function(e){return a(e.values())},revive:function(e){return new Set(e)}}},X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=new Uint8Array(256),Q=0;Q<X.length;Q++)J[X.charCodeAt(Q)]=Q;var ee=function(e,t,n){null==n&&(n=e.byteLength);for(var r=new Uint8Array(e,t||0,n),i=r.length,o="",a=0;a<i;a+=3)o+=X[r[a]>>2],o+=X[(3&r[a])<<4|r[a+1]>>4],o+=X[(15&r[a+1])<<2|r[a+2]>>6],o+=X[63&r[a+2]];return i%3==2?o=o.slice(0,-1)+"=":i%3==1&&(o=o.slice(0,-2)+"=="),o},te=function(e){var t,n,r,i,o=e.length,a=.75*e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);for(var c=new ArrayBuffer(a),u=new Uint8Array(c),l=0;l<o;l+=4)t=J[e.charCodeAt(l)],n=J[e.charCodeAt(l+1)],r=J[e.charCodeAt(l+2)],i=J[e.charCodeAt(l+3)],u[s++]=t<<2|n>>4,u[s++]=(15&n)<<4|r>>2,u[s++]=(3&r)<<6|63&i;return c},ne={arraybuffer:{test:function(e){return"ArrayBuffer"===H.toStringTag(e)},replace:function(e,t){t.buffers||(t.buffers=[]);var n=t.buffers.indexOf(e);return n>-1?{index:n}:(t.buffers.push(e),ee(e))},revive:function(t,n){if(n.buffers||(n.buffers=[]),"object"===e(t))return n.buffers[t.index];var r=te(t);return n.buffers.push(r),r}}},re="undefined"==typeof self?n.g:self,ie={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,n=re[t];n&&(ie[e.toLowerCase()]={test:function(e){return H.toStringTag(e)===t},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.length;t.buffers||(t.buffers=[]);var o=t.buffers.indexOf(n);return o>-1?{index:o,byteOffset:r,length:i}:(t.buffers.push(n),{encoded:ee(n),byteOffset:r,length:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var r,i=e.byteOffset,o=e.length,a=e.encoded,s=e.index;return"index"in e?r=t.buffers[s]:(r=te(a),t.buffers.push(r)),new n(r,i,o)}})}));var oe={dataview:{test:function(e){return"DataView"===H.toStringTag(e)},replace:function(e,t){var n=e.buffer,r=e.byteOffset,i=e.byteLength;t.buffers||(t.buffers=[]);var o=t.buffers.indexOf(n);return o>-1?{index:o,byteOffset:r,byteLength:i}:(t.buffers.push(n),{encoded:ee(n),byteOffset:r,byteLength:i})},revive:function(e,t){t.buffers||(t.buffers=[]);var n,r=e.byteOffset,i=e.byteLength,o=e.encoded,a=e.index;return"index"in e?n=t.buffers[a]:(n=te(o),t.buffers.push(n)),new DataView(n,r,i)}}},ae={IntlCollator:{test:function(e){return H.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return H.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return H.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}};function se(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}var ce={file:{test:function(e){return"File"===H.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad File access: "+t.status);return{type:e.type,stringContents:t.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var t=e.name,n=e.type,r=e.stringContents,i=e.lastModified;return new File([se(r)],t,{type:n,lastModified:i})},replaceAsync:function(e){return new H.Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result,name:e.name,lastModified:e.lastModified})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsBinaryString(e)}))}}},ue={bigint:{test:function(e){return"bigint"==typeof e},replace:function(e){return String(e)},revive:function(e){return BigInt(e)}}},le={bigintObject:{test:function(t){return"object"===e(t)&&H.hasConstructorOf(t,BigInt)},replace:function(e){return String(e)},revive:function(e){return new Object(BigInt(e))}}},fe={cryptokey:{test:function(e){return"CryptoKey"===H.toStringTag(e)&&e.extractable},replaceAsync:function(e){return new H.Promise((function(t,n){crypto.subtle.exportKey("jwk",e).catch((function(e){n(e)})).then((function(n){t({jwk:n,algorithm:e.algorithm,usages:e.usages})}))}))},revive:function(e){var t=e.jwk,n=e.algorithm,r=e.usages;return crypto.subtle.importKey("jwk",t,n,!0,r)}}};return[F,q,K,V,W,G,Y,{imagedata:{test:function(e){return"ImageData"===H.toStringTag(e)},replace:function(e){return{array:a(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},{imagebitmap:{test:function(e){return"ImageBitmap"===H.toStringTag(e)||e&&e.dataset&&"ImageBitmap"===e.dataset.toStringTag},replace:function(e){var t=document.createElement("canvas");return t.getContext("2d").drawImage(e,0,0),t.toDataURL()},revive:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.addEventListener("load",(function(){n.drawImage(r,0,0)})),r.src=e,t},reviveAsync:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.addEventListener("load",(function(){n.drawImage(r,0,0)})),r.src=e,createImageBitmap(t)}}},ce,{file:ce.file,filelist:{test:function(e){return"FileList"===H.toStringTag(e)},replace:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.item(n);return t},revive:function(e){return new(function(){function e(){t(this,e),this._files=arguments[0],this.length=this._files.length}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"item",value:function(e){return this._files[e]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),e}())(e)}}},{blob:{test:function(e){return"Blob"===H.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return{type:e.type,stringContents:t.responseText}},revive:function(e){var t=e.type,n=e.stringContents;return new Blob([se(n)],{type:t})},replaceAsync:function(e){return new H.Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsBinaryString(e)}))}}}].concat("function"==typeof Map?$:[],"function"==typeof Set?Z:[],"function"==typeof ArrayBuffer?ne:[],"function"==typeof Uint8Array?ie:[],"function"==typeof DataView?oe:[],"undefined"!=typeof Intl?ae:[],"undefined"!=typeof crypto?fe:[],"undefined"!=typeof BigInt?[ue,le]:[]).concat({checkDataCloneException:{test:function(t){var n={}.toString.call(t).slice(8,-1);if(["symbol","function"].includes(e(t))||["Arguments","Module","Error","Promise","WeakMap","WeakSet","Event","MessageChannel"].includes(n)||t&&"object"===e(t)&&"number"==typeof t.nodeType&&"function"==typeof t.insertBefore)throw new DOMException("The object cannot be cloned.","DataCloneError");return!1}}})},"object"==(void 0===i?"undefined":s(i))&&void 0!==t?t.exports=a():"function"==typeof r&&r.amd?r(a):((o="undefined"!=typeof globalThis?globalThis:o||self).Typeson=o.Typeson||{},o.Typeson.presets=o.Typeson.presets||{},o.Typeson.presets.structuredCloningThrowing=a())},{}],8:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return(i="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function e(t){o(this,e),this.p=new Promise(t)};p.__typeson__type__="TypesonPromise","undefined"!=typeof Symbol&&(p.prototype[Symbol.toStringTag]="TypesonPromise"),p.prototype.then=function(e,t){var n=this;return new p((function(r,i){n.p.then((function(t){r(e?e(t):t)})).catch((function(e){return t?t(e):Promise.reject(e)})).then(r,i)}))},p.prototype.catch=function(e){return this.then(null,e)},p.resolve=function(e){return new p((function(t){t(e)}))},p.reject=function(e){return new p((function(t,n){n(e)}))},["all","race","allSettled"].forEach((function(e){p[e]=function(t){return new p((function(n,r){Promise[e](t.map((function(e){return e&&e.constructor&&"TypesonPromise"===e.constructor.__typeson__type__?e.p:e}))).then(n,r)}))}}));var y={}.toString,g={}.hasOwnProperty,b=Object.getPrototypeOf,m=g.toString;function v(e,t){return S(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function w(e){return y.call(e).slice(8,-1)}function _(e,t){if(!e||"object"!==i(e))return!1;var n=b(e);if(!n)return null===t;var r=g.call(n,"constructor")&&n.constructor;return"function"!=typeof r?null===t:t===r||null!==t&&m.call(r)===m.call(t)||"function"==typeof t&&"string"==typeof r.__typeson__type__&&r.__typeson__type__===t.__typeson__type__}function E(e){return!(!e||"Object"!==w(e))&&(!b(e)||_(e,Object))}function S(e){return e&&"object"===i(e)}function k(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function A(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function O(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[A(t.slice(0,n))];return void 0===r?void 0:O(r,t.slice(n+1))}return e[A(t)]}function P(e,t,n){if(""===t)return n;var r=t.indexOf(".");return r>-1?P(e[A(t.slice(0,r))],t.slice(r+1),n):(e[A(t)]=n,e)}function I(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var T=Object.keys,N=Array.isArray,x={}.hasOwnProperty,R=["type","replaced","iterateIn","iterateUnsetNumeric"];function C(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function B(e,t){if(""===e.keypath)return-1;var n=e.keypath.match(/\./g)||0,r=t.keypath.match(/\./g)||0;return n&&(n=n.length),r&&(r=r.length),n>r?-1:n<r?1:e.keypath<t.keypath?-1:e.keypath>t.keypath}var L=function(){function e(t){o(this,e),this.options=t,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"stringify",value:function(e,t,n,r){r=u(u(u({},this.options),r),{},{stringification:!0});var i=this.encapsulate(e,null,r);return N(i)?JSON.stringify(i[0],t,n):i.then((function(e){return JSON.stringify(e,t,n)}))}},{key:"stringifySync",value:function(e,t,n,r){return this.stringify(e,t,n,u(u({throwOnBadSyncType:!0},r),{},{sync:!0}))}},{key:"stringifyAsync",value:function(e,t,n,r){return this.stringify(e,t,n,u(u({throwOnBadSyncType:!0},r),{},{sync:!1}))}},{key:"parse",value:function(e,t,n){return n=u(u(u({},this.options),n),{},{parse:!0}),this.revive(JSON.parse(e,t),n)}},{key:"parseSync",value:function(e,t,n){return this.parse(e,t,u(u({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"parseAsync",value:function(e,t,n){return this.parse(e,t,u(u({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"specialTypeNames",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)}},{key:"rootTypeName",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)}},{key:"encapsulate",value:function(t,n,r){var o=C((function(e,t){return I(Promise.all(t.map((function(e){return e[1].p}))),(function(n){return I(Promise.all(n.map(C((function(n){var r=!1,i=[],a=l(t.splice(0,1),1),s=l(a[0],7),c=s[0],u=s[2],f=s[3],d=s[4],h=s[5],y=s[6],g=A(c,n,u,f,i,!0,y),b=_(g,p);return function(e,t){var n=e();return n&&n.then?n.then(t):t(n)}((function(){if(c&&b)return I(g.p,(function(t){return d[h]=t,r=!0,o(e,i)}))}),(function(t){return r?t:(c?d[h]=g:e=b?g.p:g,o(e,i))}))})))),(function(){return e}))}))})),a=(r=u(u({sync:!0},this.options),r)).sync,s=this,c={},d=[],h=[],y=[],g=!("cyclic"in r)||r.cyclic,b=r.encapsulateObserver,m=A("",t,g,n||{},y);function v(t){var n=Object.values(c);if(r.iterateNone)return n.length?n[0]:e.getJSONType(t);if(n.length){if(r.returnTypeNames)return f(new Set(n));t&&E(t)&&!x.call(t,"$types")?t.$types=c:t={$:t,$types:{$:c}}}else S(t)&&x.call(t,"$types")&&(t={$:t,$types:!0});return!r.returnTypeNames&&t}function w(e,t,n){Object.assign(e,t);var r=R.map((function(t){var n=e[t];return delete e[t],n}));n(),R.forEach((function(t,n){e[t]=r[n]}))}function A(t,n,o,a,u,l,f){var y,g={},m=i(n),v=b?function(r){var i=f||a.type||e.getJSONType(n);b(Object.assign(r||g,{keypath:t,value:n,cyclic:o,stateObj:a,promisesData:u,resolvingTypesonPromise:l,awaitingTypesonPromise:_(n,p)},{type:i}))}:null;if(["string","boolean","number","undefined"].includes(m))return void 0===n||Number.isNaN(n)||n===Number.NEGATIVE_INFINITY||n===Number.POSITIVE_INFINITY?(y=a.replaced?n:O(t,n,a,u,!1,l,v))!==n&&(g={replaced:y}):y=n,v&&v(),y;if(null===n)return v&&v(),n;if(o&&!a.iterateIn&&!a.iterateUnsetNumeric&&n&&"object"===i(n)){var S=d.indexOf(n);if(!(S<0))return c[t]="#",v&&v({cyclicKeypath:h[S]}),"#"+h[S];!0===o&&(d.push(n),h.push(t))}var P,I=E(n),R=N(n),C=(I||R)&&(!s.plainObjectReplacers.length||a.replaced)||a.iterateIn?n:O(t,n,a,u,I||R,null,v);if(C!==n?(y=C,g={replaced:C}):""===t&&_(n,p)?(u.push([t,n,o,a,void 0,void 0,a.type]),y=n):R&&"object"!==a.iterateIn||"array"===a.iterateIn?(P=new Array(n.length),g={clone:P}):(["function","symbol"].includes(i(n))||"toJSON"in n||_(n,p)||_(n,Promise)||_(n,ArrayBuffer))&&!I&&"object"!==a.iterateIn?y=n:(P={},a.addLength&&(P.length=n.length),g={clone:P}),v&&v(),r.iterateNone)return P||y;if(!P)return y;if(a.iterateIn){var B=function(e){var r={ownKeys:x.call(n,e)};w(a,r,(function(){var r=t+(t?".":"")+k(e),i=A(r,n[e],Boolean(o),a,u,l);_(i,p)?u.push([r,i,Boolean(o),a,P,e,a.type]):void 0!==i&&(P[e]=i)}))};for(var L in n)B(L);v&&v({endIterateIn:!0,end:!0})}else T(n).forEach((function(e){var r=t+(t?".":"")+k(e);w(a,{ownKeys:!0},(function(){var t=A(r,n[e],Boolean(o),a,u,l);_(t,p)?u.push([r,t,Boolean(o),a,P,e,a.type]):void 0!==t&&(P[e]=t)}))})),v&&v({endIterateOwn:!0,end:!0});if(a.iterateUnsetNumeric){for(var j=n.length,D=function(e){if(!(e in n)){var r=t+(t?".":"")+e;w(a,{ownKeys:!1},(function(){var t=A(r,void 0,Boolean(o),a,u,l);_(t,p)?u.push([r,t,Boolean(o),a,P,e,a.type]):void 0!==t&&(P[e]=t)}))}},U=0;U<j;U++)D(U);v&&v({endIterateUnsetNumeric:!0,end:!0})}return P}function O(e,t,n,r,i,o,u){for(var l=i?s.plainObjectReplacers:s.nonplainObjectReplacers,f=l.length;f--;){var d=l[f];if(d.test(t,n)){var h=d.type;if(s.revivers[h]){var p=c[e];c[e]=p?[h].concat(p):h}return Object.assign(n,{type:h,replaced:!0}),!a&&d.replaceAsync||d.replace?(u&&u({replacing:!0}),A(e,d[a||!d.replaceAsync?"replace":"replaceAsync"](t,n),g&&"readonly",n,r,o,h)):(u&&u({typeDetected:!0}),A(e,t,g&&"readonly",n,r,o,h))}}return t}return y.length?a&&r.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(o(m,y)).then(v):!a&&r.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r.stringification&&a?[v(m)]:a?v(m):Promise.resolve(v(m))}},{key:"encapsulateSync",value:function(e,t,n){return this.encapsulate(e,t,u(u({throwOnBadSyncType:!0},n),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(e,t,n){return this.encapsulate(e,t,u(u({throwOnBadSyncType:!0},n),{},{sync:!1}))}},{key:"revive",value:function(e,t){var n=e&&e.$types;if(!n)return e;if(!0===n)return e.$;var r=(t=u(u({sync:!0},this.options),t)).sync,i=[],o={},a=!0;n.$&&E(n.$)&&(e=e.$,n=n.$,a=!1);var s=this;function c(e,t){var n=l(s.revivers[e]||[],1)[0];if(!n)throw new Error("Unregistered type: "+e);return r&&!("revive"in n)?t:n[r&&n.revive?"revive":!r&&n.reviveAsync?"reviveAsync":"revive"](t,o)}var f=[];function d(e){return _(e,j)?void 0:e}var h,y=function(){var t=[];if(Object.entries(n).forEach((function(e){var r=l(e,2),i=r[0],o=r[1];"#"!==o&&[].concat(o).forEach((function(e){l(s.revivers[e]||[null,{}],2)[1].plain&&(t.push({keypath:i,type:e}),delete n[i])}))})),t.length)return t.sort(B).reduce((function t(n,r){var i=r.keypath,o=r.type;if(v(n))return n.then((function(e){return t(e,{keypath:i,type:o})}));var a=O(e,i);if(_(a=c(o,a),p))return a.then((function(t){var n=P(e,i,t);n===t&&(e=n)}));var s=P(e,i,a);s===a&&(e=s)}),void 0)}();return _(y,p)?h=y.then((function(){return e})):(h=function e(t,r,o,s,u){if(!a||"$types"!==t){var d=n[t],h=N(r);if(h||E(r)){var y=h?new Array(r.length):{};for(T(r).forEach((function(n){var i=e(t+(t?".":"")+k(n),r[n],o||y,y,n),a=function(e){return _(e,j)?y[n]=void 0:void 0!==e&&(y[n]=e),e};_(i,p)?f.push(i.then((function(e){return a(e)}))):a(i)})),r=y;i.length;){var g=l(i[0],4),b=g[0],m=g[1],v=g[2],w=g[3],S=O(b,m);if(void 0===S)break;v[w]=S,i.splice(0,1)}}if(!d)return r;if("#"===d){var A=O(o,r.slice(1));return void 0===A&&i.push([o,r.slice(1),s,u]),A}return[].concat(d).reduce((function e(t,n){return _(t,p)?t.then((function(t){return e(t,n)})):c(n,t)}),r)}}("",e,null),f.length&&(h=p.resolve(h).then((function(e){return p.all([e].concat(f))})).then((function(e){return l(e,1)[0]})))),v(h)?r&&t.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():_(h,p)?h.p.then(d):h:!r&&t.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():r?d(h):Promise.resolve(d(h))}},{key:"reviveSync",value:function(e,t){return this.revive(e,u(u({throwOnBadSyncType:!0},t),{},{sync:!0}))}},{key:"reviveAsync",value:function(e,t){return this.revive(e,u(u({throwOnBadSyncType:!0},t),{},{sync:!1}))}},{key:"register",value:function(t,n){return n=n||{},[].concat(t).forEach((function t(r){var i=this;if(N(r))return r.map((function(e){return t.call(i,e)}));r&&T(r).forEach((function(t){if("#"===t)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(e.JSON_TYPES.includes(t))throw new TypeError("Plain JSON object types are reserved as type names");var i=r[t],o=i&&i.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,a=o.filter((function(e){return e.type===t}));if(a.length&&(o.splice(o.indexOf(a[0]),1),delete this.revivers[t],delete this.types[t]),"function"==typeof i){var s=i;i={test:function(e){return e&&e.constructor===s},replace:function(e){return u({},e)},revive:function(e){return Object.assign(Object.create(s.prototype),e)}}}else if(N(i)){var c=l(i,3);i={test:c[0],replace:c[1],revive:c[2]}}if(i&&i.test){var f={type:t,test:i.test.bind(i)};i.replace&&(f.replace=i.replace.bind(i)),i.replaceAsync&&(f.replaceAsync=i.replaceAsync.bind(i));var d="number"==typeof n.fallback?n.fallback:n.fallback?0:Number.POSITIVE_INFINITY;if(i.testPlainObjects?this.plainObjectReplacers.splice(d,0,f):this.nonplainObjectReplacers.splice(d,0,f),i.revive||i.reviveAsync){var h={};i.revive&&(h.revive=i.revive.bind(i)),i.reviveAsync&&(h.reviveAsync=i.reviveAsync.bind(i)),this.revivers[t]=[h,{plain:i.testPlainObjects}]}this.types[t]=i}}),this)}),this),this}}]),e}(),j=function e(){o(this,e)};j.__typeson__type__="TypesonUndefined",L.Undefined=j,L.Promise=p,L.isThenable=v,L.toStringTag=w,L.hasConstructorOf=_,L.isObject=S,L.isPlainObject=E,L.isUserObject=function e(t){if(!t||"Object"!==w(t))return!1;var n=b(t);return!n||_(t,Object)||e(n)},L.escapeKeyPathComponent=k,L.unescapeKeyPathComponent=A,L.getByKeyPath=O,L.getJSONType=function(e){return null===e?"null":Array.isArray(e)?"array":i(e)},L.JSON_TYPES=["null","boolean","number","string","array","object"],t.exports=L},{}],9:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){return(t&&t.context?t.context:"Value")+" "+e+"."}function o(e){if(null===e)return"Null";switch(void 0===e?"undefined":r(e)){case"undefined":return"Undefined";case"boolean":return"Boolean";case"number":return"Number";case"string":return"String";case"symbol":return"Symbol";default:return"Object"}}function a(e){return l(e>0&&e%1==.5&&0==(1&e)||e<0&&e%1==-.5&&1==(1&e)?Math.floor(e):Math.round(e))}function s(e){return l(Math.trunc(e))}function c(e){return e<0?-1:1}function u(e,t){var n=e%t;return c(t)!==c(n)?n+t:n}function l(e){return 0===e?0:e}function f(e,t){var n=!t.unsigned,r=void 0,o=void 0;64===e?(o=Math.pow(2,53)-1,r=n?1-Math.pow(2,53):0):n?(r=-Math.pow(2,e-1),o=Math.pow(2,e-1)-1):(r=0,o=Math.pow(2,e)-1);var c=Math.pow(2,e),f=Math.pow(2,e-1);return function(e,t){void 0===t&&(t={});var d=+e;if(d=l(d),t.enforceRange){if(!Number.isFinite(d))throw new TypeError(i("is not a finite number",t));if((d=s(d))<r||d>o)throw new TypeError(i("is outside the accepted range of "+r+" to "+o+", inclusive",t));return d}return!Number.isNaN(d)&&t.clamp?d=a(d=Math.min(Math.max(d,r),o)):Number.isFinite(d)&&0!==d?(d=s(d))>=r&&d<=o?d:(d=u(d,c),n&&d>=f?d-c:d):0}}function d(e,t){if("function"!=typeof e)throw new TypeError(i("is not a function",t));return e}n.any=function(e){return e},n.void=function(){},n.boolean=function(e){return!!e},n.byte=f(8,{unsigned:!1}),n.octet=f(8,{unsigned:!0}),n.short=f(16,{unsigned:!1}),n["unsigned short"]=f(16,{unsigned:!0}),n.long=f(32,{unsigned:!1}),n["unsigned long"]=f(32,{unsigned:!0}),n["long long"]=f(64,{unsigned:!1}),n["unsigned long long"]=f(64,{unsigned:!0}),n.double=function(e,t){var n=+e;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",t));return n},n["unrestricted double"]=function(e){return+e},n.float=function(e,t){var n=+e;if(!Number.isFinite(n))throw new TypeError(i("is not a finite floating-point value",t));if(Object.is(n,-0))return n;var r=Math.fround(n);if(!Number.isFinite(r))throw new TypeError(i("is outside the range of a single-precision floating-point value",t));return r},n["unrestricted float"]=function(e){var t=+e;return isNaN(t)||Object.is(t,-0)?t:Math.fround(t)},n.DOMString=function(e,t){if(void 0===t&&(t={}),t.treatNullAsEmptyString&&null===e)return"";if("symbol"===(void 0===e?"undefined":r(e)))throw new TypeError(i("is a symbol, which cannot be converted to a string",t));return String(e)},n.ByteString=function(e,t){for(var r=n.DOMString(e,t),o=void 0,a=0;void 0!==(o=r.codePointAt(a));++a)if(o>255)throw new TypeError(i("is not a valid ByteString",t));return r},n.USVString=function(e,t){for(var r=n.DOMString(e,t),i=r.length,o=[],a=0;a<i;++a){var s=r.charCodeAt(a);if(s<55296||s>57343)o.push(String.fromCodePoint(s));else if(56320<=s&&s<=57343)o.push(String.fromCodePoint(65533));else if(a===i-1)o.push(String.fromCodePoint(65533));else{var c=r.charCodeAt(a+1);if(56320<=c&&c<=57343){var u=1023&s,l=1023&c;o.push(String.fromCodePoint(65536+1024*u+l)),++a}else o.push(String.fromCodePoint(65533))}}return o.join("")},n.object=function(e,t){if("Object"!==o(e))throw new TypeError(i("is not an object",t));return e},[Error,ArrayBuffer,DataView,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach((function(e){var t=e.name,r=/^[AEIOU]/.test(t)?"an":"a";n[t]=function(n,o){if(!(n instanceof e))throw new TypeError(i("is not "+r+" "+t+" object",o));return n}})),n.ArrayBufferView=function(e,t){if(!ArrayBuffer.isView(e))throw new TypeError(i("is not a view on an ArrayBuffer object",t));return e},n.BufferSource=function(e,t){if(!(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))throw new TypeError(i("is not an ArrayBuffer object or a view on one",t));return e},n.DOMTimeStamp=n["unsigned long long"],n.Function=d,n.VoidFunction=d},{}]},{},[1])(1)},79785:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer,r=n(35717),i=n(3349),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function h(e,t){return e<<t|e>>>32-t}function p(e,t,n,r,i,o,a,s){return h(e+(t^n^r)+o+a|0,s)+i|0}function y(e,t,n,r,i,o,a,s){return h(e+(t&n|~t&r)+o+a|0,s)+i|0}function g(e,t,n,r,i,o,a,s){return h(e+((t|~n)^r)+o+a|0,s)+i|0}function b(e,t,n,r,i,o,a,s){return h(e+(t&r|n&~r)+o+a|0,s)+i|0}function m(e,t,n,r,i,o,a,s){return h(e+(t^(n|~r))+o+a|0,s)+i|0}r(d,i),d.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,d=0|this._d,v=0|this._e,w=0|this._a,_=0|this._b,E=0|this._c,S=0|this._d,k=0|this._e,A=0;A<80;A+=1){var O,P;A<16?(O=p(n,r,i,d,v,e[a[A]],l[0],c[A]),P=m(w,_,E,S,k,e[s[A]],f[0],u[A])):A<32?(O=y(n,r,i,d,v,e[a[A]],l[1],c[A]),P=b(w,_,E,S,k,e[s[A]],f[1],u[A])):A<48?(O=g(n,r,i,d,v,e[a[A]],l[2],c[A]),P=g(w,_,E,S,k,e[s[A]],f[2],u[A])):A<64?(O=b(n,r,i,d,v,e[a[A]],l[3],c[A]),P=y(w,_,E,S,k,e[s[A]],f[3],u[A])):(O=m(n,r,i,d,v,e[a[A]],l[4],c[A]),P=p(w,_,E,S,k,e[s[A]],f[4],u[A])),n=v,v=d,d=h(i,10),i=r,r=O,w=k,k=S,S=h(E,10),E=_,_=P}var I=this._b+i+S|0;this._b=this._c+d+k|0,this._c=this._d+v+w|0,this._d=this._e+n+_|0,this._e=this._a+r+E|0,this._a=I},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=Buffer.alloc?Buffer.alloc(20):new Buffer(20);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer.writeInt32LE(this._e,16),buffer},e.exports=d},89509:(e,t,n)=>{var buffer=n(48764),Buffer=buffer.Buffer;function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return Buffer(e,t,n)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?e.exports=buffer:(r(buffer,t),t.Buffer=i),i.prototype=Object.create(Buffer.prototype),r(Buffer,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return Buffer(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=Buffer(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Buffer(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(e)}},17221:(e,t,n)=>{e.exports=n(59119)(n(58573))},58573:(e,t,n)=>{const r=new(0,n(86266).ec)("secp256k1"),i=r.curve,o=i.n.constructor;function a(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let n=new o(t);if(n.cmp(i.p)>=0)return null;n=n.toRed(i.red);let a=n.redSqr().redIMul(n).redIAdd(i.b).redSqrt();return 3===e!==a.isOdd()&&(a=a.redNeg()),r.keyPair({pub:{x:n,y:a}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,n){let a=new o(t),s=new o(n);if(a.cmp(i.p)>=0||s.cmp(i.p)>=0)return null;if(a=a.toRed(i.red),s=s.toRed(i.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;const c=a.redSqr().redIMul(a);return s.redSqr().redISub(c.redIAdd(i.b)).isZero()?r.keyPair({pub:{x:a,y:s}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,t){const n=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=n[t]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new o(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new o(e),n=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakAdd(e,t){const n=new o(t);if(n.cmp(i.n)>=0)return 1;if(n.iadd(new o(e)),n.cmp(i.n)>=0&&n.isub(i.n),n.isZero())return 1;const r=n.toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakMul(e,t){let n=new o(t);if(n.cmp(i.n)>=0||n.isZero())return 1;n.imul(new o(e)),n.cmp(i.n)>=0&&(n=n.umod(i.n));const r=n.toArrayLike(Uint8Array,"be",32);return e.set(r),0},publicKeyVerify:e=>null===a(e)?1:0,publicKeyCreate(e,t){const n=new o(t);if(n.cmp(i.n)>=0||n.isZero())return 1;return s(e,r.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const n=a(t);if(null===n)return 1;return s(e,n.getPublic()),0},publicKeyNegate(e,t){const n=a(t);if(null===n)return 1;const r=n.getPublic();return r.y=r.y.redNeg(),s(e,r),0},publicKeyCombine(e,t){const n=new Array(t.length);for(let e=0;e<t.length;++e)if(n[e]=a(t[e]),null===n[e])return 1;let r=n[0].getPublic();for(let e=1;e<n.length;++e)r=r.add(n[e].pub);return r.isInfinity()?2:(s(e,r),0)},publicKeyTweakAdd(e,t,n){const r=a(t);if(null===r)return 1;if((n=new o(n)).cmp(i.n)>=0)return 2;const c=r.getPublic().add(i.g.mul(n));return c.isInfinity()?2:(s(e,c),0)},publicKeyTweakMul(e,t,n){const r=a(t);if(null===r)return 1;if((n=new o(n)).cmp(i.n)>=0||n.isZero())return 2;return s(e,r.getPublic().mul(n)),0},signatureNormalize(e){const t=new o(e.subarray(0,32)),n=new o(e.subarray(32,64));return t.cmp(i.n)>=0||n.cmp(i.n)>=0?1:(1===n.cmp(r.nh)&&e.set(i.n.sub(n).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const n=t.subarray(0,32),r=t.subarray(32,64);if(new o(n).cmp(i.n)>=0)return 1;if(new o(r).cmp(i.n)>=0)return 1;const{output:a}=e;let s=a.subarray(4,37);s[0]=0,s.set(n,1);let c=33,u=0;for(;c>1&&0===s[u]&&!(128&s[u+1]);--c,++u);if(s=s.subarray(u),128&s[0])return 1;if(c>1&&0===s[0]&&!(128&s[1]))return 1;let l=a.subarray(39,72);l[0]=0,l.set(r,1);let f=33,d=0;for(;f>1&&0===l[d]&&!(128&l[d+1]);--f,++d);return l=l.subarray(d),128&l[0]||f>1&&0===l[0]&&!(128&l[1])?1:(e.outputlen=6+c+f,a[0]=48,a[1]=e.outputlen-2,a[2]=2,a[3]=s.length,a.set(s,4),a[4+c]=2,a[5+c]=l.length,a.set(l,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const n=t[3];if(0===n)return 1;if(5+n>=t.length)return 1;if(2!==t[4+n])return 1;const r=t[5+n];if(0===r)return 1;if(6+n+r!==t.length)return 1;if(128&t[4])return 1;if(n>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[n+6])return 1;if(r>1&&0===t[n+6]&&!(128&t[n+7]))return 1;let a=t.subarray(4,4+n);if(33===a.length&&0===a[0]&&(a=a.subarray(1)),a.length>32)return 1;let s=t.subarray(6+n);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let c=new o(a);c.cmp(i.n)>=0&&(c=new o(0));let u=new o(t.subarray(6+n));return u.cmp(i.n)>=0&&(u=new o(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,n,a,s){if(s){const e=s;s=r=>{const i=e(t,n,null,a,r);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new o(i)}}const c=new o(n);if(c.cmp(i.n)>=0||c.isZero())return 1;let u;try{u=r.sign(t,n,{canonical:!0,k:s,pers:a})}catch(e){return 1}return e.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),e.recid=u.recoveryParam,0},ecdsaVerify(e,t,n){const s={r:e.subarray(0,32),s:e.subarray(32,64)},c=new o(s.r),u=new o(s.s);if(c.cmp(i.n)>=0||u.cmp(i.n)>=0)return 1;if(1===u.cmp(r.nh)||c.isZero()||u.isZero())return 3;const l=a(n);if(null===l)return 2;const f=l.getPublic();return r.verify(t,s,f)?0:3},ecdsaRecover(e,t,n,a){const c={r:t.slice(0,32),s:t.slice(32,64)},u=new o(c.r),l=new o(c.s);if(u.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(u.isZero()||l.isZero())return 2;let f;try{f=r.recoverPubKey(a,c,n)}catch(e){return 2}return s(e,f),0},ecdh(e,t,n,s,c,u,l){const f=a(t);if(null===f)return 1;const d=new o(n);if(d.cmp(i.n)>=0||d.isZero())return 2;const h=f.getPublic().mul(d);if(void 0===c){const t=h.encode(null,!0),n=r.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=n[t]}else{u||(u=new Uint8Array(32));const t=h.getX().toArray("be",32);for(let e=0;e<32;++e)u[e]=t[e];l||(l=new Uint8Array(32));const n=h.getY().toArray("be",32);for(let e=0;e<32;++e)l[e]=n[e];const r=c(u,l,s);if(!(r instanceof Uint8Array&&r.length===e.length))return 2;e.set(r)}return 0}}},59119:e=>{const t="Impossible case. Please create issue.",n="The tweak was out of range or the resulted private key is invalid",r="The tweak was out of range or equal to zero",i="Unknow error on context randomization",o="Private Key is invalid",a="Public Key could not be parsed",s="Public Key serialization error",c="The sum of the public keys is not valid",u="Signature could not be parsed",l="The nonce generation function failed, or the private key was invalid",f="Public key could not be recover",d="Scalar was invalid (zero or overflow)";function h(e,t){if(!e)throw new Error(t)}function p(e,t,n){if(h(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==n)if(Array.isArray(n)){const r=`Expected ${e} to be an Uint8Array with length [${n.join(", ")}]`;h(n.includes(t.length),r)}else{const r=`Expected ${e} to be an Uint8Array with length ${n}`;h(t.length===n,r)}}function y(e){h("Boolean"===b(e),"Expected compressed to be a Boolean")}function g(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),p("output",e,t),e}function b(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(h(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&p("seed",t,32),1===e.contextRandomize(t))throw new Error(i)},privateKeyVerify:t=>(p("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(n){switch(p("private key",n,32),e.privateKeyNegate(n)){case 0:return n;case 1:throw new Error(t)}},privateKeyTweakAdd(t,r){switch(p("private key",t,32),p("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(n)}},privateKeyTweakMul(t,n){switch(p("private key",t,32),p("tweak",n,32),e.privateKeyTweakMul(t,n)){case 0:return t;case 1:throw new Error(r)}},publicKeyVerify:t=>(p("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,n=!0,r){switch(p("private key",t,32),y(n),r=g(r,n?33:65),e.publicKeyCreate(r,t)){case 0:return r;case 1:throw new Error(o);case 2:throw new Error(s)}},publicKeyConvert(t,n=!0,r){switch(p("public key",t,[33,65]),y(n),r=g(r,n?33:65),e.publicKeyConvert(r,t)){case 0:return r;case 1:throw new Error(a);case 2:throw new Error(s)}},publicKeyNegate(n,r=!0,i){switch(p("public key",n,[33,65]),y(r),i=g(i,r?33:65),e.publicKeyNegate(i,n)){case 0:return i;case 1:throw new Error(a);case 2:throw new Error(t);case 3:throw new Error(s)}},publicKeyCombine(t,n=!0,r){h(Array.isArray(t),"Expected public keys to be an Array"),h(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)p("public key",e,[33,65]);switch(y(n),r=g(r,n?33:65),e.publicKeyCombine(r,t)){case 0:return r;case 1:throw new Error(a);case 2:throw new Error(c);case 3:throw new Error(s)}},publicKeyTweakAdd(t,r,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",r,32),y(i),o=g(o,i?33:65),e.publicKeyTweakAdd(o,t,r)){case 0:return o;case 1:throw new Error(a);case 2:throw new Error(n)}},publicKeyTweakMul(t,n,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",n,32),y(i),o=g(o,i?33:65),e.publicKeyTweakMul(o,t,n)){case 0:return o;case 1:throw new Error(a);case 2:throw new Error(r)}},signatureNormalize(t){switch(p("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(u)}},signatureExport(n,r){p("signature",n,64);const i={output:r=g(r,72),outputlen:72};switch(e.signatureExport(i,n)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(u);case 2:throw new Error(t)}},signatureImport(n,r){switch(p("signature",n),r=g(r,64),e.signatureImport(r,n)){case 0:return r;case 1:throw new Error(u);case 2:throw new Error(t)}},ecdsaSign(n,r,i={},o){p("message",n,32),p("private key",r,32),h("Object"===b(i),"Expected options to be an Object"),void 0!==i.data&&p("options.data",i.data),void 0!==i.noncefn&&h("Function"===b(i.noncefn),"Expected options.noncefn to be a Function");const a={signature:o=g(o,64),recid:null};switch(e.ecdsaSign(a,n,r,i.data,i.noncefn)){case 0:return a;case 1:throw new Error(l);case 2:throw new Error(t)}},ecdsaVerify(t,n,r){switch(p("signature",t,64),p("message",n,32),p("public key",r,[33,65]),e.ecdsaVerify(t,n,r)){case 0:return!0;case 3:return!1;case 1:throw new Error(u);case 2:throw new Error(a)}},ecdsaRecover(n,r,i,o=!0,a){switch(p("signature",n,64),h("Number"===b(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),p("message",i,32),y(o),a=g(a,o?33:65),e.ecdsaRecover(a,n,r,i)){case 0:return a;case 1:throw new Error(u);case 2:throw new Error(f);case 3:throw new Error(t)}},ecdh(t,n,r={},i){switch(p("public key",t,[33,65]),p("private key",n,32),h("Object"===b(r),"Expected options to be an Object"),void 0!==r.data&&p("options.data",r.data),void 0!==r.hashfn?(h("Function"===b(r.hashfn),"Expected options.hashfn to be a Function"),void 0!==r.xbuf&&p("options.xbuf",r.xbuf,32),void 0!==r.ybuf&&p("options.ybuf",r.ybuf,32),p("output",i)):i=g(i,32),e.ecdh(i,t,n,r.data,r.hashfn,r.xbuf,r.ybuf)){case 0:return i;case 1:throw new Error(a);case 2:throw new Error(d)}}})},24189:(e,t,n)=>{var Buffer=n(89509).Buffer;function r(e,t){this._block=Buffer.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=Buffer.from(e,t));for(var n=this._block,r=this._blockSize,i=e.length,o=this._len,a=0;a<i;){for(var s=o%r,c=Math.min(i-a,r-s),u=0;u<c;u++)n[s+u]=e[a+u];a+=c,(o+=c)%r==0&&this._update(n)}return this._len+=i,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},89072:(e,t,n)=>{var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(74448),r.sha1=n(18336),r.sha224=n(48432),r.sha256=n(67499),r.sha384=n(51686),r.sha512=n(87816)},74448:(e,t,n)=>{var r=n(35717),i=n(24189),Buffer=n(89509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function u(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(s,i),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,l=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=r)<<5|t>>>27)+u(h,i,a,s)+l+n[d]+o[h];l=s,s=a,a=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},s.prototype._hash=function(){var e=Buffer.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=s},18336:(e,t,n)=>{var r=n(35717),i=n(24189),Buffer=n(89509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(s,i),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,f=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=(t=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),y=c(r)+l(p,i,a,s)+f+n[h]+o[p]|0;f=s,s=a,a=u(i),i=r,r=y}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=f+this._e|0},s.prototype._hash=function(){var e=Buffer.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=s},48432:(e,t,n)=>{var r=n(35717),i=n(67499),o=n(24189),Buffer=n(89509).Buffer,a=new Array(64);function s(){this.init(),this._w=a,o.call(this,64,56)}r(s,i),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var e=Buffer.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=s},67499:(e,t,n)=>{var r=n(35717),i=n(24189),Buffer=n(89509).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function s(){this.init(),this._w=a,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(s,i),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,h=0|this._e,p=0|this._f,y=0|this._g,g=0|this._h,b=0;b<16;++b)n[b]=e.readInt32BE(4*b);for(;b<64;++b)n[b]=0|(((t=n[b-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[b-7]+d(n[b-15])+n[b-16];for(var m=0;m<64;++m){var v=g+f(h)+c(h,p,y)+o[m]+n[m]|0,w=l(r)+u(r,i,a)|0;g=y,y=p,p=h,h=s+v|0,s=a,a=i,i=r,r=v+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=g+this._h|0},s.prototype._hash=function(){var e=Buffer.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=s},51686:(e,t,n)=>{var r=n(35717),i=n(87816),o=n(24189),Buffer=n(89509).Buffer,a=new Array(160);function s(){this.init(),this._w=a,o.call(this,128,112)}r(s,i),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var e=Buffer.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=s},87816:(e,t,n)=>{var r=n(35717),i=n(24189),Buffer=n(89509).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function s(){this.init(),this._w=a,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function p(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}r(s,i),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,a=0|this._dh,s=0|this._eh,b=0|this._fh,m=0|this._gh,v=0|this._hh,w=0|this._al,_=0|this._bl,E=0|this._cl,S=0|this._dl,k=0|this._el,A=0|this._fl,O=0|this._gl,P=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var T=t[I-30],N=t[I-30+1],x=d(T,N),R=h(N,T),C=p(T=t[I-4],N=t[I-4+1]),B=y(N,T),L=t[I-14],j=t[I-14+1],D=t[I-32],U=t[I-32+1],M=R+j|0,H=x+L+g(M,R)|0;H=(H=H+C+g(M=M+B|0,B)|0)+D+g(M=M+U|0,U)|0,t[I]=H,t[I+1]=M}for(var z=0;z<160;z+=2){H=t[z],M=t[z+1];var F=u(n,r,i),K=u(w,_,E),q=l(n,w),V=l(w,n),W=f(s,k),G=f(k,s),Y=o[z],$=o[z+1],Z=c(s,b,m),X=c(k,A,O),J=P+G|0,Q=v+W+g(J,P)|0;Q=(Q=(Q=Q+Z+g(J=J+X|0,X)|0)+Y+g(J=J+$|0,$)|0)+H+g(J=J+M|0,M)|0;var ee=V+K|0,te=q+F+g(ee,V)|0;v=m,P=O,m=b,O=A,b=s,A=k,s=a+Q+g(k=S+J|0,S)|0,a=i,S=E,i=r,E=_,r=n,_=w,n=Q+te+g(w=J+ee|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+k|0,this._fl=this._fl+A|0,this._gl=this._gl+O|0,this._hl=this._hl+P|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+r+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,E)|0,this._dh=this._dh+a+g(this._dl,S)|0,this._eh=this._eh+s+g(this._el,k)|0,this._fh=this._fh+b+g(this._fl,A)|0,this._gh=this._gh+m+g(this._gl,O)|0,this._hh=this._hh+v+g(this._hl,P)|0},s.prototype._hash=function(){var e=Buffer.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=s},12267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(58355);t.hmacSHA512=function(e,t){const n=r("sha512",e);return t.forEach((e=>n.update(e))),n.digest()},t.hmacSHA256=function(e,t){const n=r("sha256",e);return t.forEach((e=>n.update(e))),n.digest()}},432:(e,t,n)=>{"use strict";var Buffer=n(48764).Buffer;const r=n(2401),i=n(12267),o=Buffer.from("Symmetric key seed"),a=Buffer.from("SLIP-0077"),s=Buffer.alloc(1,0);t.e=function(e){return{fromSeed(t){r(r.anyOf("Buffer","String"),t);const n=Buffer.isBuffer(t)?t:Buffer.from(t,"hex"),u=i.hmacSHA512(o,[n]),l=i.hmacSHA512(u.slice(0,32),[s,a]);return new c(l.slice(32),l.slice(0,32),void 0,void 0,void 0,e)},fromMasterBlindingKey(t){r(r.anyOf("Buffer","String"),t);const n=Buffer.isBuffer(t)?t:Buffer.from(t,"hex");return new c(n,void 0,void 0,void 0,void 0,e)}}};class c{constructor(e,t,n,i,o,a){this._masterKey=e,this._extra=t,this._script=n,this._privateKey=i,this._publicKey=o,this._ecc=a,r(r.BufferN(32),e)}get masterKey(){return this._masterKey}get extra(){return this._extra}get script(){return this._script}get privateKey(){return this._privateKey}get publicKey(){return this._publicKey}derive(e){return function(e,t,n,r){const o=Buffer.isBuffer(n)?n:Buffer.from(n,"hex"),a=i.hmacSHA256(e,[o]),s=r.pointFromScalar(a);return new c(e,t,o,a,s?Buffer.from(s):void 0,r)}(this.masterKey,this.extra,e,this._ecc)}}},42830:(e,t,n)=>{e.exports=i;var r=n(17187).EventEmitter;function i(){r.call(this)}n(35717)(i,r),i.Readable=n(79481),i.Writable=n(64229),i.Duplex=n(56753),i.Transform=n(74605),i.PassThrough=n(82725),i.finished=n(8610),i.pipeline=n(59946),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},32553:(e,t,n)=>{"use strict";var Buffer=n(89509).Buffer,r=Buffer.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(Buffer.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=l,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(i=o(t[r]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(i=o(t[r]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},96647:(e,t,n)=>{var r=n(30247);function i(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function o(e){return r.Nil(e)?"":i(e.constructor)}function a(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function s(e){return r.Function(e)?e.toJSON?e.toJSON():i(e):r.Array(e)?"Array":e&&r.Object(e)?"Object":void 0!==e?e:""}function c(e,t,n){var i=function(e){return r.Function(e)?"":r.String(e)?JSON.stringify(e):e&&r.Object(e)?"":e}(t);return"Expected "+s(e)+", got"+(""!==n?" "+n:"")+(""!==i?" "+i:"")}function u(e,t,n){n=n||o(t),this.message=c(e,t,n),a(this,u),this.__type=e,this.__value=t,this.__valueTypeName=n}function l(e,t,n,r,i){e?(i=i||o(r),this.message=function(e,t,n,r,i){var o='" of type ';return"key"===t&&(o='" with key type '),c('property "'+s(n)+o+s(e),r,i)}(e,n,t,r,i)):this.message='Unexpected property "'+t+'"',a(this,u),this.__label=n,this.__property=t,this.__type=e,this.__value=r,this.__valueTypeName=i}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,l.prototype=Object.create(Error.prototype),l.prototype.constructor=u,e.exports={TfTypeError:u,TfPropertyTypeError:l,tfCustomError:function(e,t){return new u(e,{},t)},tfSubError:function(e,t,n){return e instanceof l?(t=t+"."+e.__property,e=new l(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof u&&(e=new l(e.__type,t,n,e.__value,e.__valueTypeName)),a(e),e},tfJSON:s,getValueTypeName:o}},74307:(e,t,n)=>{var Buffer=n(48764).Buffer,r=n(30247),i=n(96647);function o(e){return Buffer.isBuffer(e)}function a(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function s(e,t){var n=e.toJSON();function r(r){if(!e(r))return!1;if(r.length===t)return!0;throw i.tfCustomError(n+"(Length: "+t+")",n+"(Length: "+r.length+")")}return r.toJSON=function(){return n},r}var c=s.bind(null,r.Array),u=s.bind(null,o),l=s.bind(null,a),f=s.bind(null,r.String);var d=Math.pow(2,53)-1;var h={ArrayN:c,Buffer:o,BufferN:u,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:a,HexN:l,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-d&&e<=d&&Math.floor(e)===e},Range:function(e,t,n){function i(r,i){return n(r,i)&&r>e&&r<t}return n=n||r.Number,i.toJSON=function(){return`${n.toJSON()} between [${e}, ${t}]`},i},StringN:f,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=d&&Math.floor(e)===e}};for(var p in h)h[p].toJSON=function(e){return e}.bind(null,p);e.exports=h},2401:(e,t,n)=>{var r=n(96647),i=n(30247),o=r.tfJSON,a=r.TfTypeError,s=r.TfPropertyTypeError,c=r.tfSubError,u=r.getValueTypeName,l={arrayOf:function(e,t){function n(n,r){return!!i.Array(n)&&(!i.Nil(n)&&(!(void 0!==t.minLength&&n.length<t.minLength)&&(!(void 0!==t.maxLength&&n.length>t.maxLength)&&((void 0===t.length||n.length===t.length)&&n.every((function(t,n){try{return d(e,t,r)}catch(e){throw c(e,n)}}))))))}return e=f(e),t=t||{},n.toJSON=function(){var n="["+o(e)+"]";return void 0!==t.length?n+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(n+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),n},n},maybe:function e(t){function n(n,r){return i.Nil(n)||t(n,r,e)}return t=f(t),n.toJSON=function(){return"?"+o(t)},n},map:function(e,t){function n(n,r){if(!i.Object(n))return!1;if(i.Nil(n))return!1;for(var o in n){try{t&&d(t,o,r)}catch(e){throw c(e,o,"key")}try{var a=n[o];d(e,a,r)}catch(e){throw c(e,o)}}return!0}return e=f(e),t&&(t=f(t)),n.toJSON=t?function(){return"{"+o(t)+": "+o(e)+"}"}:function(){return"{"+o(e)+"}"},n},object:function(e){var t={};for(var n in e)t[n]=f(e[n]);function r(e,n){if(!i.Object(e))return!1;if(i.Nil(e))return!1;var r;try{for(r in t){d(t[r],e[r],n)}}catch(e){throw c(e,r)}if(n)for(r in e)if(!t[r])throw new s(void 0,r);return!0}return r.toJSON=function(){return o(t)},r},anyOf:function(){var e=[].slice.call(arguments).map(f);function t(t,n){return e.some((function(e){try{return d(e,t,n)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(f);function t(t,n){return e.every((function(e){try{return d(e,t,n)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join(" & ")},t},quacksLike:function(e){function t(t){return e===u(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(f);function t(t,n){return!i.Nil(t)&&(!i.Nil(t.length)&&((!n||t.length===e.length)&&e.every((function(e,r){try{return d(e,t[r],n)}catch(e){throw c(e,r)}}))))}return t.toJSON=function(){return"("+e.map(o).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function f(e){if(i.String(e))return"?"===e[0]?l.maybe(e.slice(1)):i[e]||l.quacksLike(e);if(e&&i.Object(e)){if(i.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return l.arrayOf(e[0])}return l.object(e)}return i.Function(e)?e:l.value(e)}function d(e,t,n,r){if(i.Function(e)){if(e(t,n))return!0;throw new a(r||e,t)}return d(f(e),t,n)}for(var h in l.oneOf=l.anyOf,i)d[h]=i[h];for(h in l)d[h]=l[h];var p=n(74307);for(h in p)d[h]=p[h];d.compile=f,d.TfTypeError=a,d.TfPropertyTypeError=s,e.exports=d},30247:e=>{var t={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var n in t.Null=t.Nil,t)t[n].toJSON=function(e){return e}.bind(null,n);e.exports=t},94927:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},57795:(e,t,n)=>{"use strict";var Buffer=n(89509).Buffer,r=9007199254740991;function i(e){if(e<0||e>r||e%1!=0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:function e(t,buffer,n){if(i(t),buffer||(buffer=Buffer.allocUnsafe(o(t))),!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(buffer.writeUInt8(t,n),e.bytes=1):t<=65535?(buffer.writeUInt8(253,n),buffer.writeUInt16LE(t,n+1),e.bytes=3):t<=4294967295?(buffer.writeUInt8(254,n),buffer.writeUInt32LE(t,n+1),e.bytes=5):(buffer.writeUInt8(255,n),buffer.writeUInt32LE(t>>>0,n+1),buffer.writeUInt32LE(t/4294967296|0,n+5),e.bytes=9),buffer},decode:function e(buffer,t){if(!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");t||(t=0);var n=buffer.readUInt8(t);if(n<253)return e.bytes=1,n;if(253===n)return e.bytes=3,buffer.readUInt16LE(t+1);if(254===n)return e.bytes=5,buffer.readUInt32LE(t+1);e.bytes=9;var r=buffer.readUInt32LE(t+1),o=4294967296*buffer.readUInt32LE(t+5)+r;return i(o),o},encodingLength:o}},71739:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},93150:function(e,t){var n,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},a=e=>1==e?"argument":"arguments",s=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((i,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:i,reject:a},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,o({resolve:i,reject:a},t))}))},c=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let u=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},n={})=>{let r=Object.create(null),i={has:(t,n)=>n in e||n in r,get(i,o,a){if(o in r)return r[o];if(!(o in e))return;let f=e[o];if("function"==typeof f)if("function"==typeof t[o])f=c(e,e[o],t[o]);else if(u(n,o)){let t=s(o,n[o]);f=c(e,e[o],t)}else f=f.bind(e);else if("object"==typeof f&&null!==f&&(u(t,o)||u(n,o)))f=l(f,t[o],n[o]);else{if(!u(n,"*"))return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),f;f=l(f,t[o],n["*"])}return r[o]=f,f},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},o=Object.create(e);return new Proxy(o,i)},f=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),d=new r((e=>"function"!=typeof e?e:function(t){const n=l(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),h=new r((e=>"function"!=typeof e?e:function(t,n,r){let o,a,s=!1,c=new Promise((e=>{o=function(t){s=!0,e(t)}}));try{a=e(t,n,o)}catch(e){a=Promise.reject(e)}const u=!0!==a&&i(a);if(!0!==a&&!u&&!s)return!1;const l=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return l(u?a:c),!0})),p=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},y=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},g={devtools:{network:{onRequestFinished:f(d)}},runtime:{onMessage:f(h),onMessageExternal:f(h),sendMessage:y.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:y.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":b},services:{"*":b},websites:{"*":b}},l(e,g,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(i="function"==typeof n?n.apply(t,r):n)||(e.exports=i)},37174:(e,t,n)=>{var Buffer=n(48764).Buffer,r=n(58334);function i(buffer,e){if(void 0!==e&&buffer[0]!==e)throw new Error("Invalid network version");if(33===buffer.length)return{version:buffer[0],privateKey:buffer.slice(1,33),compressed:!1};if(34!==buffer.length)throw new Error("Invalid WIF length");if(1!==buffer[33])throw new Error("Invalid compression flag");return{version:buffer[0],privateKey:buffer.slice(1,33),compressed:!0}}function o(e,t,n){var r=new Buffer(n?34:33);return r.writeUInt8(e,0),t.copy(r,1),n&&(r[33]=1),r}e.exports={decode:function(e,t){return i(r.decode(e),t)},decodeRaw:i,encode:function(e,t,n){return"number"==typeof e?r.encode(o(e,t,n)):r.encode(o(e.version,e.privateKey,e.compressed))},encodeRaw:o}},26996:()=>{},46601:()=>{},89214:()=>{},42480:()=>{},46403:()=>{},52361:()=>{},94616:()=>{},18597:e=>{"use strict";e.exports={i8:"6.5.4"}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,a.d(i,o),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"js/"+e+".bundle.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="lightning-browser-extension:",a.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==r+i){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var d=(t,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"})(),(()=>{var e={352:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,c]=n,u=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunklightning_browser_extension=self.webpackChunklightning_browser_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};a.r(e),a.d(e,{dQ:()=>li,ci:()=>ti,bytesToNumberBE:()=>ii,ty:()=>oi,eV:()=>ui,n$:()=>hi,ql:()=>ci,hexToBytes:()=>ri,tL:()=>ai,S5:()=>si,FF:()=>yi});var t={};a.r(t),a.d(t,{isPoint:()=>Wy,isPrivate:()=>Yy,pointCompress:()=>Gy,pointFromScalar:()=>Fy,privateAdd:()=>Zy,privateNegate:()=>Xy,privateSub:()=>Ky,sign:()=>Jy,signSchnorr:()=>qy,verify:()=>Qy,verifySchnorr:()=>Vy,xOnlyPointAddTweak:()=>$y});var n,r,i=a(93150),o=a.n(i),s="User rejected";function c(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e){return d.apply(this,arguments)}function d(){return(d=u((function(e){var t,n,r,i,a,s,c;return l(this,(function(u){switch(u.label){case 0:return[4,y(t=400,n=600)];case 1:return r=u.sent(),i=r.top,a=r.left,s={url:e,type:"popup",width:t,height:n,top:i,left:a},[4,o().windows.create(s)];case 2:return[2,(c=u.sent()).tabs&&c.tabs[0].id]}}))}))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=u((function(e){var t;return l(this,(function(n){switch(n.label){case 0:return t={url:e},[4,o().tabs.create(t)];case 1:return[2,n.sent().id]}}))}))).apply(this,arguments)}function y(e,t){return g.apply(this,arguments)}function g(){return(g=u((function(e,t){var n,r,i,a,s,c;return l(this,(function(u){switch(u.label){case 0:n=0,r=0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,o().windows.getLastFocused()];case 2:return(i=u.sent())&&null!=i.top&&null!=i.left&&null!=i.width&&null!=i.height&&(r=Math.round(i.top+(i.height-t)/2),n=Math.round(i.left+(i.width-e)/2)),[3,4];case 3:return u.sent(),a=window.screenX,s=window.screenY,c=window.outerWidth,r=Math.max(s,0),n=Math.max(a+(c-e),0),[3,4];case 4:return[2,{top:r,left:n}]}}))}))).apply(this,arguments)}function b(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function m(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(e){e.AED="AED",e.AFN="AFN",e.ALL="ALL",e.AMD="AMD",e.ANG="ANG",e.AOA="AOA",e.ARS="ARS",e.AUD="AUD",e.AWG="AWG",e.AZN="AZN",e.BAM="BAM",e.BBD="BBD",e.BDT="BDT",e.BGN="BGN",e.BHD="BHD",e.BIF="BIF",e.BMD="BMD",e.BND="BND",e.BOB="BOB",e.BRL="BRL",e.BSD="BSD",e.BTN="BTN",e.BWP="BWP",e.BZD="BZD",e.CAD="CAD",e.CDF="CDF",e.CHF="CHF",e.CNY="CNY",e.COP="COP",e.CRC="CRC",e.CUP="CUP",e.CVE="CVE",e.CZK="CZK",e.DJF="DJF",e.DKK="DKK",e.DOP="DOP",e.DZD="DZD",e.EGP="EGP",e.ERN="ERN",e.ETB="ETB",e.EUR="EUR",e.FJD="FJD",e.GBP="GBP",e.GEL="GEL",e.GHS="GHS",e.GIP="GIP",e.GMD="GMD",e.GNF="GNF",e.GTQ="GTQ",e.GYD="GYD",e.HKD="HKD",e.HNL="HNL",e.HRK="HRK",e.HTG="HTG",e.HUF="HUF",e.IDR="IDR",e.ILS="ILS",e.INR="INR",e.IQD="IQD",e.IRR="IRR",e.ISK="ISK",e.JMD="JMD",e.JOD="JOD",e.JPY="JPY",e.KES="KES",e.KGS="KGS",e.KHR="KHR",e.KMF="KMF",e.KPW="KPW",e.KRW="KRW",e.KWD="KWD",e.KYD="KYD",e.KZT="KZT",e.LAK="LAK",e.LBP="LBP",e.LKR="LKR",e.LRD="LRD",e.LSL="LSL",e.LYD="LYD",e.MAD="MAD",e.MDL="MDL",e.MGA="MGA",e.MKD="MKD",e.MMK="MMK",e.MNT="MNT",e.MOP="MOP",e.MUR="MUR",e.MVR="MVR",e.MWK="MWK",e.MXN="MXN",e.MYR="MYR",e.NAD="NAD",e.NGN="NGN",e.NIO="NIO",e.NOK="NOK",e.NPR="NPR",e.NZD="NZD",e.OMR="OMR",e.PAB="PAB",e.PEN="PEN",e.PGK="PGK",e.PHP="PHP",e.PKR="PKR",e.PLN="PLN",e.PYG="PYG",e.QAR="QAR",e.RON="RON",e.RSD="RSD",e.RUB="RUB",e.RWF="RWF",e.SAR="SAR",e.SBD="SBD",e.SCR="SCR",e.SDG="SDG",e.SEK="SEK",e.SGD="SGD",e.SHP="SHP",e.SLL="SLL",e.SOS="SOS",e.SRD="SRD",e.SVC="SVC",e.SYP="SYP",e.SZL="SZL",e.THB="THB",e.TMT="TMT",e.TND="TND",e.TOP="TOP",e.TRY="TRY",e.TTD="TTD",e.TWD="TWD",e.TZS="TZS",e.UAH="UAH",e.UGX="UGX",e.USD="USD",e.UYU="UYU",e.UZS="UZS",e.VND="VND",e.VUV="VUV",e.WST="WST",e.XAF="XAF",e.XCD="XCD",e.XOF="XOF",e.XPF="XPF",e.ZAR="ZAR",e.ZMW="ZMW",e.ZWL="ZWL"}(n||(n={})),function(e){e.DEMO="demo",e.MNEMONIC="mnemonic"}(r||(r={}));var v,w={base64ToHex:function(e){for(var t=[],n=0,r=atob(e.replace(/[ \r\n]+$/,""));n<r.length;++n){var i=r.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),t[t.length]=i}return t.join("")},urlSafeBase64ToHex:function(e){return w.base64ToHex(e.replace(/_/g,"/").replace(/-/g,"+"))},bytesToHexString:function(e){return Array.from(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")},bytesToString:function(e){return String.fromCharCode.apply(null,e)},hexToUint8Array:function(e){var t=e.match(/.{1,2}/g);if(t)return new Uint8Array(t.map((function(e){return parseInt(e,16)})))},stringToUint8Array:function(e){return Uint8Array.from(e,(function(e){return e.charCodeAt(0)}))},deferredPromise:function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},openPage:function(e){o().tabs.create({url:o().runtime.getURL(e)})},redirectPage:function(e){o().tabs.update({url:o().runtime.getURL(e)})},openUrl:function(e){o().tabs.create({url:e})},openPrompt:(v=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,a;return m(this,(function(s){switch(s.label){case 0:return t=new URLSearchParams,e.args&&t.set("args",JSON.stringify(e.args)),e.origin&&t.set("origin",JSON.stringify(e.origin)),t.set("action",e.action),n="".concat(o().runtime.getURL("prompt.html"),"?").concat(t.toString()),(r=!!o().windows)?[4,f(n)]:[3,2];case 1:return a=s.sent(),[3,4];case 2:return[4,h(n)];case 3:a=s.sent(),s.label=4;case 4:return i=a,[2,new Promise((function(e,t){var n=function(n,s){if(n&&n.response&&s.tab&&s.tab.id===i&&s.tab.windowId)return o().tabs.onRemoved.removeListener(a),(r?o().windows.remove(s.tab.windowId):o().tabs.remove(i)).then((function(){return n.error?t(new Error(n.error)):e(n)}))},a=function(e){i===e&&(o().runtime.onMessage.removeListener(n),t(new Error("Prompt was closed")))};o().runtime.onMessage.addListener(n),o().tabs.onRemoved.addListener(a)}))]}}))})),function(e){return v.apply(this,arguments)}),getBoostagramFromInvoiceCustomRecords:function(e){try{var t,n=null==e?void 0:e[7629169];return n&&(t=atob(n)),t?JSON.parse(t):void 0}catch(e){return void console.error(e)}}};const _=w;var E=3===o().runtime.getManifest().manifest_version;function S(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function k(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var A=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,s,"next",e)}function s(e){S(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){var e;return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,chrome.scripting.registerContentScripts([{id:"inpageScript",matches:["file://*/*","http://*/*","https://*/*"],js:["js/inpageScript.bundle.js"],runAt:"document_start",world:"MAIN",allFrames:!0}])];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),console.warn("Dropped attempt to register inpage content script. ".concat(e)),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),O=a(72378),P=a.n(O),I=a(25030),T=a.n(I),N=a(67294);function x(e){let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,subscribe:(e,r,o)=>r||o?((e,r=i,o=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function s(){const n=r(t);if(!o(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,o):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}const R="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?N.useEffect:N.useLayoutEffect;var C=a(81354);function B(e,t){return C.AES.encrypt(JSON.stringify(e),t).toString()}function L(e,t){var n=C.AES.decrypt(e,t);return JSON.parse(n.toString(C.enc.Utf8))}a(98507),a(17427),a(67763),a(47822),a(96023),a(77573),a(15551),a(15473),a(81987),a(57548),a(91876),a(33852);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U(r.key),r)}}function H(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}function q(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function W(e,t,n){return(t=U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},J=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e),this.init(t,n)}return H(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||X,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Z(Z({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Q=new J,ee=function(){function e(){D(this,e),this.observers={}}return H(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function te(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function ne(e){return null==e?"":""+e}function re(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function ie(e,t,n){var r=re(e,t,Object);r.obj[r.k]=n}function oe(e,t){var n=re(e,t),r=n.obj,i=n.k;if(r)return r[i]}function ae(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):ae(e[r],t[r],n):e[r]=t[r]);return e}function se(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ue(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return ce[e]})):e}var le="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,fe=[" ",",","?","!",";"];function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),c=i[s];void 0===c&&r.length>o+a;)a++,c=i[s=r.slice(o,o+a).join(n)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var u=r.slice(o+a).join(n);return u?de(c,u,n):void 0}i=i[r[o]]}return i}}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}var ge=function(e){K(n,e);var t=ye(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return D(this,n),r=t.call(this),le&&ee.call(z(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return H(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=oe(this.data,a);return s||!o||"string"!=typeof n?s:de(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),ie(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=oe(this.data,a)||{};r?ae(s,n,i):s=pe(pe({},s),n),ie(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?pe(pe({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(ee),be={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}var _e={},Ee=function(e){K(n,e);var t=we(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D(this,n),r=t.call(this),le&&ee.call(z(r)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,z(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=Q.create("translator"),r}return H(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=fe.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==j(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===j(t)&&(t=ve({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),c=s.key,u=s.namespaces,l=u[u.length-1],f=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(l).concat(h).concat(c),usedKey:c,exactUsedKey:c,usedLng:f,usedNS:l}:"".concat(l).concat(h).concat(c)}return o?{res:c,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:l}:c}var p=this.resolve(e,t),y=p&&p.res,g=p&&p.usedKey||c,b=p&&p.exactUsedKey||c,m=Object.prototype.toString.apply(y),v=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&y&&("string"!=typeof y&&"boolean"!=typeof y&&"number"!=typeof y)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0&&("string"!=typeof v||"[object Array]"!==m)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,y,ve(ve({},t),{},{ns:u})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return o?(p.res=_,p):_}if(a){var E="[object Array]"===m,S=E?[]:{},k=E?b:g;for(var A in y)if(Object.prototype.hasOwnProperty.call(y,A)){var O="".concat(k).concat(a).concat(A);S[A]=this.translate(O,ve(ve({},t),{joinArrays:!1,ns:u})),S[A]===O&&(S[A]=y[A])}y=S}}else if(w&&"string"==typeof v&&"[object Array]"===m)(y=y.join(v))&&(y=this.extendTranslation(y,e,t,r));else{var P=!1,I=!1,T=void 0!==t.count&&"string"!=typeof t.count,N=n.hasDefaultValue(t),x=T?this.pluralResolver.getSuffix(f,t.count,t):"",R=t["defaultValue".concat(x)]||t.defaultValue;!this.isValidLookup(y)&&N&&(P=!0,y=R),this.isValidLookup(y)||(I=!0,y=c);var C=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:y,B=N&&R!==y&&this.options.updateMissing;if(I||P||B){if(this.logger.log(B?"updateKey":"missingKey",f,l,c,B?R:y),a){var L=this.resolve(c,ve(ve({},t),{},{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var M=0;M<U.length;M++)D.push(U[M]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(t.lng||this.language):D.push(t.lng||this.language);var H=function(e,n,r){var o=N&&r!==y?r:C;i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,n,o,B,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,n,o,B,t),i.emit("missingKey",e,l,n,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?D.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){H([e],c+n,t["defaultValue".concat(n)]||R)}))})):H(D,c,R))}y=this.extendTranslation(y,e,t,p,r),I&&y===c&&this.options.appendNamespaceToMissingKey&&(y="".concat(l,":").concat(c)),(I||P)&&this.options.parseMissingKeyHandler&&(y="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(c):c,P?y:void 0):this.options.parseMissingKeyHandler(y))}return o?(p.res=y,p):y}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,ve(ve({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(ve(ve({},n),{interpolation:ve(ve({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=ve(ve({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=be.handle(d,e,t,this.options&&this.options.postProcessPassResolved?ve({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),u=c.key;n=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!_e["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(_e["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,c=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,u,n,e,s);else{var l;f&&(l=a.pluralResolver.getSuffix(n,s.count,s));var p="".concat(a.options.pluralSeparator,"zero");if(f&&(c.push(u+l),d&&c.push(u+p)),h){var y="".concat(u).concat(a.options.contextSeparator).concat(s.context);c.push(y),f&&(c.push(y+l),d&&c.push(y+p))}}for(;o=c.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(ee);function Se(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ke=function(){function e(t){D(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Q.create("languageUtils")}return H(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Se(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Se(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Se(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),Ae=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Oe={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Pe=["v1","v2","v3"],Ie={zero:0,one:1,two:2,few:3,many:4,other:5};var Te=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e),this.languageUtils=t,this.options=r,this.logger=Q.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},Ae.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:Oe[e.fc]}}))})),n)}return H(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return Ie[e]-Ie[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Pe.includes(this.options.compatibilityJSON)}}]),e}();function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=function(e,t,n){var r=oe(e,n);return void 0!==r?r:oe(t,n)}(e,t,n);return!o&&i&&"string"==typeof n&&void 0===(o=de(e,n,r))&&(o=de(t,n,r)),o}var Ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e),this.logger=Q.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return H(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:ue,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?se(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?se(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?se(t.nestingPrefix):t.nestingPrefixEscaped||se("$t("),this.nestingSuffix=t.nestingSuffix?se(t.nestingSuffix):t.nestingSuffixEscaped||se(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=Re(t,c,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(i,void 0,n,xe(xe(xe({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(Re(t,c,a,s.options.keySeparator,s.options.ignoreJSONStructure),u,n,xe(xe(xe({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=l(n)))if("function"==typeof f){var c=f(e,i,r);o="string"==typeof c?c:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(d){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=ne(o));var u=t.safeValue(o);if(e=e.replace(i[0],u),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var a=(o=this.interpolate(o,i)).match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i=xe(xe({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(o)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var c=[];(i=(i=xe({},a)).replace&&"string"!=typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),c=l,u=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=ne(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=c.reduce((function(e,t){return o.format(e,t,a.lng,xe(xe({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e){var t={};return function(n,r,i){var o=r+JSON.stringify(i),a=t[o];return a||(a=e(r,i),t[o]=a),a(n)}}var De=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e),this.logger=Q.create("formatter"),this.options=t,this.formats={number:je((function(e,t){var n=new Intl.NumberFormat(e,Le({},t));return function(e){return n.format(e)}})),currency:je((function(e,t){var n=new Intl.NumberFormat(e,Le(Le({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:je((function(e,t){var n=new Intl.DateTimeFormat(e,Le({},t));return function(e){return n.format(e)}})),relativetime:je((function(e,t){var n=new Intl.RelativeTimeFormat(e,Le({},t));return function(e){return n.format(e,t.range||"day")}})),list:je((function(e,t){var n=new Intl.ListFormat(e,Le({},t));return function(e){return n.format(e)}}))},this.init(t)}return H(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=je(t)}},{key:"format",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=Y(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(r.formats[a]){var c=e;try{var u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=u.locale||u.lng||i.locale||i.lng||n;c=r.formats[a](e,l,Le(Le(Le({},s),i),u))}catch(e){r.logger.warn(e)}return c}return r.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}var ze=function(e){K(n,e);var t=He(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return D(this,n),o=t.call(this),le&&ee.call(z(o)),o.backend=e,o.store=r,o.services=i,o.languageUtils=i.languageUtils,o.options=a,o.logger=Q.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,a.backend,a),o}return H(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o={},a={},s={},c={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===a[s]&&(a[s]=!0):(i.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===c[t]&&(c[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=re(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}(n.loaded,[i],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:a});else{this.readingCalls++;var s=function(s,c){if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&c&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,c)},c=this.backend[n].bind(this.backend);if(2!==c.length)return c(e,t,s);try{var u=c(e,t);u&&"function"==typeof u.then?u.then((function(e){return s(null,e)})).catch(s):s(null,u)}catch(e){s(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=Me(Me({},o),{},{isUpdate:i}),c=this.backend.create.bind(this.backend);if(c.length<6)try{var u;(u=5===c.length?c(e,t,n,r,s):c(e,t,n,r))&&"function"==typeof u.then?u.then((function(e){return a(null,e)})).catch(a):a(null,u)}catch(e){a(e)}else c(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(ee);function Fe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===j(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===j(e[2])||"object"===j(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ke(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function Ge(){}var Ye=function(e){K(n,e);var t=We(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(D(this,n),e=t.call(this),le&&ee.call(z(e)),e.options=Ke(i),e.services={},e.logger=Q,e.modules={external:[]},r=z(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),o&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,o),q(e,z(e));setTimeout((function(){e.init(i,o)}),0)}return e}return H(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=Fe();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=Ve(Ve(Ve({},r),this.options),Ke(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Ve(Ve({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?Q.init(i(this.modules.logger),this.options):Q.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=De);var a=new ke(this.options);this.store=new ge(this.options.resources,this.options);var s=this.services;s.logger=Q,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new Te(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Ce(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ze(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Ee(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=Ge),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var u=te(),l=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(r)o(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)}));this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=te();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ge),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&be.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=te();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==j(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=Ve({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var u,l=r.options.keySeparator||".";return u=o.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(o.keyPrefix).concat(l).concat(e)})):o.keyPrefix?"".concat(o.keyPrefix).concat(l).concat(t):t,r.t(u,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=te();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=te();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new ke(Fe());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge,i=Ve(Ve(Ve({},this.options),t),{isClone:!0}),o=new n(i);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=Ve({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new Ee(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(ee);W(Ye,"createInstance",(function(){return new Ye(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var $e=Ye.createInstance();$e.createInstance=Ye.createInstance;$e.createInstance,$e.dir,$e.init,$e.loadResources,$e.reloadResources,$e.use,$e.changeLanguage,$e.getFixedT,$e.t,$e.exists,$e.setDefaultNamespace,$e.hasLoadedNamespace,$e.loadNamespaces,$e.loadLanguages;var Ze=[],Xe=Ze.forEach,Je=Ze.slice;var Qe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,et=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!Qe.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!Qe.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),i)},tt=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},nt={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=tt(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&et(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},rt={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");if(o>0)r[i].substring(0,o)===e.lookupQuerystring&&(t=r[i].substring(o+1))}}return t}},it=null,ot=function(){if(null!==it)return it;try{it="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){it=!1}return it},at={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&ot()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&ot()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},st=null,ct=function(){if(null!==st)return st;try{st="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){st=!1}return st},ut={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&ct()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&ct()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},lt={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},ft={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},dt={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},ht={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};var pt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return H(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(e){return Xe.call(Je.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(nt),this.addDetector(rt),this.addDetector(at),this.addDetector(ut),this.addDetector(lt),this.addDetector(ft),this.addDetector(dt),this.addDetector(ht)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),n=n.map((function(e){return t.options.convertDetectedLanguage(e)})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();pt.type="languageDetector";a(71739);Object.create(null);var yt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},bt=function(e){return gt[e]};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(yt,bt)}};var _t={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wt=vt(vt({},wt),e)}(e.options.react),function(e){e}(e)}};(0,N.createContext)(),function(){function e(){D(this,e),this.usedNamespaces={}}H(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}])}();const Et=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"Nastavit pin pro odemčení účtu","description":"Tento pin vám umožní odemykat doplněk Alby na tomto zařízení. Nelze ho resetovat, ale je možné ho později změnit.","choose_password":{"label":"Zvolte pin pro odemykání:"},"confirm_password":{"label":"Ověřte, že heslo je zadáno správně:"},"errors":{"enter_password":"Prosím, zadejte pin.","confirm_password":"Prosím potvrďte svůj pin.","mismatched_password":"Zadané piny se neshodují."}},"test_connection":{"ready":"Skvěle, vše je připraveno!","initializing":"Inicializace vašeho účtu. Prosím čekejte, chvíli to zabere...","connection_error":"Chyba spojení","review_connection_details":"Prosím překontrolujte nastavení vašeho spojení.","connection_taking_long":"Připojování zabralo více, než bylo očekáváno... Zadali jste údaje o připojení správně? Je váš uzel dostupný?","contact_support":"Pokud potřebujete pomoct, prosím kontaktujte support@getalby.com","actions":{"delete_edit_account":"Smažte nevalidní účet a změny proveďte znovu"}},"title":"Vítejte v Alby","pin_extension":{"title":"Připnout rozšíření Alby","explanation":"1. Zvolte <0/> v pravém rohu svého prohlížeče<1/>2. Najděte Alby a zvolte připnout k toolbaru<1/>3. To je vše. Pro přístup k Alby pouze klikněte na <2/> ikonu","description":"Už jste skoro na konci. Aby se vám Alby používalo pohodlně, nezapomeňte si doplněk připnout do toolbaru prohlížeče:"}},"choose_connector":{"description":"Připojte svou externí ligtning peněženku nebo uzel","lnd":{"title":"LND","page":{"title":"Připojt se ke svému LND uzlu","description":"Potřebujete URL svého uzlu a macaroon s oprávněním pro čtení a odesílání (například admin.macaroon)"},"url":{"label":"REST API host a port","placeholder":"https://url-vaseho-uzlu:8080"},"macaroon":{"label":"Macaroon (v hexadecimálním formátu)"},"drag_and_drop":"Přetáhněte svůj macaroon zde nebo ho <0>vyhledejte</0>","errors":{"connection_failed":"Připojení se nezdařilo. Jsou vaše údaje pro LND zadány správně?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Připojit k LNDHub","description":"Vložte svou LNDHub URI nebo naskenujte QR kód svou webkamerou."},"uri":{"label":"LNDHub Export URI"},"errors":{"invalid_uri":"Nevalidní LNDHub URI","connection_failed":"Připojení se nezdařilo. Je vaše LNDHub URI zadána správně?"}},"lnbits":{"title":"LNbits","page":{"title":"Připojení k <0>LNbits</0>","instructions":"V LNbits vyberte peněženku, ke které se chcete připojit, otevřete ji, zvolte Informace o API, zkopírujte administrační klíč. Vložte ho zde:"},"admin_key":{"label":"LNbits Administrační klíč","placeholder":"Váš 32-místný administrační klíč"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Připojení se nezdařilo. Zadali jste správnou URL a administrační klíč?"}},"eclair":{"title":"Eclair","page":{"title":"Připojení k <0>Eclair</0>","instructions":"Potřebujete svou Eclair URL a heslo."},"password":{"label":"Eclair heslo"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Připojení k uzlu <0>Citadel</0>","instructions":"Aktuálně nefunguje v případě, že máte zapnutou dvoufaktorovou autentizaci (2FA)."},"password":{"label":"Heslo k Citadel"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Připojení k uzlu <0>Umbrel</0>","instructions":"V dashboardu Umbrell přejděte do <0>Připojit pěněženku (Connect Wallet)</0>. Vyberte volbu <0>lndconnect REST</0> a zkopírujte <0>lndconnect URL</0>. (V závislosti na vašem nastavení můžete využít buď lokálního spojení nebo připojení přes Tor.)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://vas-uzel:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Připojení k <0>myNode</0>","instructions":"Na vaší domovské stránce myNode klikněte na tlačítko <0>Pěněženka (Wallet)</0> služby <0>lightning</0>.<1/> Dále zvolte <0>Párovat peněženku (Pair Wallet)</0> pod záložkou <0>Stav (Status)</0>. S dotázáním vložte vaše heslo.<1/> Z rozbalovací nabídky vyberte volbu párování. V závislosti na vašem nastavení můžete zvolit buď připojení přes <0>lightning (REST + Local IP)</0> nebo <0>lightning (REST + Tor)</0>."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://vas-uzel:8080?..."}},"start9":{"title":"Start9","page":{"title":"Připojení k vašemu uzlu <0>Embassy</0>","instructions":"<0>Pozn.:</0> Aktuálně podporujeme pouze LND, ale v budoucnu plánujeme přidávat podporu c-lightning!<1/>V dashboardu vašeho Embassy zvolte službu <0>Lightning Network Daemon</0>.<1/>Vyberte záložku <0>Vlastnosti (Properties)</0>.<1/>Následně zkopírujte <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://vas-uzel:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Připojení k vašemu uzlu <0>RaspiBlitz</0>","instructions1":"Následujte tyto kroky:<1/> 1. <0>Připojte se přes SSH</0> k vašemu <0>RaspiBlitz</0><1/>2. Vyberte <0>Připojit aplikace a zobrazit přístupové údaje (Connect Apps & Show Credentials)</0> ze seznamu<1/><0/>3. Vyberte <0>Připojit Alby k tomuto uzlu</0><1/>4. Stiskněte <0>OK</0>pro zobrazení detailů připojení<1/><1/>Zkopírujte <0>REST API</0> nebo <0>.onion</0> adresu pro připojení přes Tor a vložte ji do vstupního pole níže.","instructions2":"Zkopírujte (administrační) <0>macaroon</0> do pole níže."},"rest_api_host":{"label":"REST API host","placeholder":"onion-adresa-vaseho-uzlu:port"}},"blink":{"title":"Blink","page":{"title":"Připojení k <0>Blink Wallet</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Připojení k <0>Bitcoin Jungle Wallet</0>"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Připojení k vašemu uzlu BTCPay LND","instructions":"Přesuňte se do svého BTCPayServer a přihlašte se jako administrátor. Běžte do Nastavení serveru > Služby > LND Rest - Více informací. Následně zvolte \\"Zobrazit informace o QR kódu\\" a zkopírujte zobrazená data. Vložte je níže:"},"config":{"label":"Konfigurační data","placeholder":"config=https://vas-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Připojení se nezdařilo. Je BTCPay URL zadána správně a je přístupná?"}},"commando":{"title":"Core Lightning","page":{"title":"Připojení k vašemu uzlu Core Lightning","instructions":"Ujistěte se, že používáte Core Lightning verze 0.12.0 (nebo novější), dále že vám běží doplněk commando a váš uzel je přístupný přes síť lightning. Vytvořte novou \\"runu\\" spuštěním příkazu \'lightning-cli commando-rune\'."},"host":{"label":"Host"},"pubkey":{"label":"Veřejný klíč"},"rune":{"label":"Runa"},"port":{"label":"Port"},"proxy":{"label":"Websocket proxy"},"privKey":{"label":"Lokální privátní klíč (automaticky generovaný)"},"config":{"label":"Konfigurační data","placeholder":"config=https://vas-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Připojení se nezdařilo. Je váš Core Lightning uzel online a se zapnutým doplňkem commando?"}},"title":"Připojte Lightning peněženku","lnc":{"title":"Lightning terminál (LNC)","page":{"title":"Připojit k vašemu LND uzlu","description":"Vytvořte nové sezení v terminálu (litd) pro získání nové párovací fráze a vložte ji zde"},"pairing_phrase":{"label":"Vaše párovací fráze ","placeholder":"tajná fráze"}},"umbrel_lightning_node":{"title":"Lightning uzel"}},"home":{"actions":{"send_satoshis":"⚡️ Odeslat satoshi ⚡️","enable_now":"Povolit nyní"},"allowance_view":{"no_transactions":"Prozatím žádné transakce na <0>{{name}}</0>.","sats":"satů","total_spent":"Cekově utraceno","total_payments":"Platby celkem","permissions":"Oprávnění"},"default_view":{"is_blocked_hint":"Alby je v současnosti zakázaná na {host}}","block_removed":"Povolen {{host}}. Prosím znovu načtěte webovou stránku."}},"accounts":{"title":"Účty","actions":{"add_account":"Přidat účet"},"account_view":{"remove":{"title":"Odstranit tento účet","subtitle":"Všechny propojené příspěvky budou smazány. Buďte si jisti, že akci chcete opravdu provést."},"nostr":{"errors":{"failed_to_load":"Nepodařilo se načíst Nostr klíč. Zadali jste validní Nostr klíč?"},"generate_keys":{"hint":"Můžete vygenerovat nový náhodně generovaný klíč nebo derivovat klíč ze svého účtu (s využitím podepsané kanonické fráze). <0>Dozvědět se více »</0>","screen_reader":"Vygenerovat nový Nostr klíč pro váš účet","actions":{"random_keys":"Vygenerovat náhodný klíč","derived_keys":"Derivovat klíč z vašeho účtu"},"title":"Vygenerujte nový Nostr klíč"},"private_key":{"title":"Správa vašeho klíče","subtitle":"Vložte svůj privátní klíč nebo si vygenerujte nový. Předtím, než budete generovat nový klíč, ujistěte se, že máte svůj klíč zazalohovaný. <0>Dozvědět se více »</0>","success":"Privátní klíč byl úspěšně zašifrován a uložen.","successfully_removed":"Privátní klíč byl odstraněn.","label":"Privátní klíč","failed_to_remove":"Zadané jméno účtu se neshoduje, váš starý privátní klíč byl obnoven."},"actions":{"generate":"Vygenerovat nový klíč"},"hint":"je jednoduchý otevřený protokol, jehož snahou je vytvořit necenzurovatelné sociální sítě. Nostr pracuje s kryptografickými klíči. Pro publikování jakékoliv zpravy přes tento protokol, je vždy nutné zprávu podepsat svým klíčem a odeslat ji několika tzv. relé. Alby můžete použít ke správě svého Nostr klíče. Většina Nostr aplikací vám pak umožní jednoduché použití klíče přímo z doplňku Alby.","title":"Nostr","public_key":{"label":"Veřejný klíč"},"settings":{"label":"Nastavení Nostru","remove":"Odstranit současné klíče","title":"Nastavení Nostru"}},"actions":{"remove_account":"Odstranit účet","export":"Export"},"export":{"screen_reader":"Exportovat detaily účtu","title":"Exportovat účet","export_uri":"LNDHub pověřovací URI","waiting":"čekání na data z LndHub...","your_ln_address":"Vaše Lightning adresa:","scan_qr":"Importujte tuto peněženku do Zeus nebo BlueWallet naskenováním QR kódu."},"title1":"Informace o účtu","title2":"Upravit účet","name":{"title":"Jméno","placeholder":"Jméno účtu"},"mnemonic":{"new":{"title":"Co je to Master klíč?"},"generate":{"button":"Vygenerovat Master klíč","confirm":"Zazálohoval jsem svou záložní (recovery) frázi k mému Master klíči na soukromém bezpečném místě.","title":"Vygenerování nového Master klíče","error_confirm":"Prosím potvrďte, že jste zazálohovali svou záložní frázi."},"inputs":{"title":"Záložní fráze"},"saved":"Master klíč byl zašifrován a úspěšně uložen.","lnurl":{"use_mnemonic":"Používat Master klíč pro přihlašování do aplikací podporujících autentizaci přes Lightning (LNURL Auth)","title":"Přihlášení přes Lightning"},"backup":{"protocols":{"nostr":"Nostr"},"save":"Uložit Master klíč","button":"Zobrazit záložní frázi"},"title":"🔑 Správa klíčů","import":{"button":"Importovat Master klíč","title":"Import Master klíče"}},"network":{"options":{"testnet":"Testnet","bitcoin":"Mainnet","regtest":"Regtest"},"title":"Síť"}}},"unlock":{"unlock_to_continue":"Odemknout pro pokračování","unlock_password":"Vaše heslo pro odemčení","help_contact":{"part1":"Potřebujete pomoc? Kontaktujte","part2":"podporu Alby"},"unlock_error":{"help":"Data vašeho účtu jsou šifrována vaším heslem pro odemčení. Pokud své heslo pro odemčení zapomenete, budete muset resetovat a znovu vytvořit svůj lightning účet.","link":"Resetovat a vytvořit nový účet"},"errors":{"invalid_password":"Nesprávné heslo"}},"settings":{"title":"Nastavení","browser_notifications":{"title":"Upozornění prohlížeče","subtitle":"Platební notifikace a notifikace týkající se autentizace."},"website_enhancements":{"title":"Vylepšení webové stránky","subtitle":"Možnosti tipování pro Twitter, YouTube, apod."},"lnurl_auth":{"title":"LNURL-Auth","hint":"je obecný autentizační protokol. Ověřuje uživatele pomocí digitálních podpisu. Protkol nevyžaduje žádné další identifikační údaje jako jsou hesla, e-maily, uživatelská jména a podobně. S Alby můžete používat své lightning účty k bezpečnému přihlášení k webovým stránkám. Abychom byli kompatibilní s jinými peněženkami, museli jsme udělat několik změn, které můžete nakonfigurovat zde. <0>V ideálním případě jsou všechny tyto možnosti vypnuté.</0> Používejte je pouze v případě, že máte staré účty.","legacy_lnurl_auth_202207":{"title":"Starší verze LNURL-Auth","subtitle":"Generování klíče pro LNURL-auth se změnilo (červenec 2022). Alby nebylo kompatibilní s jinými implementacemi. To bylo změněno, ale nyní se používají jiné přihlašovací klíče. Pokud jste dříve používali LNURL-auth pro přihlašování, můžete stále zapnout staré chování. Tato volba bude v budoucnu odstraněna. Ujistěte se, že jste přešli na nový typ přihlášení."},"legacy_lnurl_auth":{"title":"Starší verze podepisování pro LNDhub aLNbits","subtitle":"Podepisování zpráv a přihlašování přes LNDhub (například BlueWallet) a LNbits účty bylo změněno (Březen 2022). Pokud jste se přes tyto účty přihlašovali, můžete stále zapnout podporu staré přihlašovací metody. Tato volba bude v budoucnu odstraněna, proto se ujistěte, že jste přešli na novou metodu přihlašování."}},"camera_access":{"title":"Přístup kamery","subtitle":"Pro skenování QR kódů","allow":"Povolit přístup kameře","granted":"Oprávnění uděleno"},"language":{"title":"Jazyk","subtitle":"Překlady ještě nejsou stoprocentně hotové. <0>Pomožte nám přeložit Alby do vašeho jazyka!<0>"},"theme":{"title":"Téma","subtitle":"Používejte Alby v tmavém nebo světlém módu","options":{"dark":"Tmavé","light":"Světlé","system":"Systém"}},"show_fiat":{"title":"Saty do fiatu","subtitle":"Vždy provádět směnu do vybrané měny z vybrané směnárny"},"currency":{"title":"Měna","subtitle":"Zobrazovat částky v této měně"},"exchange":{"title":"Zdroj kurzu","subtitle":"Zdroj bitcoinového směnného kurzu"},"personal_data":{"title":"Osobní data","description":"Příjemci plateb mohou žádat o dodatečná data, která se odešlou spolu s plabou. Tato data nejsou s nikým sdílena bez vašeho souhlasu, vždy budete dotázání, zda si opravdu přejete tato data odeslat zároveň s vaši platbou."},"name":{"title":"Jméno","subtitle":"","placeholder":"Vložte své jméno"},"email":{"title":"Email","subtitle":"","placeholder":"Vložte svou e-mailovou adresu"},"change_password":{"title":"Změnit heslo pro odemčení","subtitle":"","screen_reader":"Změnit heslo pro odemčení","choose_password":{"label":"Vložte nové heslo pro odemčení:"},"confirm_password":{"label":"Potvrďte nové heslo:"},"submit":{"label":"Změnit"},"errors":{"enter_password":"Prosím vložte nové heslo pro odemčení.","confirm_password":"Prosím potvrďte své heslo.","mismatched_password":"Hesla se neshodují."},"success":"Změna hesla proběhla úspěšně"},"nostr":{"title":"Nostr","hint":"je jednoduchý otevřený protokol, jehož snahou je vytvořit necenzurovatelné sociální sítě. Nostr pracuje s kryptografickými klíči. Pro publikování jakékoliv zpravy přes tento protokol, je vždy nutné zprávu podepsat svým klíčem a odeslat ji několika relé. Můžete použít Alby ke správě svého Nostr klíče. Většina Nostr aplikací vám pak umožní jednoduché použití klíče přímo z doplňku Alby.","private_key":{"title":"Privátní klíč","subtitle":"Tato sekce je přesunuta na stránku s účty, protože klíče se týkají účtů.","go_to":"Jít do správy účtů"}}},"send":{"title":"Odeslat","input":{"label":"Příjemce","hint":"Faktura, Lightning adresa nebo LNURL"}},"lnurlpay":{"amount":{"label":"Částka"},"comment":{"label":"Komentář"},"name":{"label":"Jméno"},"email":{"label":"Email"},"success":"Úspěch, platba byla odeslána!"},"lnurlauth":{"title":"Autentizace","content_message":{"heading":"Chcete se přihlásit do"},"submit":"Přihlásit","success":"Úspěšné přihlášení na {{name}}","errors":{"status":"Chyba: Stav autentizace není v pořádku"}},"lnurlchannel":{"title":"Žádost o kanál","content_message":{"heading":"Žádost o kanál z uzlu"},"success":"Žádost o kanál odeslána úspěšně na {{name}}"},"lnurlwithdraw":{"title":"Výběr","content_message":{"heading":"Částka"},"amount":{"label":"Částka"},"success":"Žádost o výber částky {{amount}} byla úspěšně odeslána {{sender}}"},"receive":{"title":"Přijmout","actions":{"create_invoice":"Vytvořit fakturu"},"amount":{"label":"Částka","placeholder":"Částka v satoshi..."},"description":{"label":"Popisek","placeholder":"Např. kdo tuto platbu odesílá?"},"success":"Platba přijata!","payment":{"waiting":"čekání na platbu...","status":"Zkontrolovat stav platby"}},"publishers":{"publisher":{"allowance":{"title":"Příspěvek","used_budget":"použité satoshi"}},"title":"Vaše ⚡ webové stránky","description":"Webové stránky, na kterých jste v minulosti použili Alby","no_info":"Vypadá to, že jste Alby ještě na žádné webové stránce nepoužili.","discover":"Prozkoumat webové stránky"},"make_invoice":{"title":"Vytvořit fakturu","amount":{"label":"Částka (v satoshi)"},"memo":{"label":"Poznámka"},"errors":{"amount_too_small":"Částka je menší než minimum","amount_too_big":"Částka převyšuje maximum"}},"confirm_sign_message":{"title":"Podepsat","content":"Tato webová stránka vás žádá o podpis:"},"confirm_keysend":{"title":"Schválit platbu","success":"Platba odeslána! Preimage: {{preimage}}","payment_summary":{"description":"Platba odeslána na: {{destination}}"}},"keysend":{"title":"Odeslat","success":"Platba odeslána! Preimage: {{preimage}}","receiver":{"label":"Platba odeslána na"},"amount":{"label":"Částka (v satoshi)"}},"confirm_payment":{"title":"Schválit platbu","success":"Platba v hodnote {{amount}} byla úspěšná!","actions":{"pay_now":"Zaplatit"}},"confirm_request_permission":{"title":"Schválit žádost","allow":"Dovolit této stránce spustit:","always_allow":"Zapamatovat si mé volby a nikdy se už neptat"},"nostr":{"title":"Nostr","allow":"Dovolit této stránce:","block_and_ignore":"Zablokovat a ignorovat {{host}}","allow_sign":"Povolit {{host}} podepsání:","block_added":"{{host}} přidán do seznamu blokovaných, prosím znovu načtěte webovou stránku.","content":"Tato webová stránka vás žádá o podpis:"},"choose_path":{"other":{"title":"Jiné peněženky","connect":"Připojit"},"alby":{"title":"Alby","connect":"Připojit se s Alby"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Heslo"},"confirm_password":{"label":"Potvrďte heslo"},"errors":{"enter_password":"Prosím zadejte heslo.","confirm_password":"Prosím potvrďte své heslo.","mismatched_password":"Hesla se neshodují."}}}},"discover":{"title":"Prozkoumejte ekosystém Lightningu ⚡️","description":"Webové stránky a aplikace, kde je možné Alby používat","list":{"trading":"Obchodování","gaming":"Hraní her","entertainment":"Zábava","shopping":"Nakupování","nostr":"Nostr","miscellaneous":"Různé","showcases":"Příklady užití"},"tips":{"title":"Vaše Alby peněženka je připravena","description":"Pár tipů než začnete","top_up_wallet":{"title":"⚡️ Dobít peněženku","description":"Vytvořte lightning fakturu, pošlete si bitcoiny a začněte používat Alby v ekosystému lightning"},"demo":{"description":"Objevte vše, co lze s Alby dělat, na naší demo stránce","title":"🕹️ Vyzkoušejte demo Alby"}}},"distributions":{"title":"Připojit k {{name}}","raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"btcpay":{"name":"BTCPay"},"start9":{"name":"Start9"},"umbrel":{"name":"Umbrel"},"citadel":{"name":"Citadel"}}},"y0":{"password":"Heslo","advanced":"Pokročilé","success":"Úspěch","error":"Chyba","settings":"Nastavení","connected_sites":"","sats_one":"sat","sats_other":"satů","loading":"načítání","amount":"Částka","optional":"Volitené","feedback":"Zpětná vazba","copied":"Zkopírováno!","description":"Popis","description_full":"Plný popis","success_message":"{{amount}}{{fiatAmount}} odeslána na {{destination}}","response":"Odezva","message":"Zpráva","help":"Pomoc","actions":{"back":"Zpět","delete":"Smazat","edit":"Upravit","next":"Další","open":"Otevřít","cancel":"Zrušit","confirm":"Potvrdit","continue":"Pokračovat","connect":"Připojit","lock":"Uzamčít","unlock":"Odemknout","send":"Odeslat","save":"Uložit","receive":"Přijmout","close":"Zavřít","export":"Exportovat","remove":"Odstranit","copy":"Zkopírovat","copy_invoice":"","log_in":"Přihlásit se","receive_again":"Přijmout další platbu","remember":"Zapamatovat moji volbu a nikdy se už neptat"},"errors":{"connection_failed":"Připojení se nezdařilo","payment_failed":"Platba se nezdařila"},"confirm_password":"Potvrďte heslo","accounts":"Účty","discover":"Objevovat"},"wx":{"allowance_menu":{"confirm_delete":"Jste si jisti, že chcete tuto webovou stránku smazat?","hint":"Tato akce vyresetuje váš aktuální rozpočet","new_budget":{"label":"Nový rozpočet"},"enable_login":{"title":"Povolit přihlášení k webovým stránkám","subtitle":"Automaticky přihlásit bez potvrzení, když to webová stránka vyžádá."},"edit_allowance":{"title":"Upravit příspěvek","screen_reader":"Možnosti příspěvku"},"edit_permissions":"Upravit oprávnění"},"qrcode_scanner":{"title":"Skenovat QR kód","actions":{"start_scanning":"Začít skenovat","stop_scanning":"Zastavit skenování"},"errors":{"allow_camera_access":"Prosím povolte přístup kamery ve svém nastavení."}},"transactions_table":{"fee":"Poplatek","preimage":"Preimage","received":"Přijato","sent":"Odesláno","boostagram":{"sender":"Odesílatel","message":"Zpráva","app":"Aplikace","podcast":"Podcast"},"open_location":"Otevřít webovou stránku"},"budget_control":{"remember":{"label":"Zapamatovat a nastavit rozpočet","description":"Můžete nastavit zůstatek tak, aby nebylo požadováno potvrzení o platbách, dokud nebude vyčerpán."},"budget":{"label":"Rozpočet"}},"toasts":{"connection_error":{"what_you_can_do":"Co můžete dělat:","double_check":"Znovu překontrolujte detaily spojení","if_ssl_errors":"a pokud vidíte SSL chyby (například ERR_CERT_AUTHORITY_INVALID), klikněte na \\"pokročilé\\" a pokračujte přijetím certifikátu.","visit_guides":"Navštivte naše návody pro další pomoc"},"login_failed":{"password_reset":"Zapomněli jste heslo? Klikněte zde"},"errors":{"invalid_credentials":"Chybné heslo. Prosím zkontrolujte své heslo a emailovou adresu a zkuste to znovu."}},"account_menu":{"screen_reader":"Přepnout rozbalovací nabídku","title":"Změnit účet","options":{"account":{"add":"Přidat nový účet","manage":"Spravovat účty"}}},"publishers_table":{"payments":"platby"},"badge":{"label":{"auth":"PŘIHLÁŠENÍ"}}},"mk":{"lnd":{"lookupinvoice":"Vyhledat detaily o faktuře","getinfo":"Získat informace o uzlu","disconnectpeer":"Odpojit se od vzdáleného uzlu","listpeers":"Získat seznam všech aktuálně aktivních peerů","connectpeer":"Navázet spojení se vzdáleným uzlem","listchannels":"Získat popis všech otevřených kanálů","estimatefee":"Odhadnout sazbu poplatku a celkové poplatky za transakci","listinvoices":"Získat seznam všech faktur","channelbalance":"Získat přehled o celkových prostředcích napříč všemi otevřenými kanály","walletbalance":"Získat celkové neutracené výstupy (UTXO) peněženky","getnetworkinfo":"Získat základní statistiky o známém grafu kanálů","openchannel":"Otevřít nový kanál","listpayments":"Získat seznam všech odchozích plateb","verifymessage":"Verifikovat podpis zprávy","sendtoroute":"Provést platbu přes zadanou cestu","addinvoice":"Vytvořit nové faktury","routermc":"Přečíst vnitřní kontrolní stav","getchaninfo":"Získat oznámení sítě pro daný kanál","getnodeinfo":"Získat informace o kanálu pro daný uzel","queryroutes":"Vyhledat možné cesty","gettransactions":"Získat seznam všech transakcí týkajících se dané peněženky","decodepayreq":"Dekódovat řetězec žádosti o platbu"},"commando":{"setchannel":"Konfigurace poplatků / rozsahu htlc oznamovaného pro kanál","disconnect":"Uzavřít existující spojení s uzlem","connect":"Navázat nové spojení s jiným uzlem","bkpr-listbalances":"Seznam všech současných i minulých zůstatků účtu","checkmessage":"Zkontrolovat, že byl podpis vygenerován zadaným uzlem","decode":"Dekódovat řetězec bolt11/bolt12/runu","decodepay":"Zkontrolovat a zparsovat řetězec bolt11","feerates":"Vrátit sazby poplatků, které CLN použije","fundchannel":"Otevřít platební kanál s uzlem provedením tzv. funding transakce","getinfo":"Získat souhrn o uzlu","offer":"Vytvořit nabídku","sendpay":"Odeslat platbu přes danou cestu","listpeers":"Zobrazit uzly, které jsou připojeny nebo mají otevřený kanál s tímto uzlem","listsendpays":"Získá stav všech sendpay příkazů","listpays":"Získá stav všech platebních příkazů","listtransactions":"Seznam transakcí sledovaných v peněžence","pay":"Odeslat platbu na BOLT11 fakturu","keysend":"Odeslat platbu na jiný uzel","listinvoices":"Získat status všech faktur","listnodes":"Vypsat uzly, o kterých se uzel dozvěděl prostřednictvím gossip zpráv","listoffers":"Vypsat všechy nabídky nebo získat konkrétní nabídku","multifundchannel":"Otevřít více platebních kanálů s uzly provedením jedné (funding) transakce","signmessage":"Vytvořit podpis z tohoto uzlu","getroute":"Najít nejlepší cestu pro platbu na lightning uzel","listfunds":"Vypsat seznam všech dostupných prostředků","listforwards":"Zobrazit seznam všech htlc, které se uzel pokusil předat dále","invoice":"Vytvořit novou platební fakturu"},"nostr":{"nip04encrypt":"Zašifrovat data","getpublickey":"Přečíst svůj veřejný klíč","nip04decrypt":"Dešifrovat data","signmessage":"Podepsat zprávu klíčem"},"lnc":{"estimatefee":"Odhadnout sazbu poplatku a celkové poplatky za transakci","lookupinvoice":"Vyhledat detaily o faktuře","queryroutes":"Vyhledat možné cesty","verifymessage":"Verifikovat podpis zprávy","sendtoroute":"Provést platbu přes zadanou cestu","decodepayreq":"Dekódovat řetězec žádosti o platbu","routermc":"Přečíst vnitřní kontrolní stav","getinfo":"Získat informace o uzlu","walletbalance":"Získat celkové neutracené výstupy (UTXO) peněženky","listpeers":"Získat seznam všech aktuálně aktivních peerů","addinvoice":"Vytvořit nové faktury","listchannels":"Získat popis všech otevřených kanálů","listinvoices":"Získat seznam všech faktur","channelbalance":"Získat přehled o celkových prostředcích napříč všemi otevřenými kanály","openchannel":"Otevřít nový kanál","disconnectpeer":"Odpojit se od vzdáleného uzlu","getchaninfo":"Získat oznámení sítě pro daný kanál","getnetworkinfo":"Získat základní statistiky o známém grafu kanálů","getnodeinfo":"Získat informace o kanálu pro daný uzel","gettransactions":"Získat seznam všech transakcí týkajících se dané peněženky","listpayments":"Získat seznam všech odchozích plateb","connectpeer":"Navázet spojení se vzdáleným uzlem"}}}'),St=JSON.parse('{"xk":{"welcome":{"title":"Velkommen til Alby","set_password":{"title":"Angiv en nøglekode","description":"Dette kodeord bruges til at beskytte din wallet og giver adgang til browserudvidelsen. Det kan ikke nulstilles, og er ikke den samme som adgangskoden til din Alby-konto.","choose_password":{"label":"Vælg en nøglekode:"},"confirm_password":{"label":"Lad os se, om du skrev det korrekt:"},"errors":{"enter_password":"Indtast en adgangskode.","confirm_password":"Bekræft din adgangskode.","mismatched_password":"Adgangskoderne er forskellige."}},"test_connection":{"ready":"Super, så er du klar!","initializing":"Forbereder din konto. Vent venligst, dette tager et øjeblik...","connection_error":"Fejl på forbindelse","review_connection_details":"Kontroller dine forbindelsesoplysninger.","connection_taking_long":"Etablering af forbindelse går lidt langsomt...Er dine oplysninger korrekte? Er der kontakt til din node?","contact_support":"Kontakt support@getalby.com hvis du behøver hjælp","actions":{"delete_edit_account":"Slet ugyldig konto og rediger igen"}}},"choose_path":{"alby":{"title":"Alby"},"other":{"title":"Andre wallets","connect":"Opret forbindelse"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Adgangskode"},"confirm_password":{"label":"Bekræft adgangskoden"},"errors":{"enter_password":"Indtast en adgangskode.","confirm_password":"Bekræft din adgangskode.","mismatched_password":"Adgangskoderne er forskellige."}}}},"choose_connector":{"title":"Opret forbindelse til Lightning-wallet","description":"Opret forbindelse til din eksterne Lightning-wallet eller node","lnd":{"title":"LND","page":{"title":"Opret forbindelse til din LND-node","description":"Du skal bruge din nodes URL og en macaroon med tilladelse til at læse og sende (fx admin.macaroon)"},"url":{"label":"REST API vært og port","placeholder":"https://din-nodes-url:8080"},"macaroon":{"label":"Macaroon (HEX-format)"},"drag_and_drop":"Træk din macaroon herhen eller <0>find den</0>","errors":{"connection_failed":"Forbindelse kunne ikke oprettes. Er dine LND-oplysninger korrekte?"}},"lnc":{"title":"LND med LNC","page":{"title":"Opret forbindelse til din LND-node","description":"Start en ny session i terminal (litd) for at få en ny forbindelseskode, og skriv den her"},"pairing_phrase":{"label":"Din forbindelseskode ","placeholder":"hemmelig kode til sats-samlingen"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Opret forbindelse til LNDHub","description":"Indsæt dine adgangsoplysninger til LNDHub her, eller aflæs QR-koden med dit webkamera."},"uri":{"label":"LNDHub export URI"},"errors":{"invalid_uri":"Ugyldig LNDHub URI","connection_failed":"Forbindelse kunne ikke oprettes. Er din LNDHub URI korrekt?"}},"lnbits":{"title":"LNbits","page":{"title":"Opret forbindelse til <0>LNbits</0>","instructions":"Vælg den wallet du vil oprette forbindelse til i LNbits, åbn den, klik på API-oplysninger og kopier Admin-nøglen. Indsæt den herunder:"},"admin_key":{"label":"LNbits Admin-nøgle","placeholder":"Din admin-nøgle med 32 tegn"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Forbindelse kunne ikke oprettes. Er URL og admin-nøgle korrekte?"}},"eclair":{"title":"Eclair","page":{"title":"Opret forbindelse til <0>Eclair</0>","instructions":"Du skal bruge din adgangskode og URL til Eclair."},"password":{"label":"Eclair adgangskode"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Opret forbindelse til <0>Citadel</0> node","instructions":"Dette virker i øjeblikket ikke, hvis 2FA er slået til."},"password":{"label":"Citadel adgangskode"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Opret forbindelse til <0>Umbrel</0> node","instructions":"Find <0>Connect Wallet</0> i din Umbrels indstillingsmenu. Vælg <0>lndconnect REST</0> og kopier <0>lndconnect URL</0>. (Afhængigt af din opsætning kan du enten bruge den lokale forbindelse eller Tor-forbindelsen.)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://dinnode:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Opret forbindelse til <0>myNode</0>","instructions":"På din myNode-side klikker du på <0>Wallet</0> knappen til din <0>lightning</0> service.<1/> Klik så på knappen <0>Pair Wallet</0> under <0>Status</0> fanen. Skriv din adgangskode, når du bliver spurgt.<1/> Vælg rullemenuen og vælg en koblingstype. Afhængigt af din opsætning kan du enten bruge forbindelsen <0>lightning (REST + Lokal IP)</0> eller forbindelsen <0>lightning (REST + Tor)</0> ."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://dinnode:8080?..."}},"start9":{"title":"Start9","page":{"title":"Opret forbindelse til din <0>Embassy</0> node","instructions":"<0>Note:</0> I øjeblikket understøtter vi kun LND, men vi vil fremover også tilføje support af c-lightning!<1/>I din Embassys indstillingsmenu klikker du på servicen <0>Lightning Network Daemon</0>.<1/>Vælg fanen <0>Properties</0>.<1/>Kopier så <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://dinnode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Opret forbindelse til din <0>RaspiBlitz</0> node","instructions1":"Du skal bruge din nodes onion-adresse og port samt en macaroon med tilladelse til at læse og sende (fx admin.macaroon).<1/><1/><0>SSH</0> ind til din <0>RaspiBlitz</0>.<1/>Udfør instruktionen <0>sudo cat /mnt/hdd/tor/lndrest/hostname</0>.<1/>Kopier og indsæt <0>.onion</0> adressen i nedenstående indtastningsfelt.<1/>Tilføj din <0>port</0> efter onion-adressen, standardporten er <0>:8080</0>.","instructions2":"Vælg <0>CONNECT</0>.<1/>Vælg <0>EXPORT</0>.<1/>Vælg <0>HEX</0>.<1/>Kopier <0>adminMacaroon</0>.<1/>Sæt din macaroon ind i indtastningsfeltet nedenunder."},"rest_api_host":{"label":"REST API host","placeholder":"din-nodes-onion-adresse:port"}},"blink":{"title":"Blink Wallet","page":{"title":"Opret forbindelse til <0>Blink Wallet</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Opret forbindelse til <0>Bitcoin Jungle Wallet</0>"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Opret forbindelse til din BTCPay LND-node","instructions":"Gå til din BTCPayServer og log på som administrator. Gå til Server Settings > Services > LND Rest - See information. Klik så på \\"See QR Code information\\" og kopier QR-kodens data. Indsæt dem herunder:"},"config":{"label":"Konfigurationsoplysninger","placeholder":"config=https://din-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Forbindelsen kunne ikke oprettes. Er BTCPay-forbindelsens URL korrekt og tilgængelig?"}},"commando":{"title":"Core Lightning","page":{"title":"Opret forbindelse til din Core Lightning-node","instructions":"Sørg for at have Core Lightning-versionen 0.12.0 eller nyere, at kommandomodulet kører og at din node kan tilgås på lightning-netværket. Opret en rune ved at køre \'lightning-cli commando-rune\'."},"host":{"label":"Vært"},"pubkey":{"label":"Offentlig nøgle"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Websocket-proxy"},"privKey":{"label":"Lokal privat nøgle (autogenereret)"},"config":{"label":"Konfigurationsdata","placeholder":"config=https://din-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Forbindelse kunne ikke oprettes. Er din Core Lightning-node online, og er kommandomodulet i brug?"}}},"home":{"actions":{"send_satoshis":"⚡️ Send Satoshi ⚡️","enable_now":"Aktiver nu"},"allowance_view":{"no_transactions":"Endnu ingen transaktioner på <0>{{navn}}</0>."},"default_view":{"is_blocked_hint":"Alby er i øjeblikket deaktiveret på {{vært}}","block_removed":"{{vært}} blev aktiveret. Indlæs hjemmesiden igen."}},"accounts":{"title":"Konti","account_view":{"title1":"Kontooplysninger","title2":"Rediger konto","name":{"title":"Navn","placeholder":"Kontonavn"},"export":{"title":"Eksporter konto","screen_reader":"Eksporter kontooplysninger","waiting":"venter på LndHub-data...","your_ln_address":"Din lightningadresse:","export_uri":"URI til LNDHub-adgangsoplysninger","scan_qr":"Importer denne wallet til Zeus eller BlueWallet ved at skanne QR-koden."},"nostr":{"title":"Nostr","hint":"er en enkel og åben protokol, der bruges til at skabe u-censorerbare sociale netværk. Nostr anvender kryptografisk kode. Når du publicerer noget, underskriver du det med din nøgle, og sender det til flere netværksrelæer. Du kan bruge Alby til opbevaring af din Nostr-nøgle. Mange Nostr-applikationer vil derefter lade dig bruge nøglen direkte fra Alby.","private_key":{"title":"Opbevar din nøgle","subtitle":"Indsæt din private nøgle eller generer en ny. Husk at tage en sikkerhedskopi af din private nøgle, før du genererer en ny. <0>Læs mere »</0>","success":"Den private nøgle blev krypteret & gemt.","successfully_removed":"Den private nøgle blev fjernet.","label":"Privat nøgle"},"public_key":{"label":"Offentlig nøgle"},"generate_keys":{"title":"Generer en ny Nostr-nøgle","screen_reader":"Generer en ny Nostr-nøgle til din konto","hint":"Du kan generere en vilkårlig nøgle eller få nøglen fra kontooplysningerne (med et underskrevet standardudtryk). <0>Læs mere »</0>","actions":{"random_keys":"Generer en vilkårlig nøgle","derived_keys":"Få en kontospecifik nøgle"}},"actions":{"generate":"Generer en ny nøgle"},"errors":{"failed_to_load":"Nostr-nøglen kunne ikke anvendes. Er det en gyldig Nostr-nøgle?"}},"remove":{"title":"Fjern denne konto","subtitle":"Alle de tilknyttede puljer bliver slettet. Du skal være helt sikker."},"actions":{"remove_account":"Fjern konto","export":"Eksporter"}},"actions":{"add_account":"Tilføj konto"}},"unlock":{"unlock_to_continue":"Lås op for at fortsætte","unlock_password":"Din nøglekode","help_contact":{"part1":"Brug for hjælp? Kontakt","part2":"Albys support"},"unlock_error":{"help":"Dine kontooplysninger er krypteret med din nøglekode. Hvis du er sikker på at du har glemt din nøglekode, må du nulstille og tilføje din lightning konto igen.","link":"Nulstil nu, og tilføj en ny konto"},"errors":{"invalid_password":"Ugyldig adgangskode"}},"settings":{"title":"Indstillinger","browser_notifications":{"title":"Browsermeddelelser","subtitle":"Meddelelser om betaling og godkendelser."},"website_enhancements":{"title":"Ekstra hjemmesidefunktioner","subtitle":"Donationer på Twitter, YouTube, etc."},"lnurl_auth":{"title":"LNURL-Auth","hint":"er en generisk autentifikationsprotokol. Den autentificerer brugeren med digital signatur. Protokollen kræver ikke andre autentifikationsoplysninger som fx adgangskode, e-mail, brugernavn eller lignende. Med Alby kan du bruge dine lightning-konti til at logge sikkert ind på hjemmesider. For at blive kompatible med andre wallets måtte vi ændre et par ting, som du kan konfigurere her. <0>Disse indstillinger skal helst slås fra.</0> Brug dem kun, hvis du har gamle konti.","legacy_lnurl_auth_202207":{"title":"Gamle LNURL-Auth","subtitle":"Generering af nøgle med LNURL-auth er ændret (juli 2022). Alby var ikke kompatibel med andre implementeringer. Dette blev ændret, men nu bruges der andre nøgler til at logge ind. Hvis du tidligere brugte LNURL-auth til at logge ind, kan du fortsat aktivere den gamle metode. Denne mulighed vil blive fjernet, husk at skifte til det nye log ind."},"legacy_lnurl_auth":{"title":"Forældet signatur til LNDhub and LNbits","subtitle":"Signatur og log ind med LNDhub (fx BlueWallet) og LNBits-konti er blevet ændret (marts 2022). Hvis du loggede ind med disse konti, kan du fortsat aktivere den gamle signatur-metode. Denne mulighed vil blive fjernet, husk at skifte til det nye log ind."}},"camera_access":{"title":"Adgang til kamera","subtitle":"Til at skanne QR-koder","allow":"Tillad adgang til kamera","granted":"Tilladelse givet"},"language":{"title":"Sprog","subtitle":"Oversættelsen er endnu ikke 100% færdig. <0>Hjælp os med at oversætte Alby til dit sprog!</0>"},"theme":{"title":"Tema","subtitle":"Brug Alby med mørk eller lys indstilling","options":{"dark":"Mørk","light":"Lys","system":"System"}},"show_fiat":{"title":"Sats til fiat","subtitle":"Konverter altid til den valgte valuta fra den valgte børs"},"currency":{"title":"Valuta","subtitle":"Vis også beløb i denne valuta"},"exchange":{"title":"Børs-kilde","subtitle":"Kilde til bitcoinkurser"},"personal_data":{"title":"Personoplysninger","description":"Betalingsmodtagere kan anmode om at yderligere oplysninger medsendes en betaling. Oplysningerne deles ikke med nogen uden dit samtykke, du bliver altid spurgt før oplysningerne medsendes en betaling."},"name":{"title":"Navn","subtitle":"","placeholder":"Indtast dit navn"},"email":{"title":"E-mail","subtitle":"","placeholder":"Indtast din e-mailadresse"},"change_password":{"title":"Ændring af nøglekode","subtitle":"","screen_reader":"Ændring af nøglekode","choose_password":{"label":"Indtast en ny nøglekode:"},"confirm_password":{"label":"Bekræft ny kode:"},"submit":{"label":"Ændring"},"errors":{"enter_password":"Indtast en ny nøglekode.","confirm_password":"Bekræft din kode.","mismatched_password":"Koderne er forskellige."},"success":"Koden blev ændret"},"nostr":{"title":"Nostr","hint":"er en enkel og åben protokol, der bruges til at skabe u-censorerbare sociale netværk. Nostr anvender kryptografisk kode. Når du publicerer noget, underskriver du det med din nøgle, og sender det til flere netværksrelæer. Du kan bruge Alby til opbevaring af din Nostr-nøgle. Mange Nostr-applikationer vil derefter lade dig bruge nøglen direkte fra Alby.","private_key":{"title":"Privat nøgle","subtitle":"Dette afsnit blev flyttet til kontosiden, da nøgler nu er kontospecifikke.","go_to":"Gå til konti"}}},"send":{"title":"Send","input":{"label":"Modtager","hint":"Faktura, lightningadresse eller LNURL"}},"lnurlpay":{"amount":{"label":"Beløb"},"comment":{"label":"Kommentar"},"name":{"label":"Navn"},"email":{"label":"E-mail"},"success":"Hurra, betalingen er sendt!"},"lnurlauth":{"title":"Godkendelse","content_message":{"heading":"Vil du logge ind på"},"submit":"Log ind","success":"Logget ind på {{navn}}","errors":{"status":"Fejl: Auth-status er ikke ok"}},"lnurlchannel":{"title":"Anmodning om kanal","content_message":{"heading":"Anmod noden om en kanal"},"success":"Anmodning om kanal blev sendt til {{navn}}"},"lnurlwithdraw":{"title":"Hæv","content_message":{"heading":"Beløb"},"amount":{"label":"Beløb"},"success":"Hæveanmodning om {{beløb}} blev sendt til {{afsender}}"},"receive":{"title":"Modtag","actions":{"create_invoice":"Generer faktura"},"amount":{"label":"Beløb","placeholder":"Beløb i Satoshi..."},"description":{"label":"Beskrivelse","placeholder":"Fx hvem sender denne betaling?"},"success":"Betaling modtaget!","payment":{"waiting":"venter på betaling...","status":"Tjek betalingsstatus"}},"discover":{"title":"Udforsk Lightnings ⚡️ økosystem","description":"Hjemmesider og web-apps hvor Alby kan bruges","list":{"trading":"Handel","gaming":"Spil","entertainment":"Underholdning","shopping":"Indkøb","miscellaneous":"Diverse","showcases":"Eksempler","nostr":"Nostr"},"tips":{"title":"Din Alby-wallet er klar","description":"Et par råd der får dig på vingerne🐝","top_up_wallet":{"title":"⚡️ Fyld din wallet op","description":"Generer en lightning-faktura, send lidt bitcoin til dig selv og begynd at bruge Alby i lightnings økosystem"},"demo":{"title":"🕹️ Få en prøvetur med Alby","description":"Se alle de ting, du kan med Alby på vores præsentationsside"}}},"publishers":{"title":"Dine ⚡ hjemmesider","description":"Hjemmesider, hvor du tidligere har brugt Alby","no_info":"Det ser ud til, at du endnu ikke har brugt Alby på nogen hjemmesider.","discover":"Opdag hjemmesider","publisher":{"allowance":{"title":"Pulje","used_budget":"sats brugt"}}},"make_invoice":{"title":"Generer faktura","amount":{"label":"Beløb (Satoshi)"},"memo":{"label":"Besked"},"errors":{"amount_too_small":"Beløb er under minimum","amount_too_big":"Beløb overstiger maksimum"}},"confirm_sign_message":{"title":"Underskriv","content":"Denne hjemmeside beder dig underskrive:"},"confirm_keysend":{"title":"Godkend betaling","success":"Betaling sendt! Preimage: {{preimage}}","payment_summary":{"description":"Send betaling til: {{bestemmelsessted}}"}},"keysend":{"title":"Send","success":"Betaling sendt! Preimage: {{preimage}}","receiver":{"label":"Send betaling til"},"amount":{"label":"Beløb (Satoshi)"}},"confirm_payment":{"title":"Godkend betaling","success":"Betaling af {{beløb}} blev udført!","actions":{"pay_now":"Betal nu"}},"confirm_request_permission":{"title":"Godkend anmodning","allow":"Tillad denne hjemmeside at udføre:","always_allow":"Husk mit valg, og spørg ikke igen"},"nostr":{"title":"Nostr","allow":"Tillad denne hjemmeside at:","content":"Denne hjemmeside beder dig underskrive:","allow_sign":"Tillad {{vært}} at underskrive:","block_and_ignore":"Bloker og ignorer {{vært}}","block_added":"{{vært}} blev føjet til blokeringslisten, indlæs hjemmesiden igen."}},"y0":{"password":"Adgangskode","confirm_password":"Bekræft adgangskode","advanced":"Avanceret","success":"Succes","error":"Fejl","settings":"Indstillinger","accounts":"Konti","discover":"Opdag","connected_sites":"","sats_one":"sat","sats_other":"sat","loading":"indlæser","amount":"Beløb","optional":"Valgfri","feedback":"Tilbagemelding","copied":"Kopieret!","description":"Beskrivelse","description_full":"Komplet beskrivelse","success_message":"{{beløb}}{{fiatBeløb}} sendt til {{bestemmelsessted}}","response":"Svar","message":"Besked","help":"Hjælp","actions":{"back":"Tilbage","delete":"Slet","edit":"Rediger","next":"Næste","open":"Åbn","cancel":"Annuller","confirm":"Bekræft","continue":"Fortsæt","connect":"Opret forbindelse","lock":"Lås","unlock":"Lås op","send":"Send","save":"Gem","receive":"Modtag","receive_again":"Modtag en ny betaling","close":"Luk","export":"Eksporter","remove":"Fjern","copy":"Kopier","copy_invoice":"","log_in":"Log ind","remember":"Husk mit valg, og spørg ikke igen"},"errors":{"connection_failed":"Forbindelse kunne ikke oprettes","payment_failed":"Betaling fejlede"}},"wx":{"allowance_menu":{"confirm_delete":"Er du sikker på, du vil slette denne hjemmeside?","hint":"Dette nulstiller det aktuelle budget","new_budget":{"label":"Nyt budget"},"enable_login":{"title":"Aktiver log ind til hjemmeside","subtitle":"Log ind automatisk uden bekræftelse efter anmodning fra hjemmesiden."},"edit_allowance":{"title":"Rediger pulje","screen_reader":"Indstillinger for pulje"},"edit_permissions":"Rediger tilladelser"},"qrcode_scanner":{"title":"Skan QR-kode","actions":{"start_scanning":"Start med at skanne","stop_scanning":"Stop med at skanne"},"errors":{"allow_camera_access":"Giv adgang til kameraet i indstillingsvinduet."}},"transactions_table":{"fee":"Betaling","preimage":"Præ-visning","received":"Modtaget","sent":"Sendt","boostagram":{"sender":"Afsender","message":"Meddelelse","app":"App","podcast":"Podcast"},"open_location":"Åbn hjemmeside"},"budget_control":{"remember":{"label":"Husk og fastlæg et budget","description":"Du kan angive et beløb, så du ikke behøver bekræfte betalinger indtil det er opbrugt."},"budget":{"label":"Budget"}},"toasts":{"connection_error":{"what_you_can_do":"Dette kan du gøre:","double_check":"Dobbelttjek dine forbindelsesoplysninger","if_ssl_errors":"og hvis der er SSL-fejl (fx RR_CERT_AUTHORITY_INVALID), så klik på \\"avanceret\\" og fortsæt med at acceptere certifikatet.","visit_guides":"Find yderligere hjælp i vores vejledninger"},"login_failed":{"password_reset":"Glemt din adgangskode? Klik her"},"errors":{"invalid_credentials":"Ugyldig adgangskode. Kontroller din adgangskode og e-mailadresse, og prøv igen."}},"account_menu":{"screen_reader":"Skift drop-down","title":"Skift konto","options":{"account":{"add":"Tilføj en ny konto","manage":"Administrer konti"}}},"publishers_table":{"payments":"betalinger"},"badge":{"label":{"auth":"LOG IND"}}},"mk":{"nostr":{"getpublickey":"Læs din offentlige nøgle","nip04encrypt":"Krypter data","nip04decrypt":"De-krypter data","signmessage":"Underskriv meddelelse med din nøgle"},"commando":{"bkpr-listbalances":"Liste over alle nuværende og tidligere kontosaldi","checkmessage":"Verificer, at signaturen blev genereret af en bestemt node","connect":"Opret en ny forbindelse til en anden node","decode":"Afkod en bolt11/bolt12/rune-streng","decodepay":"Tjek og parse en bolt11-streng","disconnect":"Luk en eksisterende forbindelse til en peer","feerates":"Vis de betalingstakster CLN vil anvende","fundchannel":"Åbn en betalingskanal til en peer ved at sende en betalingstransaktion","getinfo":"Få nodens nøgleoplysninger","getroute":"Find den bedste betalingsrute til en lightning-node","invoice":"Opret en betalingsforventning","keysend":"Send en betaling til en anden node","listforwards":"Vis alle de htlc, der er forsøgt sendt","listfunds":"Vis alle tilgængelige midler","listinvoices":"Få status på alle faktura","listnodes":"Vis de noder, som noden har kendskab til via gossip-beskeder","listoffers":"Vis alle tilbud eller få et specifikt tilbud","listpays":"Giver status for alle betalingsinstruktioner","listpeers":"Vis noder, der er forbundne med eller har åbne kanaler til denne node","listsendpays":"Giver status for alle sendpay-instruktioner","listtransactions":"Viser transaktioner, der er gemt i din wallet","multifundchannel":"Åbn flere betalingskanaler til noder ved at sende en enkelt betalingstransaktion","offer":"Opret et tilbud","pay":"Send en betaling til en BOLT11-faktura","sendpay":"Send en betaling via en rute","setchannel":"Konfigurer den betaling/ det htlc-interval, der annonceres for kanalen","signmessage":"Lav en signatur fra denne node"},"lnd":{"getinfo":"Hent node-oplysningerne","listchannels":"Få en beskrivelse af alle åbne kanaler","listinvoices":"Hent en oversigt over alle faktura","channelbalance":"Hent en rapport over samlede midler i alle åbne kanaler","walletbalance":"Hent summen af ubrugte output i denne wallet","openchannel":"Åbn en ny kanal","connectpeer":"Opret forbindelse til en peer på nettet","disconnectpeer":"Afbryd forbindelsen til en peer på nettet","estimatefee":"Beregn betalingstakst og samlet betaling for en transaktion","getchaninfo":"Hent netværksannonceringen for den givne kanal","getnetworkinfo":"Hent basisoplysningerne for det kendte kanalsystem","getnodeinfo":"Hent oplysninger om en nodes kanaler","gettransactions":"Hent en liste over alle transaktioner, der er relevante for denne wallet","listpayments":"Hent en liste over udgående betalinger","listpeers":"Hent en liste over alle aktive peers","lookupinvoice":"Se faktura-oplysningerne","queryroutes":"Forespørg om en mulig rute","verifymessage":"Verificer en signatur over en meddelelse","sendtoroute":"Foretag en betaling via den angivne rute","decodepayreq":"Afkod en betalingsanmodnings-streng","routermc":"Aflæs tilstanden for den interne mission control","addinvoice":"Opret nye faktura"},"lnc":{"getinfo":"Hent oplysninger om noden","listchannels":"Hent en beskrivelse af alle åbne kanaler","listinvoices":"Hent en liste over alle faktura","channelbalance":"Hent en rapport over samtlige midler i alle åbne kanaler","walletbalance":"Hent summen af ubrugte output i denne wallet","openchannel":"Åbn en ny kanal","connectpeer":"Opret forbindelse til en peer på nettet","disconnectpeer":"Afbryd forbindelsen til en peer på nettet","estimatefee":"Beregn betalingstaksten og samlet betaling for en transaktion","getchaninfo":"Hent netværksannonceringen for den givne kanal","getnetworkinfo":"Hent basisoplysningerne for det kendte kanalsystem","getnodeinfo":"Hent oplysninger om en nodes kanaler","gettransactions":"Hent en liste over alle transaktioner, der er relevante for denne wallet","listpayments":"Hent en liste over alle udgående betalinger","listpeers":"Hent en liste over alle de peers, der er aktive nu","lookupinvoice":"Se faktura-oplysningerne","queryroutes":"Forespørg om en mulig rute","verifymessage":"Verificer en signatur over en meddelelse","sendtoroute":"Foretag en betaling via den angivne rute","decodepayreq":"Afkod en betalingsanmodnings-streng","routermc":"Aflæs tilstanden for den interne mission control","addinvoice":"Opret nye faktura"}}}'),kt=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"Einen Passcode zum Entsperren festlegen","description":"Mit diesem Passcode kannst du Alby auf diesem Gerät entsperren. Er kann nicht wiederhergestellt werden, kann aber später geändert werden.","choose_password":{"label":"Wähle einen Passcode zum Entsperren:"},"errors":{"mismatched_password":"Die Passcodes stimmen nicht überein.","enter_password":"Bitte gebe einen Passcode ein.","confirm_password":"Bitte bestätige deinen Passcode."},"confirm_password":{"label":"Vergewisse dich, dass du es richtig eingegeben hast:"}},"test_connection":{"review_connection_details":"Bitte überprüfe deine Verbindungsdaten.","actions":{"delete_edit_account":"Ungültiges Konto löschen und erneut bearbeiten"},"ready":"Großartig, du kannst jetzt loslegen!","initializing":"Dein Konto wird initialisiert. Bitte warte, dies kann eine Minute dauern...","connection_error":"Verbindungsfehler","connection_taking_long":"Der Verbindungsversuch dauert länger als erwartet... Sind deine Angaben korrekt? Ist deine Node erreichbar?","contact_support":"Wenn du Hilfe benötigst, wende dich bitte an support@getalby.com"},"title":"Willkommen bei Alby","pin_extension":{"title":"Die Alby Erweiterung anpinnen","description":"Fast fertig. Damit du Alby bequem nutzen kannst, musst du die Erweiterung an die Browser Symbolleiste anheften:","next_btn":"Beginne mit Alby {{icon}}","explanation":"1. Klicke auf <0/> in der oberen rechten Ecke deines Browsers<1/>2. Suche das Symbol für Alby und klicke, um es an die Symbolleiste anzuheften<1/>3. Das war es. Um auf Alby zuzugreifen, klicke einfach auf das Symbol <2/>"}},"choose_connector":{"lnd":{"drag_and_drop":"Ziehe und lege deine Macaroon hier ab oder <0>durchsuche</0>","errors":{"connection_failed":"Verbindung fehlgeschlagen. Sind deine LND-Anmeldeinformationen korrekt?"},"url":{"label":"REST-API-Host und -Port","placeholder":"https://dein-node-url:8080"},"macaroon":{"label":"Macaroon (HEX-Format)"},"page":{"description":"Du benötigst deine Node-URL und einen Macaroon mit Lese- und Sendeberechtigung (z.B. admin.macaroon)","title":"Verbinden mit deiner LND Node"},"title":"LND"},"lndhub_go":{"title":"LNDHub","uri":{"label":"LNDHub-Export-URI"},"errors":{"invalid_uri":"Ungültiger LNDHub-URI","connection_failed":"Verbindung fehlgeschlagen. Ist dein LNDHub-URI korrekt?"},"page":{"title":"Verbinden mit LNDHub","description":"Gebe hier deine LNDHub-Zugangsdaten-URI ein oder scanne den QR-Code mit deiner Webcam."}},"lnbits":{"admin_key":{"label":"LNbits Admin Schlüssel","placeholder":"Dein 32-stelliger Admin-Schlüssel"},"title":"LNbits","page":{"title":"Verbinden mit <0>LNbits</0>","instructions":"Wähle in LNbits die Wallet, die du verbinden möchtest, öffne sie, klicke auf API Info und kopiere den Admin Key. Füge ihn unten ein:"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Verbindung fehlgeschlagen. Hast du die richtige URL und den richtigen Admin-Schlüssel?"}},"mynode":{"page":{"instructions":"Klicke auf deiner myNode Startseite auf die Schaltfläche <0>Wallet</0> für deinen <0>Lightning</0> Service.<1/> Klicke nun auf die Schaltfläche <0>Pair Wallet</0> unter dem Reiter <0>Status</0>. Gib dein Kennwort ein, wenn du dazu aufgefordert wirst.<1/> Wähle das Dropdown-Menü und wähle eine Kopplungsoption. Abhängig von deiner Einrichtung kannst du entweder die <0>lightning (REST + Local IP)</0> Verbindung oder die <0>lightning (REST + Tor)</0> Verbindung verwenden.","title":"Verbinden mit <0>myNode</0>"},"rest_url":{"label":"Indconnect REST URL","placeholder":"lndconnect://deinenode:8080?..."},"title":"myNode"},"umbrel":{"page":{"instructions":"In deinem Lightning Node Dashboard gehst du auf <0>Brieftasche verbinden</0><1/>2. Wähle <0>REST (Tor)</0> oder <0>REST (Lokales Netzwerk)</0> Modus<1/>3. Kopiere die <0>lndconnect URL</0> und füge sie unten ein","title":"Verbinden mit <0>Umbrel</0> Node"},"rest_url":{"label":"Indconnect-REST URL","placeholder":"lndconnect://deinenode:8080?..."},"title":"Umbrel"},"description":"Verbinden mit deinem externen Lightning Wallet oder Node","citadel":{"page":{"instructions":"Das funktioniert aktuell nicht, wenn 2FA ausgewählt ist.","title":"Verbinden mit <0>Citadel</0> Node"},"title":"Citadel","password":{"label":"Citadel Kennwort"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"raspiblitz":{"page":{"instructions1":"Folge diese Schritte:<1/> 1. <0>SSH</0> in deinem <0>Raspiblitz</0><1/>2. Wähle <0>Connect Apps & Show Credentials</0> aus der Liste<1/><0/>3. Wähle <0>Connect Alby to this node</0><1/>4. Drücke <0>OK</0>, um die Verbindungsdaten anzuzeigen<1/><1/>Kopiere den <0>REST API-Host</0> oder die <0>.onion</0>-Adresse, um dich über Tor zu verbinden, und füge sie in das Feld darunter ein.","title":"Verbinden mit deiner <0>RaspiBlitz</0> Node","instructions2":"Kopiere das (admin) <0>Macaroon</0> in die untenstehende Eingabe."},"title":"RaspiBlitz","rest_api_host":{"label":"REST API Host","placeholder":"deine-node-onion-adresse:port"}},"eclair":{"title":"Eclair","page":{"title":"Verbinden mit <0>Eclair</0>","instructions":"Du brauchst deine Eclair URL und dein Kennwort."},"password":{"label":"Eclair Kennwort"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"start9":{"page":{"instructions":"Klicke in deinem Embassy Dashboard auf den <0>Lightning Network Daemon</0> Service.<1/>Wähle den Reiter <0>Properties</0>.<1/>Kopiere nun die <0>LND Connect REST URL.</0>","title":"Verbinden mit deinem <0>Start9 Server</0>"},"rest_url":{"placeholder":"lndconnect://deinenode:8080?...","label":"Indconnect REST URL"},"title":"Start9"},"blink":{"title":"Blink Wallet","page":{"title":"Verbinden mit <0>Blink Wallet</0>"},"token":{"info":"Um deine Brieftasche zu verbinden, generiere einen API-Schlüssel im <0>Blink Dashboard (dashboard.blink.sv)</0>:<br>- logge dich mit deiner E-Mail oder Telefonnummer ein, wenn du Blink bereits nutzt<br>- wenn du noch keinen Account hast, kannst du einen neuen erstellen, indem du dich mit einer Telefonnummer einloggst<br>- erstelle einen neuen Key auf der Registerkarte API Keys<br>- gib ihm einen Namen und wähle den Lese- und Schreibbereich<br>- belasse die Standardeinstellung ohne Ablaufdatum oder wähle einen langen Zeitraum, um zu vermeiden, dass du deine Wallet regelmäßig neu verbinden musst<br>- kopiere den Key (beginnend mit blink_ ) und füge ihn in die Textbox unten ein.<br><br>Die Integration unterstützt derzeit nur die Verwendung der BTC-Wallet.<br>","label":"Gebe deinen API-Schlüssel ein"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Verbinden mit <0>Bitcoin Jungle Wallet</0>"},"token":{"info":"Die {{label}}-Integration mit Alby befindet sich in der Alpha-Phase und wird nur für fortgeschrittene Benutzer empfohlen.<br><br>du kannst deinen Zugriffstoken abrufen, indem du die mobile App aufrufst, auf das Einstellungssymbol klicken und dann dreimal auf die Build-Nummer tippen, um das Entwicklermenü zu öffnen.<br><br>Das Zugriffstoken kann von hier kopiert werden.<br><br>","label":"Gebe deien Access-Token ein"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Verbinden mit deiner BTCPay LND Node","instructions":"Navigiere zu deinem BTCPayServer und melde dich als Administrator an. Gehe zu Servereinstellungen > Dienste > LND-Rest – Siehe Informationen. Klicke dann auf „QR-Code-Informationen anzeigen“ und kopiere die QR-Code-Daten. Füge es unten ein:"},"config":{"label":"Konfigurationsdaten","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Verbindung fehlgeschlagen. Ist die BTCPay Verbindungs URL korrekt und zugänglich?"}},"commando":{"title":"Core Lightning","page":{"title":"Verbinden mit deiner Core Lightning Node","instructions":"Stelle sicher, dass du die Core Lightning Version 0.12.0 oder neuer hast, das Commando-Plugin ausgeführt wird und deine Node über das Llightning Network zugänglich ist. Erstelle eine Rune, indem du „lightning-cli commando-rune“ ausführst."},"host":{"label":"Host"},"pubkey":{"label":"Öffentlicher Schlüssel"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Websocket-Proxy"},"privKey":{"label":"Lokaler privater Schlüssel (automatisch generiert)"},"config":{"label":"Konfigurationsdaten","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Verbindung fehlgeschlagen. Ist deine Core Lightning Node online und verwendet diese das Commando Plugin?"}},"title":"Verbinde Lightning Wallet","lnc":{"title":"Lightning Terminal (LNC)","page":{"title":"Verbinden mit deiner LND Node","description":"1. Öffne Lightning Terminal und wähle <0>Lightning Node Connect</0> in der Seitenleiste.<1/> 2. Klicke auf <0>Erstelle eine neue Sitzung</0><1/>3. Beschrifte die Sitzung, wähle dann die gewünschte Berechtigung und sende sie ab<1/>4. <0>Kopiere die Pairing-Phrase</0> und füge sie hier unten ein."},"pairing_phrase":{"label":"Deine pairing phrase ","placeholder":"geheimer stack sats phrase"}},"umbrel_lightning_node":{"title":"Lightning Node"},"galoy":{"sms_code":{"label":"Gebe deinen SMS-Verifizierungscode ein"},"actions":{"login":"Anmeldung"},"phone_number":{"label":"Gebe deine Rufnummer ein"},"errors":{"setup_failed":"Einrichtung fehlgeschlagen","invalid_token":"Autorisierung fehlgeschlagen. Bitte überprüfe deinen API-Schlüssel und versuche es erneut.","missing_token":"Zugriffstoken fehlt, konnte sich nicht anmelden."}}},"unlock":{"unlock_error":{"link":"Jetzt zurücksetzen und ein neues Konto hinzufügen","help":"Deine Kontodaten werden mit deinem Entsperr-Passcode verschlüsselt. Wenn du deinen Entsperr-Passcode wirklich vergessen hast, musst du dein Lightning Account zurücksetzen und erneut hinzufügen."},"errors":{"invalid_password":"Ungültiger Passcode"},"unlock_to_continue":"Entsperren um fortzufahren","help_contact":{"part1":"Brauchst du Hilfe? Kontaktiere uns unter","part2":"Alby Support"},"unlock_password":"Dein Entsperr-Passcode"},"settings":{"nostr":{"private_key":{"title":"Privater Schlüssel","subtitle":"Dieser Abschnitt wurde auf die Kontenseite verschoben, da die Schlüssel jetzt kontenspezifisch sind.","go_to":"Gehe zu deinen Konten"},"hint":"Es ist ein einfaches und offenes Protokoll, das darauf abzielt, zensurresistente soziale Netzwerke zu schaffen. Nostr arbeitet mit kryptographischen Schlüsseln. Um etwas zu veröffentlichen, signiere es mit deinem Schlüssel und senden es an mehrere Relays. Du kannst Alby verwenden, um deinen Nostr-Schlüssel zu verwalten. Viele Nostr-Anwendungen erlauben dann, einfach den Schlüssel aus der Alby-Erweiterung zu verwenden.","title":"Nostr"},"lnurl_auth":{"legacy_lnurl_auth":{"title":"Legacy Signatur für LNDhub und LNbits","subtitle":"Das Signieren von Nachrichten und die Anmeldung mit LNDhub- (z.B. BlueWallet) und LNbits-Konten wurde geändert (März 2022). Wenn du dich mit diesen Konten angemeldet hast, kannst du noch die alte Signiermethode aktivieren. Diese Option wird später entfernt werden, stelle also sicher, dass du auf das neue Login umsteigst."},"legacy_lnurl_auth_202207":{"subtitle":"Die Schlüsselerzeugung für LNURL-auth hat sich geändert (Juli 2022). Alby war nicht kompatibel mit anderen Implementierungen. Dies wurde geändert, aber jetzt werden andere Anmeldeschlüssel verwendet. Wenn du dich bisher mit LNURL-auth angemeldet hast, kannst du noch die alte Methode aktivieren. Diese Option wird später entfernt werden, stelle sicher, dass du auf die neue Anmeldung umsteigst.","title":"Vererbte LNURL-Authentifizierung"},"title":"LNURL Authentifizierung","hint":"ist ein allgemeines Authentifizierungsprotokoll. Es authentifiziert den Benutzer anhand digitaler Signaturen. Das Protokoll erfordert keine anderen identifizierenden Informationen wie Kennwörter, E-Mails, Benutzernamen oder Ähnliches. Mit Alby kannst du deine Lightning-Konten verwenden, um dich sicher auf Webseiten anzumelden. Um mit anderen Wallets kompatibel zu sein, mussten wir ein paar Änderungen vornehmen, die du hier konfigurieren kannst. <0>In der Regel sind alle diese Optionen ausgeschaltet.</0> Verwende sie nur, wenn du alte Konten hast."},"browser_notifications":{"subtitle":"Zahlungs- und Authentifizierungsbezogene Benachrichtigungen.","title":"Browser Benachrichtigungen"},"website_enhancements":{"title":"Erweiterungen der Webseite","subtitle":"Verbesserungen für X, YouTube, etc."},"title":"Einstellung","change_password":{"choose_password":{"label":"Gebe einen neuen Passcode zum Entsperren ein:"},"submit":{"label":"Ändern"},"errors":{"enter_password":"Bitte gebe einen neuen Passcode zum Entsperren ein.","confirm_password":"Bitte bestätige dein Passcode.","mismatched_password":"Die Passwörter stimmen nicht überein."},"success":"Passcode erfolgreich geändert","title":"Passcode zum Entsperren ändern","screen_reader":"Passcode zum Entsperren ändern","confirm_password":{"label":"Bestätige den neuen Passcode:"}},"theme":{"options":{"dark":"Dunkel","light":"Hell","system":"System-Einstellungen verwenden"},"title":"Design","subtitle":"Alby im dunklen oder hellen Modus verwenden"},"exchange":{"title":"Quelle für den Wechselkurs","subtitle":"Quelle für Bitcoin Wechselkurse"},"language":{"title":"Sprache","subtitle":"Die Übersetzungen sind noch nicht zu 100% fertig. <0>Hilf uns, Alby in deine Sprache zu übersetzen!</0>"},"currency":{"title":"Währung","subtitle":"Zeige die Beträge zusätzlich in dieser Währung an"},"camera_access":{"title":"Kamerazugriff","subtitle":"Zum Scannen von QR-Codes","allow":"Kamerazugriff zulassen","granted":"Erlaubnis erteilt"},"show_fiat":{"title":"Sats in Fiat","subtitle":"Beträge in die ausgewählte Währung umrechnen (z.B.: EUR)"},"personal_data":{"title":"Persönliche Daten","description":"Zahlungsempfänger können beantragen, dass zusätzliche Daten mit einer Zahlung übermittelt werden. Diese Daten werden ohne deiner Zustimmung an niemanden weitergegeben. Du wirst immer aufgefordert, bevor diese Daten zusammen mit einer Zahlung gesendet werden."},"name":{"title":"Name","placeholder":"Gib deinen Namen ein","subtitle":""},"email":{"title":"E-Mail","placeholder":"Gib deine E-Mail Adresse ein"}},"home":{"default_view":{"is_blocked_hint":"Alby ist derzeit auf dem {{host}} deaktiviert","block_removed":"{{host}} aktiviert. Bitte lade die Webseite neu.","see_all":"Alle sehen","no_transactions":"Noch keine Transaktionen für dieses Konto."},"allowance_view":{"no_transactions":"Noch keine Transaktionen auf <0>{{Name}}</0>.","sats":"sats","budget_spent":"Budget","total_spent":"Insgesamt ausgegeben","total_payments":"Anzahl Zahlungen","permissions":"Berechtigungen"},"actions":{"send_satoshis":"⚡️ Satoshis senden ⚡️","enable_now":"Jetzt aktivieren"}},"accounts":{"title":"Konten","actions":{"add_account":"Konto hinzufügen"},"account_view":{"title2":"Konto","title1":"Kontoeinstellung","name":{"title":"Name anzeigen","placeholder":"Konto Anzeigename"},"export":{"title":"Verbinde deine mobile Wallet","screen_reader":"Kontodaten exportieren","waiting":"Warten auf LndHub Daten...","your_ln_address":"Deine Lightning Adresse:","export_uri":"LNDHub Anmeldeinformationen URI","scan_qr":"Importiere diese Wallet in Zeus oder BlueWallet, indem du den QRCode scannst.","description":"Ermöglicht es dir, dieses Konto mit mobilen Wallets wie <0>Blue Wallet</0> und <1>Zeus</1> zu verbinden und zu verwenden."},"nostr":{"title":"Nostr","private_key":{"title":"Verwalte deinen privaten Nostr-Schlüssel","subtitle":"Füge deinen eigenen privaten Schlüssel ein oder erzeuge einen neuen. <0>Mehr erfahren\\"</0>","success":"Der private Schlüssel von Nostr wurde erfolgreich verschlüsselt und gespeichert.","successfully_removed":"Der private Schlüssel von Nostr wurde erfolgreich entfernt.","label":"Nostr Privater Schlüssel","failed_to_remove":"Der eingegebene Kontoname stimmt nicht überein, dein alter privater Nostr-Schlüssel wurde wiederhergestellt.","warning":"Bitte gebe den Namen des Kontos ein, um die Löschung des privaten Schlüssels von nostr zu bestätigen:\\n\\n{{ Name }}"},"public_key":{"label":"Nostr Öffentlicher Schlüssel"},"generate_keys":{"title":"Erzeugen eines neuen Nostr Schlüssels","screen_reader":"Erzeuge einen neuen Nostr-Schlüssel für dein Konto","hint":"Du kannst einen zufälligen Satz von Nostr Schlüsseln generieren oder Schlüssel aus diesen Kontodaten ableiten (unter Verwendung einer signierten kanonischen Phrase). <0>Mehr erfahren\\"</0>","actions":{"random_keys":"Generieren eines Zufallsschlüssels","derived_keys":"Ableitung eines Schlüssels aus dem Konto"}},"actions":{"generate":"Erzeugen eines neuen Schlüssels"},"hint":"ist ein einfaches und offenes Protokoll, das darauf abzielt, zensurresistente soziale Netzwerke zu schaffen. Nostr arbeitet mit kryptographischen Schlüsseln. Um etwas zu veröffentlichen, signiere es mit deinem Schlüssel und senden es an mehrere Relays. Du kannst Alby verwenden, um seinen Nostr-Schlüssel zu verwalten. Viele Nostr-Anwendungen erlauben dir dann, einfach den Schlüssel aus der Alby-Erweiterung zu verwenden.","errors":{"failed_to_load":"Der Nostr Schlüssel konnte nicht geladen werden. Ist es ein gültiger Nostr Schlüssel?"},"settings":{"label":"Nostr Einstellungen","title":"Nostr Einstellungen","description":"Leite deinen Nostr-Schlüssel von deinem Hauptschlüssel ab oder importiere den bestehenden privaten Schlüssel, indem du ihn in das Feld \\"Nostr Private Key\\" einfügst.","imported_key_warning":"⚠️ Du verwendest derzeit einen importierten oder zufällig generierten Nostr-Schlüssel. Dein privater Nostr-Schlüssel kann nicht durch deine Wiederherstellungsphrase wiederhergestellt werden, also denke daran, deinen privaten Nostr-Schlüssel separat zu sichern.","can_restore":"✅ Nostr-Schlüssel, abgeleitet von Ihrem Hauptschlüssel","derive":"Vom Hauptschlüssel ableiten","no_secret_key":"💡Du hast noch keinen Hauptschlüssel. <0>Klicke hier</0></div>, um deinen Hauptschlüssel zu erstellen und deine Nostr-Schlüssel abzuleiten.","remove":"Aktuelle Schlüssel entfernen"},"setup":{"title":"Einrichten der Nostr-Schlüssel","description":"Wähle, ob du ein neues Nostr-Konto (ein Paar privater und öffentlicher Schlüssel) erstellen oder ein bestehendes importieren möchtest.","new":{"description":"Generiere einen Hauptschlüssel mit einem Paar neuer Nostr-Schlüssel.","label":"Ein neues Nostr-Konto erstellen"},"import":{"label":"Ein Nostr-Konto importieren","description":"Verwende einen vorhandenen privaten Nostr-Schlüssel oder leite ihn von deinem Hauptschlüssel ab","private_key":{"label":"Privaten Schlüssel von Nostr verwenden","description":"Füge deinen privaten Nostr-Schlüssel ein, um ihn in Alby zu importieren"},"recovery_phrase":{"label":"Wiederherstellungsphrase verwenden","description":"Verwende die Phrase zur Wiederherstellung des Hauptschlüssels, um deinen Nostr-Schlüssel zu importieren"},"title":"Wie möchten dein Nostr-Konto importieren?"},"new_to_nostr":"Neu bei Nostr? <0>Mehr erfahren</0>","description2":"Jedes Nostr-Konto, das in Alby erstellt wird, wird mit einer <0>Recovery Phrase</0> geliefert - eine Reihe von 12 Wörtern, die es dir ermöglicht, jederzeit wieder Zugang zu deinen privaten Nostr-Schlüsseln zu erhalten."}},"remove":{"title":"Dieses Konto entfernen","subtitle":"Entfernt alle Zugangsdaten, Zahlungsdaten und Schlüssel, die mit diesem Konto verbunden sind.","error":"Der eingegebene Kontoname stimmte nicht überein.","confirm":"Bitte gebe den Namen des Kontos ein, um die Löschung deines Kontos zu bestätigen:\\n\\n{{ Name }}\\n\\n⚠️ Wenn du fortfährst, werden alle zugehörigen Schlüssel (Hauptschlüssel, Nostr, etc.) gelöscht. Bitte vergewissern dich, dass du eine Sicherungskopie erstellt hast, denn es gibt keine andere Möglichkeit, sie wiederherzustellen."},"actions":{"remove_account":"Konto entfernen","export":"Exportieren","remove_secretkey":"Hauptschlüssel entfernen"},"mnemonic":{"title":"🔑 Schlüsselverwaltung","backup":{"protocols":{"nostr":"Nostr"},"title":"Sichere deine Wiederherstellungsphrase","save":"Hauptschlüssel speichern","button":"Zeige Wiederherstellungsphrase","warning":"⚠️ Vergesse nicht, deine Wiederherstellungsphrase zu sichern! Wird sie nicht gesichert, kann dies dazu führen, dass du den Zugang zu deinem Hauptschlüssel, dein Nostr-Identität oder den von dir mit diesem Schlüssel verwalteten Assets dauerhaft verlierst.","items":{"recovery_phrase":"Du kannst jederzeit auf deinen Hauptschlüssel zugreifen, indem du deine Wiederherstellungsphrase verwendest.","words":"Die Wiederherstellungsphrase besteht aus 12 Wörtern, die wie ein Passwort funktionieren, jedoch nicht geändert oder zurückgesetzt werden können, falls sie verloren gehen.","storage":"Schreibe sie an einem sicheren und privaten Ort auf!","keys":"Der Hauptschlüssel ermöglicht dir die Interaktion mit verschiedenen Protokollen wie z.B.: Nostr, Liquid oder Basisschicht von Bitcoin."},"description":"Notiere deine Wiederherstellungsphrase, um deinen Hauptschlüssel auf einem neuen Gerät wiederherstellen zu können oder für den Fall, dass du den Zugriff auf dein Konto verlierst."},"saved":"Hauptschlüssel erfolgreich verschlüsselt und gespeichert.","generate":{"title":"Neuen Hauptschlüssel generieren","button":"Hauptschlüssel generieren","confirm":"Ich habe die Wiederherstellungsphrase zu meinem Hauptschlüssel an einem privaten und sicheren Ort gesichert.","error_confirm":"Bitte vergewissere dich, dass du deine Sicherungskopie des Wiederherstellungssatzes erstellt hast.","description":"Hauptschlüssel ermöglicht dir die Interaktion mit verschiedenen Protokollen wie z.B.: Nostr, Basisschicht von Bitcoin oder LNURL-Auth."},"import":{"title":"Importiere deinen Hauptschlüssel","description":"Verwende die Wiederherstellungsphrase, um deinen Hauptschlüssel in Alby zu importieren.","button":"Hauptschlüssel importieren"},"inputs":{"title":"Wiederherstellungsphrase"},"existing_nostr_key_notice":"ℹ️ Für dieses Konto ist bereits ein privater Nostr-Schlüssel festgelegt, der nicht von diesem Hauptschlüssel abgeleitet wird. Du kannst dein Nostr-Schlüssel über deine Kontoeinstellungen verwalten.","lnurl":{"title":"Anmeldung mit Lightning","use_mnemonic":"Hauptschlüssel für die Anmeldung bei Lightning-Anwendungen verwenden (LNURL Auth)"},"new":{"title":"Was ist ein Hauptschlüssel?"}},"remove_secretkey":{"title":"Hauptschlüssel entfernen","subtitle":"Entfernt den Hauptschlüssel aus diesem Konto.","success":"Der Hauptschlüssel wurde erfolgreich entfernt.","confirm":"Bitte gebe den Namen des Kontos ein, um die Löschung deines Hauptschlüssels zu bestätigen:\\n\\n{{ Name }}"},"network":{"subtitle":"Wähle ein Netzwerk zur Ableitung von Adressen und zur Entschlüsselung von Bitcoin- und Liquid-Transaktionen","options":{"bitcoin":"Mainnet","testnet":"Testnet","regtest":"Regtest"},"title":"Netzwerk"},"no_mnemonic_hint":"💡 Du hast noch keinen Hauptschlüssel. <0>Klicken Sie hier</0></div>, um deinen Hauptschlüssel zu erstellen und diese Einstellungen freizuschalten."}},"receive":{"amount":{"placeholder":"Betrag in Satoshis...","label":"Betrag"},"payment":{"waiting":"Warten auf Zahlung...","status":"Zahlungsstatus prüfen"},"title":"Empfangen","actions":{"create_invoice":"Rechnung erstellen","redeem":{"description":"Einen Bitcoin-Gutschein über einen LNURL-Code empfangen","title":"Einlösen"},"invoice":{"title":"Lightning Rechnung","description":"Sofortige Bitcoin Zahlungen mit einem bestimmten Betrag anfordern"},"bitcoin_address":{"description":"Empfang über eine Bitcoin-Adresse mit Hilfe eines Wechseldienstes","title":"Bitcoin-Adresse"}},"description":{"label":"Beschreibung","placeholder":"Zum Beispiel: Wer schickt diese Zahlung?"},"success":"Zahlung erhalten!"},"publishers":{"publisher":{"allowance":{"title":"Erlaubnis","used_budget":"verwendete Sats"}},"title":"Deine ⚡ Webseiten","description":"Webseiten, auf denen du Alby bereits verwendet hast","no_info":"Es sieht so aus, als hättest du Alby noch auf keiner Webseite verwendet.","discover":"Webseiten entdecken"},"send":{"input":{"label":"Rechnung, Lightning-Adresse oder LNURL","hint":"Rechnung, Lightning-Adresse, LNURL","hint_with_bitcoin_address":"Rechnung, Lightning-Adresse, LNURL oder Bitcoin-Adresse"},"title":"Senden"},"make_invoice":{"errors":{"amount_too_big":"Der Betrag übersteigt den Höchstbetrag","amount_too_small":"Der Betrag liegt unter dem Mindestbetrag"},"title":"Rechnung erstellen","amount":{"label":"Betrag (Satoshi)"},"memo":{"label":"Notiz"}},"lnurlwithdraw":{"content_message":{"heading":"Betrag"},"amount":{"label":"Betrag"},"success":"Abbuchungsauftrag von {{amount}} erfolgreich an {{sender}} gesendet","title":"Abheben"},"nostr":{"title":"Nostr","allow":"Erlaube dieser Webseite:","content":"Auf dieser Webseite wirst du aufgefordert zu signieren:","block_and_ignore":"Blockieren und Ignorieren von {{host}}","block_added":"{{host}} zur Blockliste hinzugefügt, bitte lade deine Webseite neu.","allow_sign":"Erlaube dein {{host}} zu unterschreiben:","view_details":"Details anzeigen","hide_details":"Details ausblenden","kinds":{"0":"Metadaten","1":"kurze Textnotiz","2":"Relais empfehlen","3":"Kontakte","4":"verschlüsselte Direktnachrichten","5":"Ereignislöschung","7":"Reaktion","8":"Badge Award","40":"Kanal Erstellung","41":"Kanal Metadaten","42":"Kanalnachricht","43":"Kanal verstecke Nachrichten","44":"Kanal stummschalten Benutzer","1984":"Berichterstattung","9734":"Zappanfrage","9735":"zap","10002":"Metadaten der Relaisliste","22242":"Client Authentifizierung","24133":"nostr verbinden","30008":"Profilabzeichen","30009":"Badge Beschreibung","30023":"Langform Inhalte","30078":"anwendungsspezifische Daten","unknown":"kind {{kind}}"},"peer":"Peer","allow_sign_event":"Erlaube {{Gastgeber}}, ein {{kind}} Ereignis zu unterzeichnen","allow_encrypt":"Erlaube {{host}}, die Nachricht zu verschlüsseln:","allow_decrypt":"Erlaube {{host}}, die Nachricht zu entschlüsseln:"},"confirm_request_permission":{"title":"Antrag genehmigen","allow":"Erlaube die Ausführung dieser Webseite:","always_allow":"Meine Wahl merken und nicht erneut nachfragen"},"lnurlauth":{"submit":"Anmeldung","content_message":{"heading":"Möchtest du dich anmelden bei"},"errors":{"status":"Fehler: Auth-Status ist nicht in Ordnung"},"success":"Anmeldung bei {{name}} erfolgreich","title":"Authentifizierung"},"keysend":{"amount":{"label":"Betrag (Satoshi)"},"success":"Zahlung gesendet! Preimage: {{preimage}}","title":"Senden","receiver":{"label":"Sende die Zahlung an"}},"confirm_sign_message":{"title":"Unterschrift","content":"Auf dieser Webseite wirst du aufgefordert, zu signieren:"},"confirm_keysend":{"title":"Zahlung genehmigen","success":"Zahlung gesendet! Preimage: {{preimage}}","payment_summary":{"description":"Sende Zahlung an: {{destination}}"}},"confirm_payment":{"title":"Zahlung genehmigen","actions":{"pay_now":"Jetzt bezahlen"},"success":"Zahlung von {{amount}} erfolgreich!"},"lnurlpay":{"amount":{"label":"Betrag"},"comment":{"label":"Kommentar"},"name":{"label":"Name"},"email":{"label":"E-Mail"},"success":"Zahlung erfolgreich gesendet!"},"lnurlchannel":{"title":"Kanal-Anfrage","content_message":{"heading":"Anforderung eines Kanals von der Node"},"success":"Kanalanfrage erfolgreich an {{name}} gesendet"},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Kennwort"},"confirm_password":{"label":"Kennwort bestätigen"},"errors":{"enter_password":"Bitte gib ein Kennwort ein.","confirm_password":"Bitte bestätige dein Kennwort.","mismatched_password":"Kennwörter stimmen nicht überein."}}}},"choose_path":{"other":{"title":"Andere Wallets","connect":"Verbinden","description":"Schließe deine vorhandene Lightning Wallet oder Node an und wähle aus verschiedenen Anschlüssen. Großartig für volle Flexibilität. Betreibe deinen eigenen Knotenpunkt."},"alby":{"title":"Alby Konto","connect":"Mit Alby verbinden","description":"Melde dich an oder nutze dein bestehendes Alby-Konto. Ideal für den schnellen Einstieg und für kleine Beträge."}},"discover":{"description":"Webseiten und Webapplikationen, auf denen du Alby verwenden kannst","title":"Erkunde das Ökosystem von Lightning ⚡️","list":{"gaming":"Spiele","trading":"Handel","entertainment":"Unterhaltung","shopping":"Einkaufen","miscellaneous":"Sonstiges","showcases":"Schaukästen","nostr":"Nostr","nodeManagement":"Node-Verwaltung"},"tips":{"title":"Deine Alby Wallet ist bereit","top_up_wallet":{"description":"Du möchtest deine Wallet aufladen?\\nWir haben es für dich!","title":"Bitcoin kaufen"},"demo":{"description":"Entdecke die Funktionen von Alby\\nauf unserer Demo Webseite","title":"Alby Demo"},"description":"Hier ein paar Tipps für den Anfang 🐝","mnemonic":{"title":"Nostr","description":"Generiere jetzt \\n deinen Schlüssel."}}},"transactions":{"title":"Transaktionen","list_empty":"Noch keine Transaktionen verfügbar.","description":"Buchungen für dieses Konto"},"distributions":{"title":"Verbinden mit {{Name}}","description":"Wähle die {{Name}} App, mit der du dich verbinden möchtest","umbrel":{"name":"Umbrel"},"citadel":{"name":"Citadel"},"btcpay":{"name":"BTCPay"},"raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"start9":{"name":"Start9"}},"confirm_add_account":{"title":"Konto hinzufügen","content":"Diese Webseite möchte ein Konto hinzufügen ({{connector}}):","tor_info":"Um sich über das TOR-Netzwerk zu verbinden, musst du zunächst die Alby-Begleit-App installieren:"},"on_chain":{"title":"Empfangen über Bitcoin Adresse","instructions2":"Du kannst deine Bitcoin-Adresse auf der Seite <0>Empfangen</0> finden.","go":"Gehe zu deinem Alby Account →","instructions1":"Um Bitcoin über eine Bitcoin-Adresse zu erhalten, melde dich bei deinem <0>Alby-Account</0> auf getalby.com an"},"lnurlredeem":{"errors":{"invalid_withdraw_request":"Ungültige LNURL-Abfrage","invalid_lnurl":"Ungültige LNURL"},"title":"Bitcoin einlösen","input":{"label":"LNURL-Code","placeholder":"LNURL..."},"actions":{"withdraw":"Abheben"}},"scan_qrcode":{"title":"Warten auf den Scan"},"confirm_sign_pset":{"title":"Unterschrift","allow_sign":"Auf dieser Webseite wirst du aufgefordert, eine Liquid-Transaktion zu unterzeichnen","view_details":"Details anzeigen","hide_details":"Details ausblenden","view_raw_transaction":"Rohtransaktion anzeigen (Base64)","hide_raw_transaction":"Rohtransaktion ausblenden (Base64)","inputs":"Eingaben","outputs":"Ausgänge","amount":"{{Betrag}} {{ticker}}"},"bitcoin":{"confirm_get_address":{"title":"Adresse abrufen"},"allow":"Erlaube dieser Webseite:","allow_sign":"Erlaube {{host}} zu unterschreiben:","block_and_ignore":"Blockieren und Ignorieren von {{host}}","block_added":"{{host}} zur Blockliste hinzugefügt, bitte lade die Webseite neu.","confirm_sign_psbt":{"title":"Unterschrift","hide_raw_transaction":"Rohtransaktion ausblenden (Hex)","view_raw_transaction":"Rohtransaktion anzeigen (Hex)","inputs":"Eingaben","fee":"Gebühr","hide_details":"Details ausblenden","allow_sign":"Diese Webseite fordert dich auf, eine Bitcoin-Transaktion zu unterzeichnen","view_details":"Details anzeigen","outputs":"Ausgänge"}},"liquid":{"title":"Liquid","allow":"Erlaube dieser Webseite:","block_and_ignore":"Blockieren und Ignorieren von {{host}}","allow_sign":"Erlaube {{host}} zu unterschreiben:","block_added":"{{host}} zur Blockliste hinzugefügt, bitte lade die Webseite neu."},"send_to_bitcoin_address":{"time_estimate":"ℹ️ Transaktionen werden in der Regel innerhalb von 10-30 Minuten bearbeitet.","service_unavailable":"Der Dienst ist vorübergehend nicht verfügbar, bitte versuche es in ein paar Minuten erneut.","title":"An Bitcoin-Adresse senden","recipient":{"label":"Empfänger"},"amount":{"label":"Betrag (sats)"},"network_fee":{"label":"Netzgebühr"},"service_fee":{"label":"Servicegebühr"},"total":{"label":"Insgesamt"},"total_fee":{"label":"Gebühr"},"provider":{"label":"Wechseldienst"},"view_on_explorer":"Ansicht auf mempool explorer"},"webln_enable":{"title":"Mit WebLN verbinden","request2":"Rechnungen und Lightning Informationen anfordern"},"onboard":{"request2":"Du hast deinen Schlüssel noch nicht eingerichtet","request1":"Diese Webseite erfordert eine wichtige Interaktion","request3":"Die Einrichtung ist schnell und einfach","title":"Deine Schlüssel einrichten","actions":{"start_setup":"Einrichtung starten"}},"liquid_enable":{"request2":"Rechnungen von Liquid anfordern","title":"Mit Liquid verbinden"},"nostr_enable":{"title":"Mit Nostr verbinden","request1":"Anfrage zum Lesen deines öffentlichen Nostr-Schlüssels","request2":"Anfrage zum Signieren von Ereignissen mit deinem privaten Schlüssel"},"webbtc_enable":{"request2":"Rechnungen und Webbtc-Informationen anfordern","title":"Mit WebBTC verbinden"},"alby_enable":{"title":"Mit Alby verbinden","request2":"Rechnungen und Alby Informationen anfordern"},"confirm_payment_async":{"title":"Zahlung genehmigen","description":"Dies ist eine HOLD-Rechnung. <0>Mehr erfahren\\"</0>","actions":{"pay_now":"Jetzt bezahlen"}}},"wx":{"account_menu":{"options":{"account":{"add":"Neues Konto hinzufügen","manage":"Konten verwalten","account_settings":"Kontoeinstellungen","go_to_web_wallet":"Verwalte dein Web-Konto"}},"title":"Konto wechseln","screen_reader":"Dropdown umschalten"},"publishers_table":{"payments":"Zahlungen","budget":"Budget","total":"insgesamt"},"toasts":{"connection_error":{"double_check":"Überprüfe nochmals deine Verbindungseinstellungen","if_ssl_errors":"und wenn es SSL-Fehler gibt (z.B. ERR_CERT_AUTHORITY_INVALID), klicke auf \\"Erweitert\\" und fahre fort, das Zertifikat zu akzeptieren.","visit_guides":"Besuche unsere Leitfäden für weitere Hilfe","what_you_can_do":"Das kannst du tun:"},"errors":{"invalid_credentials":"Ungültiges Kennwort. Bitte überprüfe dein Kennwort und deine E-Mail-Adresse und versuche es erneut."},"login_failed":{"password_reset":"Dein Kennwort vergessen? Klicke hier"}},"companion_download_info":{"download":"Download","companion":{"title":"Begleitende App","description":"Leichte Anwendung, die deinem Browser mit dem TOR-Netzwerk verbindet."},"tor_native":{"title":"TOR (native)","description":"Wähle diese Option, wenn dieser Browser bereits mit dem TOR-Netzwerk verbunden ist."},"heading":"Wie willst du dich mit dem TOR-Netzwerk verbinden?"},"allowance_menu":{"edit_allowance":{"title":"Seiten Einstellung","screen_reader":"Zulässigkeitsoptionen"},"enable_login":{"title":"Anmeldung auf der Webseite aktivieren","subtitle":"Automatisches Einloggen ohne Bestätigung, wenn die Webseite dazu auffordert."},"edit_permissions":"Berechtigungen bearbeiten","hint":"Die Änderung dieser Einstellung setzt das aktuelle Budget zurück","new_budget":{"label":"Budget für Ein-Klick-Zahlungen","link_label":"Festlegen eines Budgets für Ein-Klick-Zahlungen"},"confirm_delete":"Bist du dir sicher, dass du die Verbindung zu dieser Webseite unterbrechen willst?"},"qrcode_scanner":{"actions":{"stop_scanning":"Scannen beenden","start_scanning":"Scannen starten"},"errors":{"allow_camera_access":"Bitte erlaube den Kamerazugriff in den Einstellungen."},"title":"QR-Code scannen"},"transactions_table":{"sent":"Gesendet","boostagram":{"sender":"Sende","app":"App\'s","podcast":"Podcast","message":"Nachricht","episode":"Folge","action":"Aktion","totalAmount":"Gesamtbetrag","timestamp":"Zeitstempel"},"preimage":"Vorschaubild","received":"Empfang","fee":"Gebühr","open_location":"Webseite öffnen","payment_hash":"Zahlung hHash","date_time":"Datum & Uhrzeit"},"budget_control":{"remember":{"description":"Du kannst dein Guthaben so einstellen, dass du erst dann um eine Zahlungsbestätigung gebeten wirst, wenn es aufgebraucht ist.","label":"Erinnere dich und lege ein Budget fest"},"budget":{"label":"Budget"}},"badge":{"label":{"auth":"LOGIN","imported":"IMPORTIERT","budget":"BUDGET"}}},"y0":{"optional":"Optional","feedback":"Rückmeldung","error":"Fehler","connected_sites":"Verbundene Webseiten","loading":"Laden","sats_one":"sat","success":"Erfolgreich","password":"Kennwort","advanced":"Fortgeschrittene","description_full":"Vollständige Beschreibung","amount":"Betrag","copied":"Kopiert!","description":"Beschreibung","settings":"Einstellung","sats_other":"sats","confirm_password":"Kennwort bestätigen","help":"Hilfe","actions":{"back":"Zurück","open":"Öffnen","cancel":"Abbrechen","confirm":"Bestätigen","send":"Senden","unlock":"Entsperren","receive":"Empfangen","delete":"Löschen","edit":"Bearbeiten","next":"Weiter","export":"Exportieren","log_in":"Einloggen","close":"Schließen","remove":"entfernen","continue":"Weiter","lock":"Sperren","connect":"Verbinden","save":"Speichern","copy":"Kopieren","copy_invoice":"Rechnung kopieren","remember":"Denke an meine Wahl und frage nicht noch einmal","receive_again":"Eine weitere Zahlung erhalten","transactions":"Transaktionen","more":"Mehr","download":"Download","import":"Importieren","copy_clipboard":"In die Zwischenablage kopieren","paste":"Einfügen","paste_clipboard":"Einfügen aus der Zwischenablage","review":"Überprüfung","disconnect":"Verbindung trennen","copied_to_clipboard":"In die Zwischenablage kopiert","hide":"Ausblenden"},"discover":"Entdecken","errors":{"connection_failed":"Verbindung fehlgeschlagen","payment_failed":"Zahlung fehlgeschlagen"},"message":"Nachricht","response":"Antwort","success_message":"{{Betrag}}{{fiatAmount}} sind auf dem Weg zum {{Ziel}}","accounts":"Konten","range":{"between":"zwischen {{min}} und {{max}}","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"},"balance":"Kontostand","wallet":"Wallet","connectors":{"lnd":"LND","nativelnd":"LND (über Tor)","citadel":"Citadel","nativecitadel":"Citadel (über Tor)","commando":"Kommando","lnbits":"LNBits","lndhub":"LNDHub","nativelndhub":"LNDHub (über Tor)","nativelnbits":"LNBits (über Tor)","galoy":"Galoy","eclair":"Eclair"},"or":"oder","pasted":"Eingefügt!","enable":{"block_added":"{{host}} zur Blockliste hinzugefügt, bitte lade die Webseite neu.","request1":"Genehmigung von Transaktionen beantragen","allow":"Erlaube dieser Webseite:","block_and_ignore":"Blockieren und Ignorieren von {{host}}","insecure_domain_warn":"⚠️ Du stellst eine Verbindung zu einer unsicheren Domäne her."},"website":"Website","apps":"Apps"},"mk":{"commando":{"bkpr-listbalances":"Liste aller aktuellen und historischen Kontostände","checkmessage":"Überprüfe, ob die Signatur von einem bestimmten Node erstellt wurde","fundchannel":"Öffne einen Zahlungskanal mit einem Peer, indem du eine Finanzierungstransaktion durchführst","getroute":"Finde die beste Route für die Zahlung an eine Lightning Node","invoice":"Schaffe die Erwartung einer Zahlung","keysend":"Sende eine Zahlung an eine andere Node","listoffers":"Alle Angebote auflisten oder ein bestimmtes Angebot erhalten","listpays":"Ruft den Status aller Zahlungsbefehle ab","signmessage":"Erstellen Sie eine Signatur von dieser Node","feerates":"Rückgabe der Fee Rate, die bei CLN verwenden wird","listforwards":"Auflistung aller versuchten Übermittlungsversuche","listfunds":"Listet alle verfügbaren Mittel auf","listinvoices":"Abrufen des Status aller Rechnungen","sendpay":"Sende eine Zahlung über eine Route","multifundchannel":"Öffne mehrere Zahlungskanäle mit Nodes, indem du eine einzige Finanzierungstransaktion durchführst","disconnect":"Schließen einer bestehenden Verbindung zu einem Peer","decodepay":"Prüfe und analysiere einen Bolt11-String","getinfo":"Abrufen der Zusammenfassung der Node","listtransactions":"Liste der in der Wallet verfolgten Transaktionen","offer":"Erstelle ein Angebot","connect":"Stellen Sie eine neue Verbindung mit einer anderen Node her","decode":"Dekodiere eine Bolt11/Bolt12/Rune-Kette","listpeers":"Liste der Nodes, die mit dieser Node verbunden sind oder offene Kanäle haben","listsendpays":"Ruft den Status aller sendpay-Befehle ab","pay":"Sende eine Zahlung an eine BOLT11-Rechnung","setchannel":"Konfiguriere die für einen Kanal beworbenen Gebühren / htlc-Bereiche","listnodes":"Auflistung von Nodes, von denen der Node durch Gossip-Nachrichten erfahren hat"},"lnd":{"channelbalance":"Du erhältst einen Bericht über den Gesamtbetrag der Mittel für alle offenen Kanäle","walletbalance":"Ermittel die gesamten nicht verbrauchten Ausgaben der Wallet","listchannels":"Erhalte eine Beschreibung aller offenen Kanäle","openchannel":"Öffne einen neuen Kanal","estimatefee":"Schätze den Gebührensatz und die Gesamtgebühren für eine Transaktion","getchaninfo":"Ermittelt die Netzansage für den angegebenen Kanal","getinfo":"Abrufen der Node-Informationen","listinvoices":"Erhalte eine Liste aller Rechnungen","connectpeer":"Stelle eine Verbindung zu einer entfernten Gegenstelle her","disconnectpeer":"Trenne die Verbindung zu einer entfernten Gegenstelle","getnetworkinfo":"Abrufen grundlegender Statistiken über die bekannte Kanalkurve","getnodeinfo":"Abrufen der Kanalinformationen für einen Node","gettransactions":"Abrufen einer Liste aller für die Wallets relevanten Transaktionen","listpeers":"Erhalte eine Liste aller derzeit aktiven Peers","lookupinvoice":"Rechnungsdetails nachschlagen","queryroutes":"Abfrage nach einer möglichen Route","sendtoroute":"Führe eine Zahlung über die angegebene Route durch","routermc":"Lese den internen Status der Missionskontrolle","decodepayreq":"Entschlüssel eine Zahlungsanforderungszeichenfolge","addinvoice":"Erstelle neue Rechnungen","listpayments":"Erhalte eine Liste aller ausgehenden Zahlungen","verifymessage":"Überprüfe eine Signatur über eine Nachricht","addholdinvoice":"Erstelle eine neue HODL-Rechnungen","settleinvoice":"Begleiche eine akzeptierte Rechnung","listunspent":"Liste aller utxos, die von der Brieftasche ausgegeben werden können","listaddresses":"Erhalte alle Adressen zusammen mit deinem Guthaben","newaddress":"Abrufen einer neuen Onchain-Adresse","nextaddr":"Abrufen der nächsten unbenutzten Adresse in der Wallet"},"nostr":{"getpublickey":"Lese deinen öffentlichen Schlüssel","nip04decrypt":"Daten entschlüsseln","nip04encrypt":"Daten verschlüsseln","signmessage":"Unterschreibe deine Nachricht mit deinem Schlüssel"},"lnc":{"connectpeer":"Stelle eine Verbindung zu einer Gegenstelle her","disconnectpeer":"Trenne die Verbindung zu einer entfernten Gegenstelle","estimatefee":"Schätze den Gebührensatz und die Gesamtgebühren für eine Transaktion","getnodeinfo":"Abrufen der Kanalinformationen für eine Node","getchaninfo":"Ermittelt die Netzansage für den angegebenen Kanal","listpayments":"Erhalte eine Liste aller ausgehenden Zahlungen","queryroutes":"Abfrage nach einer möglichen Route","verifymessage":"Überprüfung einer Signatur über eine Nachricht","listpeers":"Ermittelt eine Liste aller derzeit aktiven Peers","sendtoroute":"Nehme eine Zahlung über die angegebene Route vor","decodepayreq":"Dekodierung einer Zahlungsanforderungszeichenfolge","addinvoice":"Neue Rechnungen erstellen","routermc":"Lese den internen Status der Missionskontrolle","gettransactions":"Abrufen einer Liste aller für die Wallet relevanten Transaktionen","getnetworkinfo":"Abrufen grundlegender Statistiken über die bekannte Kanalkurve","lookupinvoice":"Rechnungsdetails nachschlagen","getinfo":"Abrufen der Node-Informationen","listchannels":"Erhalte eine Beschreibung aller offenen Kanäle","listinvoices":"Erhalte eine Liste aller Rechnungen","channelbalance":"Erhalte einen Bericht über den Gesamtbetrag der Mittel für alle offenen Kanäle","walletbalance":"Ermittle die gesamten nicht verbrauchten Ausgaben deiner Wallet","openchannel":"Öffne einen neuen Kanal","addholdinvoice":"Neue HODL-Rechnungen erstellen","settleinvoice":"Begleiche eine akzeptierte Rechnung","listunspent":"Liste aller utxos, die von der Wallet ausgegeben werden können","nextaddr":"Abrufen der nächsten unbenutzten Onchain-Adresse innerhalb der Wallet","listaddresses":"Alle Onchain-Adressen zusammen mit ihrem Guthaben abrufen","newaddress":"Abrufen einer neuen Onchain-Adresse"},"webln":{"getbalance":"Den Kontostand abfragen"},"liquid":{"getaddress":"Lese deine Liquid-Empfangsadresse","signschnorr":"Unterschreibe die Nachricht mit deinem Schlüssel"},"bitcoin":{"getaddress":"Lese deine Bitcoin-Empfangsadresse"}}}'),At=JSON.parse('{"xk":{"welcome":{"title":"Welcome to Alby","set_password":{"title":"Set an unlock passcode","description":"This passcode will allow you to unlock Alby on this device. It cannot be recovered, but may be changed later.","choose_password":{"label":"Choose an unlock passcode:"},"confirm_password":{"label":"Let\'s confirm you typed it correct:"},"errors":{"enter_password":"Please enter a passcode.","confirm_password":"Please confirm your passcode.","mismatched_password":"Passcodes don\'t match."}},"test_connection":{"ready":"Awesome, you\'re ready to go!","initializing":"Initializing your account. Please wait, this can take a minute...","connection_error":"Connection Error","review_connection_details":"Please review your connection details.","connection_taking_long":"Trying to connect takes longer than expected... Are your details correct? Is your node reachable?","contact_support":"If you need help please contact support@getalby.com","actions":{"delete_edit_account":"Delete invalid account and edit again"}},"pin_extension":{"title":"Pin your Alby extension","description":"You\'re almost there. To use Alby conveniently, remember to pin your extension to the browser toolbar:","explanation":"1. Click on <0/> in the top right corner of your browser<1/>2. Find Alby and click to pin it to the toolbar<1/>3. That\'s it. To access Alby just click on the <2/> icon","next_btn":"Start buzzin\' {{icon}} with Alby"}},"choose_path":{"title":"Connect Wallet to Alby Extension","other":{"title":"Bring Your Own Wallet","description":"Best if you already have a wallet or need to do high-volume payments.","connect":"Connect","point1":"Start instantly, no waiting for an invite","point2":"No transaction or volume limits","point3":"Both self-custody and custodial options","point4":"No lightning and nostr address"},"voltage":{"title":"Voltage Cloud Node","description":"Great if you don\'t mind paying for a lightning node cloud service.","connect":"Connect","point1":"Start instantly, no waiting for an invite","point2":"No transaction or volume limits","point3":"Paid cloud service","point4":"Unique lightning and nostr address"},"alby":{"title":"Alby Account","description":"Ideal for beginners or anyone looking for a great daily spending wallet.","connect":"Connect with Alby","point1":"New signups require an invite code","point2":"Transaction volume limits apply","point3":"Set up and login with your email","point4":"Unique lightning and nostr address"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Password"},"confirm_password":{"label":"Confirm Password"},"errors":{"enter_password":"Please enter a password.","confirm_password":"Please confirm your password.","mismatched_password":"Passwords don\'t match."}}}},"choose_connector":{"title":"Connect Lightning Wallet","description":"Connect to your external lightning wallet or node","lnd":{"title":"LND","page":{"title":"Connect to your LND node","description":"You need your node URL and a macaroon with read and send permissions (e.g. admin.macaroon)"},"url":{"label":"REST API host and port","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon (HEX format)"},"drag_and_drop":"Drag and drop your macaroon here or <0>browse</0>","errors":{"connection_failed":"Connection failed. Are your LND credentials correct?"}},"umbrel_lightning_node":{"title":"Lightning Node"},"lnc":{"title":"Lightning Terminal (LNC)","page":{"title":"Connect to your LND node","description":"1. Open Lightning Terminal and choose <0>Lightning Node Connect</0> from the sidebar.<1/> 2. Click <0>Create a new session</0><1/>3. Label the session, choose desired permissions and submit<1/>4. <0>Copy pairing phrase</0> and paste it below."},"pairing_phrase":{"label":"Your pairing phrase ","placeholder":"secret stack sats phrase"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Connect to LNDHub","description":"Input your LNDHub credential URI here or scan the QR code with your webcam."},"uri":{"label":"LNDHub Export URI"},"errors":{"invalid_uri":"Invalid LNDHub URI","connection_failed":"Connection failed. Is your LNDHub URI correct?"}},"lnbits":{"title":"LNbits","page":{"title":"Connect to <0>LNbits</0>","instructions":"In LNbits, choose the wallet you want to connect, open it, click on API Info and copy the Admin Key. Paste it below:"},"admin_key":{"label":"LNbits Admin Key","placeholder":"Your 32 digit admin key"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Connection failed. Do you have the correct URL and Admin Key?"}},"eclair":{"title":"Eclair","page":{"title":"Connect to <0>Eclair</0>","instructions":"You need your Eclair URL and password."},"password":{"label":"Eclair Password"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Connect to <0>Citadel</0> node","instructions":"This currently doesn\'t work if 2FA is enabled."},"password":{"label":"Citadel Password"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Connect to <0>Umbrel</0> node","instructions":"1. In your Lightning Node dashboard go to <0>Connect wallet</0><1/>2. Select <0>REST (Tor)</0> or <0>REST (Local Network)</0> mode<1/>3. Copy the <0>lndconnect URL</0> and paste it below"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Connect to <0>myNode</0>","instructions":"On your myNode homepage click on the <0>Wallet</0> button for your <0>lightning</0> service.<1/> Now click on the <0>Pair Wallet</0> button under the <0>Status</0> tab. Enter your password when prompted.<1/> Select the dropdown menu and choose a pairing option. Depending on your setup you can either use the <0>lightning (REST + Local IP)</0> connection or the <0>lightning (REST + Tor)</0> connection."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"start9":{"title":"Start9","page":{"title":"Connect to your <0>Start9 Server</0>","instructions":"On your Embassy dashboard click on the <0>Lightning Network Daemon</0> service.<1/>Select the <0>Properties</0> tab.<1/>Now copy the <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Connect to your <0>RaspiBlitz</0> node","instructions1":"Follow these steps:<1/> 1. <0>SSH</0> into your <0>Raspiblitz</0><1/>2. Select <0>Connect Apps & Show Credentials</0> from the list<1/><0/>3. Choose <0>Connect Alby to this node</0><1/>4. Press <0>OK</0> to display the connection credentials<1/><1/>Copy and paste the <0>REST API host</0> or the <0>.onion</0> address to connect through Tor into the input below.","instructions2":"Copy the (admin) <0>macaroon</0> into the input below."},"rest_api_host":{"label":"REST API host","placeholder":"your-node-onion-address:port"}},"blink":{"title":"Blink Wallet","page":{"title":"Connect to <0>Blink Wallet</0>"},"token":{"label":"Enter your API key","info":"To connect your wallet generate an API key in the <0>Blink Dashboard (dashboard.blink.sv)</0>:<br>- log in with email or phone number if you are using Blink already<br>- if you have no account yet can create a new one by logging in with a phone number<br>- create a new key on the API Keys tab<br>- give it a Name and choose the Read and Write Scope<br>- leave the default no expiry or choose a long timeframe to avoid needing to reconnect your wallet periodically<br>- copy the key (starting with blink_ ) and paste it to the textbox below.<br><br>The integration currently only supports using the BTC wallet.<br>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Connect to <0>Bitcoin Jungle Wallet</0>"},"token":{"label":"Enter your Access token","info":"The {{label}} integration with Alby is in alpha and only recommended for advanced users.<br><br>You can grab your Access token by going into the mobile app, clicking on the settings icon, and then tapping 3 times on the build number to open the developer menu.<br><br>The access token can be copied from here.<br><br>"}},"galoy":{"phone_number":{"label":"Enter your phone number"},"sms_code":{"label":"Enter your SMS verification code"},"actions":{"login":"Login"},"errors":{"setup_failed":"Setup failed","missing_token":"Access token missing, couldn\'t log in.","invalid_token":"Authorization failed. Please check your API key and try again."}},"btcpay":{"title":"BTCPay Server","page":{"title":"Connect to your BTCPay LND node","instructions":"Navigate to your BTCPayServer and log in as an admin. Go to Server Settings > Services > LND Rest - See information. Then Click \\"See QR Code information\\" and copy the QR Code data. Paste it below:"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Connection failed. Is the BTCPay connection URL correct and accessible?"}},"commando":{"title":"Core Lightning","page":{"title":"Connect to your Core Lightning node","instructions":"Make sure you have Core Lightning version 0.12.0 or newer, the commando plugin is running and your node is accessible over the lightning network. Create a rune by running \'lightning-cli commando-rune\'."},"host":{"label":"Host"},"pubkey":{"label":"Public key"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Websocket proxy"},"privKey":{"label":"Local private key (autogenerated)"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Connection failed. Is your Core Lightning node online and using the commando plugin?"}},"voltage":{"title":"Voltage","page":{"title":"Connect to your Voltage node","description":"Enterprise-grade lightning node hosting. Get on Lightning Network faster than ever. Total control with zero management. <0>Learn more in our setup guide</0>"},"url":{"label":"Node URL","placeholder":"https://your-node.m.voltageapp.io:8080"},"macaroon":{"label":"Admin Macaroon (hex)"},"errors":{"connection_failed":"Connection failed. Are your credentials correct?"}},"nwc":{"title":"Nostr Wallet Connect","page":{"instructions":"Paste a NWC connection string from <0>Alby Nostr Wallet Connect</0>, <1>Umbrel Nostr Wallet Connect</1>, or <2>Mutiny Wallet</2>","url":{"label":"Nostr Wallet Connect URL","placeholder":"nostr+walletconnect://69effe..."},"errors":{"connection_failed":"Connection failed. Is your Core Lightning node online and using the commando plugin?"}}}},"distributions":{"title":"Connect to {{name}}","description":"Choose which {{name}} app you would like to connect with","umbrel":{"name":"Umbrel"},"citadel":{"name":"Citadel"},"btcpay":{"name":"BTCPay"},"raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"start9":{"name":"Start9"}},"home":{"actions":{"send_satoshis":"⚡️ Send Satoshis ⚡️","enable_now":"Enable Now"},"allowance_view":{"budget_spent":"Budget spent","sats":"sats","no_transactions":"No transactions on <0>{{name}}</0> yet.","total_spent":"Total spent","total_payments":"Total payments","permissions":"Permissions"},"default_view":{"is_blocked_hint":"Alby is currently disabled on {{host}}","block_removed":"Enabled {{host}}. Please reload the website.","no_transactions":"No transactions for this account yet.","see_all":"See all"}},"accounts":{"title":"Accounts","account_view":{"title1":"Account Settings","title2":"Account","name":{"title":"Display Name","placeholder":"Account Display Name"},"export":{"title":"Connect your mobile wallet","description":"Allows you to connect and use this account on mobile wallets like <0>Blue Wallet</0> and <1>Zeus</1>.","screen_reader":"Export account details","waiting":"waiting for LndHub data...","your_ln_address":"Your Lightning Address:","export_uri":"LNDHub Credentials URI","scan_qr":"Import this wallet into Zeus or BlueWallet by scanning the QRCode."},"no_mnemonic_hint":"💡 You don\'t have a Master Key yet. <0>Click here</0></div> to create your Master Key and unlock these settings.","mnemonic":{"title":"🔑 Key Management","saved":"Master Key encrypted & saved successfully.","existing_nostr_key_notice":"ℹ️ This account already has a nostr private key set and will not be derived from this Master Key. You can manage your Nostr key from your account settings.","new":{"title":"What is a Master Key?"},"generate":{"title":"Generate new Master Key","description":"Master Key allows you to interact with various protocols such as: Nostr, base layer of Bitcoin or LNURL-Auth.","button":"Generate Master Key","confirm":"I\'ve backed up the recovery phrase to my Master Key in a private and secure place.","error_confirm":"Please confirm that you have backed up the recovery phrase."},"backup":{"title":"Back up your recovery phrase","save":"Save Master Key","button":"View recovery phrase","warning":"⚠️ Don\'t forget to back up your recovery phrase! Not backing it up might result in permanently losing access to your Master Key, Nostr identity or assets you manage with this key.","description":"Write down the recovery phrase to be able to restore your Master Key on a new device or in case you lose access to your account.","items":{"keys":"Master Key allows you to interact with various protocols such as: Nostr, Liquid or base layer of Bitcoin.","recovery_phrase":"You can always access your Master Key by using it\'s recovery phrase.","words":"Recovery phrase is set of 12 words that works like a password, however it can\'t be changed or reset in case it\'s lost.","storage":"Make sure to write it down somewhere safe and private!"},"protocols":{"nostr":"Nostr"}},"import":{"title":"Import your Master Key","description":"Use the recovery phrase to import your Master Key into Alby.","button":"Import Master Key"},"inputs":{"title":"Recovery Phrase"},"lnurl":{"title":"Login with Lightning","use_mnemonic":"Use Master Key for logging into lightning-powered apps (LNURL Auth)"}},"network":{"title":"Network","subtitle":"Choose network to derive addresses and decode bitcoin and liquid transactions","options":{"bitcoin":"Mainnet","testnet":"Testnet","regtest":"Regtest"}},"nostr":{"title":"Nostr","hint":"is a simple and open protocol that aims to create censorship-resistant social networks. Nostr works with cryptographic keys. To publish something you sign it with your key and send it to multiple relays. You can use Alby to manage your Nostr key. Many Nostr applications will then allow you to simply use the key from the Alby extension.","settings":{"label":"Nostr Settings","title":"Nostr Settings","description":"Derive Nostr keys from your Master Key or import your existing private key by pasting it in the \\"Nostr Private Key\\" field.","imported_key_warning":"⚠️ You\'re currently using an imported or randomly generated Nostr key. Your Nostr private key cannot be restored by your recovery phrase, so remember to back up your Nostr private key separately.","can_restore":"✅ Nostr key derived from your Master Key","derive":"Derive from Master Key","remove":"Remove current keys","no_secret_key":"💡 You don\'t have a Master Key yet. <0>Click here</0></div> to create your Master Key and derive your Nostr keys."},"setup":{"title":"Setup your Nostr keys","description":"Choose If you\'d like to create a new Nostr account (a pair of private and public keys) or import an existing one.","description2":"Every Nostr account created in Alby comes with a <0>Recovery Phrase</0> – a set of 12 words that always allow you to regain access to your Nostr private keys.","new":{"label":"Create a new Nostr account","description":"Generate a Master Key with a pair of new Nostr keys."},"import":{"label":"Import a Nostr account","description":"Use an existing Nostr private key or derive it from your Master Key","title":"How would you like to import your Nostr account?","private_key":{"label":"Use Nostr private key","description":"Paste your Nostr private key to import it to Alby"},"recovery_phrase":{"label":"Use recovery phrase","description":"Use Master key recovery phrase to import your Nostr keys"}},"new_to_nostr":"New to Nostr? <0>Learn more</0>"},"private_key":{"title":"Manage your Nostr private key","subtitle":"Paste your nostr private key or generate a new one. <0>Learn more »</0>","warning":"Please enter the name of the account to confirm the deletion of your nostr private key:\\n\\n{{ name }}","success":"Nostr private key encrypted & saved successfully.","failed_to_remove":"The entered account name didn\'t match, your old Nostr private key has been restored.","successfully_removed":"Nostr private key removed successfully.","label":"Nostr Private Key"},"public_key":{"label":"Nostr Public Key"},"generate_keys":{"title":"Generate a new Nostr key","screen_reader":"Generate a new Nostr key for your account","hint":"You can generate a random key or a derive key from this account details (using a signed canonical phrase). <0>Learn more »</0>","actions":{"random_keys":"Generate a random key","derived_keys":"Derive a key from account"}},"actions":{"generate":"Generate a new key"},"errors":{"failed_to_load":"Failed to load the Nostr key. Is it a valid Nostr key?"}},"remove":{"title":"Remove This Account","subtitle":"Removes all allowances, payment data and keys associated with this account.","confirm":"Please enter the name of the account to confirm the deletion of your account:\\n\\n{{ name }}\\n\\n ⚠️ All associated keys (Master Key, Nostr, etc) will be deleted if you continue. Please make sure you have backed them up, there is no other way to restore them.","error":"The entered account name didn\'t match."},"remove_secretkey":{"title":"Remove Master Key","subtitle":"Removes the Master Key from this account.","confirm":"Please enter the name of the account to confirm the deletion of your Master Key:\\n\\n{{ name }}","success":"Successfully removed the Master Key."},"actions":{"remove_account":"Remove account","remove_secretkey":"Remove Master Key","export":"Export"}},"actions":{"add_account":"Add account"}},"webln_enable":{"title":"Connect to WebLN","request2":"Request invoices and lightning information"},"alby_enable":{"title":"Connect to Alby","request2":"Request invoices and alby information"},"nostr_enable":{"title":"Connect to Nostr","request1":"Request to read your Nostr public key","request2":"Request to sign events using your private key"},"liquid_enable":{"title":"Connect to Liquid","request2":"Request invoices and liquid information"},"webbtc_enable":{"title":"Connect to WebBTC","request2":"Request invoices and Webbtc information"},"unlock":{"unlock_to_continue":"Unlock to continue","unlock_password":"Your unlock passcode","help_contact":{"part1":"Need help? Contact","part2":"Alby Support"},"unlock_error":{"help":"Your account data is encrypted with your unlock passcode. If you really forgot your unlock passcode you have to reset and add your lightning account again.","link":"Reset now and add a new account"},"errors":{"invalid_password":"Invalid passcode"}},"settings":{"title":"Settings","browser_notifications":{"title":"Browser notifications","subtitle":"Payment and authentication related notifications."},"website_enhancements":{"title":"Website enhancements","subtitle":"Tipping enhancements for Twitter, YouTube, etc."},"lnurl_auth":{"title":"LNURL-Auth","hint":"is a generic authentication protocol. It authenticates the user using digital signatures. The protocol does not require any other identifying information such as passwords, emails, usernames, or similar. With Alby you can use your lightning accounts to securely login to websites. To be compatible with other wallets we had to make a few changes that you can configure here. <0>Ideally all those options are OFF.</0> Use them only if you have old accounts.","legacy_lnurl_auth_202207":{"title":"Legacy LNURL-Auth","subtitle":"The key generation for LNURL-auth has changed (July 2022). Alby was not compatible with other implementations. This was changed, but now different login keys are used. If you used LNURL-auth to login before you can still enable the old method. This option will be removed later, make sure to switch to the new login."},"legacy_lnurl_auth":{"title":"Legacy signing for LNDhub and LNbits","subtitle":"Message signing and login with LNDhub (e.g. BlueWallet) and LNbits accounts has been changed (March 2022). If you logged in with these accounts you can still enable the old signing method. This option will be removed later, make sure to switch to the new login."}},"camera_access":{"title":"Camera access","subtitle":"For scanning QR codes","allow":"Allow camera access","granted":"Permission granted"},"language":{"title":"Language","subtitle":"Translations are not 100% finished yet. <0>Help us translate Alby into your language!</0>"},"theme":{"title":"Theme","subtitle":"Use Alby in dark or light mode","options":{"dark":"Dark","light":"Light","system":"System"}},"show_fiat":{"title":"Sats to Fiat","subtitle":"Always convert into selected currency from selected exchange"},"currency":{"title":"Currency","subtitle":"Show the amounts additionally in this currency"},"exchange":{"title":"Exchange Source","subtitle":"Source of bitcoin exchange rates"},"personal_data":{"title":"Personal data","description":"Payees can request for additional data to be sent with a payment. This data is not shared with anyone without your consent, you will always be prompted before this data is sent along with a payment."},"name":{"title":"Name","subtitle":"","placeholder":"Enter your name"},"email":{"title":"Email","subtitle":"","placeholder":"Enter your email address"},"change_password":{"title":"Change unlock passcode","subtitle":"","screen_reader":"Change unlock passcode","choose_password":{"label":"Enter a new unlock passcode:"},"confirm_password":{"label":"Confirm new passcode:"},"submit":{"label":"Change"},"errors":{"enter_password":"Please enter a new unlock passcode.","confirm_password":"Please confirm your passcode.","mismatched_password":"Passcodes don\'t match."},"success":"Passcode changed successfully"},"nostr":{"title":"Nostr","hint":"is a simple and open protocol that aims to create censorship-resistant social networks. Nostr works with cryptographic keys. To publish something you sign it with your key and send it to multiple relays. You can use Alby to manage your Nostr key. Many Nostr applications will then allow you to simply use the key from the Alby extension.","private_key":{"title":"Private key","subtitle":"This section is moved to accounts page as keys are account specific now.","go_to":"Go To Accounts"}}},"send":{"title":"Send","input":{"label":"Recipient","hint":"Invoice, Lightning Address, LNURL","hint_with_bitcoin_address":"Invoice, Lightning Address, LNURL or bitcoin address"}},"lnurlpay":{"amount":{"label":"Amount"},"comment":{"label":"Comment"},"name":{"label":"Name"},"email":{"label":"Email"},"success":"Success, payment sent!"},"lnurlauth":{"title":"Authentication","content_message":{"heading":"Do you want to log in to"},"submit":"Login","success":"Login successful on {{name}}","errors":{"status":"Error: Auth status is not ok"}},"lnurlchannel":{"title":"Channel Request","content_message":{"heading":"Request a channel from the node"},"success":"Channel request sent successfully to {{name}}"},"lnurlwithdraw":{"title":"Withdraw","content_message":{"heading":"Amount"},"amount":{"label":"Amount"},"success":"Withdraw request of {{amount}} sent successfully to {{sender}}"},"lnurlredeem":{"title":"Redeem bitcoin","input":{"label":"LNURL-withdraw code","placeholder":"LNURL..."},"actions":{"withdraw":"Withdraw"},"errors":{"invalid_withdraw_request":"Invalid LNURL withdraw request","invalid_lnurl":"Invalid LNURL"}},"receive":{"title":"Receive","actions":{"create_invoice":"Create Invoice","invoice":{"title":"Lightning invoice","description":"Request instant and specific amount bitcoin payments"},"bitcoin_address":{"title":"Bitcoin address","description":"Receive via bitcoin address using a swap service"},"redeem":{"title":"Redeem","description":"Withdraw a bitcoin voucher instantly via an LNURL code"}},"amount":{"label":"Amount","placeholder":"Amount in Satoshi..."},"description":{"label":"Description","placeholder":"For e.g. who is sending this payment?"},"success":"Payment received!","payment":{"waiting":"waiting for payment...","status":"Check payment status"}},"on_chain":{"title":"Receive via bitcoin address","instructions1":"To receive bitcoin via a bitcoin address, login to your <0>Alby Account</0> on getalby.com","instructions2":"You can find your bitcoin address on the <0>Receive</0> page.","go":"Go to your Alby account →"},"scan_qrcode":{"title":"Waiting to scan"},"discover":{"title":"Explore the Lightning ⚡️ Ecosystem","description":"Websites and webapps where you can use Alby","list":{"trading":"Trading","gaming":"Gaming","entertainment":"Entertainment","shopping":"Shopping","miscellaneous":"Miscellaneous","showcases":"Showcases","nostr":"Nostr","nodeManagement":"Node Management"},"tips":{"title":"Your Alby wallet is ready","description":"A few tips to get you started buzzin\'🐝","top_up_wallet":{"title":"Buy Bitcoin","description":"Need a top up?\\nWe got you!"},"demo":{"title":"Alby Demo","description":"Discover Alby\'s features\\non our demo website"},"mnemonic":{"title":"Nostr","description":"Planning to use Nostr?\\nGenerate your keys now."}}},"publishers":{"title":"Your ⚡ Websites","description":"Websites where you have used Alby before","no_info":"It looks like you haven\'t used Alby in any websites yet.","discover":"Discover Websites","publisher":{"allowance":{"title":"Allowance","used_budget":"sats used"}}},"make_invoice":{"title":"Create Invoice","amount":{"label":"Amount (Satoshi)"},"memo":{"label":"Memo"},"errors":{"amount_too_small":"Amount is less than minimum","amount_too_big":"Amount exceeds maximum"}},"confirm_sign_message":{"title":"Sign","content":"This website asks you to sign:"},"confirm_sign_pset":{"title":"Sign","allow_sign":"This website asks you to sign a Liquid transaction","view_details":"View details","hide_details":"Hide details","view_raw_transaction":"View raw transaction (Base64)","hide_raw_transaction":"Hide raw transaction (Base64)","inputs":"Inputs","outputs":"Outputs","amount":"{{amount}} {{ticker}}"},"bitcoin":{"confirm_get_address":{"title":"Get Address"},"confirm_sign_psbt":{"title":"Sign","allow_sign":"This website asks you to sign a bitcoin transaction","view_details":"View details","hide_details":"Hide details","view_raw_transaction":"View raw transaction (Hex)","hide_raw_transaction":"Hide raw transaction (Hex)","inputs":"Inputs","outputs":"Outputs","fee":"Fee"},"allow":"Allow this website to:","allow_sign":"Allow {{host}} to sign:","block_and_ignore":"Block and ignore {{host}}","block_added":"Added {{host}} to the blocklist, please reload the website."},"confirm_keysend":{"title":"Approve Payment","success":"Payment sent! Preimage: {{preimage}}","payment_summary":{"description":"Send payment to: {{destination}}"}},"keysend":{"title":"Send","success":"Payment sent! Preimage: {{preimage}}","receiver":{"label":"Send payment to"},"amount":{"label":"Amount (Satoshi)"}},"send_to_bitcoin_address":{"title":"Send to bitcoin address","recipient":{"label":"Recipient"},"amount":{"label":"Amount (sats)"},"network_fee":{"label":"Network fee"},"service_fee":{"label":"Service fee"},"total":{"label":"Total"},"total_fee":{"label":"Fee"},"provider":{"label":"Swap provider"},"view_on_explorer":"View on mempool explorer","time_estimate":"ℹ️ Transactions usually arrive within 10-30 minutes.","service_unavailable":"Service temporary not available, please try again in a few minutes."},"confirm_payment_async":{"title":"Approve Payment","description":"This is a HOLD invoice. <0>Learn more »</0>","actions":{"pay_now":"Pay now"}},"confirm_payment":{"title":"Approve Payment","success":"Payment of {{amount}} successful!","actions":{"pay_now":"Pay now"}},"confirm_request_permission":{"title":"Approve Request","allow":"Allow this website to execute:","always_allow":"Remember my choice and don\'t ask again"},"confirm_add_account":{"title":"Add account","content":"This website wants to add an account ({{connector}}):","tor_info":"In order to connect through the TOR network you need to first install the Alby companion app:"},"liquid":{"title":"Liquid","allow":"Allow this website to:","allow_sign":"Allow {{host}} to sign:","block_and_ignore":"Block and ignore {{host}}","block_added":"Added {{host}} to the blocklist, please reload the website."},"nostr":{"title":"Nostr","allow":"Allow this website to:","content":"This website asks you to sign:","allow_sign":"Allow {{host}} to sign:","allow_sign_event":"Allow {{host}} to sign a {{kind}} event","allow_encrypt":"Allow {{host}} to encrypt the message:","allow_decrypt":"Allow {{host}} to decrypt the message:","view_details":"View details","hide_details":"Hide details","block_and_ignore":"Block and ignore {{host}}","block_added":"Added {{host}} to the blocklist, please reload the website.","peer":"Peer","kinds":{"0":"metadata","1":"short text note","2":"recommend relay","3":"contacts","4":"encrypted direct messages","5":"event deletion","7":"reaction","8":"badge award","40":"channel creation","41":"channel metadata","42":"channel message","43":"channel hide message","44":"channel mute user","1984":"reporting","9734":"zap request","9735":"zap","10002":"relay list metadata","22242":"client authentication","24133":"nostr connect","30008":"profile badges","30009":"badge definition","30023":"long-form content","30078":"application-specific data","unknown":"kind {{kind}}"}},"transactions":{"title":"Transactions","description":"Transactions for this account","list_empty":"No transactions available yet."},"onboard":{"title":"Setup your keys","request1":"This website requires key interaction","request2":"You haven\'t setup your keys yet","request3":"Setup is quick and easy","actions":{"start_setup":"Start Setup"}}},"y0":{"password":"Password","confirm_password":"Confirm Password","advanced":"Advanced","success":"Success","error":"Error","settings":"Settings","accounts":"Accounts","discover":"Discover","connected_sites":"Connected Sites","wallet":"Wallet","sats_one":"sat","sats_other":"sats","loading":"loading","amount":"Amount","optional":"Optional","feedback":"Feedback","copied":"Copied!","pasted":"Pasted!","description":"Description","description_full":"Full Description","success_message":"{{amount}}{{fiatAmount}} are on their way to {{destination}}","response":"Response","message":"Message","help":"Help","balance":"Balance","or":"or","website":"Website","apps":"Apps","actions":{"back":"Back","delete":"Delete","edit":"Edit","next":"Next","open":"Open","cancel":"Cancel","confirm":"Confirm","continue":"Continue","connect":"Connect","lock":"Lock","unlock":"Unlock","send":"Send","save":"Save","import":"Import","receive":"Receive","receive_again":"Receive another payment","transactions":"Transactions","close":"Close","export":"Export","remove":"Remove","copy":"Copy","copy_clipboard":"Copy to clipboard","copied_to_clipboard":"Copied to clipboard","paste":"Paste","paste_clipboard":"Paste from clipboard","copy_invoice":"Copy Invoice","log_in":"Log in","remember":"Remember my choice and don\'t ask again","more":"More","hide":"Hide","disconnect":"Disconnect","review":"Review","download":"Download"},"connectors":{"lnd":"LND","nativelnd":"LND (over Tor)","lndhub":"LNDHub","nativelndhub":"LNDHub (over Tor)","lnbits":"LNBits","nativelnbits":"LNBits (over Tor)","galoy":"Galoy","eclair":"Eclair","citadel":"Citadel","nativecitadel":"Citadel (over Tor)","commando":"Commando"},"errors":{"connection_failed":"Connection failed","payment_failed":"Payment Failed"},"range":{"between":"between {{min}} and {{max}}","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"},"enable":{"allow":"Allow this website to:","block_added":"Added {{host}} to the blocklist, please reload the website.","request1":"Request approval for transactions","block_and_ignore":"Block and ignore {{host}}","insecure_domain_warn":"⚠️ You are connecting to an insecure domain."}},"wx":{"allowance_menu":{"confirm_delete":"Are you sure you want to disconnect this website?","hint":"Changing this will reset the current budget","new_budget":{"label":"One-click payments budget","link_label":"Set a budget for one-click payments"},"enable_login":{"title":"Enable website login","subtitle":"Automatically log in without confirmation when the website requests."},"edit_allowance":{"title":"Site settings","screen_reader":"Allowance Options"},"edit_permissions":"Edit Permissions"},"qrcode_scanner":{"title":"Scan QR Code","actions":{"start_scanning":"Start scanning","stop_scanning":"Stop scanning"},"errors":{"allow_camera_access":"Please allow camera access in the settings screen."}},"transactions_table":{"fee":"Fee","preimage":"Preimage","payment_hash":"Payment Hash","received":"Received","sent":"Sent","date_time":"Date & Time","boostagram":{"sender":"Sender","message":"Message","app":"App","podcast":"Podcast","episode":"Episode","action":"Action","timestamp":"Timestamp","totalAmount":"Total amount"},"open_location":"Open website"},"budget_control":{"remember":{"label":"Remember and set a budget","description":"You may set a balance to not be asked for confirmation on payments until it is exhausted."},"budget":{"label":"Budget"}},"companion_download_info":{"heading":"How do you want to connect to the TOR network?","download":"Download","companion":{"title":"Companion App","description":"Lightweight app that connects your browser to the TOR network."},"tor_native":{"title":"TOR (native)","description":"Select this option if this browser is already connected to the TOR network."}},"toasts":{"connection_error":{"what_you_can_do":"Here is what you can do:","double_check":"Double check your connection details","if_ssl_errors":"and if there are SSL errors (e.g. ERR_CERT_AUTHORITY_INVALID), click \\"advanced\\" and proceed to accept the certificate.","visit_guides":"Visit our guides for more help"},"login_failed":{"password_reset":"Forgot your password? Click here"},"errors":{"invalid_credentials":"Invalid password. Please review your password and email address and try again."}},"account_menu":{"screen_reader":"Toggle Dropdown","title":"Switch account","options":{"account":{"add":"Add a new account","manage":"Manage accounts","account_settings":"Account settings","go_to_web_wallet":"Manage your web account"}}},"publishers_table":{"payments":"payments","budget":"budget","total":"total"},"badge":{"label":{"auth":"LOGIN","imported":"IMPORTED","budget":"BUDGET"}}},"mk":{"webln":{"getbalance":"Read the balance of your account"},"nostr":{"getpublickey":"Read your public key","signmessage":"Sign message with your key","nip04encrypt":"Encrypt data","nip04decrypt":"Decrypt data"},"bitcoin":{"getaddress":"Read your Bitcoin receive address"},"liquid":{"getaddress":"Read your Liquid receive address","signschnorr":"Sign message with your key"},"commando":{"bkpr-listbalances":"List of all current and historical account balances","checkmessage":"Verify that the signature was generated by a given node","connect":"Establish a new connection with another node","decode":"Decode a bolt11/bolt12/rune string","decodepay":"Check and parse a bolt11 string","disconnect":"Close an existing connection to a peer","feerates":"Return the feerates that CLN will use","fundchannel":"Open a payment channel with a peer by committing a funding transaction","getinfo":"Get the summary of the node","getroute":"Find the best route for the payment to a lightning node","invoice":"Create the expectation of a payment","keysend":"Send a payment to another node","listforwards":"List all htlcs that have been attempted to be forwarded","listfunds":"List all funds available","listinvoices":"Get the status of all invoices","listnodes":"List nodes the node has learned about via gossip messages","listoffers":"List all offers or get a specific offer","listpays":"Gets the status of all pay commands","listpeers":"List nodes that are connected or have open channels with this node","listsendpays":"Gets the status of all sendpay commands","listtransactions":"List transactions tracked in the wallet","multifundchannel":"Open multiple payment channels with nodes by committing a single funding transaction","offer":"Create an offer","pay":"Send a payment to a BOLT11 invoice","sendpay":"Send a payment via a route","setchannel":"Configure fees / htlc range advertized for a channel","signmessage":"Create a signature from this node"},"lnd":{"getinfo":"Get the node information","listchannels":"Get a description of all the open channels","listinvoices":"Get a list of all invoices","channelbalance":"Get a report on the total funds across all open channels","walletbalance":"Get the total unspent outputs of the wallet","openchannel":"Open a new channel","connectpeer":"Establish a connection to a remote peer","disconnectpeer":"Disconnect from a remote peer","estimatefee":"Estimate the fee rate and total fees for a transaction","getchaninfo":"Get the network announcement for the given channel","getnetworkinfo":"Get basic stats about the known channel graph","getnodeinfo":"Get the channel information for a node","gettransactions":"Get a list of all transactions relevant to the wallet","listpayments":"Get a list of all outgoing payments","listpeers":"Get a list all currently active peers","lookupinvoice":"Look up invoice details","queryroutes":"Query for a possible route","verifymessage":"Verify a signature over a msg","sendtoroute":"Make a payment via the specified route","decodepayreq":"Decode a payment request string","routermc":"Read the internal mission control state","addinvoice":"Create new invoices","addholdinvoice":"Create new HODL invoices","settleinvoice":"Settle an accepted invoice","newaddress":"Get a new onchain address","nextaddr":"Get the next unused address within the wallet","listaddresses":"Get all the addresses along with their balance","listunspent":"Get a list of all utxos spendable by the wallet"},"lnc":{"getinfo":"Get the node information","listchannels":"Get a description of all the open channels","listinvoices":"Get a list of all invoices","channelbalance":"Get a report on the total funds across all open channels","walletbalance":"Get the total unspent outputs of the wallet","openchannel":"Open a new channel","connectpeer":"Establish a connection to a remote peer","disconnectpeer":"Disconnect from a remote peer","estimatefee":"Estimate the fee rate and total fees for a transaction","getchaninfo":"Get the network announcement for the given channel","getnetworkinfo":"Get basic stats about the known channel graph","getnodeinfo":"Get the channel information for a node","gettransactions":"Get a list of all transactions relevant to the wallet","listpayments":"Get a list of all outgoing payments","listpeers":"Get a list all currently active peers","lookupinvoice":"Look up invoice details","queryroutes":"Query for a possible route","verifymessage":"Verify a signature over a msg","sendtoroute":"Make a payment via the specified route","decodepayreq":"Decode a payment request string","routermc":"Read the internal mission control state","addinvoice":"Create new invoices","addholdinvoice":"Create new HODL invoices","settleinvoice":"Settle an accepted invoice","newaddress":"Get a new onchain address","nextaddr":"Get the next unused onchain address within the wallet","listaddresses":"Get all the onchain addresses along with their balance","listunspent":"Get a list of all utxos spendable by the wallet"}}}'),Ot=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"Establecer un código de desbloqueo","description":"Este código te permitirá desbloquear Alby en este dispositivo. No se puede recuperar, pero se puede cambiar más tarde.","choose_password":{"label":"Elige un código de desbloqueo:"},"confirm_password":{"label":"Confirme que lo escribió correctamente:"},"errors":{"enter_password":"Por favor, introduce un código de acceso.","confirm_password":"Por favor, confirma tu código de acceso.","mismatched_password":"Los códigos no coinciden."}},"test_connection":{"ready":"Genial, ¡ya estás listo!","initializing":"Accediendo a su cuenta. Por favor, espere, esto puede tardar un minuto...","connection_error":"Error de Conexión","review_connection_details":"Revise los detalles de su conexión.","connection_taking_long":"Conectarse está llevando más tiempo de lo esperado... ¿Sus datos son correctos? ¿Se puede acceder a su nodo?","contact_support":"Si necesita ayuda, póngase en contacto con support@getalby.com","actions":{"delete_edit_account":"Eliminar una cuenta no válida y volver a editarla"}},"title":"Bienvenido a Alby","pin_extension":{"title":"Fija tu extensión Alby","description":"Ya casi lo has conseguido. Para utilizar Alby cómodamente, recuerda anclar tu extensión a la barra de herramientas del navegador:","explanation":"1. Haz clic en <0/> en la esquina superior derecha de tu navegador<1/>2. Busca Alby y haz clic para anclarlo a la barra de herramientas<1/>3. Eso es todo. Para acceder a Alby sólo tienes que hacer clic en el icono <2/>","next_btn":"Empieza a hablar {{icon}} con Alby"}},"choose_connector":{"description":"Conecta tu billetera lightning externa o nodo","lnd":{"title":"LND","page":{"title":"Conecta a tu nodo LND","description":"Necesita la URL de su nodo y una frase macarrón con permisos de lectura y envío (por ejemplo, admin.macaroon)"},"url":{"label":"Host y puerto de la API REST","placeholder":"https://url-de-su-nodo:8080"},"macaroon":{"label":"Frase macarrón (formato HEX)"},"drag_and_drop":"Arrastra y suelta tu frase macarrón aquí o <0>navegar</0>","errors":{"connection_failed":"Error de conexión. ¿Son correctas sus credenciales de LND?"}},"lnbits":{"title":"Cuenta LNbits","page":{"instructions":"En LNbits, elija la billetera que desea conectar, ábrala, haga clic en Información de API y copie la clave de administrador. Pégalo a continuación:","title":"Conéctese a <0>LNbits</0>"},"admin_key":{"label":"Clave de Administrador de LNbits","placeholder":"Su clave de administrador de 32 dígitos"},"url":{"label":"URL de LNbits"},"errors":{"connection_failed":"La conexión falló. ¿Tiene la URL y la clave de administrador correctas?"}},"eclair":{"title":"Cuenta de Eclair","password":{"label":"Contraseña de Eclair"},"page":{"instructions":"Necesitas la URL y la contreaseña de Eclair.","title":"Conectar a Eclair"},"url":{"label":"URL de Eclair","placeholder":"http://localhost:8080"}},"citadel":{"title":"Cuenta de Citadel","password":{"label":"Contraseña de Citadel"},"url":{"label":"URL de Citadel","placeholder":"http://citadel.local"},"page":{"title":"Conectar a nodo Citadel","instructions":"Esto actualmente no funciona si el 2FA está activado."}},"umbrel":{"title":"Cuenta de Umbrel","page":{"title":"Conectar a Umbrel","instructions":"1. En tu Lightning Node dashboard ve a <0>Connect wallet</0><1/>2. Selecciona <0>REST (Tor)</0> o <0>REST (Local Network)</0> mode<1/>3. Copia la <0>lndconnect URL</0> y pégala a continuación"},"rest_url":{"placeholder":"lndconnect://sunodo:8080?...","label":"URL de REST de lndconnect"}},"mynode":{"title":"MiNodo","page":{"title":"Conecta <0>miNodo</0>","instructions":"En tu página myNode pulsa el botón <0>Billetera</0> para tu servicio <0>lightning</0>.<1/> Ahora pulsa el botón <0>Emparejar Billetera</0> bajo la pestaña <0>Estado</0>. Escribe tu contraseña cuando se indique.<1/> Selecciona el menú desplegable y elige una opción de emparejamiento. Dependiendo de tu configuración puedes usar la conexión <0>lightning (REST + IP Local)</0> o la conexión <0>lightning (REST + TOR)</0>."},"rest_url":{"label":"URL de REST de lndconnect","placeholder":"lndconnect://sunodo:8080?..."}},"start9":{"title":"Cuenta Start9","page":{"title":"Conéctate a tu <0>Start9 Server</0>","instructions":"En tu panel de Embassy, haz clic en el servicio <0>Lightning Network Daemon</0>.<1/>Selecciona la pestaña <0>Propiedades</0>.<1/>Ahora copia la URL REST de <0>LND Connect. </0>"},"rest_url":{"label":"URL REST conectalnd","placeholder":"lndconnect://sunodo:8080?..."}},"raspiblitz":{"title":"Cuenta RaspiBlitz","page":{"title":"Conecta tu nodo <0>RaspiBlitz</0>","instructions2":"Copie el (admin) <0>macaroon</0> en la entrada de abajo.","instructions1":"Siga estos pasos:<1/> 1. <0>SSH</0> en su <0>Raspiblitz</0><1/>2. Seleccione <0>Conectar aplicaciones y mostrar credenciales</0> de la lista<1/><0/>3. Elija <0>Conectar Alby a este nodo</0><1/>4. Pulsa <0>Aceptar</0> para mostrar las credenciales de conexión<1/><1/>Copia y pega el <0>host API REST</0> o la dirección <0>.onion</0> para conectarte a través de Tor en la entrada de abajo."},"rest_api_host":{"label":"Host de la API REST","placeholder":"tu-nodo-direccion onion:puerto"}},"blink":{"title":"Billetera de Blink","page":{"title":"Conecta a <0>La cartera Blink</0>"}},"bitcoin_jungle":{"title":"Billetera de Bitcoin Jungle","page":{"title":"Conecta a <0>La cartera Bitcoin Jungle</0>"}},"btcpay":{"title":"Servidor BTCPay","page":{"title":"Conéctese a su nodo BTCPay LND","instructions":"Navegue a su servidor BTCPay e inicie sesión como administrador. Vaya a Configuración del servidor > Servicios > LND Rest-Ver información. Luego haga clic en\\" Ver información del código QR \\" y copie los datos del Código QR. Pegar a continuación:"},"config":{"label":"Datos de configuración","placeholder":"config=https://su-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"La conexión falló. ¿Es la URL de conexión de BTCPay correcta y accesible?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Conecta LNDHub","description":"Ingrese su URI de credencial de LNDHub aquí o escanee el código QR con su cámara web."},"uri":{"label":"URI de exportación de LNDHub"},"errors":{"invalid_uri":"LN Dhubri No válido","connection_failed":"La conexión falló. ¿Es correcto el URI de LNDHub?"}},"commando":{"pubkey":{"label":"Clave Pública"},"port":{"label":"Puerto"},"privKey":{"label":"Clave privada local (autogenerada)"},"config":{"label":"Datos de Configuración","placeholder":"config=https://su-btc-pay.org/lnd-config/212121/lnd.config"},"host":{"label":"Host"},"page":{"title":"Conéctese a su nodo Core Lightning","instructions":"Asegúrese de tener Core Lightning versión 0.12.0 o posterior, el complemento de comando se está ejecutando y se puede acceder a su nodo a través de Lightning Network. Cree una runa ejecutando \'lightning-cli commando-rune\'."},"title":"Core Lightning","errors":{"connection_failed":"La conexión falló. ¿Está su nodo Core Lightning en línea y usando el plugin de comando?"},"rune":{"label":"Rune"},"proxy":{"label":"Proxy de socket web"}},"lnc":{"page":{"title":"Conecta tu nodo LND","description":"1. Abra tu Lightning Terminal y selecciona <0>Lightning Node Connect</0> en la barra lateral.<1/> 2. Haz clic en <0>Crear una nueva sesión</0><1/>3. Etiqueta la sesión, luego elige el permiso que deseas y envía<1/>4. <0>Copia la frase de emparejamiento</0> y pégala a continuación."},"title":"Lightning Terminal (LNC)","pairing_phrase":{"label":"Tu frase vinculada. ","placeholder":"frase de pila secreta de sats"}},"title":"Conecta la Billetera Lightning","umbrel_lightning_node":{"title":"Lightning Node"}},"home":{"actions":{"send_satoshis":"⚡️ Enviar Satoshis ⚡️","enable_now":"Habilitar ahora"},"allowance_view":{"no_transactions":"No hay transacciones en <0>{{name}}</0> todavía.","sats":"sats","budget_spent":"Presupuesto gastado","total_spent":"Gastos totales"},"default_view":{"is_blocked_hint":"Alby está actualmente deshabilitado en {{host}}","block_removed":"{{host}} habilitado. Vuelva a cargar el sitio web.","see_all":"Ver todo","no_transactions":"Aún no hay transacciones en esta cuenta."}},"accounts":{"title":"Cuentas","actions":{"add_account":"Agregar Cuenta"},"account_view":{"nostr":{"errors":{"failed_to_load":"No se pudo cargar la clave Nostr. ¿Es una clave Nostr válida?"},"private_key":{"success":"Clave privada cifrada y guardada con éxito.","successfully_removed":"Clave privada eliminada con éxito.","label":"Clave Privada","title":"Administra tu clave","subtitle":"Pega tu clave privada o genera una nueva. <0>Más información \\"</0>","failed_to_remove":"El nombre de cuenta introducido no coincide, tu antiguo privado ha sido restaurado."},"public_key":{"label":"Clave Pública"},"generate_keys":{"title":"Generar una nueva clave de Nostr","screen_reader":"Genere una nueva clave Nostr para su cuenta","actions":{"random_keys":"Genera una clave aleatoria","derived_keys":"Derivar una clave de la cuenta"},"hint":"Puede generar una clave aleatoria o una clave derivada a partir de los detalles de esta cuenta (usando una frase canónica firmada). <0>Aprenda Más »</0>"},"actions":{"generate":"Generar una nueva clave"},"title":"Nostr","hint":"es un protocolo simple y abierto que tiene como objetivo crear redes sociales resistentes a la censura. Nostr trabaja con claves criptográficas. Para publicar algo, lo firma con su clave y lo envía a múltiples relevos. Puede usar Alby para administrar su clave Nostr. Muchas aplicaciones de Nostr le permitirán simplemente usar la clave de la extensión Alby."},"remove":{"title":"Eliminar Esta Cuenta","subtitle":"Se eliminarán todos los enlaces vinculados. Por favor, asegúrese de querer hacerlo."},"title1":"Información de la Cuenta","title2":"Editar Cuenta","name":{"title":"Nombre","placeholder":"Nombre de la Cuenta"},"export":{"title":"Exportar Cuenta","screen_reader":"Exportar los detalles de la cuenta","your_ln_address":"Tu Dirección Lightning:","scan_qr":"Importe esta billetera a Zeus o BlueWallet escaneando el código QR.","waiting":"esperando datos de LndHub...","export_uri":"URI de credenciales de LNDHub"},"actions":{"remove_account":"Eliminar cuenta","export":"Exportar"}}},"unlock":{"unlock_to_continue":"Desbloquear para continuar","help_contact":{"part1":"¿Necesita ayuda? Contacto","part2":"Soporte de Alby"},"unlock_error":{"help":"Los datos de tu cuenta están encriptados con tu código de desbloqueo. Si realmente olvidaste tu código de desbloqueo, tienes que restablecer y añadir tu cuenta lightning de nuevo.","link":"Restablecer ahora y agregar una nueva cuenta"},"unlock_password":"Tu código de desbloqueo","errors":{"invalid_password":"Contraseña no válida"}},"settings":{"title":"Configuración","website_enhancements":{"title":"Mejoras del sitio web","subtitle":"Mejoras de propinas para Twitter, YouTube, etc."},"lnurl_auth":{"title":"Autenticación-LNURL","hint":"es un protocolo genérico de autenticación. Autentica al usuario utilizando firmas digitales. El protocolo no requiere ninguna otra información de identificación como contraseñas, correos electrónicos, nombres de usuario o similares. Con Alby puedes utilizar tus cuentas relámpago para iniciar sesión en sitios web de forma segura. Para ser compatible con otros monederos hemos tenido que hacer algunos cambios que puedes configurar aquí. <0>Idealmente todas esas opciones están en OFF.</0> Úsalas sólo si tienes cuentas antiguas.","legacy_lnurl_auth_202207":{"title":"Autenticación-LNURL Legada","subtitle":"La generación de claves para la autenticación-LNURL ha cambiado (en julio de 2022). Alby no era compatible con otras implementaciones. Esto se cambió, pero ahora se utilizan diferentes claves de inicio de sesión. Si usó autenticación-LNURL para iniciar sesión antes, aún puede habilitar el método anterior. Esta opción se eliminará más adelante, asegúrese de cambiar al nuevo inicio de sesión."},"legacy_lnurl_auth":{"title":"Firma heredada (Legacy) para LNDhub y LNbits","subtitle":"Se ha cambiado la firma de mensajes y el inicio de sesión con cuentas LNDhub (por ejemplo, BlueWallet) y LNbits (marzo de 2022). Si inició sesión con estas cuentas, aún puede habilitar el método de firma anterior. Esta opción se eliminará más adelante, asegúrese de cambiar al nuevo inicio de sesión."}},"camera_access":{"title":"Acceso a la cámara","subtitle":"Para escanear códigos QR","allow":"Permitir el acceso a la cámara","granted":"Permiso concedido"},"language":{"title":"Idioma","subtitle":"Alby se vuelve internacional! ayúdanos a traducir Alby en tu idioma"},"theme":{"title":"Tema","subtitle":"Utilice Alby en modo oscuro o claro","options":{"light":"Claro","dark":"Oscuro","system":"Sistema"}},"show_fiat":{"title":"Sats a Fiat","subtitle":"Convierta siempre a la moneda seleccionada desde el intercambio seleccionado"},"currency":{"title":"Moneda","subtitle":"Mostrar los importes adicionalmente en esta moneda"},"exchange":{"title":"Fuente del Intercambio","subtitle":"Fuente del tipo de cambio de Bitcoin"},"personal_data":{"title":"Datos personales","description":"Los beneficiarios pueden solicitar que se envíen datos adicionales con un pago. Estos datos no se comparten con nadie sin su consentimiento, siempre se le solicitará antes de que se envíen estos datos junto con un pago."},"name":{"title":"Nombre","subtitle":"","placeholder":"Introduzca su nombre"},"email":{"title":"Correo electrónico","subtitle":"","placeholder":"Introduzca su dirección de correo electrónico"},"change_password":{"title":"Cambiar la Contraseña","subtitle":"","screen_reader":"Cambiar la Contraseña","choose_password":{"label":"Introduzca una nueva contraseña:"},"confirm_password":{"label":"Confirmar nueva contraseña:"},"errors":{"enter_password":"Por favor, introduzca una contraseña.","confirm_password":"Por favor, confirme su contraseña.","mismatched_password":"Las contraseñas no coinciden."},"success":"La contraseña se cambió correctamente","submit":{"label":"Cambiar"}},"browser_notifications":{"title":"Notificaciones del navegador","subtitle":"Notificaciones relacionadas con pagos y autenticación."},"nostr":{"private_key":{"title":"Clave Privada","subtitle":"Esta sección se ha movido a la página de cuentas ya que las claves ahora son específicas de la cuenta.","go_to":"Ir a Cuentas"},"title":"Nostr","hint":"es un protocolo simple y abierto que tiene como objetivo crear redes sociales resistentes a la censura. Nostr trabaja con claves criptográficas. Para publicar algo, lo firma con su clave y lo envía a múltiples relevos. Puede usar Alby para administrar su clave Nostr. Muchas aplicaciones de Nostr le permitirán simplemente usar la clave de la extensión Alby."}},"send":{"title":"Enviar","input":{"label":"Destinatario","hint":"Factura, Dirección Lightning o LNURL"}},"lnurlpay":{"amount":{"label":"Cantidad"},"comment":{"label":"Comentario"},"name":{"label":"Nombre"},"email":{"label":"Email"},"success":"¡Pago enviado con éxito!"},"receive":{"title":"Recibir","actions":{"create_invoice":"Crear Factura"},"amount":{"label":"Cantidad","placeholder":"Cantidad en Satoshi..."},"description":{"label":"Descripción","placeholder":"Por ej. ¿Quién está enviando este pago?"},"success":"¡Pago recibido!","payment":{"waiting":"Esperando el pago...","status":"Consultar estado de pago"}},"publishers":{"publisher":{"allowance":{"title":"Tolerancia","used_budget":"sats utilizados"}},"description":"Sitios web donde has usado Alby anteriormente","discover":"Descubre Sitios Web","title":"Tus ⚡ Sitios Web","no_info":"Parece que todavía no has usado Alby en ningún sitio web."},"make_invoice":{"title":"Crear Factura","amount":{"label":"Cantidad (Satoshi)"},"memo":{"label":"Memorándum"},"errors":{"amount_too_small":"La cantidad es inferior al mínimo","amount_too_big":"La cantidad excede el máximo"}},"confirm_sign_message":{"title":"Firmar","content":"Este sitio web te pide que firmes:"},"confirm_keysend":{"title":"Aprobar Pago","success":"¡Pago enviado! Preimagen: {{preimage}}","payment_summary":{"description":"Enviar pago a: {{destination}}"}},"confirm_payment":{"title":"Aprobar Pago","success":"¡Pago de {{amount}} exitoso!!","actions":{"pay_now":"Pagar Ahora"}},"lnurlauth":{"title":"Autenticación","content_message":{"heading":"¿Quieres iniciar sesión en"},"submit":"Acceder","success":"Inicio de sesión exitoso en {{name}}","errors":{"status":"Error: El estado de autenticación no es correcto"}},"lnurlchannel":{"content_message":{"heading":"Solicitar un canal desde el nodo"},"success":"Solicitud de canal enviada con éxito a {{name}}","title":"Solicitud de Canal"},"lnurlwithdraw":{"title":"Retirar","content_message":{"heading":"Cantidad"},"amount":{"label":"Cantidad"},"success":"Solicitud de retiro de {{amount}} enviada con éxito a {{sender}}"},"choose_path":{"alby":{"title":"Cuenta de Alby","connect":"Conectar con Alby"},"other":{"title":"Otras Billeteras","connect":"Conectar"}},"nostr":{"title":"Nostr","allow":"Permitir que este sitio web:","content":"Este sitio web te solicita firmar:","allow_sign":"Permitir que {{host}} firme:","block_and_ignore":"Bloquear e ignorar {{host}}","block_added":"Se agregó {{host}} a la lista de bloqueados, vuelva a cargar el sitio web.","view_details":"Más información","hide_details":"Ocultar los detalles","kinds":{"0":"metadatos","1":"nota corta de texto","2":"Recomendar un relé","3":"contactos","4":"mensajes directos cifrados","5":"borrado de eventos","7":"reacción","8":"concesión de distintivo","40":"creación del canal","41":"metadatos del canal","42":"mensaje del canal","43":"ocultar mensaje del canal","44":"silenciar a un usuario del canal","1984":"reportando","9734":"solicitud de eliminación","9735":"borrar","10002":"metadatos de la lista de relés","22242":"autenticación del cliente","24133":"conectarse a nostr","30008":"distintivos del perfil","30009":"definición del distintivo","30023":"contenidos largos","30078":"datos específicos de la aplicación"}},"discover":{"title":"Explora el Ecosistema ⚡️ Lightning","description":"Sitios web y aplicaciones web donde puede usar Alby","tips":{"top_up_wallet":{"title":"⚡️ Recarga tu billetera","description":"Cree una factura lightning, envíese algunos bitcoins y comience a usar Alby en el ecosistema lightning"},"title":"Tu billetera Alby está lista","description":"Algunos consejos para que empieces a zumbar 🐝","demo":{"title":"🕹️ Prueba la versión Demo de Alby","description":"Descubra todo lo que puede hacer con Alby en nuestro sitio web de demostraciones"}},"list":{"entertainment":"Entretenimiento","shopping":"Compras","miscellaneous":"Varios","showcases":"Vitrinas","nostr":"Nostr","trading":"Comerciar","gaming":"Juegos","nodeManagement":"Gestión de nodos"}},"confirm_request_permission":{"title":"Aprobar solicitud","always_allow":"Recordar mi elección y no volver a preguntar","allow":"Permitir que este sitio web ejecute:"},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Contraseña"},"confirm_password":{"label":"Confirmar Contraseña"},"errors":{"enter_password":"Por favor introduzca una contraseña.","confirm_password":"Por favor, confirme su contraseña.","mismatched_password":"Las contraseñas no coinciden."}}}},"keysend":{"title":"Enviar","success":"¡Pago enviado! Preimagen: {{preimage}}","receiver":{"label":"Enviar pago a"},"amount":{"label":"Cantidad (Satoshi)"}},"transactions":{"title":"Transacciones","list_empty":"Todavía no hay transacciones disponibles.","description":"Transacciones para esta cuenta"},"distributions":{"umbrel":{"name":"Umbrel"},"start9":{"name":"Start9"},"raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"title":"Conectarse a {{name}}","description":"Elige la aplicación {{name}} con la que deseas conectarse","citadel":{"name":"Citadel"},"btcpay":{"name":"BTCPay"}},"nostr_enable":{"request2":"Solicitud para firmar eventos utilizando su clave privada"}},"y0":{"password":"Contraseña","success":"Exitoso","error":"Error","settings":"Ajustes","connected_sites":"Sitios conectados","sats_one":"sat","sats_other":"sats","loading":"cargando","amount":"Cantidad","optional":"Opcional","feedback":"Retroalimentación","copied":"¡Copiada!","actions":{"delete":"Borrar","edit":"Editar","next":"Siguiente","cancel":"Cancelar","confirm":"Confirmar","continue":"Continuar","connect":"Conectar","lock":"Bloquear","unlock":"Desbloquear","send":"Enviar","save":"Guardar","receive":"Recibir","close":"Cerrar","export":"Exportar","remove":"Quitar","copy":"Copiar","copy_invoice":"","open":"Abrir","back":"Volver","receive_again":"Recibir otro pago","log_in":"Iniciar Sesión","remember":"Recordar mi elección y no preguntar nuevamente","transactions":"Transacciones","more":"Más","download":"Descargar","review":"Revisar","hide":"Ocultar","disconnect":"Desconectar"},"errors":{"connection_failed":"Error de conexión","payment_failed":"Pago Fallido"},"description":"Descripción","confirm_password":"Confirmar Contraseña","success_message":"{{amount}}{{fiatAmount}} enviados a {{destination}}","message":"Mensaje","description_full":"Descripción Completa","advanced":"Avanzado","accounts":"Cuentas","discover":"Descubrir","response":"Respuesta","help":"Ayuda","range":{"between":"entre el {{min}} y el {{max}}","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"},"balance":"Balance","connectors":{"nativelnd":"LND (en Tor)","lnd":"LND"},"website":"Página web"},"wx":{"allowance_menu":{"confirm_delete":"¿Está seguro de que desea eliminar este sitio web?","hint":"Esto restablecerá el presupuesto actual","new_budget":{"label":"Nuevo presupuesto"},"edit_allowance":{"title":"Editar Asignación","screen_reader":"Opciones de Asignación"},"enable_login":{"title":"Habilitar inicio de sesión en el sitio web","subtitle":"Iniciar sesión automáticamente sin confirmación cuando el sitio web lo solicite."},"edit_permissions":"Editar Permisos"},"qrcode_scanner":{"title":"Escanear el Código QR","actions":{"start_scanning":"Comenzar a escanear","stop_scanning":"Detener el escaneo"},"errors":{"allow_camera_access":"Permita el acceso a la cámara en la pantalla de configuración."}},"transactions_table":{"fee":"Comisión","preimage":"Preimagen","received":"Recibido","sent":"Enviado","boostagram":{"sender":"Remitente","message":"Mensaje","app":"Aplicación","podcast":"Podcasts","episode":"Episodio"},"open_location":"Abrir la página web","payment_hash":"Hash del pago","date_time":"Fecha y hora"},"budget_control":{"remember":{"label":"Recuerda y establece un presupuesto","description":"Puede establecer un saldo para que no se le solicite confirmación de los pagos hasta que se agote."},"budget":{"label":"Presupuesto"}},"toasts":{"connection_error":{"what_you_can_do":"Esto es lo que puedes hacer:","visit_guides":"Visita nuestras guías para obtener más ayuda","double_check":"Verifique los detalles de su conexión","if_ssl_errors":"y si hay errores SSL (por ejemplo, ERR_CERT_AUTHORITY_INVALID), haga clic en \\"avanzado\\" y proceda a aceptar el certificado."},"errors":{"invalid_credentials":"Contraseña no válida. Por favor, revise su contraseña y dirección de correo electrónico e inténtelo de nuevo."},"login_failed":{"password_reset":"¿Olvidó su contraseña? Haga clic aquí"}},"account_menu":{"title":"Cambiar de cuenta","options":{"account":{"add":"Agregar una nueva cuenta","manage":"Administrar cuentas","account_settings":"Configuraciones de la cuenta","go_to_web_wallet":"Administra tu cuenta de Alby"}},"screen_reader":"Alternar menú desplegable"},"publishers_table":{"payments":"pagos"},"badge":{"label":{"auth":"INICIAR SESIÓN"}},"companion_download_info":{"download":"Descargar","companion":{"title":"Aplicación complementaria","description":"Aplicación ligera que conecta tu navegador a la red TOR."},"tor_native":{"title":"TOR (nativa)","description":"Seleccione esta opción si este navegador ya está conectado a la red TOR."},"heading":"¿Cómo quieres conectarte a la red TOR?"}},"mk":{"commando":{"getinfo":"Obtenga el resumen del nodo","bkpr-listbalances":"Lista de todos los saldos actuales e históricos de la cuenta","checkmessage":"Verifique que la firma fue generada por un nodo dado","connect":"Establecer una nueva conexión con otro nodo","keysend":"Enviar un pago a otro nodo","offer":"Crear una oferta","sendpay":"Enviar un pago a través de una ruta","signmessage":"Crear una firma a partir de este nodo","fundchannel":"Abra un canal de pago con un par al realizar una transacción de financiación","listfunds":"Listar todos los fondos disponibles","getroute":"Encontrar la mejor ruta para el pago a un nodo lightning","invoice":"Crear la expectativa de un pago","listpays":"Obtener el estado de todos los comandos de pago","listpeers":"Listar los nodos que están conectados o que tienen canales abiertos con este nodo","listtransactions":"Listar las transacciones rastreadas en la billetera","pay":"Envíe un pago a una factura BOLT11","listinvoices":"Obtener el estado de todas las facturas","listoffers":"Enumerar todas las ofertas u obtener una oferta específica","multifundchannel":"Abra múltiples canales de pago con nodos al realizar una sola transacción de financiación","disconnect":"Cerrar una conexión existente con un par","decode":"Decodifica una cadena bolt11/bolt12/rune","decodepay":"Comprobar y analizar una cadena bolt11","listforwards":"Enumere todos los htlc que se han intentado reenviar","setchannel":"Configurar tarifas/rango htlc anunciado para un canal","listnodes":"Enumere los nodos sobre los que el nodo ha aprendido a través de mensajes gossip","listsendpays":"Obtiene el estado de todos los comandos sendpay","feerates":"Devuelve las tarifas que utilizará CLN"},"nostr":{"signmessage":"Firma el mensaje con tu clave","getpublickey":"Leer tu clave pública","nip04encrypt":"Cifrar datos","nip04decrypt":"Descifrar datos"},"lnd":{"queryroutes":"Consultar una posible ruta","openchannel":"Abrir un nuevo canal","getnetworkinfo":"Obtener estadísticas básicas sobre el gráfico de canales conocidos","getnodeinfo":"Obtener la información del canal para un nodo","gettransactions":"Obtener una lista de todas las transacciones relevantes para la billetera","getchaninfo":"Obtener el anuncio de la red para el canal dado","listpeers":"Obtener una lista de todos los pares actualmente activos","lookupinvoice":"Consultar los detalles de la factura","listpayments":"Obtener una lista de todos los pagos salientes","estimatefee":"Calcular la tasa de tarifa y las tarifas totales para una transacción","getinfo":"Obtener la información del nodo","listchannels":"Obtener una descripción de todos los canales abiertos","listinvoices":"Obtener una lista de todas las facturas","connectpeer":"Establecer una conexión con un par remoto","disconnectpeer":"Desconectar de un par remoto","addinvoice":"Crear nuevas facturas","channelbalance":"Obtener un informe sobre los fondos totales en todos los canales abiertos","walletbalance":"Obtener las salidas totales no gastadas de la billetera","sendtoroute":"Realizar un pago a través de la ruta especificada","decodepayreq":"Decodificar una cadena de solicitud de pago","verifymessage":"Verificar una firma sobre un mensaje","routermc":"Lea el estado de control de la misión interna","settleinvoice":"Pagar una factura aceptada","addholdinvoice":"Crear nuevas facturas HODL"},"lnc":{"getinfo":"Obtener la información del nodo","gettransactions":"Obtener una lista de todas las transacciones relevantes para la billetera","getnodeinfo":"Obtener la información del canal para un nodo","getnetworkinfo":"Obtener estadísticas básicas sobre el gráfico de canales conocidos","listinvoices":"Obtener una lista de todas las facturas","channelbalance":"Obtener un informe sobre los fondos totales en todos los canales abiertos","walletbalance":"Obtener las salidas totales no gastadas de la billetera","listpeers":"Obtener una lista de todos los pares actualmente activos","lookupinvoice":"Consultar los detalles de la factura","queryroutes":"Consultar una posible ruta","sendtoroute":"Realizar un pago a través de la ruta especificada","openchannel":"Abrir un nuevo canal","connectpeer":"Establezca una conexión con un par remoto","disconnectpeer":"Desconectarse de un par remoto","estimatefee":"Calcular la tasa de tarifa y las tarifas totales para una transacción","getchaninfo":"Obtener el anuncio de la red para el canal dado","addinvoice":"Crear nuevas facturas","listpayments":"Obtener una lista de todos los pagos salientes","listchannels":"Obtener una descripción de todos los canales abiertos","decodepayreq":"Decodificar una cadena de solicitud de pago","verifymessage":"Verificar una firma sobre un mensaje","routermc":"Lea el estado de control de la misión interna","addholdinvoice":"Crear nuevas facturas HODL","settleinvoice":"Pagar una factura aceptada"}}}'),Pt=JSON.parse('{"xk":{"welcome":{"title":"Bienvenue sur Alby","set_password":{"title":"Définir un mot de passe de déverrouillage","description":"Ce mot de passe est utilisé pour protéger votre portefeuille et donner accès à l\'extension du navigateur. Il ne peut pas être réinitialisé et est distinct du mot de passe de votre compte Alby.","choose_password":{"label":"Choisissez un mot de passe de déverrouillage :"},"confirm_password":{"label":"Confirmons que vous l\'avez tapé correctement :"},"errors":{"enter_password":"S\'il vous plait, entrez votre mot de passe.","confirm_password":"Veuillez confirmer votre mot de passe.","mismatched_password":"Les mots de passe entrés ne sont pas les mêmes."}},"test_connection":{"ready":"Parfait, vous êtes prêt !","initializing":"Création de votre compte. S\'il vous plait, veuillez patienter, ceci peut prendre une minute...","connection_error":"Erreur de connexion","review_connection_details":"Veuillez vérifier vos informations de connexion.","connection_taking_long":"Essayer de se connecter prend plus de temps que prévu... Vos informations sont-elles correctes ? Votre nœud est-il accessible ?","contact_support":"Si vous avez besoin d\'aide, veuillez contacter support@getalby.com","actions":{"delete_edit_account":"Supprimer le compte invalide et modifier à nouveau"}}},"choose_path":{"alby":{"title":"Alby"},"other":{"title":"Autres portefeuilles","connect":"Connecter"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Mot de passe"},"confirm_password":{"label":"Confirmez le mot de passe"},"errors":{"enter_password":"Veuillez entrer un mot de passe.","confirm_password":"Veuillez confirmer votre mot de passe.","mismatched_password":"Les mots de passe ne correspondent pas."}}}},"choose_connector":{"title":"Connecter le portefeuille Lightning","description":"Connectez-vous à votre portefeuille ou nœud Lightning externe","lnd":{"title":"LND","page":{"title":"Connectez-vous à votre nœud LND","description":"Vous avez besoin de l\'URL de votre nœud et d\'un macaroon avec des autorisations de lecture et d\'envoi (par exemple, admin.macaroon )"},"url":{"label":"REST API host et port","placeholder":"https://url-de-votre-node:8080"},"macaroon":{"label":"Macaroon (format HEX )"},"drag_and_drop":"Faites glisser et déposez votre macaroon ici ou <0>naviguez</0>","errors":{"connection_failed":"La connexion a échoué. Vos informations d\'identification LND sont-elles correctes ?"}},"lnc":{"title":"LND avec LNC","page":{"title":"Connectez-vous à votre nœud LND","description":"Créez une nouvelle session dans le terminal (litd) pour obtenir une nouvelle phrase d\'appariement et entrez-la ici"},"pairing_phrase":{"label":"Votre phrase d\'appariement ","placeholder":"phrase de sats de pile secrète"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Connectez-vous à LNDHub","description":"Saisissez ici l\'URI de votre identifiant LNDHub ou scannez le code QR avec votre webcam."},"uri":{"label":"URI d\'exportation LNDHub"},"errors":{"invalid_uri":"","connection_failed":"La connexion a échoué. Votre URI LNDHub est-elle correcte ?"}},"lnbits":{"title":"LNbits","page":{"title":"Connectez-vous à <0>LNbits</0>","instructions":"Dans LNbits, choisissez le portefeuille que vous souhaitez connecter, ouvrez-le, cliquez sur API Info et copiez la clé d\'administration. Collez-le ci-dessous :"},"admin_key":{"label":"Clé d\'administration LNbits","placeholder":"Votre clé d\'administrateur à 32 chiffres"},"url":{"label":"URL LNbits"},"errors":{"connection_failed":"La connexion a échoué. Disposez-vous de l\'URL et de la clé d\'administration correctes ?"}},"eclair":{"title":"Eclair","page":{"title":"Connectez-vous à <0>Eclair</0>","instructions":"Vous avez besoin de votre URL et de votre mot de passe Eclair."},"password":{"label":"Mot de passe Eclair"},"url":{"label":"URL de l\'éclair","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadelle","page":{"title":"Connectez-vous au nœud <0>Citadelle</0>","instructions":"Cela ne fonctionne pas actuellement si 2FA est activé."},"password":{"label":"Mot de passe Citadelle"},"url":{"label":"URL de la Citadelle","placeholder":"http://citadel.local"}},"umbrel":{"title":"Parapluie","page":{"title":"Connectez-vous au nœud <0>Umbrel</0>","instructions":"Dans votre tableau de bord Umbrel, accédez à <0>Connect Wallet</0>. Sélectionnez <0>lndconnect REST</0> et copiez l\'<0>URL lndconnect</0>. (Selon votre configuration, vous pouvez utiliser la connexion locale ou la connexion Tor.)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://votrenode:8080?..."}},"mynode":{"title":"monNode","page":{"title":"Connectez-vous à <0>monNode</0>","instructions":"Sur votre page d\'accueil myNode, cliquez sur le bouton <0>Wallet</0> pour votre service <0>lightning</0>.<1/> Cliquez maintenant sur le bouton <0>Pair Wallet</0> sous le <0 Onglet >État</0>. Saisissez votre mot de passe lorsque vous y êtes invité.<1/> Sélectionnez le menu déroulant et choisissez une option de couplage. Selon votre configuration, vous pouvez soit utiliser la connexion <0>lightning (REST + Local IP)</0> ou la connexion <0>lightning (REST + Tor)</0>."},"rest_url":{"label":"URL REST lndconnect","placeholder":"lndconnect://votrenode:8080?..."}},"start9":{"title":"Start9","page":{"title":"Connectez-vous à votre nœud <0>Embassy</0>","instructions":"<0>Remarque :</0> Actuellement, nous ne prenons en charge que LND, mais nous ajouterons la prise en charge de c-lightning à l\'avenir !<1/>Sur votre tableau de bord Embassy, cliquez sur le service <0>daemon du réseau Lightning</0>. <1/>Sélectionnez l\'onglet <0>Properties</0>.<1/>Copiez maintenant l\'<0>URL REST LND Connect.</0>"},"rest_url":{"label":"URL REST lndconnect","placeholder":"lndconnect://votrenoeud:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Connectez-vous à votre nœud <0>RaspiBlitz</0>","instructions1":"Suivez ces étapes :<1/> 1. <0>SSH</0> dans votre <0>Raspiblitz</0><1/>2. Sélectionnez <0>Connect Apps & Show Credentials</0> dans la liste<1/><0/>3. Choisissez <0>Connecter Alby à ce nœud</0><1/>4. Appuyez sur <0>OK</0> pour afficher les identifiants de connexion<1/><1/>Copiez et collez l\'<0>hôte API REST</0> ou l\'adresse <0>.onion</0> pour vous connecter via Tor dans l\'entrée ci-dessous.","instructions2":"Copiez le <0>macaroon</0> (admin) dans l\'entrée ci-dessous."},"rest_api_host":{"label":"Hôte d\'API REST","placeholder":"adresse-de-votre-node-onion:port"}},"blink":{"title":"Portefeuille de plage Bitcoin","page":{"title":"Connectez-vous à <0>Bitcoin Blink Wallet</0>"}},"bitcoin_jungle":{"title":"Portefeuille Jungle Bitcoin","page":{"title":"Connectez-vous au <0>portefeuille Bitcoin Jungle</0>"}},"btcpay":{"title":"Serveur BTCPay","page":{"title":"Connectez-vous à votre nœud BTCPay LND","instructions":"Accédez à votre BTCPayServer et connectez-vous en tant qu\'administrateur. Accédez à Paramètres du serveur > Services > LND Rest - Voir les informations. Cliquez ensuite sur \\"Voir les informations du code QR\\" et copiez les données du code QR. Collez-le ci-dessous :"},"config":{"label":"Données de configuration","placeholder":"config=https://votre-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"La connexion a échoué. L\'URL de connexion BTCPay est-elle correcte et accessible ?"}},"commando":{"title":"Core Lightning","page":{"title":"Connectez-vous à votre nœud Core Lightning","instructions":"Assurez-vous que vous disposez de Core Lightning version 0.12.0 ou plus récente, que le plug-in commando est en cours d\'exécution et que votre nœud est accessible via le réseau Lightning. Créez une rune en exécutant \'lightning-cli commando-rune\'."},"host":{"label":"Hôte"},"pubkey":{"label":"Clé publique"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Proxy websocket"},"privKey":{"label":"Clé privée locale (générée automatiquement)"},"config":{"label":"Données de configuration","placeholder":"config=https://votre-btc-payer.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"La connexion a échoué. Votre nœud Core Lightning est-il en ligne et utilise-t-il le plugin commando ?"}}},"home":{"actions":{"send_satoshis":"⚡️ Envoyez des Satoshis ⚡️","enable_now":"Activer maintenant"},"allowance_view":{"no_transactions":"Aucune transaction sur <0>{{name}}</0> pour le moment."},"default_view":{"is_blocked_hint":"Alby est actuellement désactivé sur {{host}}","block_removed":"{{hôte}} activé. Veuillez recharger le site Web."}},"accounts":{"title":"Comptes","account_view":{"title1":"Information sur le compte","title2":"Modifier le compte","name":{"title":"Nom","placeholder":"Nom du compte"},"export":{"title":"Compte d\'exportation","screen_reader":"Exporter les détails du compte","waiting":"en attente des données LndHub...","your_ln_address":"Votre adresse Lightning :","export_uri":"URI des identifiants LNDHub","scan_qr":"Importez ce portefeuille dans Zeus ou BlueWallet en scannant le QRCode."},"nostr":{"title":"Nostr","hint":"est un protocole simple et ouvert qui vise à créer des réseaux sociaux résistants à la censure. Nostr fonctionne avec des clés cryptographiques. Pour publier quelque chose vous le signez avec votre clé et l\'envoyez à plusieurs relais. Vous pouvez utiliser Alby pour gérer votre clé Nostr. De nombreuses applications Nostr vous permettront alors d\'utiliser simplement la clé de l\'extension Alby.","private_key":{"title":"Gérez votre clé","subtitle":"Collez votre clé privée ou générez-en une nouvelle. Assurez-vous de sauvegarder votre clé privée avant d\'en générer une nouvelle. <0>En savoir plus »</0>","success":"Clé privée cryptée et enregistrée avec succès.","successfully_removed":"Clé privée supprimée avec succès.","label":"Clé privée","failed_to_remove":"Le nom de compte saisi ne correspondait pas, votre ancien compte privé a été restauré."},"public_key":{"label":"Clé publique"},"generate_keys":{"title":"Générer une nouvelle clé Nostr","screen_reader":"Générez une nouvelle clé Nostr pour votre compte","hint":"Vous pouvez générer une clé aléatoire ou une clé dérivée à partir des détails de ce compte (en utilisant une phrase canonique signée). <0>En savoir plus »</0>","actions":{"random_keys":"Générer une clé aléatoire","derived_keys":"Dériver une clé du compte"}},"actions":{"generate":"Générer une nouvelle clé"},"errors":{"failed_to_load":"Échec du chargement de la clé Nostr. Est-ce une clé Nostr valide ?"}},"remove":{"title":"Supprimer ce compte","subtitle":"Tous les quotas liés seront supprimés. S\'il vous plaît soyez certain."},"actions":{"remove_account":"Supprimer le compte","export":"Exporter"}},"actions":{"add_account":"Ajouter un compte"}},"unlock":{"unlock_to_continue":"Déverrouiller pour continuer","unlock_password":"Votre mot de passe de déverrouillage","help_contact":{"part1":"Besoin d\'aide? Contacter","part2":"Assistance Alby"},"unlock_error":{"help":"Les données de votre compte sont cryptées avec votre mot de passe de déverrouillage. Si vous avez vraiment oublié votre mot de passe de déverrouillage, vous devez réinitialiser et ajouter à nouveau votre compte Lightning.","link":"Réinitialisez maintenant et ajoutez un nouveau compte"},"errors":{"invalid_password":"Mot de passe incorrect"}},"settings":{"title":"Paramètres","browser_notifications":{"title":"Notifications du navigateur","subtitle":"Notifications liées au paiement et à l\'authentification."},"website_enhancements":{"title":"Améliorations du site Web","subtitle":"Améliorations des pourboires pour Twitter, YouTube, etc."},"lnurl_auth":{"title":"LNURL-Auth","hint":"est un protocole d\'authentification générique. Il authentifie l\'utilisateur à l\'aide de signatures numériques. Le protocole ne nécessite aucune autre information d\'identification telle que des mots de passe, des e-mails, des noms d\'utilisateur ou similaires. Avec Alby, vous pouvez utiliser vos comptes Lightning pour vous connecter en toute sécurité aux sites Web. Pour être compatible avec d\'autres portefeuilles, nous avons dû apporter quelques modifications que vous pouvez configurer ici. <0>Idéalement, toutes ces options sont désactivées.</0> Utilisez-les uniquement si vous avez d\'anciens comptes.","legacy_lnurl_auth_202207":{"title":"Hérité LNURL-Auth","subtitle":"La génération de clé pour LNURL-auth a changé (juillet 2022). Alby n\'était pas compatible avec d\'autres implémentations. Cela a été changé, mais maintenant différentes clés de connexion sont utilisées. Si vous avez utilisé LNURL-auth pour vous connecter auparavant, vous pouvez toujours activer l\'ancienne méthode. Cette option sera supprimée plus tard, assurez-vous de passer à la nouvelle connexion."},"legacy_lnurl_auth":{"title":"Signature héritée pour LNDhub et LNbits","subtitle":"La signature des messages et la connexion avec LNDhub (par exemple BlueWallet) et les comptes LNbits ont été modifiées (mars 2022). Si vous vous êtes connecté avec ces comptes, vous pouvez toujours activer l\'ancienne méthode de signature. Cette option sera supprimée plus tard, assurez-vous de passer à la nouvelle connexion."}},"camera_access":{"title":"accès à la caméra","subtitle":"Pour scanner les codes QR","allow":"Autoriser l\'accès à la caméra","granted":"Permission accordée"},"language":{"title":"Langue","subtitle":"Les traductions ne sont pas encore terminées à 100 %. <0>Aidez-nous à traduire Alby dans votre langue !</0>"},"theme":{"title":"Thème","subtitle":"Utiliser Alby en mode sombre ou clair","options":{"dark":"Sombre","light":"Lumière","system":"Système"}},"show_fiat":{"title":"Sat à Fiat","subtitle":"Toujours convertir dans la devise sélectionnée à partir de l\'échange sélectionné"},"currency":{"title":"Monnaie","subtitle":"Afficher les montants en plus dans cette devise"},"exchange":{"title":"Source d\'échange","subtitle":"Source des taux de change Bitcoin"},"personal_data":{"title":"Données personnelles","description":"Les bénéficiaires peuvent demander que des données supplémentaires soient envoyées avec un paiement. Ces données ne sont partagées avec personne sans votre consentement, vous serez toujours invité avant que ces données ne soient envoyées avec un paiement."},"name":{"title":"Nom","subtitle":"","placeholder":"Entrez votre nom"},"email":{"title":"E-mail","subtitle":"","placeholder":"Entrez votre adresse email"},"change_password":{"title":"Changer le mot de passe de déverrouillage","subtitle":"","screen_reader":"Changer le mot de passe de déverrouillage","choose_password":{"label":"Saisissez un nouveau mot de passe de déverrouillage :"},"confirm_password":{"label":"Confirmer le nouveau mot de passe:"},"submit":{"label":"Changement"},"errors":{"enter_password":"Veuillez saisir un nouveau mot de passe de déverrouillage.","confirm_password":"Veuillez confirmer votre mot de passe.","mismatched_password":"Les mots de passe ne correspondent pas."},"success":"Le mot de passe a été changé avec succès"},"nostr":{"title":"Nostr","hint":"est un protocole simple et ouvert qui vise à créer des réseaux sociaux résistants à la censure. Nostr fonctionne avec des clés cryptographiques. Pour publier quelque chose vous le signez avec votre clé et l\'envoyez à plusieurs relais. Vous pouvez utiliser Alby pour gérer votre clé Nostr. De nombreuses applications Nostr vous permettront alors d\'utiliser simplement la clé de l\'extension Alby.","private_key":{"title":"Clé privée","subtitle":"Cette section est déplacée vers la page des comptes car les clés sont désormais spécifiques au compte.","go_to":"Aller aux comptes"}}},"send":{"title":"Envoyer","input":{"label":"Destinataire","hint":"Facture, adresse Lightning ou LNURL"}},"lnurlpay":{"amount":{"label":"Montant"},"comment":{"label":"Commentaire"},"name":{"label":"Nom"},"email":{"label":"E-mail"},"success":"Succès, paiement envoyé !"},"lnurlauth":{"title":"Authentification","content_message":{"heading":"Voulez-vous vous connecter à"},"submit":"Connexion","success":"Connexion réussie sur {{name}}","errors":{"status":"Erreur : Le statut d\'authentification n\'est pas correct"}},"lnurlchannel":{"title":"Demande de chaîne","content_message":{"heading":"Demander un canal au nœud"},"success":"La demande de chaîne a été envoyée avec succès à {{name}}"},"lnurlwithdraw":{"title":"Retirer","content_message":{"heading":"Montant"},"amount":{"label":"Montant"},"success":"Demande de retrait de {{amount}} envoyée avec succès à {{sender}}"},"receive":{"title":"Recevoir","actions":{"create_invoice":"Créer une facture"},"amount":{"label":"Montant","placeholder":"Montant en Satoshi..."},"description":{"label":"Description","placeholder":"Par ex. qui envoie ce paiement ?"},"success":"Paiement reçu!","payment":{"waiting":"en attente de paiement...","status":"Vérifier l\'état du paiement"}},"discover":{"title":"Explorez l\'écosystème Lightning ⚡️","description":"Sites Web et applications Web où vous pouvez utiliser Alby","list":{"trading":"Commerce","gaming":"Jeux","entertainment":"Divertissement","shopping":"Achats","miscellaneous":"Divers","showcases":"Vitrines","nostr":"Nostr"},"tips":{"title":"Votre portefeuille Alby est prêt","description":"Quelques conseils pour commencer à buzzer🐝","top_up_wallet":{"title":"⚡️ Rechargez votre portefeuille","description":"Créez une facture Lightning, envoyez-vous des bitcoins et commencez à utiliser Alby dans l\'écosystème Lightning"},"demo":{"title":"🕹️ Essayez la démo d\'Alby","description":"Découvrez tout ce que vous pouvez faire avec Alby sur notre site de démonstration"}}},"publishers":{"title":"Vos sites ⚡","description":"Sites Web sur lesquels vous avez déjà utilisé Alby","no_info":"Il semble que vous n\'ayez encore utilisé Alby sur aucun site Web.","discover":"Découvrir des sites Web","publisher":{"allowance":{"title":"Allocation","used_budget":"sats utilisés"}}},"make_invoice":{"title":"Créer une facture","amount":{"label":"Montant (Satoshi)"},"memo":{"label":"Note"},"errors":{"amount_too_small":"Le montant est inférieur au minimum","amount_too_big":"Le montant dépasse le maximum"}},"confirm_sign_message":{"title":"Signe","content":"Ce site vous demande de signer :"},"confirm_keysend":{"title":"Approuver le paiement","success":"Paiement envoyé! Préimage : {{preimage}}","payment_summary":{"description":"Envoyez le paiement à : {{destination}}"}},"keysend":{"title":"Envoyer","success":"Paiement envoyé! Préimage : {{preimage}}","receiver":{"label":"Envoyez le paiement à"},"amount":{"label":"Montant (Satoshi)"}},"confirm_payment":{"title":"Approuver le paiement","success":"Paiement de {{amount}} réussi !","actions":{"pay_now":"Payez maintenant"}},"confirm_request_permission":{"title":"Approuver la demande","allow":"Autoriser ce site Web à exécuter :","always_allow":"Souviens-toi de mon choix et ne redemande plus"},"nostr":{"title":"Nostr","allow":"Autoriser ce site Web à :","content":"Ce site vous demande de signer :","allow_sign":"Autoriser {{host}} à signer :","block_and_ignore":"Bloquer et ignorer {{host}}","block_added":"{{host}} a été ajouté à la liste de blocage, veuillez recharger le site Web."}},"y0":{"password":"Mot de passe","confirm_password":"Confirmez le mot de passe","advanced":"Avancé","success":"Succès","error":"Erreur","settings":"Paramètres","accounts":"Comptes","discover":"Découvrir","connected_sites":"","sats_one":"sat","sats_other":"sats","loading":"chargement","amount":"Montant","optional":"Facultatif","feedback":"Retour","copied":"Copié !","description":"Description","description_full":"Description complète","success_message":"{{amount}}{{fiatAmount}} envoyé à {{destination}}","response":"Réponse","message":"Message","help":"Aider","actions":{"back":"arrière","delete":"Supprimer","edit":"Modifier","next":"Suivant","open":"Ouvrir","cancel":"Annuler","confirm":"Confirmer","continue":"Continuer","connect":"Connecter","lock":"Verrouiller","unlock":"Déverrouiller","send":"Envoyer","save":"Sauvegarder","receive":"Recevoir","receive_again":"Recevoir un autre paiement","close":"Fermer","export":"Exporter","remove":"Retirer","copy":"Copie","copy_invoice":"","log_in":"Connexion","remember":"Souviens-toi de mon choix et ne redemande plus"},"errors":{"connection_failed":"La connexion a échoué","payment_failed":"Paiement échoué"},"range":{"lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}","between":"entre {{min}} et {{max}}"}},"wx":{"allowance_menu":{"confirm_delete":"Voulez-vous vraiment supprimer ce site ?","hint":"Cela réinitialisera le budget actuel","new_budget":{"label":"Nouveau budget"},"enable_login":{"title":"Activer la connexion au site Web","subtitle":"Connectez-vous automatiquement sans confirmation lorsque le site Web le demande."},"edit_allowance":{"title":"Modifier l\'allocation","screen_reader":"Options d\'allocation"},"edit_permissions":"Modifier les autorisations"},"qrcode_scanner":{"title":"Scanner le code QR","actions":{"start_scanning":"Lancer la numérisation","stop_scanning":"Arrêter la numérisation"},"errors":{"allow_camera_access":"Veuillez autoriser l\'accès à la caméra dans l\'écran des paramètres."}},"transactions_table":{"fee":"Frais","preimage":"Préimage","received":"Reçu","sent":"Envoyé","boostagram":{"sender":"Expéditeur","message":"Message","app":"Application","podcast":"Podcast"},"open_location":"Ouvrir le site Web"},"budget_control":{"remember":{"label":"Rappelez-vous et établissez un budget","description":"Vous pouvez définir un solde pour ne pas être invité à confirmer les paiements tant qu\'il n\'est pas épuisé."},"budget":{"label":"Budget"}},"toasts":{"connection_error":{"what_you_can_do":"Voici ce que vous pouvez faire :","double_check":"Vérifiez vos informations de connexion","if_ssl_errors":"et s\'il y a des erreurs SSL (par exemple ERR_CERT_AUTHORITY_INVALID), cliquez sur \\"avancé\\" et continuez à accepter le certificat.","visit_guides":"Consultez nos guides pour plus d\'aide"},"login_failed":{"password_reset":"Mot de passe oublié? Cliquez ici"},"errors":{"invalid_credentials":"Mot de passe incorrect. Veuillez vérifier votre mot de passe et votre adresse e-mail et réessayer."}},"account_menu":{"screen_reader":"Basculer la liste déroulante","title":"Changer de compte","options":{"account":{"add":"Ajouter un nouveau compte","manage":"Gérer les comptes"}}},"publishers_table":{"payments":"Paiements"},"badge":{"label":{"auth":"CONNEXION"}}},"mk":{"nostr":{"getpublickey":"Lisez votre clé publique","nip04encrypt":"Crypter les données","nip04decrypt":"Déchiffrer les données","signmessage":"Signez le message avec votre clé"},"commando":{"bkpr-listbalances":"Liste de tous les soldes de compte actuels et historiques","checkmessage":"Vérifiez que la signature a été générée par un nœud donné","connect":"Établissez une nouvelle connexion avec un autre nœud","decode":"Décode une chaîne bolt11/bolt12/ rune chaîne","decodepay":"Vérifier et analyser une chaîne bolt11","disconnect":"Fermez une connexion existante à un pair","feerates":"Renvoie les frais que CLN utilisera","fundchannel":"Ouvrez un canal de paiement avec un pair en engageant une transaction de financement","getinfo":"Obtenez le résumé du nœud","getroute":"Trouvez le meilleur itinéraire pour le paiement vers un nœud Lightning","invoice":"Créer l\'attente d\'un paiement","keysend":"Envoyez un paiement à un autre nœud","listforwards":"Répertorier tous les htlcs qui ont été tentés d\'être transférés","listfunds":"Dressez la liste de tous les fonds disponibles","listinvoices":"Obtenez le statut de toutes les factures","listnodes":"Listez les nœuds dont le nœud a eu connaissance via des messages de potins","listoffers":"Listez toutes les offres ou obtenez une offre spécifique","listpays":"Obtient le statut de toutes les commandes de paiement","listpeers":"Répertorier les nœuds connectés ou ayant des canaux ouverts avec ce nœud","listsendpays":"Obtient le statut de toutes les commandes sendpay","listtransactions":"Répertorier les transactions suivies dans le portefeuille","multifundchannel":"Ouvrez plusieurs canaux de paiement avec des nœuds en effectuant une seule transaction de financement","offer":"Créer une offre","pay":"Envoyez un paiement à une facture BOLT11","sendpay":"Envoyer un paiement via un itinéraire","setchannel":"Configurez les frais / la gamme htlc annoncée pour un canal","signmessage":"Créez une signature à partir de ce nœud"},"lnd":{"getinfo":"Obtenez les informations sur le nœud","listchannels":"Obtenez une description de tous les canaux ouverts","listinvoices":"Obtenez une liste de toutes les factures","channelbalance":"Obtenez un rapport sur le total des fonds sur tous les canaux ouverts","walletbalance":"Obtenez le total des sorties non dépensées du portefeuille","openchannel":"Ouvrez une nouvelle chaîne","connectpeer":"Établissez une connexion à un pair distant","disconnectpeer":"Déconnectez-vous d\'un pair distant","estimatefee":"Estimez le taux de frais et les frais totaux pour une transaction","getchaninfo":"Obtenez l\'annonce du réseau pour la chaîne donnée","getnetworkinfo":"Obtenez des statistiques de base sur le graphique des canaux connus","getnodeinfo":"Obtenir les informations de canal pour un nœud","gettransactions":"Obtenez une liste de toutes les transactions pertinentes pour le portefeuille","listpayments":"Obtenez une liste de tous les paiements sortants","listpeers":"Obtenez une liste de tous les pairs actuellement actifs","lookupinvoice":"Consulter les détails de la facture","queryroutes":"Requête pour un itinéraire possible","verifymessage":"Vérifier une signature sur un msg","sendtoroute":"Effectuez un paiement via l\'itinéraire spécifié","decodepayreq":"Décoder une chaîne de demande de paiement","routermc":"Lire l\'état du contrôle de mission interne","addinvoice":"Créer de nouvelles factures"},"lnc":{"getinfo":"Obtenez les informations sur le nœud","listchannels":"Obtenez une description de tous les canaux ouverts","listinvoices":"Obtenez une liste de toutes les factures","channelbalance":"Obtenez un rapport sur le total des fonds sur tous les canaux ouverts","walletbalance":"Obtenez le total des sorties non dépensées du portefeuille","openchannel":"Ouvrez une nouvelle chaîne","connectpeer":"Établissez une connexion à un pair distant","disconnectpeer":"Déconnectez-vous d\'un pair distant","estimatefee":"Estimez le taux de frais et les frais totaux pour une transaction","getchaninfo":"Obtenez l\'annonce du réseau pour la chaîne donnée","getnetworkinfo":"Obtenez des statistiques de base sur le graphique des canaux connus","getnodeinfo":"Obtenir les informations de canal pour un nœud","gettransactions":"Obtenez une liste de toutes les transactions pertinentes pour le portefeuille","listpayments":"Obtenez une liste de tous les paiements sortants","listpeers":"Obtenez une liste de tous les pairs actuellement actifs","lookupinvoice":"Consulter les détails de la facture","queryroutes":"Requête pour un itinéraire possible","verifymessage":"Vérifier une signature sur un msg","sendtoroute":"Effectuez un paiement via l\'itinéraire spécifié","decodepayreq":"Décoder une chaîne de demande de paiement","routermc":"Lire l\'état du contrôle de mission interne","addinvoice":"Créer de nouvelles factures"}}}'),It=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"अनलॉक पासवर्ड सेट करें","confirm_password":{"label":"आइए पुष्टि करें कि आपने इसे सही टाइप किया है:"},"choose_password":{"label":"अपना पासकोड चुनें :"},"description":"आपका Lightning खाता सुरक्षित रूप से पासवर्ड द्वारा एन्क्रिप्ट किया गया| कृपया ये पासवर्ड याद रखें | आपको ब्राउज़र में alby एक्सटेंशन को खोलने के लिए पासवर्ड की जरूरत पड़ेगी","errors":{"enter_password":"कृपया पासकोड दर्ज करें।","confirm_password":"कृपया अपने पासकोड की पुष्टि करें।","mismatched_password":"पासवर्ड मेल नहीं खाते।"}},"test_connection":{"initializing":"आपका खाता प्रारंभ किया जा रहा है। कृपया प्रतीक्षा करें, इसमें कुछ मिनट लग सकतें है...","connection_error":"संपर्क त्रुटि","review_connection_details":"कृपया अपने कनेक्शन विवरण की समीक्षा करें।","contact_support":"अगर आपको मदद चाहिए तो कृपया support@getalby.com पर संपर्क करें","actions":{"delete_edit_account":"अमान्य खाता हटाएं और फिर से संपादित करें"},"ready":"बढ़िया, आप आगे बढ़ने के लिए तैयार हैं!","connection_taking_long":"कनेक्ट करने का प्रयास अपेक्षा से अधिक समय लेता है... क्या आपका विवरण सही है? क्या आपका नोड पहुंच योग्य है?"},"pin_extension":{"explanation":"१. अपने ब्राउज़र के दाएं ऊपरी कोने में दिए गए <0/> पर क्लिक कीजिए।<1/>२. अल्बी को खोजें और उसे टूलबार में स्थायी रूप से रखने के लिए पिन करने का विकल्प चुनें।<1/>३. बस इतना ही। अल्बी का उपयोग करने के लिए, <2/> आइकन पर क्लिक करें।","title":"\\"अपना आल्बी एक्सटेंशन पिन करें।\\"","description":"आल्बी का सुविधाजनक उपयोग करने के लिए, ब्राउज़र टूलबार पर अपने एक्सटेंशन को पिन करना न भूलें:","next_btn":"अल्बी के साथ बज़िन शुरू करें {{icon}}"},"title":"अल्बी में आपका स्वागत है"},"choose_path":{"alby":{"title":"Alby अकाउंट","connect":"अल्बी से जुड़ें"},"other":{"title":"अन्य वॉलेट","connect":"कनेक्ट"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"पासवर्ड"},"confirm_password":{"label":"पासवर्ड की पुष्टि करें"},"errors":{"enter_password":"कृपया एक पासवर्ड दर्ज करें।","confirm_password":"कृपया अपने पासवर्ड की पुष्टि करें।","mismatched_password":"पासवर्ड मेल नहीं खाते।"}}}},"choose_connector":{"title":"लाइटनिंग वॉलेट कनेक्ट करें","description":"अपने बाहरी लाइटनिंग वॉलेट या Node से कनेक्ट करें","lnd":{"title":"LND","page":{"title":"अपने LND नोड से कनेक्ट करें","description":"आपको अपने नोड URL और पढ़ने और भेजने की अनुमति के साथ एक मैकरून की आवश्यकता है (जैसे admin.macaroon)"},"url":{"label":"REST API होस्ट और पोर्ट","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon (HEX format)"},"drag_and_drop":"अपने मैक्रों को यहाँ खींचें और छोड़ें या <0> ब्राउज़ करें </0>","errors":{"connection_failed":"कनेक्शन विफल रहा। क्या आपके LND क्रेडेंशियल्स सही हैं?"}},"lnc":{"title":"LND के साथ LNC","page":{"title":"अपने LND नोड से कनेक्ट करें","description":"एक नया युग्मन वाक्यांश प्राप्त करने के लिए टर्मिनल (litd) में एक नया session बनाएँ और इसे यहाँ दर्ज करें"},"pairing_phrase":{"label":"आपका युग्मन वाक्यांश","placeholder":"गुप्त stack sats वाक्यांश"}},"lndhub_go":{"title":"LNDHub","page":{"title":"LNDHub से कनेक्ट करें","description":"यहां अपना LNDHub क्रेडेंशियल URI डालें या अपने वेबकैम से QR कोड स्कैन करें।"},"uri":{"label":"LNDHub Export URI"},"errors":{"invalid_uri":"अवैध LNDHub URI","connection_failed":"कनेक्शन विफल। क्या आपका LNDHub URI सही है?"}},"lnbits":{"title":"LNbits","page":{"title":"<0>LNbits</0> से कनेक्ट करें","instructions":"LNbits में, वह वॉलेट चुनें जिसे आप कनेक्ट करना चाहते हैं, इसे खोलें, API जानकारी पर क्लिक करें और एडमिन कुंजी को कॉपी करें। इसे नीचे पेस्ट करें:s"},"admin_key":{"label":"LNbits Admin Key","placeholder":"आपकी 32 अंकों की एडमिन की"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"कनेक्शन विफल रहा। क्या आपके पास सही URL और एडमिन कुंजी है?"}},"eclair":{"title":"Eclair","page":{"title":"<0>Eclair</0>  से कनेक्ट करें","instructions":"आपको अपना Eclair URL और पासवर्ड चाहिए।"},"password":{"label":"Eclair पासवर्ड"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"<0>Citadel</0> node से कनेक्ट करें","instructions":"यह वर्तमान में काम नहीं करता है अगर 2FA सक्षम है।"},"password":{"label":"Citadel पासवर्ड"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"<0>Umbrel</0> node  से कनेक्ट करें","instructions":"अपने Umbrel dashboard में <0>कनेक्ट वॉलेट</0> पर जाएं। <0>बाकी को कनेक्ट करें</0> चुनें और <0>lndconnect URL</0> को कॉपी करें। (आपके सेटअप के आधार पर आप या तो स्थानीय कनेक्शन या TOR कनेक्शन का उपयोग कर सकते हैं।)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"mynode":{"title":"myNode","page":{"title":"<0>myNode</0> से कनेक्ट करें","instructions":"अपने myNode होमपेज पर अपनी <0>लाइटिंग</0> सेवा के लिए <0>वॉलेट</0> बटन पर क्लिक करें।<1/> अब <0> पेयर वॉलेट</0> पर क्लिक करें <0>स्थिति</0> टैब के अंतर्गत बटन। संकेत दिए जाने पर अपना पासवर्ड दर्ज करें। <1/> ड्रॉपडाउन मेनू का चयन करें और एक युग्मन विकल्प चुनें। अपने सेटअप के आधार पर आप या तो <0>लाइटनिंग (REST + स्थानीय) का उपयोग कर सकते हैं IP)</0> कनेक्शन या <0>लाइटनिंग (REST + Tor)</0> कनेक्शन।"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"start9":{"title":"Start9","page":{"title":"अपने <0>Embassy</0> node से कनेक्ट करें","instructions":"<0>ध्यान दें:</0> वर्तमान में हम केवल एलएनडी का समर्थन करते हैं लेकिन हम भविष्य में सी-लाइटिंग समर्थन जोड़ेंगे!<1/>अपने दूतावास के डैशबोर्ड पर <0>लाइटनिंग नेटवर्क डेमन<पर क्लिक करें। /0> सेवा।<1/><0>प्रॉपर्टी</0> टैब चुनें।<1/>अब <0>LND Connect REST URL कॉपी करें।</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"your <0>RaspiBlitz</0> node से कनेक्ट करें","instructions1":"इन चरणों का पालन करें:<1/> 1. <0>SSH</0> अपने <0>Raspiblitz</0><1/>2 में। <0>ऐप्लिकेशन कनेक्ट करें और क्रेडेंशियल दिखाएं</0> चुनें 0> सूची से<1/><0/>3. चुनें <0>Alby को इस नोड से कनेक्ट करें</0><1/>4. कनेक्शन क्रेडेंशियल प्रदर्शित करने के लिए <0>ठीक</0> दबाएं<1 /><1/>नीचे दिए गए इनपुट में Tor के माध्यम से कनेक्ट करने के लिए <0>REST API होस्ट</0> या <0>.onion</0> पता कॉपी और पेस्ट करें।","instructions2":"(एडमिन) <0>मैकरून</0> को नीचे दिए गए इनपुट में कॉपी करें।"},"rest_api_host":{"label":"REST API host","placeholder":"your-node-onion-address:port"}},"blink":{"title":"Blink Wallet","page":{"title":"<0>Blink Wallet</0 से कनेक्ट करें>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"<0>Bitcoin Jungle Wallet</0 से कनेक्ट करें>"}},"btcpay":{"title":"BTCPay Server","page":{"title":"your BTCPay LND node से कनेक्ट करें","instructions":"अपने BTCPayServer पर नेविगेट करें और एक admin के रूप में लॉग इन करें। सर्वर सेटिंग्स पर जाएं> सेवाएं> एलएनडी रेस्ट - जानकारी देखें। फिर \\"क्यूआर कोड जानकारी देखें\\" पर क्लिक करें और क्यूआर कोड डेटा कॉपी करें। इसे नीचे पेस्ट करें: "},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"कनेक्शन विफल। क्या BTCPay कनेक्शन URL सही और पहुंच योग्य है?"}},"commando":{"title":"Core Lightning","page":{"title":"अपने Core Lightning node से कनेक्ट करें","instructions":"निश्चित करें कि आपके पास कोर लाइटनिंग संस्करण 0.12.0 या नया है, कमांडो प्लगइन चल रहा है और आपका नोड लाइटनिंग नेटवर्क पर पहुंच योग्य है। \'lightning-cli commando-rune\' चलाकर एक rune बनाएं।"},"host":{"label":"Host"},"pubkey":{"label":"Public key"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Websocket proxy"},"privKey":{"label":"स्थानीय निजी कुंजी (स्वत: उत्पन्न)"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"कनेक्शन विफल। क्या आपका Core lightning node ऑनलाइन है और commando plugin का उपयोग कर रहा है?"}},"umbrel_lightning_node":{"title":"लाइटनिंग नोड"}},"settings":{"title":"सेटिंग्ज","browser_notifications":{"title":"ब्राउझर सूचना","subtitle":"भुगतान और प्रमाणीकरण संबंधी सूचनाएँ।"},"website_enhancements":{"title":"वेबसाइट संवर्द्धन","subtitle":"Twitter, YouTube, आदि के लिए टिपिंग एन्हांसमेंट"},"lnurl_auth":{"title":"LNURL-Auth","hint":"एक सामान्य प्रमाणीकरण प्रोटोकॉल है। यह डिजिटल हस्ताक्षर का उपयोग करके उपयोगकर्ता को प्रमाणित करता है। प्रोटोकॉल को किसी अन्य पहचान की जानकारी जैसे पासवर्ड, ईमेल, उपयोगकर्ता नाम या समान की आवश्यकता नहीं होती है। एल्बी के साथ आप सुरक्षित रूप से लॉगिन करने के लिए अपने लाइटनिंग खातों का उपयोग कर सकते हैं। वेबसाइटों के लिए। अन्य वॉलेट के साथ संगत होने के लिए हमें कुछ बदलाव करने पड़े जिन्हें आप यहां कॉन्फ़िगर कर सकते हैं। <0>आदर्श रूप से वे सभी विकल्प बंद हैं।</0> उनका उपयोग केवल तभी करें जब आपके पास पुराने खाते हों।","legacy_lnurl_auth_202207":{"title":"विरासत LNURL-Auth","subtitle":"LNURL-auth के लिए कुंजी जनरेशन (जुलाई 2022) बदल गया है। एल्बी अन्य कार्यान्वयन के साथ संगत नहीं था। इसे बदल दिया गया था, लेकिन अब अलग-अलग लॉगिन कुंजियों का उपयोग किया जाता है। यदि आप लॉग इन करने से पहले LNURL-auth का उपयोग करते हैं अभी भी पुरानी पद्धति को सक्षम करें। यह विकल्प बाद में हटा दिया जाएगा, नए लॉगिन पर स्विच करना सुनिश्चित करें।"},"legacy_lnurl_auth":{"title":"LNDhub और LNbits के लिए लीगेसी साइनिंग","subtitle":"संदेश पर हस्ताक्षर करना और LNDhub (जैसे BlueWallet) और LNbits खातों के साथ लॉगिन (मार्च 2022) को बदल दिया गया है। यदि आपने इन खातों से लॉग इन किया है, तो आप अभी भी पुरानी हस्ताक्षर विधि को सक्षम कर सकते हैं। यह विकल्प बाद में हटा दिया जाएगा, बनायें नए लॉगिन पर स्विच करना सुनिश्चित करें।"}},"camera_access":{"title":"कॅमेरा प्रवेश","subtitle":"QR कोड स्कैन करने के लिए","allow":"कॅमेरा  एक्सेस की अनुमति दें","granted":"अनुमति दी गई"},"language":{"title":"भाषा","subtitle":"अनुवाद अभी तक 100% पूरा नहीं हुआ है। <0>अल्बी को अपनी भाषा में अनुवाद करने में हमारी सहायता करें!</0>"},"theme":{"title":"थीम","subtitle":"एल्बी का उपयोग डार्क या लाइट मोड में करें","options":{"light":"प्रकाश","system":"सिस्टम"}},"show_fiat":{"title":"Sats टू  Fiat","subtitle":"हमेशा चयनित विनिमय से चयनित मुद्रा में रूपांतरित करें"},"currency":{"title":"चलन","subtitle":"इस मुद्रा में अतिरिक्त राशियां दिखाएं"},"exchange":{"title":"एक्सचेंज स्रोत","subtitle":"बिटकॉइन विनिमय दरों का स्रोत"},"personal_data":{"title":"वैयक्तिक डेटा","description":"प्राप्तकर्ता भुगतान के साथ भेजे जाने वाले अतिरिक्त डेटा के लिए अनुरोध कर सकते हैं। यह डेटा आपकी सहमति के बिना किसी के साथ साझा नहीं किया जाता है, इस डेटा को भुगतान के साथ भेजे जाने से पहले आपको हमेशा संकेत दिया जाएगा।"},"name":{"title":"नाव","subtitle":"","placeholder":"अपना नाम दर्ज करें"},"email":{"title":"ईमेल","subtitle":"","placeholder":"अपना ईमेल पता दर्ज करें"},"change_password":{"title":"अनलॉक पासवर्ड बदलें","subtitle":"","screen_reader":"अनलॉक पासवर्ड बदलें","choose_password":{"label":"एक नया अनलॉक पासवर्ड दर्ज करें:"},"confirm_password":{"label":"नए पासवर्ड की पुष्टि करें:"},"submit":{"label":"बदलें"},"errors":{"enter_password":"कृपया एक नया अनलॉक पासवर्ड दर्ज करें।","confirm_password":"कृपया अपने पासवर्ड की पुष्टि करें।","mismatched_password":"पासवर्ड मेल नहीं खाते।"},"success":"पासवर्ड सफलतापूर्वक बदल दिया गया"},"nostr":{"title":"Nostr","hint":"एक सरल और खुला प्रोटोकॉल है जिसका उद्देश्य सेंसरशिप-प्रतिरोधी सामाजिक नेटवर्क बनाना है। नॉस्ट्र क्रिप्टोग्राफ़िक कुंजियों के साथ काम करता है। कुछ प्रकाशित करने के लिए आप इसे अपनी कुंजी के साथ साइन करते हैं और इसे कई रिले में भेजते हैं। आप अपने प्रबंधन के लिए एल्बी का उपयोग कर सकते हैं। नोस्ट्र कुंजी। कई नोस्ट्र एप्लिकेशन आपको एल्बी एक्सटेंशन से कुंजी का उपयोग करने की अनुमति देंगे।","private_key":{"title":"निजी की","subtitle":"यह अनुभाग खाता पृष्ठ पर ले जाया गया है क्योंकि कुंजियाँ अब खाता विशिष्ट हैं।","go_to":"खातों में जाएं"}}},"send":{"title":"भेजें","input":{"label":"प्राप्तकर्ता","hint":"चालान, Lightning address या LNURL"}},"lnurlpay":{"amount":{"label":"राशि"},"success":"सफलतापूर्वक, भुगतान भेज दिया गया!"},"lnurlauth":{"title":"प्रमाणीकरण","content_message":{"heading":"क्या आप इसमें लॉग इन करना चाहते हैं"},"submit":"लॉगिन","success":"लॉगिन {{name}} पर सफल रहा","errors":{"status":"त्रुटि: प्रामाणिक स्थिति ठीक नहीं है"}},"lnurlchannel":{"title":"चैनल अनुरोध","content_message":{"heading":"नोड से एक चैनल का अनुरोध करें"},"success":"चैनल अनुरोध {{name}} को सफलतापूर्वक भेजा गया"},"lnurlwithdraw":{"title":"वापसी","content_message":{"heading":"राशि"},"amount":{"label":"राशि"},"success":"{{amount}} की निकासी का अनुरोध {{sender}} को सफलतापूर्वक भेजा गया"},"receive":{"title":"प्राप्त करें","actions":{"create_invoice":"चालान बनाएँ"},"amount":{"label":"राशि","placeholder":"सातोशी में राशि..."},"description":{"label":"विवरण","placeholder":"उदाहरण के लिए यह भुगतान कौन भेज रहा है?"},"success":"भुगतान प्राप्त हुआ!","payment":{"waiting":"भुगतान के लिए प्रतीक्षारत...","status":"भुगतान स्थिति जांचें"}},"discover":{"title":"Lightning ⚡️ पारिस्थितिकी तंत्र का अन्वेषण करें","description":"वेबसाइटें और वेबैप्स जहाँ आप एल्बी का उपयोग कर सकते हैं","list":{"trading":"ट्रेडिंग","gaming":"गेमिंग","shopping":"खरीदारी","miscellaneous":"विविध","showcases":"शोकेस","nostr":"Nostr","nodeManagement":"नोड प्रबंधन"},"tips":{"title":"आपका Alby वॉलेट तैयार है","description":"आपको चर्चा शुरू करने के लिए कुछ सुझाव 🐝","top_up_wallet":{"title":"⚡️ अपने वॉलेट में पैसे जोड़ें","description":"Lightning इनवॉइस बनाएं, अपने आप को कुछ बिटकॉइन भेजें और Lightning ecosystem में Alby का उपयोग शुरू करें"},"demo":{"title":"🕹️ Alby Demo आज़माएं","description":"हमारी डेमो वेबसाइट पर Alby के साथ आप जो कुछ भी कर सकते हैं, उसकी खोज करें"}}},"publishers":{"title":"आपकी ⚡ वेबसाइटें","description":"वे वेबसाइटें जहाँ आपने पहले अल्बी का प्रयोग किया है","no_info":"ऐसा लगता है कि आपने अभी तक किसी भी वेबसाइट में एल्बी का उपयोग नहीं किया है।","discover":"वेबसाइट खोजें","publisher":{"allowance":{"title":"भत्ता"}}},"make_invoice":{"title":"चालान बनाएँ","amount":{"label":"राशि (Satoshi)"},"memo":{"label":"मेमो"},"errors":{"amount_too_small":"राशि न्यूनतम से कम है","amount_too_big":"राशि अधिकतम से अधिक है"}},"confirm_sign_message":{"title":"साइन","content":"यह वेबसाइट आपसे हस्ताक्षर करने के लिए कहती है:"},"confirm_keysend":{"title":"भुगतान स्वीकृत करें","success":"भुगतान भेजा गया! प्रीइमेज: {{preimage}}","payment_summary":{"description":"यहां भुगतान भेजें: {{destination}}"}},"keysend":{"title":"भेजें","success":"भुगतान भेजा गया! प्रीइमेज: {{preimage}}","receiver":{"label":"इन्हें भुगतान भेजें"},"amount":{"label":"राशि (Satoshi)"}},"confirm_payment":{"title":"भुगतान स्वीकृत करें","success":"{{amount}} का भुगतान सफल!","actions":{"pay_now":"अभी भुगतान करें"}},"confirm_request_permission":{"title":"अनुरोध स्वीकार करें","allow":"इस वेबसाइट को चलने दें:","always_allow":"मेरी पसंद याद रखें और दोबारा न पूछें"},"nostr":{"title":"Nostr","allow":"इस वेबसाइट को इसकी अनुमति दें:","content":"यह वेबसाइट आपसे हस्ताक्षर करने के लिए कहती है:","allow_sign":"{{host}} को हस्ताक्षर करने की अनुमति दें:","view_details":"विवरण देखें","hide_details":"विवरण छिपाएं","block_and_ignore":"ब्लॉक करें और {{host}} को अनदेखा करें","block_added":"ब्लॉकलिस्ट में {{host}} जोड़ा गया, कृपया वेबसाइट फिर से लोड करें।","kinds":{"0":"मेटाडेटा","1":"लघु पाठ टिप्पणी","2":"रिले की अनुशंसा करें","3":"संपर्क","4":"एन्क्रिप्टेड सीधे संदेश","5":"ईवेंट हटाना","7":"प्रतिक्रिया","8":"बैज पुरस्कार","40":"चैनल बनाना","41":"चैनल मेटाडाटा","42":"चैनल संदेश","43":"चैनल छिपाने का संदेश","44":"चैनल म्यूट प्रयोक्ता","1984":"रिपोर्टिंग","9734":"zap अनुरोध","9735":"zap","10002":"relay सूची metadata","22242":"ग्राहक प्रमाणीकरण","24133":"nostr कनेक्ट","30008":"प्रोफ़ाइल बैज","30009":"बैज परिभाषा","30023":"लंबी सामग्री","30078":"एप्लिकेशन-विशिष्ट डेटा"}},"transactions":{"title":"लेन-देन","list_empty":"अभी तक कोई लेन-देन उपलब्ध नहीं है।"},"distributions":{"description":"चुनें कि आप किस {{name}} ऐप से जुड़ना चाहेंगे","title":"{{name}} से जुड़ें"}},"y0":{"password":"पासवर्ड","confirm_password":"पासवर्ड की पुष्टि करें","advanced":"उन्नत","success":"सफलता","error":"त्रुटि","settings":"सेटिंग्स","accounts":"खाते","discover":"खोजें","sats_one":"sat","sats_other":"sats","loading":"लोड हो रहा है","amount":"रकम","feedback":"फ़ीडबैक","description":"विवरण","description_full":"पूरा विवरण","success_message":"{{amount}}{{fiatAmount}} को {{destination}} पर भेजा गया","response":"जवाब","message":"संदेश","help":"मदद","actions":{"back":"वापस","delete":"हटाएं","edit":"संपादित करें","next":"अगला","open":"खोलें","cancel":"रद्द करें","confirm":"पुष्टि करें","continue":"जारी रखें","connect":"जोड़ें","lock":"ताला","unlock":"अनलॉक","send":"भेजें","save":"सहेजें","receive":"प्राप्त करें","receive_again":"एक और भुगतान प्राप्त करें","transactions":"लेन-देन","close":"बंद करें","export":"निर्यात","remove":"निकालें","copy":"प्रतिलिपि","log_in":"लॉगिन","remember":"मेरी पसंद याद रखें और दोबारा न पूछें"},"errors":{"connection_failed":"कनेक्शन विफल","payment_failed":"भुगतान विफल"},"range":{"between":"{{min}} और {{max}} के बीच","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"}},"wx":{"allowance_menu":{"confirm_delete":"क्या आप सुनिश्चित हैं कि आप इस वेबसाइट को हटाना चाहते हैं?","hint":"यह वर्तमान बजट को रीसेट करेगा","new_budget":{"label":"नया बजट"},"enable_login":{"title":"Website login सक्षम करें","subtitle":"जब वेबसाइट अनुरोध करती है तो पुष्टि के बिना स्वचालित रूप से लॉग इन करें।"},"edit_allowance":{"title":"भत्ता संपादित करें","screen_reader":"भत्ता विकल्प"},"edit_permissions":"अनुमतियाँ संपादित करें"},"qrcode_scanner":{"title":"QR कोड स्कैन करें","actions":{"start_scanning":"स्कैनिंग शुरू करें","stop_scanning":"स्कैन करना बंद करें"},"errors":{"allow_camera_access":"कृपया सेटिंग स्क्रीन में कैमरा एक्सेस की अनुमति दें।"}},"transactions_table":{"fee":"शुल्क","preimage":"Preimage","received":"प्राप्त","sent":"भेजा गया","boostagram":{"sender":"प्रेषक","message":"संदेश","app":"App","podcast":"Podcast"},"open_location":"Website खोलें"},"budget_control":{"remember":{"label":"याद रखें और एक बजट निर्धारित करें","description":"आप शेष राशि को तब तक सेट कर सकते हैं जब तक भुगतान की पुष्टि के लिए नहीं पूछा जाए जब तक कि यह समाप्त न हो जाए।"},"budget":{"label":"Budget"}},"companion_download_info":{"heading":"आप TOR नेटवर्क से कैसे जुड़ना चाहते हैं?","download":"Download","companion":{"title":"Companion App","description":"Lightweight app जो आपके ब्राउज़र को TOR नेटवर्क से जोड़ता है।"},"tor_native":{"title":"TOR (native)","description":"यदि यह ब्राउज़र पहले से ही TOR नेटवर्क से जुड़ा है तो इस विकल्प को चुनें।"}},"toasts":{"connection_error":{"what_you_can_do":"आप ये कर सकते हैं:","double_check":"अपने कनेक्शन विवरण की दोबारा जाँच करें","if_ssl_errors":"और यदि एसएसएल त्रुटियाँ हैं (जैसे ERR_CERT_AUTHORITY_INVALID), \\"उन्नत\\" पर क्लिक करें और प्रमाणपत्र स्वीकार करने के लिए आगे बढ़ें।","visit_guides":"अधिक सहायता के लिए हमारे मार्गदर्शकों पर जाएँ"},"login_failed":{"password_reset":"अपना पासवर्ड भूल गए? यहाँ क्लिक करें"},"errors":{"invalid_credentials":"अमान्य पासवर्ड। कृपया अपने पासवर्ड और ईमेल पते की समीक्षा करें और पुनः प्रयास करें।"}},"account_menu":{"screen_reader":"Toggle Dropdown","title":"खाता बदलें","options":{"account":{"add":"एक नया खाता जोड़ें","manage":"खाते प्रबंधित करें"}}},"publishers_table":{"payments":"भुगतान"},"badge":{"label":{"auth":"LOGIN"}}},"mk":{"nostr":{"getpublickey":"अपनी सार्वजनिक कुंजी पढ़ें।","nip04encrypt":"डेटा एन्क्रिप्ट करें।","nip04decrypt":"डेटा डिक्रिप्ट करें।","signmessage":"अपनी चाबी से संदेश पर हस्ताक्षर करें।"},"commando":{"bkpr-listbalances":"सभी मौजूदा और ऐतिहासिक खाता शेषों की सूची।","checkmessage":"सत्यापित करें कि हस्ताक्षर किसी दिए गए नोड द्वारा उत्पन्न किया गया था।","connect":"दूसरे नोड के साथ एक नया कनेक्शन स्थापित करें।","decode":"BOLT11/BOLT12/Rune स्ट्रिंग को डिकोड करें।","decodepay":"BOLT11 स्ट्रिंग की जांच और विश्लेषण करें।","disconnect":"किसी peer  से मौजूदा कनेक्शन बंद करें।","feerates":"CLN द्वारा उपयोग किए जाने वाले शुल्क वापस करें।","fundchannel":"फंडिंग लेन-देन करके सहकर्मी के साथ भुगतान चैनल खोलें।","getinfo":"node का सारांश प्राप्त करें।","getroute":"Lightning node को भुगतान के लिए सर्वोत्तम मार्ग खोजें।","invoice":"भुगतान की अपेक्षा पैदा करें।","keysend":"दूसरे नोड को भुगतान भेजें।","listforwards":"उन सभी HTLCs की सूची बनाएं जिन्हें अग्रेषित करने का प्रयास किया गया है।","listfunds":"उपलब्ध सभी निधियों की सूची बनाएं।","listinvoices":"सभी चालानों की स्थिति प्राप्त करें।","listnodes":"गपशप संदेशों के माध्यम से नोड के बारे में जानने वाले नोड्स की सूची बनाएं।","listoffers":"सभी ऑफ़र सूचीबद्ध करें या कोई विशिष्ट ऑफ़र प्राप्त करें।","listpays":"सभी भुगतान आदेशों की स्थिति प्राप्त करता है।","listpeers":"उन नोड्स की सूची बनाएं जो जुड़े हुए हैं या इस नोड के साथ खुले चैनल हैं।","listsendpays":"सभी सेंडपे कमांड की स्थिति प्राप्त करता है।","listtransactions":"वॉलेट में ट्रैक किए गए लेन-देनों की सूची बनाएं।","multifundchannel":"एकल फंडिंग लेन-देन करके नोड्स के साथ कई भुगतान चैनल खोलें।","offer":"एक ऑफ़र बनाएँ।","pay":"BOLT11 इनवॉयस को भुगतान भेजें।","sendpay":"रास्ते से भुगतान भेजें।","setchannel":"किसी चैनल के लिए विज्ञापित शुल्क/HTLCs रेंज configure करें।","signmessage":"इस नोड से एक हस्ताक्षर बनाएँ।"},"lnd":{"getinfo":"नोड जानकारी प्राप्त करें।","listchannels":"सभी खुले चैनलों का विवरण प्राप्त करें।","listinvoices":"सभी चालानों की सूची प्राप्त करें।","channelbalance":"सभी खुले चैनलों में कुल धन की रिपोर्ट प्राप्त करें।","walletbalance":"वॉलेट के कुल खर्च न किए गए Output प्राप्त करें।","openchannel":"एक नया चैनल खोलें।","connectpeer":"Remote peer से कनेक्शन स्थापित करें।","disconnectpeer":"Remote peer से डिस्कनेक्ट करें।","estimatefee":"शुल्क दर और लेन-देन की कुल फीस का अनुमान लगाएं।","getchaninfo":"दिए गए चैनल के लिए नेटवर्क घोषणा प्राप्त करें।","getnetworkinfo":"ज्ञात चैनल ग्राफ़ के बारे में मूल आँकड़े प्राप्त करें।","getnodeinfo":"नोड के लिए चैनल जानकारी प्राप्त करें।","gettransactions":"वॉलेट से संबंधित सभी लेन-देन की सूची प्राप्त करें।","listpayments":"सभी आउटगोइंग भुगतानों की सूची प्राप्त करें।","listpeers":"वर्तमान में सक्रिय साथियों की सूची प्राप्त करें।","lookupinvoice":"चालान विवरण देखें।","queryroutes":"संभावित मार्ग के लिए प्रश्न।","verifymessage":"संदेश पर हस्ताक्षर सत्यापित करें।","sendtoroute":"निर्दिष्ट मार्ग से भुगतान करें।","decodepayreq":"एक भुगतान अनुरोध String को डिकोड करें।","routermc":"आंतरिक मिशन नियंत्रण स्थिति पढ़ें।","addinvoice":"नए चालान बनाएँ।","addholdinvoice":"नए HODL चालान बनाएँ।","settleinvoice":"एक स्वीकृत चालान का निपटान करें।"},"lnc":{"getinfo":"नोड जानकारी प्राप्त करें।","listchannels":"सभी खुले चैनलों का विवरण प्राप्त करें।","listinvoices":"सभी चालानों की सूची प्राप्त करें।","channelbalance":"सभी खुले चैनलों में कुल धन की रिपोर्ट प्राप्त करें।","walletbalance":"वॉलेट के कुल खर्च न किए गए output प्राप्त करें।","openchannel":"एक नया चैनल खोलें।","connectpeer":"रिमोट पीअर से कनेक्शन स्थापित करें।","disconnectpeer":"रिमोट पीअर से डिस्कनेक्ट करें।","estimatefee":"शुल्क दर और लेन-देन की कुल फीस का अनुमान लगाएं।","getchaninfo":"दिए गए चैनल के लिए नेटवर्क घोषणा प्राप्त करें।","getnetworkinfo":"ज्ञात चैनल ग्राफ़ के बारे में मूल आँकड़े प्राप्त करें।","getnodeinfo":"नोड के लिए चैनल जानकारी प्राप्त करें।","gettransactions":"वॉलेट से संबंधित सभी लेन-देन की सूची प्राप्त करें।","listpayments":"सभी आउटगोइंग भुगतानों की सूची प्राप्त करें।","listpeers":"वर्तमान में सक्रिय साथियों की सूची प्राप्त करें।","lookupinvoice":"चालान विवरण देखें।","queryroutes":"संभावित मार्ग के लिए प्रश्न।","verifymessage":"एक संदेश पर हस्ताक्षर को सत्यापित करें।","sendtoroute":"निर्दिष्ट मार्ग से भुगतान करें।","decodepayreq":"एक भुगतान अनुरोध स्ट्रिंग को डिकोड करें।","routermc":"आंतरिक मिशन नियंत्रण स्थिति पढ़ें।","addinvoice":"नए चालान बनाएँ।","addholdinvoice":"नए एचओडीएल चालान बनाएँ।","settleinvoice":"एक स्वीकृत चालान व्यवस्थित करें।"}}}'),Tt=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"Imposta una password di sblocco","description":"Questa password serve a proteggere il tuo wallet e a fornirti l\'accesso all\'estensione del browser. Non può essere reimpostata ed è differente dalla password dell\'account Alby.","choose_password":{"label":"Scegli una password di sblocco:"},"confirm_password":{"label":"Conferma di averla digitata correttamente:"},"errors":{"enter_password":"Per favore inserisci una password.","confirm_password":"Si prega di confermare la password.","mismatched_password":"Le password non corrispondono."}},"test_connection":{"ready":"Fantastico, sei pronto per partire!","initializing":"Stiamo inizializzando il tuo account. Per favore attendi, questa operazione potrebbe impiegare alcuni minuti…","connection_error":"Errore di connessione","review_connection_details":"Controlla i dettagli della tua connessione.","connection_taking_long":"Il tentativo di connessione richiede più tempo del previsto... I tuoi dati sono corretti? Il tuo nodo è raggiungibile?","contact_support":"Se hai bisogno di aiuto, contatta support@getalby.com","actions":{"delete_edit_account":"Elimina l\'account invalido e modificalo di nuovo"}},"title":"Benvenuto su Alby"},"choose_connector":{"description":"Connettiti al tuo wallet lightning esterno o al tuo nodo","lnd":{"title":"LND","page":{"title":"Connettiti al tuo nodo LND","description":"Sono necessari l\'URL del nodo e un macaroon con permessi di lettura e invio (ad esempio, admin.macaroon)"},"url":{"label":"Host e porta dell\'API REST","placeholder":"https://URL-del-tuo-nodo:8080"},"macaroon":{"label":"Macaroon (formato HEX)"},"drag_and_drop":"Trascina e rilascia il tuo macaroon qui o<0>sfoglia</0>","errors":{"connection_failed":"Connessione non riuscita. Le tue credenziali LND sono corrette?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Connettiti a LNDHub","description":"Inserisci qui l\'URI delle credenziali LNDHub o scansiona il codice QR con la tua webcam."},"uri":{"label":"URI di esportazione LNDHub"},"errors":{"invalid_uri":"URI LNDHub non valido","connection_failed":"Connessione non riuscita. L\'URI LNDHub è corretto?"}},"lnbits":{"title":"LNbits","page":{"title":"Connetti a <0>LNbits</0>","instructions":"In LNbits, scegli il portafoglio che vuoi connettere, aprilo, clicca su API Info e copia la Admin Key. Incollala qui di seguito:"},"admin_key":{"label":"LNbits Admin Key","placeholder":"La tua admin key a 32 cifre"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Connessione non riuscita. L\'Admin Key e l\'URL sono corretti?"}},"eclair":{"title":"Eclair","page":{"title":"Connettiti a <0>Eclair</0>","instructions":"Hai bisogno della tua password e URL Eclair."},"password":{"label":"Password Eclair"},"url":{"label":"URL Eclair","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Collega un nodo <0>Citadel</0>","instructions":"Attualmente non funziona se è abilitata la 2FA."},"password":{"label":"Password Citadel"},"url":{"label":"URL Citadel","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Collega un nodo <0>Umbrel</0>","instructions":"Nella dashboard di Umbrel vai su <0>Connect Wallet</0>. Seleziona <0>lndconnect REST</0> e copia il <0>lndconnect URL</0>. (In base al tuo setup puoi usare una connessione locale o una connessione via TOR)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://tuonodo:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Collegati a <0>myNode</0>","instructions":"Nella homepage di myNode clicca sul tasto <0>Wallet</0> per il servizio <0>Lightning</0>.<1/> Ora clicca sul tasto <0>Pair Wallet</0> sotto il tab <0>Status</0>. Inserisci la tua password quando richiesta.<1/> Seleziona il menu a tendina e scegli l\'opzione per effettuare l\'accoppiamento. In base al tuo setup puoi utilizzare la connessione <0>Lightning (REST + Local IP)</0> o quella <0>Lightning (REST + Tor)</0>."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://tuonodo:8080?..."}},"start9":{"title":"Start9","page":{"title":"Collega il tuo nodo Embassy","instructions":"<0>Nota:</0> Al momento supportiamo solamente LND, aggiungeremo il supporto per c-lightning in futuro!<1/>Nella dashboard di Embassy clicca sul servizio <0>Lightning Network Daemon</0>.<1/>Seleziona il tab <0>Proprieta\'</0>.<1/>Adesso copia l\'<0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://tuonodo:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Collega il tuo nodo <0>RaspiBlitz</0>","instructions1":"Hai bisogno dell\'indirizzo onion, la porta e il macaroon con permessi di lettura e scrittura (e.g admin.macaroon) del tuo nodo..<1/><1/>Entra attraverso <0>SSH</0> nel tuo <0>RaspiBlitz</0>.<1/>Lancia il comando <0>sudo cat /mnt/hdd/tor/lndrest/hostname</0>.<1/>Copia e incolla l\'indirizzo <0>.onion</0> di seguito.<1/>Aggiungi la tua <0>porta</0> subito dopo l\'indirizzo onion, la porta di default e\' <0>:8080</0>.","instructions2":"Seleziona <0>CONNECT</0>.<1/>Seleziona <0>EXPORT</0>.<1/>Seleziona <0>HEX</0>.<1/>Copia l\'<0>adminMacaroon</0>.<1/>Incolla il macaroon di seguito."},"rest_api_host":{"label":"host REST API","placeholder":"indirizzo-onion-del-tuo-nodo:porta"}},"blink":{"title":"Blink Wallet","page":{"title":"Connetti il tuo <0>Blink Wallet</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Connetti a <0>Bitcoin Jungle Wallet</0>"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Connettiti al tuo nodo LND BTCPay","instructions":"Vai al tuo BTCPayServer e accedi come amministratore. Vai su Impostazioni server > Servizi > LND Rest - See information. Quindi fai clic su \\"Visualizza informazioni sul codice QR\\" e copia i dati del codice QR. Incollali qui sotto:"},"config":{"label":"Dati di configurazione","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Connessione fallita. L\'URL di connessione a BTCPay è corretto e accessibile?"}},"commando":{"port":{"label":"Porta"},"proxy":{"label":"Websocket proxy"},"rune":{"label":"Rune"},"privKey":{"label":"Chiave privata locale (autogenerata)"},"title":"Core Lightning","page":{"title":"Connettiti al tuo nodo Core Lightning","instructions":"Assicurati di avere la versione 0.12.0 o più recente di Core Lightning, che il plugin commando sia in esecuzione e che il tuo nodo sia accessibile sulla rete Lightning. Crea una rune eseguendo \'lightning-cli commando-rune\'."},"host":{"label":"Host"},"pubkey":{"label":"Chiave pubblica"},"config":{"label":"Dati di configurazione","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Connessione fallita. Il tuo nodo Core Lightning è online e sta usando il plugin Commando?"}},"title":"Connetti il Wallet Lightning","lnc":{"page":{"description":"Crea una nuova sessione nel terminale (litd) per ottenere una nuova frase di accoppiamento ed inseriscila qui","title":"Connettiti al tuo nodo LND"},"pairing_phrase":{"label":"La tua frase di accoppiamento ","placeholder":"frase segreta di stack sats"},"title":"LND con LNC"}},"home":{"actions":{"send_satoshis":"⚡️ Invia Satoshis ⚡️","enable_now":"Attiva ora"},"allowance_view":{"no_transactions":"Non ci sono ancora transazioni su <0>{{name}}</0>."},"default_view":{"is_blocked_hint":"Alby è attualmente disabilitato su {{host}}","block_removed":"{{host}} abilitato. Si prega di ricaricare la pagina."}},"accounts":{"title":"Accounts","actions":{"add_account":"Aggiungi account"},"account_view":{"nostr":{"errors":{"failed_to_load":"Impossibile caricare la chiave Nostr. È una chiave Nostr valida?"},"title":"Nostr","private_key":{"title":"Gestisci la tua chiave","success":"Chiave privata criptata & salvata con successo.","successfully_removed":"Chiave privata rimossa con successo.","subtitle":"Incolla la tua chiave privata o generane una nuova. Assicurati di fare un backup della vostra chiave privata prima di generarne una nuova. <0>Per saperne di più »</0>","label":"Chiave Privata"},"actions":{"generate":"Genera una nuova chiave"},"hint":"è un protocollo semplice e aperto che mira a creare social network resistenti alla censura. Nostr funziona con chiavi crittografiche. Per pubblicare qualcosa si firma con la propria chiave e la si invia a più relè. È possibile utilizzare Alby per gestire la propria chiave Nostr. Molte applicazioni Nostr vi permetteranno poi di utilizzare semplicemente la chiave dall\'estensione Alby.","generate_keys":{"screen_reader":"Genera una nuova chiave Nostr per il tuo account","hint":"Puoi generare una chiave casuale o una chiave derivata dai dati dell\'account (utilizzando una frase canonica firmata). <0>Per saperne di più »</0>","actions":{"random_keys":"Genera una chiave casuale","derived_keys":"Deriva una chiave dall\'account"},"title":"Genera una nuova chiave Nostr"},"public_key":{"label":"Chiave Pubblica"}},"remove":{"title":"Rimuovi Questo Account","subtitle":"Tutte i permessi collegati saranno cancellati. Si prega di esserne certi."},"actions":{"export":"Esporta","remove_account":"Rimuovi account"},"export":{"your_ln_address":"Il Tuo Indirizzo Lightning:","waiting":"in attesa dei dati da LndHub...","export_uri":"URI delle credenziali di LNDHub","scan_qr":"Importa questo wallet su Zeus o BlueWallet scansionando il QRCode.","title":"Esporta Account","screen_reader":"Esporta i dettagli dell\'account"},"title1":"Informazioni account","title2":"Modifica Account","name":{"title":"Nome","placeholder":"Nome Account"}}},"unlock":{"unlock_to_continue":"Sblocca per continuare","unlock_password":"La tua password di sblocco","help_contact":{"part1":"Hai bisogno di aiuto? Contatta","part2":"Supporto Alby"},"unlock_error":{"help":"I dati del tuo account sono criptati con la password di sblocco. Se hai dimenticato la password di sblocco, devi ripristinare e aggiungere di nuovo il tuo account Lightning.","link":"Reimposta ora e aggiungi un nuovo account"},"errors":{"invalid_password":"Password non valida"}},"settings":{"title":"Impostazioni","browser_notifications":{"title":"Notifiche del browser","subtitle":"Notifiche relative ai pagamenti e all\'autenticazione."},"website_enhancements":{"title":"Miglioramenti del sito web","subtitle":"Miglioramenti per le mance su Twitter, YouTube, ecc."},"lnurl_auth":{"title":"LNURL-Auth","hint":"è un protocollo di autenticazione generico. Autentica l\'utente utilizzando le firme digitali. Il protocollo non richiede altre informazioni di identificazione come password, e-mail, nomi utente o simili. Con Alby è possibile utilizzare i propri account lightning per accedere in modo sicuro ai siti web. Per essere compatibili con altri portafogli abbiamo dovuto apportare alcune modifiche che si possono configurare qui. <0>Idealmente tutte queste opzioni dovrebbero essere spente (OFF).</0> Usatele solo se avete vecchi account.","legacy_lnurl_auth_202207":{"title":"Legacy LNURL-Auth","subtitle":"La generazione di chiavi per LNURL-auth è cambiata (Luglio 2022). Alby non era compatibile con altre implementazioni. Abbiamo apportate delle modifiche, ma ora vengono utilizzate chiavi di accesso diverse. Se prima si utilizzava LNURL-auth per il login, si può ancora attivare il vecchio metodo. Questa opzione sarà rimossa in futuro; assicurarati di passare al nuovo login."},"legacy_lnurl_auth":{"title":"Firma tradizione per LNDhub e LNbits","subtitle":"La firma dei messaggi e il login con gli account LNDhub (ad esempio BlueWallet) e LNbits sono stati modificati (Marzo 2022). Se avete effettuato l\'accesso con questi account, potete ancora attivare il vecchio metodo di firma. Questa opzione sarà rimossa in futuro; assicurati di passare al nuovo metodo di login."}},"camera_access":{"title":"Accesso alla telecamera","subtitle":"Per la scansione di codici QR","allow":"Consenti l\'accesso alla fotocamera","granted":"Autorizzazione concessa"},"language":{"title":"Lingua","subtitle":"Le traduzioni non sono ancora state completate al 100%. <0>Aiutaci a tradurre Alby nella tua lingua!</0>"},"theme":{"title":"Tema","subtitle":"Usa Alby in modalità scura o chiara","options":{"dark":"Scuro","light":"Chiaro","system":"Sistema"}},"show_fiat":{"title":"Da Sats a Fiat","subtitle":"Convertire sempre nella valuta selezionata rispetto all\'exchange selezionato"},"currency":{"title":"Valuta","subtitle":"Mostra gli importi anche in questa valuta"},"exchange":{"title":"Origine dell\'Exchange","subtitle":"Fonte dei tassi di cambio bitcoin"},"personal_data":{"title":"Dati personali","description":"I beneficiari possono richiedere l\'invio di dati aggiuntivi insieme al pagamento. Questi dati non vengono condivisi con nessuno senza il tuo consenso che ti verrà sempre richiesto prima che questi dati vengano inviati insieme ad un pagamento."},"name":{"title":"Nome","subtitle":"","placeholder":"Inserisci il tuo nome"},"email":{"title":"Email","subtitle":"","placeholder":"Inserisci il tuo indirizzo email"},"change_password":{"title":"Cambia password di sblocco","subtitle":"","screen_reader":"Cambia password di sblocco","choose_password":{"label":"Inserire una nuova password di sblocco:"},"confirm_password":{"label":"Conferma nuova password:"},"submit":{"label":"Modifica"},"errors":{"enter_password":"Inserisci una nuova password di sblocco.","confirm_password":"Confermare la password.","mismatched_password":"Le password non corrispondono."},"success":"La password è stata modificata con successo"},"nostr":{"title":"Nostr","hint":"è un protocollo semplice e aperto che mira a creare reti sociali resistenti alla censura. Nostr funziona con chiavi crittografiche. Per pubblicare qualcosa si firma con la propria chiave e la si invia a più relè. È possibile utilizzare Alby per gestire la propria chiave Nostr. Molte applicazioni Nostr vi permetteranno poi di utilizzare semplicemente la chiave dall\'estensione Alby.","private_key":{"title":"Chiave privata","subtitle":"Questa sezione è stata spostata nella pagina degli account, poiché le chiavi ora sono specifiche per l\'account.","go_to":"Vai Agli Account"}}},"send":{"title":"Invia","input":{"label":"Destinatario","hint":"Fattura, indirizzo Lightning o LNURL"}},"lnurlpay":{"amount":{"label":"Importo"},"comment":{"label":"Commento"},"name":{"label":"Nome"},"email":{"label":"Email"},"success":"Successo, pagamento inviato!"},"lnurlauth":{"title":"Autenticazione","content_message":{"heading":"Vuoi accedere a"},"submit":"Accedi","success":"Accesso riuscito su {{name}}","errors":{"status":"Errore: lo stato di autenticazione non è ok"}},"lnurlchannel":{"title":"Richiesta canale","content_message":{"heading":"Richiedi un canale dal nodo"},"success":"Richiesta di canale inviata correttamente a {{name}}"},"lnurlwithdraw":{"title":"Ritiro","content_message":{"heading":"Importo"},"amount":{"label":"Importo"},"success":"Richiesta di prelievo di {{amount}} inviata con successo a {{sender}}"},"receive":{"title":"Ricevi","actions":{"create_invoice":"Crea fattura"},"amount":{"label":"Importo","placeholder":"Importo in Satoshi..."},"description":{"label":"Descrizione","placeholder":"Ad esempio, chi sta inviando questo pagamento?"},"success":"Pagamento ricevuto!","payment":{"waiting":"in attesa del pagamento...","status":"Controlla lo stato del pagamento"}},"publishers":{"publisher":{"allowance":{"title":"Margine","used_budget":"sats utilizzati"}},"title":"I tuoi Siti ⚡","description":"Siti dove hai già usato Alby","no_info":"Sembra che non hai ancora usato Alby in nessun sito.","discover":"Scopri i Siti"},"make_invoice":{"title":"Crea fattura","amount":{"label":"Importo (Satoshi)"},"memo":{"label":"Memo"},"errors":{"amount_too_small":"L\'importo è inferiore al minimo","amount_too_big":"L\'importo supera il massimo"}},"confirm_sign_message":{"title":"Firma","content":"Questo sito ti chiede di firmare:"},"confirm_keysend":{"title":"Approva il pagamento","success":"Pagamento inviato! Preimmagine: {{preimage}}","payment_summary":{"description":"Invia il pagamento a: {{destination}}"}},"keysend":{"title":"Invia","success":"Pagamento inviato! Preimmagine: {{preimage}}","receiver":{"label":"Invia pagamento a"},"amount":{"label":"Importo (Satoshi)"}},"confirm_payment":{"title":"Approva il pagamento","success":"Pagamento di {{amount}} andato a buon fine!","actions":{"pay_now":"Paga ora"}},"nostr":{"title":"Nostr","allow":"Consenti a questo sito di:","block_and_ignore":"Blocca e ignora {{host}}","block_added":"{{host}} aggiunto alla blocklist, si prega di ricaricare la pagina.","content":"Questo sito chiede di firmare:","allow_sign":"Consenti a {{host}} di firmare:"},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Password"},"confirm_password":{"label":"Conferma password"},"errors":{"enter_password":"Inserisci una password.","confirm_password":"Si prega di confermare la password.","mismatched_password":"Le password non corrispondono."}}}},"choose_path":{"alby":{"title":"Alby"},"other":{"title":"Altri Wallet","connect":"Connettiti"}},"confirm_request_permission":{"always_allow":"Ricorda la mia scelta e non chiederlo più","title":"Approva Richiesta","allow":"Consentire l\'esecuzione di questo sito:"},"discover":{"list":{"trading":"Trading","gaming":"Gaming","entertainment":"Intrattenimento","miscellaneous":"Altro","showcases":"Vetrine","nostr":"Nostr","shopping":"Shopping"},"tips":{"description":"Qualche suggerimento per iniziare a ronzare 🐝","top_up_wallet":{"title":"⚡️ Ricarica il tuo wallet","description":"Crea una fattura lightning, inviati qualche bitcoin e inizia ad usare Alby nell\'ecosistema lightning"},"demo":{"title":"🕹️ Prova la Demo di Alby","description":"Scopri tutto quello che puoi fare con Alby sul nostro sito demo"},"title":"Il tuo wallet Alby è pronto"},"title":"Esplora l\'Ecosistema Lightning ⚡️","description":"Siti e webapp dove puoi usare Alby"}},"y0":{"password":"Password","success":"Successo","error":"Errore","settings":"Impostazioni","connected_sites":"","loading":"caricamento","amount":"Importo","optional":"Facoltativo","feedback":"Valutazione","copied":"Copiato!","description":"Descrizione","description_full":"Descrizione completa","message":"Messaggio","help":"Aiuto","actions":{"back":"Indietro","delete":"Elimina","edit":"Modifica","next":"Avanti","open":"Aprire","cancel":"Annulla","confirm":"Conferma","continue":"Continua","connect":"Connettiti","lock":"Blocca","unlock":"Sblocca","send":"Invia","save":"Salva","receive":"Ricevi","close":"Chiudi","export":"Esporta","remove":"Rimuovi","copy":"Copia","copy_invoice":"","log_in":"Log in","remember":"Ricorda la mia scelta e non chiederlo più","receive_again":"Ricevi un altro pagamento"},"errors":{"connection_failed":"Connessione fallita","payment_failed":"Pagamento fallito"},"response":"Risposta","sats_one":"sat","sats_other":"sats","success_message":"{{amount}}{{fiatAmount}} inviati a {{destination}}","accounts":"Account","discover":"Scopri","confirm_password":"Conferma la Password","advanced":"Avanzate"},"wx":{"allowance_menu":{"confirm_delete":"Sei sicuro di voler eliminare questo sito web?","hint":"Questo azzererà il budget corrente","new_budget":{"label":"Nuovo budget"},"enable_login":{"title":"Abilita l\'accesso al sito web","subtitle":"Accedi automaticamente senza conferma quando il sito web lo richiede."},"edit_allowance":{"title":"Modifica tolleranza","screen_reader":"Opzioni di tolleranza"},"edit_permissions":"Modifica Permessi"},"qrcode_scanner":{"title":"Scansiona il codice QR","actions":{"start_scanning":"Avvia la scansione","stop_scanning":"Interrompi la scansione"},"errors":{"allow_camera_access":"Si prega di consentire l\'accesso alla fotocamera nella schermata delle impostazioni."}},"transactions_table":{"fee":"Tassa","preimage":"Preimmagine","received":"Ricevuto","sent":"Inviato","boostagram":{"sender":"Mittente","message":"Messaggio","app":"App","podcast":"Podcast"},"open_location":"Apri il sito"},"budget_control":{"remember":{"label":"Imposta e ricorda un budget","description":"È possibile impostare un saldo per il quale, fino ad esaurimento, possono non essere richieste conferme di pagamento."},"budget":{"label":"Budget"}},"toasts":{"connection_error":{"what_you_can_do":"Ecco cosa puoi fare:","double_check":"Ricontrolla i dettagli della tua connessione","if_ssl_errors":"e se ci sono errori SSL (ad esempio ERR_CERT_AUTHORITY_INVALID), clicca su \\"avanzato\\" e procedi all\'accettazione del certificato.","visit_guides":"Visita le nostre guide per ulteriore assistenza"},"login_failed":{"password_reset":"Hai dimenticato la password? Clicca qui"},"errors":{"invalid_credentials":"Password non valida. Controlla la password e l\'indirizzo e-mail e riprova."}},"account_menu":{"screen_reader":"Attiva/disattiva menu a tendina","title":"Cambia account","options":{"account":{"add":"Aggiungi un nuovo account","manage":"Gestisci gli account"}}},"publishers_table":{"payments":"pagamenti"},"badge":{"label":{"auth":"LOGIN"}}},"mk":{"commando":{"fundchannel":"Apri un canale di pagamento con un peer effettuando una transazione di invio fondi","decodepay":"Controlla e analizza una stringa bolt11","listpeers":"Elenca i nodi che sono connessi o hanno canali aperti con questo nodo","getroute":"Trova il percorso migliore per il pagamento a un nodo lightning","getinfo":"Ottieni il riepilogo del nodo","listforwards":"Elenca tutti gli htlc di cui si è tentato l\'inoltro","disconnect":"Chiudi una connessione esistente con un peer","feerates":"Restituisci le feerate che CLN utilizzerà","invoice":"Crea l\'aspettativa di un pagamento","listfunds":"Elenca tutti i fondi disponibili","listinvoices":"Ottieni lo stato di tutte le fatture","listnodes":"Elenca i nodi di cui il nodo è venuto a conoscenza tramite i messaggi gossip","listsendpays":"Visualizza lo stato di tutti i comandi sendpay","listtransactions":"Elenca le transazioni tracciate nel wallet","keysend":"Invia un pagamento a un altro nodo","listoffers":"Elenca tutte le offerte o ottieni un\'offerta specifica","listpays":"Visualizza lo stato di tutti i comandi di pagamento","multifundchannel":"Apri canali di pagamento multipli con i nodi effettuando un\'unica transazione di invio fondi","offer":"Crea un\'offerta","pay":"Invia un pagamento a una fattura BOLT11","sendpay":"Inviare un pagamento attraverso un percorso","setchannel":"Configura le commissioni / il range di htlc richiesto per un canale","signmessage":"Crea una firma da questo nodo","connect":"Stabilisci una nuova connessione con un altro nodo","decode":"Decodifica una stringa bolt11/bolt12/rune","bkpr-listbalances":"Elenco di tutti i saldi correnti e storici dell\'account","checkmessage":"Verifica che la firma sia stata generata da un determinato nodo"},"lnd":{"lookupinvoice":"Visualizza i dettagli della fattura","decodepayreq":"Decodifica una stringa di richiesta di pagamento","routermc":"Leggi lo stato di controllo interno della missione","estimatefee":"Stima il tasso di commissione e le commissioni totali per una transazione","queryroutes":"Interroga per una possibile rotta","connectpeer":"Stabilisci una connessione ad un peer remoto","disconnectpeer":"Disconnetti da un peer remoto","listpeers":"Otteni un elenco di tutti i peer attualmente attivi","verifymessage":"Verifica una firma di un messaggio","addinvoice":"Crea nuove fatture","openchannel":"Apri un nuovo canale","getnodeinfo":"Ottieni le informazioni del canale per un nodo","sendtoroute":"Effettua un pagamento attraverso la rotta specificata","walletbalance":"Ottieni il totale degli output non spesi del wallet","getchaninfo":"Ottieni l\'annuncio di rete per il dato canale","getnetworkinfo":"Ottieni le statistiche di base riguardo il tracciato del canale conosciuto","gettransactions":"Ottieni un elenco di tutte le transazioni rilevanti per il wallet","listpayments":"Ottieni un elenco di tutti i pagamenti in uscita","getinfo":"Ottieni le informazioni del nodo","listchannels":"Ottieni una descrizione di tutti i canali aperti","listinvoices":"Ottieni un elenco di tutte le fatture","channelbalance":"Ottieni un report sui fondi totali in tutti i canali aperti"},"lnc":{"listchannels":"Otteni una descrizione di tutti i canali aperti","getinfo":"Ottieni le informazioni sul nodo","listinvoices":"Ottieni un elenco di tutte le fatture","queryroutes":"Interroga per una possibile rotta","listpeers":"Otteni un elenco di tutti i peer attualmente attivi","routermc":"Leggi lo stato di controllo interno della missione","connectpeer":"Stabilisci una connessione ad un peer remoto","disconnectpeer":"Disconnetti da un peer remoto","getchaninfo":"Ottieni l\'annuncio di rete per il dato canale","channelbalance":"Ottieni un report sui fondi totali in tutti i canali aperti","walletbalance":"Ottieni il totale degli output non spesi del wallet","openchannel":"Apri un nuovo canale","estimatefee":"Stima il tasso di commissione e le commissioni totali per una transazione","lookupinvoice":"Visualizza i dettagli della fattura","verifymessage":"Verifica una firma di un messaggio","sendtoroute":"Effettua un pagamento attraverso la rotta specificata","getnodeinfo":"Ottieni le informazioni del canale per un nodo","gettransactions":"Ottieni un elenco di tutte le transazioni rilevanti per il wallet","listpayments":"Ottieni un elenco di tutti i pagamenti in uscita","decodepayreq":"Decodifica una stringa di richiesta di pagamento","getnetworkinfo":"Ottieni le statistiche di base riguardo il tracciato del canale conosciuto","addinvoice":"Crea nuove ricevute di pagamento"},"nostr":{"nip04decrypt":"Decripta i dati","getpublickey":"Leggi la tua chiave pubblica","nip04encrypt":"Cripta i dati","signmessage":"Firma il messaggio con la tua chiave"}}}'),Nt=JSON.parse('{"xk":{"welcome":{"title":"Alby मध्ये आपले स्वागत आहे","set_password":{"title":"अनलॉक पासवर्ड सेट करा","description":"तुमचे लाइटनिंग खाते पासवर्डसह सुरक्षितपणे एन्क्रिप्ट केलेले आहे. कृपया हा पासवर्ड लक्षात ठेवा. ब्राउझरमध्ये alby एक्सटेंशन उघडण्यासाठी तुम्हाला पासवर्डची आवश्यकता असेल.","confirm_password":{"label":"आपण ते बरोबर टाईप केले आहे याची पुष्टी करूया:"},"choose_password":{"label":"पासवर्ड निवडा"},"errors":{"enter_password":"कृपया पासवर्ड टाका.","confirm_password":"कृपया पुष्टी करण्यासाठी तुमचा पासवर्ड पुन्हा-एंटर करा.","mismatched_password":"पासवर्ड एकमेकांशी जुळत नाहीत."}},"test_connection":{"ready":"छान, तुम्ही पुढे जाण्यासाठी तयार आहात!","initializing":"तुमचे खाते सुरू करत आहे. कृपया प्रतीक्षा करा, हे पूर्ण होण्यासाठी एक मिनिट लागू शकतो...","connection_error":"कनेक्ट करताना समस्या उद्भवली","review_connection_details":"कृपया आपल्या कनेक्शन तपशीलांचे पुनरावलोकन करा.","contact_support":"तुम्हाला मदत हवी असल्यास कृपया support@getalby.com येथे संपर्क साधा","connection_taking_long":"कनेक्ट करण्याचा प्रयत्न करताना अपेक्षेपेक्षा जास्त वेळ लागतो का... तुमचे तपशील बरोबर आहेत का? तुमचा नोड पोहोचण्यायोग्य आहे का? कृपया तपासून पहा.","actions":{"delete_edit_account":"अवैध खाते हटवा आणि पुन्हा संपादित करा"}}},"choose_path":{"alby":{"title":"Alby"},"other":{"title":"इतर वॉलेट","connect":"कनेक्ट करा"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"पासवर्ड"},"confirm_password":{"label":"पासवर्ड ची पुष्टी करा"},"errors":{"enter_password":"कृपया पासवर्ड प्रविष्ट करा.","confirm_password":"कृपया आपला पासवर्ड कन्फर्म करा.","mismatched_password":"पासवर्ड जुळत नाहीत."}}}},"choose_connector":{"title":"Connect Lightning Wallet","description":"आपल्या बाह्य लाइटनिंग वॉलेट किंवा नोडशी कनेक्ट करा","lnd":{"title":"LND","page":{"title":"आपल्या LND नोडशी कनेक्ट करा","description":"आपल्याला आपले नोड URL आणि वाचन आणि पाठवा परवानग्यांसह मॅकरून आवश्यक आहे (उदा. अॅडमिन.मॅकरून)"},"url":{"label":"REST API host and port","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon (HEX format)"},"drag_and_drop":"आपले Macaroon येथे खेचून टाका किंवा <0> browse</0>","errors":{"connection_failed":"कनेक्शन निकामी झाले. आपली LND क्रेडेंशियल्स योग्य आहेत का?"}},"lnc":{"title":"LND with LNC","page":{"title":"आपल्या LND नोडशी कनेक्ट करा","description":"नवीन जोडी वाक्यांश मिळविण्यासाठी टर्मिनल (litd) मध्ये एक नवीन सत्र तयार करा आणि ते येथे प्रविष्ट करा"},"pairing_phrase":{"label":"आपली जोडी वाक्यांश ","placeholder":"गुप्त स्टॅक सॅट्स वाक्यांश"}},"lndhub_go":{"title":"LNDHub","page":{"title":"LNDHub ला कनेक्ट करा","description":"आपले एलएनडीएचयूबी क्रेडेंशियल यूआरआय येथे इनपुट करा किंवा आपल्या वेबकॅमसह QR कोड स्कॅन करा."},"uri":{"label":"LNDHub Export URI"},"errors":{"invalid_uri":"अवैध LNDHub URI","connection_failed":"कनेक्शन निकामी झाले. तुमची LNDHub URI योग्य आहे का?"}},"lnbits":{"title":"LNbits","page":{"title":"<0>LNbits</0> ला कनेक्ट करा","instructions":"In LNbits, choose the wallet you want to connect, open it, click on API Info and copy the Admin Key. Paste it below:"},"admin_key":{"label":"LNbits Admin Key","placeholder":"Your 32 digit admin key"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Connection failed. Do you have the correct URL and Admin Key?"}},"eclair":{"title":"Eclair","page":{"title":"<0>Eclair</0> ला कनेक्ट करा","instructions":"You need your Eclair URL and password."},"password":{"label":"Eclair Password"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"<0>Citadel</0> node ला कनेक्ट करा","instructions":"This currently doesn\'t work if 2FA is enabled."},"password":{"label":"Citadel Password"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"<0>Umbrel</0> node ला कनेक्ट करा","instructions":"In your Umbrel dashboard go to <0>Connect Wallet</0>. Select <0>lndconnect REST</0> and copy the <0>lndconnect URL</0>. (Depending on your setup you can either use the local connection or the Tor connection.)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"mynode":{"title":"myNode","page":{"title":"<0>myNode</0> ला कनेक्ट करा","instructions":"On your myNode homepage click on the <0>Wallet</0> button for your <0>lightning</0> service.<1/> Now click on the <0>Pair Wallet</0> button under the <0>Status</0> tab. Enter your password when prompted.<1/> Select the dropdown menu and choose a pairing option. Depending on your setup you can either use the <0>lightning (REST + Local IP)</0> connection or the <0>lightning (REST + Tor)</0> connection."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"start9":{"title":"Start9","page":{"title":"your <0>Embassy</0> node ला कनेक्ट करा","instructions":"<0>Note:</0> Currently we only support LND but we will be adding c-lightning support in the future!<1/>On your Embassy dashboard click on the <0>Lightning Network Daemon</0> service.<1/>Select the <0>Properties</0> tab.<1/>Now copy the <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"your <0>RaspiBlitz</0> node ला कनेक्ट करा","instructions1":"या चरणांचे अनुसरण करा:<1/> 1. <0>SSH</0> तुमच्या <0>Raspiblitz</0><1/>2. सूचीमधून <0>अ‍ॅप्स कनेक्ट करा आणि क्रेडेंशियल दाखवा</0> निवडा<1/><0/>3. <0>Alby ला या नोडशी कनेक्ट करा</0><1/>4 निवडा. कनेक्शन क्रेडेन्शियल प्रदर्शित करण्यासाठी <0>ओके</0> दाबा<1/><1/>कनेक्‍ट करण्यासाठी <0>REST API होस्ट</0> किंवा <0>.onion</0> पत्ता कॉपी आणि पेस्ट करा टोर द्वारे खालील इनपुटमध्ये.","instructions2":"खालील इनपुटमध्ये (admin) <0>macaroon</0> कॉपी करा."},"rest_api_host":{"label":"REST API host","placeholder":"your-node-onion-address:port"}},"blink":{"title":"Blink Wallet","page":{"title":"<0>Blink Wallet ला कनेक्ट करा</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"<0>Bitcoin Jungle Wallet ला कनेक्ट करा</0>"}},"btcpay":{"title":"BTCPay Server","page":{"title":"BTCPay LND node ला कनेक्ट करा","instructions":"तुमच्या BTCPayServer वर नेव्हिगेट करा आणि admin म्हणून लॉग इन करा. सर्व्हर सेटिंग्ज > सेवा > LND REST वर जा - माहिती पहा. नंतर \\"QR कोड माहिती पहा\\" वर क्लिक करा आणि QR कोड डेटा कॉपी करा. ते खाली पेस्ट करा:"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"कनेक्शन अयशस्वी झाले. BTCPay कनेक्शन URL योग्य आणि प्रवेशयोग्य आहे का?"}},"commando":{"title":"Core Lightning","page":{"title":"आपल्या Core Lightning node ला कनेक्ट करा","instructions":"Make sure you have Core Lightning version 0.12.0 or newer, the commando plugin is running and your node is accessible over the lightning network. Create a rune by running \'lightning-cli commando-rune\'."},"host":{"label":"Host"},"pubkey":{"label":"Public key"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Websocket proxy"},"privKey":{"label":"Local private key (autogenerated)"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"कनेक्शन अयशस्वी झाले. तुमचा कोर Lightning node ऑनलाइन आहे आणि कमांडो commando plugin आहे का?"}}},"home":{"actions":{"send_satoshis":"⚡️  Satoshis पाठवा ⚡️","enable_now":"आता सुरू करा"},"allowance_view":{"no_transactions":"अद्याप <0>{{name}}</0> वर कोणतेही व्यवहार नाहीत."},"default_view":{"is_blocked_hint":"Alby सध्या {{host}} वर अक्षम आहे","block_removed":"{{host}} सक्षम केले. कृपया वेबसाइट रीलोड करा."}},"accounts":{"title":"Accounts","account_view":{"title1":"खात्याची माहिती","title2":"खाते संपादित करा","name":{"title":"नाव","placeholder":"खात्याचे नाव"},"export":{"title":"निर्यात खाते","screen_reader":"निर्यात खात्याचा तपशील","waiting":"एलएनडीहब डेटाची वाट पाहत...","your_ln_address":"आपला Lightning Address:","export_uri":"LNDHub Credentials URI","scan_qr":"क्यूआरकोड स्कॅन करून हे वॉलेट Zeus किंवा BlueWallet आयात करा."},"nostr":{"title":"Nostr","hint":"एक सोपा आणि खुला प्रोटोकॉल आहे ज्याचा उद्देश सेन्सॉरशिप-प्रतिरोधक सामाजिक नेटवर्क तयार करणे आहे. नॉस्टर क्रिप्टोग्राफिक कीसह कार्य करते. एखादी गोष्ट प्रकाशित करण्यासाठी आपण आपल्या कुंजीसह स्वाक्षरी करा आणि एकाधिक रिलेवर पाठवा. आपण आपली Nostr की व्यवस्थापित करण्यासाठी Alby वापरू शकता. त्यानंतर बरेच Nostr अनुप्रयोग आपल्याला Alby exntension वापरण्याची परवानगी देतील.","private_key":{"title":"Manage your key","subtitle":"Paste your private key or generate a new one. <0>Learn more »</0>","success":"खाजगी की एनक्रिप्ट केली आणि यशस्वीरित्या जतन केली.","failed_to_remove":"एंटर केलेले खाते नाव जुळत नाही, तुमचे जुने खाजगी पुनर्संचयित केले गेले आहे.","successfully_removed":"खाजगी key यशस्वीरित्या काढली.","label":"Private Key"},"public_key":{"label":"Public Key"},"generate_keys":{"title":"नवीन Nostr की तयार करा","screen_reader":"तुमच्या खात्यासाठी नवीन Nostr की तयार करा","hint":"तुम्ही या खात्याच्या तपशिलांमधून एक यादृच्छिक की किंवा व्युत्पन्न की तयार करू शकता (स्वाक्षरी केलेले प्रामाणिक वाक्यांश वापरून). <0>अधिक जाणून घ्या »</0>"},"actions":{"generate":"नवीन की व्युत्पन्न करा"},"errors":{"failed_to_load":"Nostr की लोड करण्यात अयशस्वी. ती वैध Nostr key आहे का?"}},"remove":{"title":"Remove this account","subtitle":"सर्व लिंक केलेले भत्ते हटवले जातील. कृपया खात्री बाळगा."},"actions":{"remove_account":"खाते काढा"}},"actions":{"add_account":"खाते जोडा"}},"unlock":{"unlock_to_continue":"चालू ठेवण्यासाठी अनलॉक करा","unlock_password":"तुमचा अनलॉक पासवर्ड","help_contact":{"part1":"मदत हवी आहे? संपर्क साधा","part2":"Alby सपोर्ट"},"unlock_error":{"help":"तुमचा खाते डेटा तुमच्या अनलॉक पासवर्डसह कूटबद्ध केला आहे. तुम्ही तुमचा अनलॉक पासवर्ड खरोखर विसरलात तर तुम्हाला तुमचे Lightning खाते रीसेट करून पुन्हा जोडावे लागेल.","link":"आता रीसेट करा आणि नवीन खाते जोडा"},"errors":{"invalid_password":"चुकीचा पासवर्ड"}},"settings":{"title":"सेटिंग्ज","browser_notifications":{"title":"ब्राउझरकडून सूचना","subtitle":"पेमेंट आणि प्रमाणीकरण संबंधित सूचना."},"website_enhancements":{"title":"वेबसाइट सुधारणा","subtitle":"Twitter, YouTube, इ. साठी टिपिंगमध्ये सुधारणा."},"lnurl_auth":{"title":"LNURL-Auth","hint":"एक सामान्य प्रमाणीकरण प्रोटोकॉल आहे. हे डिजिटल स्वाक्षरी वापरून वापरकर्त्याचे प्रमाणीकरण करते. प्रोटोकॉलला पासवर्ड, ईमेल, वापरकर्तानाव किंवा तत्सम इतर कोणत्याही ओळखीच्या माहितीची आवश्यकता नसते. Alby सह तुम्ही वेबसाइटवर सुरक्षितपणे लॉग इन करण्यासाठी तुमचे लाइटनिंग खाते वापरू शकता. इतर वॉलेटशी सुसंगत होण्यासाठी आम्हाला काही बदल करावे लागले जे तुम्ही येथे कॉन्फिगर करू शकता. <0>सामान्यत: ते सर्व पर्याय बंद असतात.</0> तुमची जुनी खाती असतील तरच त्यांचा वापर करा.","legacy_lnurl_auth_202207":{"title":"Legacy LNURL-Auth","subtitle":"The key generation for LNURL-auth has changed (July 2022). Alby was not compatible with other implementations. This was changed, but now different login keys are used. If you used LNURL-auth to login before you can still enable the old method. This option will be removed later, make sure to switch to the new login."},"legacy_lnurl_auth":{"title":"Legacy signing for LNDhub and LNbits","subtitle":"Message signing and login with LNDhub (e.g. BlueWallet) and LNbits accounts has been changed (March 2022). If you logged in with these accounts you can still enable the old signing method. This option will be removed later, make sure to switch to the new login."}},"camera_access":{"title":"Camera access","subtitle":"QR कोड स्कॅन करण्यासाठी","allow":"कॅमेरा प्रवेशास परवानगी द्या","granted":"परवानगी दिली"},"language":{"title":"भाषा","subtitle":"अजून 100% भाषांतरे पूर्ण झालेली नाहीत. <0>तुमच्या भाषेत Alby चे भाषांतर करण्यास आम्हाला मदत करा!</0>"},"theme":{"title":"Theme","subtitle":"Use Alby in dark or light mode","options":{"dark":"डार्क","light":"लाइट","system":"डीफॉल्ट"}},"show_fiat":{"title":"Sats to Fiat","subtitle":"निवडलेल्या एक्सचेंजमधून नेहमी निवडलेल्या चलनात रूपांतरित करा"},"currency":{"title":"चलन","subtitle":"या चलनात अतिरिक्त रक्कम दाखवा"},"exchange":{"title":"एक्सचेंज स्रोत","subtitle":"बिटकॉइन विनिमय दरांचा स्रोत"},"personal_data":{"title":"वैयक्तिक डेटा","description":"देयके पेमेंटसह अतिरिक्त डेटा पाठवण्याची विनंती करू शकतात. हा डेटा तुमच्या संमतीशिवाय कोणाशीही शेअर केला जात नाही, हा डेटा पेमेंटसह पाठवण्यापूर्वी तुम्हाला नेहमी सूचित केले जाईल."},"name":{"title":"नाव","subtitle":"","placeholder":"तुमचे नाव प्रविष्ट करा"},"email":{"title":"ईमेल","subtitle":"","placeholder":"तुमचा ईमेल पत्ता प्रविष्ट करा"},"change_password":{"title":"अनलॉक पासवर्ड बदला","subtitle":"","screen_reader":"अनलॉक पासवर्ड बदला","choose_password":{"label":"नवीन अनलॉक पासवर्ड टाका:"},"confirm_password":{"label":"नवीन पासवर्डची पुष्टी करा:"},"submit":{"label":"बदला"},"errors":{"enter_password":"कृपया नवीन अनलॉक पासवर्ड टाका.","confirm_password":"कृपया तुमच्या पासवर्डची पुष्टी करा.","mismatched_password":"संकेतशब्द जुळत नाहीत."},"success":"पासवर्ड यशस्वीरित्या बदलला"},"nostr":{"title":"Nostr","hint":"सेन्सॉरशिप-प्रतिरोधक सोशल नेटवर्क्स तयार करणे हा एक साधा आणि खुला प्रोटोकॉल आहे. Nostr क्रिप्टोग्राफिक कीसह कार्य करते. काहीतरी प्रकाशित करण्यासाठी तुम्ही त्यावर तुमच्या की सह स्वाक्षरी करा आणि एकाधिक रिलेवर पाठवा. तुम्ही तुमचे व्यवस्थापन करण्यासाठी Alby वापरू शकता Nostr की. अनेक Nostr Application तुम्हाला Alby एक्स्टेंशनमधील की वापरण्याची परवानगी देतात.","private_key":{"title":"खाजगी की","subtitle":"हा विभाग खाते पृष्ठावर हलविला आहे कारण की आता खाते विशिष्ट आहेत.","go_to":"खात्यावर जा"}}},"send":{"title":"Send","input":{"label":"प्राप्तकर्ता","hint":"चालन, Lightning address किंवा LNURL"}},"lnurlpay":{"amount":{"label":"रक्कम"},"comment":{"label":"टिप्पणी"},"name":{"label":"नाव"},"email":{"label":"ईमेल"},"success":"पेमेंट यशस्वीरीत्या पाठवले!"},"lnurlauth":{"title":"Authentication","content_message":{"heading":"तुम्हाला लॉग इन करायचे आहे का"},"submit":"लॉग इन","success":"{{name}} वर लॉगिन यशस्वी झाले","errors":{"status":"समस्या: प्रमाणीकरण स्थिती ठीक नाही"}},"lnurlchannel":{"title":"चॅनेल विनंती","content_message":{"heading":"नोडमधून चॅनेलची विनंती करा"},"success":"{{name}} ला चॅनल विनंती यशस्वीरीत्या पाठवली"},"lnurlwithdraw":{"title":"मागे घ्या","content_message":{"heading":"रक्कम"},"amount":{"label":"रक्कम"},"success":"{{sender}} ला {{amount}} पैसे काढण्याची विनंती यशस्वीरीत्या पाठवली"},"receive":{"title":"प्राप्त करा","actions":{"create_invoice":"चालन तयार करा"},"amount":{"label":"रक्कम","placeholder":"सतोशीमधील रक्कम..."},"description":{"label":"वर्णन","placeholder":"उदा. हे पेमेंट कोण पाठवत आहे?"},"success":"पेमेंट मिळाले!","payment":{"waiting":"पेमेंटची वाट पाहत आहे...","status":"पेमेंट स्थिती तपासा"}},"discover":{"title":" Lightning ⚡️ Ecosystem एक्सप्लोर करा","description":"वेबसाइट्स आणि वेब अॅप्स जिथे तुम्ही Alby वापरू शकता","list":{"trading":"व्यापार","gaming":"गेमिंग","entertainment":"मनोरंजन","shopping":"खरेदी","miscellaneous":"विविध","showcases":"शोकेस","nostr":"Nostr"},"tips":{"title":"तुमचे Alby wallet तयार आहे","description":"सुरू करण्यासाठी काही टिपा 🐝","top_up_wallet":{"title":"⚡️  तुमचे वॉलेट टॉप अप करा","description":"Lightning इनव्हॉइस तयार करा, स्वतःला काही Bitcoin पाठवा आणि Lightning इकोसिस्टममध्ये Alby वापरण्यास सुरुवात करा"},"demo":{"title":"🕹️ अल्बी डेमो वापरून पहा","description":"आमच्या डेमो वेबसाइटवर तुम्ही Alby सोबत सर्व गोष्टी करू शकता.  "}}},"publishers":{"title":"तुमच्या ⚡ वेबसाइट्स","description":"तुम्ही ज्या वेबसाईट्स याआधी Alby वापरल्या आहेत","no_info":"असे दिसते की तुम्ही अद्याप कोणत्याही वेबसाइटवर Alby वापरलेले नाही.","discover":"वेबसाइट शोधा","publisher":{"allowance":{"title":"भत्ता","used_budget":"sats वापरले"}}},"make_invoice":{"title":"चालन तयार करा","amount":{"label":"रक्कम (Satoshi)"},"memo":{"label":"Memo"},"errors":{"amount_too_small":"रक्कम किमान पेक्षा कमी आहे","amount_too_big":"रक्कम कमाल ओलांडली"}},"confirm_sign_message":{"title":"Sign","content":"ही वेबसाइट तुम्हाला स्वाक्षरी करण्यास सांगते:"},"confirm_keysend":{"title":"पेमेंट मंजूर करा","success":"पेमेंट पाठवले! Preimage: {{preimage}}","payment_summary":{"description":"पेमेंट पाठवा: {{destination}}"}},"keysend":{"title":"पाठवा","success":"पेमेंट पाठवले! preimage: {{preimage}}","amount":{"label":"रक्कम (Satoshi)"}},"confirm_payment":{"title":"पेमेंट मंजूर करा","success":"{{amount}} चे पेमेंट यशस्वी!"},"confirm_request_permission":{"title":"विनंती मंजूर करा","allow":"या वेबसाइटला कार्यान्वित करण्यास अनुमती द्या:","always_allow":"माझी निवड लक्षात ठेवा आणि पुन्हा विचारू नका"},"nostr":{"title":"Nostr","allow":"या वेबसाइटला परवानगी द्या:","content":"ही वेबसाइट तुम्हाला स्वाक्षरी करण्यास सांगते:","allow_sign":"{{host}} ला स्वाक्षरी करण्याची परवानगी द्या:","view_details":"तपशील पहा","hide_details":"तपशील लपवा","block_and_ignore":"{{host}} ला अवरोधित करा आणि दुर्लक्ष करा","block_added":"ब्लॉकलिस्टमध्ये {{होस्ट}} जोडले, कृपया वेबसाइट रीलोड करा.","kinds":{"0":"metadata","1":"लहान मजकूर टीप","2":"रिलेची शिफारस करा","3":"संपर्क","4":"एनक्रिप्ट केलेले थेट संदेश","5":"इव्हेंट हटवणे","7":"प्रतिक्रिया","8":"badge पुरस्कार","40":"चॅनेल निर्मिती","41":"चॅनेल metadata","42":"चॅनेल संदेश","43":"चॅनेल संदेश लपवा","44":"चॅनेल निःशब्द वापरकर्ता","1984":"रिपोर्टिंग","9734":"zap विनंती","9735":"zap","10002":"relay सूची metadata","22242":"क्लायंट ऑथेंटिकेशन","24133":"nostr कनेक्ट","30008":"profile बॅज","30009":"बिल्ला व्याख्या","30023":"दीर्घ स्वरूपाची सामग्री","30078":"अनुप्रयोग-विशिष्ट डेटा"}},"transactions":{"title":"व्यवहार","list_empty":"अद्याप कोणतेही व्यवहार उपलब्ध नाहीत."}},"y0":{"password":"पासवर्ड","confirm_password":"पासवर्डची पुष्टी करा","advanced":"पुढे","success":"यश","settings":"सेटिंग्ज","accounts":"खाते","discover":"शोध","connected_sites":"","sats_one":"sat","sats_other":"sats","loading":"लोड होत आहे","amount":"रक्कम","optional":"पर्यायी","feedback":"अभिप्राय","copied":"कॉपी केलेले!","description":"वर्णन","description_full":"संपूर्ण वर्णन","success_message":"{{amount}}{{fiatAmount}} {{destination}} ला पाठवले","response":"प्रतिसाद","message":"संदेश","help":"मदत","actions":{"back":"मागे","delete":"हटवा","edit":"संपादित करा","next":"पुढील","open":"उघडा","confirm":"पुष्टी करा","continue":"सुरू ठेवा","connect":"जोडणे","lock":"लॉक","unlock":"अनलॉक","send":"पाठवा","save":"जतन करा","receive":"प्राप्त करा","receive_again":"दुसरे पेमेंट प्राप्त करा","close":"बंद करा","export":"निर्यात","remove":"काढून टाका","copy":"कॉपी","copy_invoice":"","log_in":"लॉग इन","remember":"माझी निवड लक्षात ठेवा आणि पुन्हा विचारू नका"},"errors":{"connection_failed":"कनेक्शन अयशस्वी","payment_failed":"पेमेंट अयशस्वी"},"range":{"between":"{{min}} आणि {{max}} दरम्यान","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"}},"wx":{"allowance_menu":{"confirm_delete":"तुम्हाला खात्री आहे की तुम्ही ही वेबसाइट हटवू इच्छिता?","hint":"हे वर्तमान बजेट रीसेट करेल","new_budget":{"label":"नवीन बजेट"},"enable_login":{"title":"वेबसाइट लॉगिन सक्षम करा","subtitle":"वेबसाइट विनंती करते तेव्हा पुष्टी न करता आपोआप लॉग इन करा."},"edit_allowance":{"title":"भत्ता संपादित करा","screen_reader":"भत्त्यासाठी पर्याय"},"edit_permissions":"परवानग्या संपादित करा"},"qrcode_scanner":{"title":"QR कोड स्कॅन करा","actions":{"start_scanning":"स्कॅनिंग सुरू करा","stop_scanning":"स्कॅनिंग थांबवा"},"errors":{"allow_camera_access":"कृपया सेटिंग्ज स्क्रीनमध्ये कॅमेरा प्रवेशास अनुमती द्या."}},"transactions_table":{"fee":"शुल्क","preimage":"प्रीइमेज","received":"प्राप्त","sent":"पाठवले","open_location":"वेबसाइट उघडा"},"budget_control":{"remember":{"label":"लक्षात ठेवा आणि बजेट सेट करा","description":"पेमेंट संपेपर्यंत त्याची पुष्टी करण्यासाठी विचारले जाणार नाही यासाठी तुम्ही शिल्लक सेट करू शकता."},"budget":{"label":"बजेट"}},"companion_download_info":{"heading":"तुम्हाला TOR नेटवर्कशी कसे जोडायचे आहे?","download":"डाउनलोड करा","companion":{"title":"सहकारी अॅप","description":"तुमच्या ब्राउझरला TOR नेटवर्कशी जोडणारे लाइटवेट अॅप."},"tor_native":{"title":"TOR (native)","description":"हा ब्राउझर आधीच TOR नेटवर्कशी जोडलेला असल्यास हा पर्याय निवडा."}},"toasts":{"connection_error":{"what_you_can_do":"तुम्ही काय करू शकता ते येथे आहे:","double_check":"तुमचे कनेक्शन तपशील पुन्हा तपासा","if_ssl_errors":"आणि SSL त्रुटी असल्यास (उदा. ERR_CERT_AUTHORITY_INVALID), \\"प्रगत\\" वर क्लिक करा आणि प्रमाणपत्र स्वीकारण्यासाठी पुढे जा.","visit_guides":"अधिक मदतीसाठी आमच्या मार्गदर्शकांना भेट द्या"},"login_failed":{"password_reset":"तुमचा पासवर्ड विसरलात? येथे क्लिक करा"},"errors":{"invalid_credentials":"अवैध पासवर्ड. कृपया तुमच्या पासवर्ड आणि ईमेल पत्त्याचे पुनरावलोकन करा आणि पुन्हा प्रयत्न करा."}},"account_menu":{"screen_reader":"टॉगल ड्रॉपडाउन","title":"खाते बदला","options":{"account":{"add":"नवीन खाते जोडा","manage":"खाती व्यवस्थापित करा"}}}},"mk":{"nostr":{"getpublickey":"तुमची सार्वजनिक की वाचा","nip04encrypt":"डेटा Encrypt करा","nip04decrypt":"डेटा Decrypt करा","signmessage":"तुमच्या किल्लीने संदेशावर स्वाक्षरी करा"},"commando":{"bkpr-listbalances":"सर्व चालू आणि ऐतिहासिक खात्यातील शिल्लकांची यादी","checkmessage":"दिलेल्या नोडद्वारे स्वाक्षरी तयार केली आहे याची पडताळणी करा","connect":"दुसऱ्या नोडसह नवीन कनेक्शन स्थापित करा","decode":"bolt11/bolt12/rune स्ट्रिंग डीकोड करा","decodepay":"bolt11 string तपासा आणि पार्स करा","disconnect":"समयावत असलेले विद्यमान कनेक्शन बंद करा","feerates":"CLN वापरेल ते fee rates परत करा","fundchannel":"निधी व्यवहार करून समवयस्क व्यक्तीसोबत पेमेंट चॅनल उघडा","getinfo":"नोडचा सारांश मिळवा","getroute":"Lightning नोडला देय देण्यासाठी सर्वोत्तम मार्ग शोधा","invoice":"पेमेंटची अपेक्षा निर्माण करा","keysend":"दुसऱ्या नोडला पेमेंट पाठवा","listforwards":"फॉरवर्ड करण्याचा प्रयत्न केलेल्या सर्व htlcs ची यादी करा","listfunds":"उपलब्ध सर्व निधीची यादी करा","listinvoices":"सर्व चलनांची स्थिती मिळवा","listnodes":"गॉसिप संदेशांद्वारे नोडने शिकलेल्या नोड्सची यादी करा","listoffers":"सर्व ऑफर सूचीबद्ध करा किंवा विशिष्ट ऑफर मिळवा","listpays":"सर्व वेतन आदेशांची स्थिती मिळवते","listpeers":"या नोडसह जोडलेले किंवा खुले चॅनेल असलेले नोड सूचीबद्ध करा","listsendpays":"सर्व सेंडपे आदेशांची स्थिती प्राप्त होते","listtransactions":"वॉलेटमध्ये ट्रॅक केलेल्या व्यवहारांची यादी करा","multifundchannel":"एकल फंडिंग व्यवहार करून नोड्ससह अनेक पेमेंट चॅनेल उघडा","offer":"ऑफर तयार करा","pay":"BOLT11 इनव्हॉइसवर पेमेंट पाठवा","sendpay":"मार्गाने पेमेंट पाठवा","setchannel":"चॅनेलसाठी जाहिरात केलेली फी / htlc श्रेणी कॉन्फिगर करा","signmessage":"या नोडवरून स्वाक्षरी तयार करा"},"lnd":{"getinfo":"नोड माहिती मिळवा","listchannels":"सर्व खुल्या चॅनेलचे वर्णन मिळवा","listinvoices":"सर्व चलनांची यादी मिळवा","channelbalance":"सर्व खुल्या चॅनेलवर एकूण निधीचा अहवाल मिळवा","walletbalance":"वॉलेटचे एकूण न खर्च केलेले आउटपुट मिळवा","openchannel":"नवीन चॅनेल उघडा","connectpeer":"रिमोट पीअरशी कनेक्शन स्थापित करा","disconnectpeer":"रिमोट पीअरपासून डिस्कनेक्ट करा","getchaninfo":"दिलेल्या चॅनेलसाठी नेटवर्क घोषणा मिळवा","getnetworkinfo":"ज्ञात चॅनेल आलेखाबद्दल मूलभूत आकडेवारी मिळवा","getnodeinfo":"नोडसाठी चॅनेल माहिती मिळवा","gettransactions":"वॉलेटशी संबंधित सर्व व्यवहारांची यादी मिळवा","listpayments":"सर्व आउटगोइंग पेमेंट्सची यादी मिळवा","listpeers":"सध्या सक्रिय असलेल्या सर्व मित्रांची यादी मिळवा","lookupinvoice":"चालन तपशील पहा","queryroutes":"संभाव्य मार्गासाठी प्रश्न","verifymessage":"संदेशावर स्वाक्षरीची पडताळणी करा","sendtoroute":"निर्दिष्ट मार्गाने पेमेंट करा","decodepayreq":"पेमेंट विनंती स्ट्रिंग डीकोड करा","routermc":"अंतर्गत मिशन नियंत्रण स्थिती वाचा","addinvoice":"नवीन पावत्या तयार करा","addholdinvoice":"नवीन HODL पावत्या तयार करा","settleinvoice":"स्वीकारलेले बीजक सेटल करा"},"lnc":{"getchaninfo":"दिलेल्या चॅनेलसाठी नेटवर्क घोषणा मिळवा","getnetworkinfo":"ज्ञात चॅनेल आलेखाबद्दल मूलभूत आकडेवारी मिळवा","getnodeinfo":"नोडसाठी चॅनेल माहिती मिळवा","gettransactions":"वॉलेटशी संबंधित सर्व व्यवहारांची यादी मिळवा","listpayments":"सर्व आउटगोइंग पेमेंट्सची यादी मिळवा","listpeers":"सध्या सक्रिय असलेल्या सर्व मित्रांची यादी मिळवा","lookupinvoice":"चालन तपशील पहा","queryroutes":"संभाव्य मार्गासाठी प्रश्न","verifymessage":"संदेशावर स्वाक्षरीची पडताळणी करा","sendtoroute":"निर्दिष्ट मार्गाने पेमेंट करा","decodepayreq":"Payment request string डीकोड करा","routermc":"अंतर्गत मिशन नियंत्रण स्थिती वाचा","addinvoice":"नवीन पावत्या तयार करा","addholdinvoice":"नवीन HODL पावत्या तयार करा","settleinvoice":"स्वीकारलेले बीजक सेटल करा"}}}'),xt=JSON.parse('{"xk":{"welcome":{"title":"Witaj w Alby","set_password":{"title":"Ustaw hasło blokady","description":"To hasło pozwoli odblokować rozszerzenie Alby na tym urządzeniu. Nie można go odzyskać ale może być zmienione później.","choose_password":{"label":"Wybierz hasło blokady:"},"confirm_password":{"label":"Potwierdźmy, że wpisano poprawnie:"},"errors":{"enter_password":"Proszę wprowadzić hasło.","confirm_password":"Proszę potwierdzić hasło.","mismatched_password":"Hasła się nie zgadzają."}},"test_connection":{"ready":"Świetnie, wszystko gotowe!","initializing":"Tworzenie Twojego konta. Poczekaj proszę, to może chwilę zająć...","connection_error":"Błąd połączenia","review_connection_details":"Sprawdź proszę dane do połączenia.","connection_taking_long":"Próba połączenia trwa dłużej niż oczekiwano... Czy dane do połączenia są poprawne? Czy Twój węzeł jest osiągalny?","contact_support":"Jeśli potrzebujesz pomocy, skontaktuj się z support@getalby.com","actions":{"delete_edit_account":"Skasuj niepoprawne konto i wyedytuj ponownie"}},"pin_extension":{"explanation":"1. Kliknij <0/> w prawym górnym rogu przeglądarki <1/>2. Znajdź Alby i kliknij, aby przypiąć je do paska narzędzi<1/>3. Gotowe. Aby uzyskać dostęp do Alby, kliknij ikonę <2/>","title":"Przypnij swoje rozszerzenie Alby","description":"Prawie gotowe. Aby wygodnie korzystać z Alby, pamiętaj o przypięciu rozszerzenia do paska narzędzi przeglądarki:","next_btn":"Zzzzacznij przygodę {{icon}} z Alby!"}},"choose_path":{"alby":{"title":"Konto Alby","connect":"Połącz się z Alby","description":"Zarejestruj się lub użyj istniejącego konta Alby, aby zacząć z płatnościami lightning w mgnieniu oka."},"other":{"title":"Inne portfele","connect":"Połącz","description":"Połącz się z istniejącym portfelem lub węzłem Lightning i wybierz spośród różnych konektorów. Doskonałe rozwiązanie dla pełnej elastyczności. Zarządzaj własnym węzłem."}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Hasło"},"confirm_password":{"label":"Potwierdź hasło"},"errors":{"enter_password":"Proszę wprowadzić hasło.","confirm_password":"Proszę potwierdzić hasło.","mismatched_password":"Hasła się nie zgadzają."}}}},"choose_connector":{"title":"Podłącz portfel Lightning","description":"Podłącz swój zewnętrzny portfel lightning lub węzeł","lnd":{"title":"LND","page":{"title":"Podłącz się do swojego węzła LND","description":"Potrzebujesz adresu URL Twojego węzła i tzw. macaroon z uprawnieniami do odczytu i wysyłania (np. admin.macaroon)"},"url":{"label":"Serwer i port RESTowego API","placeholder":"https://url-twojego-wezla:8080"},"macaroon":{"label":"Macaroon (format heksadecymalny)"},"drag_and_drop":"Przeciągnij i upuść Twój macaroon tutaj lub <0>znajdź plik</0>","errors":{"connection_failed":"Połączenie nie powiodło się. Czy Twoje dane uwierzytelniające są poprawne?"}},"lnc":{"title":"Lightning Terminal (LNC)","page":{"title":"Podłącz się do swojego węzła LND","description":"1. Otwórz Lightning Terminal i wybierz <0>Lightning Node Connect</0> z paska bocznego.<1/> 2. Kliknij <0>Create a new session</0><1/>3. Nadaj etykietę sesji, wybierz żądane uprawnienia i zatwierdź<1/>4. <0>Skopiuj frazę parującą</0> i wklej ją poniżej."},"pairing_phrase":{"label":"Twoja fraza parująca ","placeholder":"tajna fraza stosu satsów"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Podłącz się do LNDHub","description":"Wprowadź tutaj swój identyfikator URI LNDHub lub zeskanuj kod QR za pomocą kamery internetowej."},"uri":{"label":"Adres LNDHub"},"errors":{"invalid_uri":"Niepoprawny LNDHub URI","connection_failed":"Połączenie nieudane. Czy URI LNDHub jest prawidłowy?"}},"lnbits":{"title":"LNbits","page":{"title":"Podłącz do <0>LNbits</0>","instructions":"W LNbits, wybierz portfel, do którego chcesz się podłączyć, otwórz go, kliknij na API Info i skopiuj klucz administratora. Wklej go poniżej:"},"admin_key":{"label":"Klucz administratora LNbits","placeholder":"Twój 32-cyfrowy klucz administratora"},"url":{"label":"Adres URL LNbits"},"errors":{"connection_failed":"Połączenie nieudane. Czy masz poprawny adres URL i klucz administratora?"}},"eclair":{"title":"Eclair","page":{"title":"Podłącz do <0>Eclair</0>","instructions":"Potrzebujesz adresu URL i hasła Twojego Eclair."},"password":{"label":"Hasło do Eclair"},"url":{"label":"Adres URL do Eclair","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Podłącz do węzła <0>Citadel</0>","instructions":"Ta funkcja nie działa jeśli 2FA jest włączone."},"password":{"label":"Hasło Citadel"},"url":{"label":"Adres URL Citadel","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Podłącz do węzła <0>Umbrel</0>","instructions":"Na stronie głównej Umbrel idź do <0>Connect Wallet</0>. Wybierz <0>ldconnect REST</0> i skopiuj <0>lndconnect URL</0>. (W zależności od ustawień możesz wybrać połaczenie lokalne albo przez Tor.)"},"rest_url":{"label":"Adres lndconnect REST","placeholder":"lndconnect://twojwezel:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Podłącz do <0>myNode</0>","instructions":"Na stronie głównej myNode kliknij na przycisk <0>Wallet</0> swojej usługi <0>lightning</0>.<1/>Teraz kliknij na przycisk <0>Pair Wallet</0> w sekcji <0>Status</0>. Wprowadź hasło.<1/> Wybierz z rozwijalnej listy opcję parowania. W zależności od ustawień możesz użyć połączenia <0>lightning (REST + Local IP)</0> albo <0>lightning (REST + Tor)</0>."},"rest_url":{"label":"Adres lndconnect REST","placeholder":"lndconnect://twojwezel:8080?..."}},"start9":{"title":"Start9","page":{"title":"Połącz ze swoim <0>serwerem Start9</0>","instructions":"<0>Uwaga:</0>Obecnie wspieramy tylko LND, ale zamierzamy dodać obsługę c-lightning w przyszłości!<1/>Na pulpicie twojego Embassy kliknij na usługę <0>Lightning Network Daemon</0>.<1/>Wybierz zakładkę <0>Properties</0>.<1/>Następnie skopiuj <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://twojnode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Podłącz do węzła <0>RaspiBlitz</0>","instructions1":"Wykonaj te kroki:<1/> 1. Używając <0>SSH</0> zaloguj się do swojego <0>Raspiblitz</0><1/>2. Wybierz z listy <0>Connect Apps & Show Credentials</0><1/><0/>3. Wybierz <0>Connect Alby to this node</0><1/>4. Naciśnij <0>OK</0> aby wyświetlić dane uwierzytelniające<1/><1/>Skopiuj i wklej adres <0>REST API host</0> lub <0>.onion</0> aby połączyć się przez Tor do pola tekstowego poniżej.","instructions2":"Skopiuj (admin) <0>macaroon</0> w pole poniżej."},"rest_api_host":{"label":"Adres serwera REST API","placeholder":"adres-onion-twojego-wezla:port"}},"blink":{"title":"Portfel Blink","page":{"title":"Podłącz do <0>Blink Wallet</0>"},"token":{"label":"Wprowadź swój klucz API"}},"bitcoin_jungle":{"title":"Portfel Bitcoin Jungle","page":{"title":"Podłącz do <0>Portfela Bitcoin Jungle</0>"},"token":{"label":"Wprowadź swój token dostępu"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Podłącz do węzła LND na BTCPayServer","instructions":"Przejdź do BTCPayServer i zaloguj się jako administrator. Idź do Server Settings > Services > NDS Rest - See information. Następni kliknij \\"See QR Code information\\" i skopiuj dane kodu QR. Wklej poniżej:"},"config":{"label":"Date konfiguracyjne","placeholder":"config=https://twoj-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Połączenie nieudane. Czy adres BTCPay jest poprawny i osiągalny?"}},"commando":{"title":"Core Lightning","page":{"title":"Podłącz do Twojego węzła Core Lightning","instructions":"Upewnij się, że masz Core Lightning w wersji 0.12.0 lub nowszej, że plugin commando działa, a Twój węzeł jest dostępny w sieci lightning. Stwórz runę komendą \'lightning-cli commando-rune\'."},"host":{"label":"Serwer"},"pubkey":{"label":"Klucz publiczny"},"rune":{"label":"Runa"},"port":{"label":"Port"},"proxy":{"label":"Proxy websocket"},"privKey":{"label":"Lokalny klucz prywatny (generowany automatycznie)"},"config":{"label":"Konfiguracja","placeholder":"config=https://twoj-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Połączenie nieudane. Czy Twój węzeł Core Lightning jest online i korzysta z wtyczki commando?"}},"umbrel_lightning_node":{"title":"Węzeł Lightning"},"galoy":{"sms_code":{"label":"Wprowadź kod weryfikacyjny SMS"},"actions":{"login":"Zaloguj się"},"phone_number":{"label":"Wprowadź swój numer telefon"},"errors":{"setup_failed":"Konfiguracja nie powiodła się","invalid_token":"Autoryzacja nie powiodła się. Sprawdź swój klucz API i spróbuj ponownie.","missing_token":"Brak tokenu dostępu, logowanie nieudane."}}},"home":{"actions":{"send_satoshis":"⚡️ Wyślij Satoshi ⚡️","enable_now":"Włącz teraz"},"allowance_view":{"no_transactions":"Jeszcze nie ma transakcji na koncie <0>{{name}}</0>.","sats":"sats","budget_spent":"Wykorzystany budżet","permissions":"Uprawnienia"},"default_view":{"is_blocked_hint":"Alby jest obecnie wyłączone na {{host}}","block_removed":"Włączono {{host}}. Odśwież stronę.","see_all":"Zobacz wszystko","no_transactions":"Jeszcze nie ma transakcji na tym koncie."}},"accounts":{"title":"Konta","account_view":{"title1":"Ustawienia konta","title2":"Konto","name":{"title":"Wyświetlana nazwa","placeholder":"Nazwa wyświetlana konta"},"export":{"title":"Podłącz swój portfel mobilny","screen_reader":"Eksportuj dane konta","waiting":"oczekiwanie na dane LndHub...","your_ln_address":"Twój adres Lightning:","export_uri":"Adres LNDHub","scan_qr":"Zaimportuj ten portfel do Zeusa lub BlueWallet skanując kod QR.","description":"Pozwala na połączenie i korzystanie z tego konta w mobilnych portfelach takich jak <0>Blue Wallet</0> i <1>Zeus</1>."},"nostr":{"title":"Nostr","hint":"jest prostym i otwartym protokołem mającym na celu stworzenie sieci społecznościowych opornych na cenzurę. Nostr działa przy użyciu kluczy kryptograficznych. Aby coś opublikować podpisujesz to swoim kluczem i wysyłasz do kilku przekaźników. Możesz użyć Alby aby zarządzać swoim kluczem Nostr. Następnie, różne aplikacje umożliwią Ci używanie klucze z rozszerzenia Alby.","private_key":{"title":"Zarządzaj swoim kluczem","subtitle":"Wklej swój klucz prywatny lub wygeneruj nowy. <0>Dowiedz się więcej »</o>","success":"Klucz prywatny został zaszyfrowany i zapisany.","successfully_removed":"Klucz prywatny usunięty.","label":"Klucz prywatny","failed_to_remove":"Wprowadzona nazwa konta się nie zgadza, został odtworzony Twój stary klucz prywatny."},"public_key":{"label":"Klucz publiczny"},"generate_keys":{"title":"Wygeneruj nowy klucz Nostr","screen_reader":"Wygeneruj nowy klucz Nostr ze swojego konta","hint":"Możesz wygenerować losowy klucz lub wyprowadzić go z danych tego konta (używając podpisanej frazy kanonicznej). <0>Dowiedz się więcej »</0>","actions":{"random_keys":"Wygeneruj losowy klucz","derived_keys":"Wyprowadź klucz z danych konta"}},"actions":{"generate":"Generuj nowy klucz"},"errors":{"failed_to_load":"Nie udało się władować klucza Nostr. Czy to poprawny klucz?"},"settings":{"label":"Ustawienia Nostr","title":"Ustawienia Nostr"}},"remove":{"title":"Usuń konto","subtitle":"Wszystkie powiązane limity zostaną usunięte. Proszę się upewnić."},"actions":{"remove_account":"Usuń konto","export":"Eksport"},"mnemonic":{"saved":"Klucz Główny został zaszyfrowany i zapisany pomyślnie.","title":"🔑 Zarządzanie kluczami","backup":{"items":{"words":"Fraza odzyskiwania to zestaw 12 słów, który działa jak hasło, jednak nie można go zmienić ani zresetować w przypadku jego utraty.","recovery_phrase":"Zawsze możesz uzyskać dostęp do swojego Klucza Głównego, korzystając z jego frazy odzyskiwania.","storage":"Upewnij się, że zapiszesz ją w bezpiecznym i prywatnym miejscu!"},"protocols":{"nostr":"Nostr"}},"inputs":{"title":"Fraza odzyskiwania"},"import":{"description":"Użyj frazy odzyskiwania, aby zaimportować swój Klucz Główny do Alby.","button":"Zaimportuj Klucz Główny","title":"Zaimportuj swój Klucz Główny"},"lnurl":{"use_mnemonic":"Użyj Klucza Głównego do logowania się do aplikacji zasilanych przez Lightning (LNURL Auth)","title":"Zaloguj się za pomocą Lightning"}},"no_mnemonic_hint":"💡 Nie masz jeszcze Klucza Głównego. <0>Kliknij tutaj</0></div>, aby utworzyć swój Klucz Główny i odblokować te ustawienia.","network":{"subtitle":"Wybierz sieć, aby wygenerować adresy i odczytać transakcje bitcoinowe oraz w sieci Liquid","options":{"testnet":"Testnet (sieć testowa)","bitcoin":"Mainnet (sieć główna)","regtest":"Regtest (sieć testów regresji)"},"title":"Sieć"}},"actions":{"add_account":"Dodaj konto"}},"unlock":{"unlock_to_continue":"Odblokuj aby kontynuować","unlock_password":"Twoje hasło blokady","help_contact":{"part1":"Potrzebujesz pomocy? Skontaktuj się ze","part2":"zespołem wsparcia Alby"},"unlock_error":{"help":"Dane Twojego konta są zaszyfrowane Twoim hasłem blokady. Jeśli naprawdę zapomnisz hasło, to musisz zrobić reset i dodać swoje konto Lightning ponownie.","link":"Zrób reset i dodaj nowe konto"},"errors":{"invalid_password":"Nieprawidłowe hasło"}},"settings":{"title":"Ustawienia","browser_notifications":{"title":"Powiadomienia w przeglądarce","subtitle":"Powiadomienia związane z płatnościami i uwierzytelnianiem."},"website_enhancements":{"title":"Rozszerzenia na stronach","subtitle":"Rozszerzenia napiwków na Twitterze, YouTube, etc."},"lnurl_auth":{"title":"LNURL-Auth","hint":"jest generycznym protokołem uwierzytelniania. Poświadcza tożsamość użytkownika za pomocą podpisów cyfrowych. Protokół nie wyamga żadnych danych identyfikujących takich jak hasła, emaile, nazwy użytkownika, itp. Za pomocą Alby możesz używać swoich kont Lightning aby bezpiecznie logować się na stronach internetowych. Aby zapewnić kompatybilność z innymi portfelami musieliśmy zrobić kilka modyfikacji, które możesz skonfigurować tutaj. <0>Najlepiej gdy te opcje są WYŁĄCZONE.</0> Używaj ich tylko gdy masz stare konta.","legacy_lnurl_auth_202207":{"title":"Stary (Legacy) LNURL-Auth","subtitle":"Generowanie kluczy dla LNURL-auth zmieniło się (w lipcu 2022 r.) Alby nie było kompatybilne z innymi implementacjami. To się zmieniło, ale teraz używane są inne klucze logowania. Jeśli używano wcześniej LNURL-auth do logowania, możesz nadal używać starej metody. Ta opcja później będzie usunięta, więc pamiętaj by przejść na nowy login."},"legacy_lnurl_auth":{"title":"Stare podpisywanie dla LNDhub i LNbits","subtitle":"Podpisywanie wiadomości i logowanie z kontami LNDhub (np. BlueWallet) i LNbits zmieniło się (w marcu 2022 r.) Jeśli logowano się z tymi kontami możesz nadal włączyć stary sposób podpisywania. Ta opcja później będzie usunięta, więc pamiętaj by przejść na nowy login."}},"camera_access":{"title":"Dostęp do kamery","subtitle":"W celu skanowania kodów QR","allow":"Zezwól na dostęp do kamery","granted":"Uprawnienie przyznane"},"language":{"title":"Język","subtitle":"Tłumaczenia nie są jeszcze gotowe w 100%. <0>Pomóż nam tłumaczyć Alby na Twój język!</0>"},"theme":{"title":"Motyw graficzny","subtitle":"Używaj Alby w trybie ciemnym lub jasnym","options":{"dark":"Ciemny","light":"Jasny","system":"Tak jak system"}},"show_fiat":{"title":"Sats na Fiat","subtitle":"Zawsze konwertuj kwotę na wybraną walutę wg kursu z wybranego źródła"},"currency":{"title":"Waluta","subtitle":"Pokaż kwoty dodatkowo w tej walucie"},"exchange":{"title":"Źródło kursu wymiany","subtitle":"Źródło kursów wymiany bitcoina"},"personal_data":{"title":"Dane osobowe","description":"Odbiorcy płatności mogą poprosić o dodatkowe dane, które zostaną przesłane wraz z płatnością. Te dane nie są udostępniane nikomu bez Twojej zgody - zawsze będziesz uprzedzany przed przesłaniem dodatkowych informacji wraz z płatnością."},"name":{"title":"Imię","subtitle":"","placeholder":"Wprowadź swoje imię"},"email":{"title":"Email","subtitle":"","placeholder":"Wprowadź swój email"},"change_password":{"title":"Zmień hasło blokady","subtitle":"","screen_reader":"Zmień hasło blokady","choose_password":{"label":"Wprowadź nowe hasło blokady:"},"confirm_password":{"label":"Potwierdź nowe hasło blokady:"},"submit":{"label":"Zmień"},"errors":{"enter_password":"Wprowadź nowe hasło blokady.","confirm_password":"Potwierdź swoje hasło.","mismatched_password":"Hasła się nie zgadzają."},"success":"Hasło zmienione pomyślnie"},"nostr":{"title":"Nostr","hint":"jest prostym i otwartym protokołem mającym na celu stworzenie sieci społecznościowych opornych na cenzurę. Nostr działa przy użyciu kluczy kryptograficznych. Aby coś opublikować podpisujesz to swoim kluczem i wysyłasz do kilku przekaźników. Możesz użyć Alby aby zarządzać swoim kluczem Nostr. Następnie, różne aplikacje umożliwią Ci używanie klucze z rozszerzenia Alby.","private_key":{"title":"Klucz prywatny","subtitle":"Ta sekcja została przeniesiona do strony z kontami, ponieważ klucze są teraz związane z konkretnymi kontami.","go_to":"Przejdź do kont"}}},"send":{"title":"Wyślij","input":{"label":"Odbiorca","hint":"Faktura, adres Lightning lub LNURL"}},"lnurlpay":{"amount":{"label":"Kwota"},"comment":{"label":"Komentarz"},"name":{"label":"Imię"},"email":{"label":"Email"},"success":"Sukces! Płatność wysłana!"},"lnurlauth":{"title":"Uwierzytelnianie","content_message":{"heading":"Czy chcesz się zalogować do"},"submit":"Zaloguj","success":"Logowanie do {{name}} pomyślne","errors":{"status":"Błąd: Status autentykacji nie jest ok"}},"lnurlchannel":{"title":"Prośba o kanał","content_message":{"heading":"Poproś o kanał od węzła"},"success":"Prośba o kanał pomyślnie wysłana do {{name}}"},"lnurlwithdraw":{"title":"Wypłata","content_message":{"heading":"Kwota"},"amount":{"label":"Kwota"},"success":"Prośba wypłaty w kwocie {{amount}} pomyślnie wysłana do {{sender}}"},"receive":{"title":"Przyjmij","actions":{"create_invoice":"Stwórz fakturę"},"amount":{"label":"Kwota","placeholder":"Kwota w Satoshi..."},"description":{"label":"Opis","placeholder":"np. kto wysyła tę płatność?"},"success":"Płatność otrzymana!","payment":{"waiting":"oczekiwanie na płatność...","status":"Sprawdź status płatności"}},"discover":{"title":"Eksploruj ekosystem Lightning ⚡️","description":"Strony i aplikacje webowe, na których możesz używać Alby","list":{"trading":"Handel","gaming":"Gry","entertainment":"Rozrywka","shopping":"Zakupy","miscellaneous":"Różne","showcases":"Prezentowane","nostr":"Nostr"},"tips":{"title":"Twój portfel Alby jest gotowy","description":"Oto klika wskazówek na start 🐝","top_up_wallet":{"title":"⚡️ Doładuj swój portfel","description":"Stwórz fakturę Lightning, wyślij sobie trochę bitcoinów i zacznij korzystać z Alby w ekosystemie Lightning"},"demo":{"title":"🕹️ Spróbuj demonstracyjnej wersji Alby","description":"Odkryj wszystkie możliwości, jakie daje Alby na naszej stronie demonstracyjnej"}}},"publishers":{"title":"Twoje strony ⚡","description":"Strony, na których użyto wcześniej Alby","no_info":"Wygląda na to, że nie użyto Alby jeszcze na żadnej stronie.","discover":"Odkryj strony","publisher":{"allowance":{"title":"Limity","used_budget":"użyto sats"}}},"make_invoice":{"title":"Stwórz fakturę","amount":{"label":"Kwota (Satoshi)"},"memo":{"label":"Notatka"},"errors":{"amount_too_small":"Kwota jest mniejsza niż minimalna","amount_too_big":"Kwota przewyższa maksymalną"}},"confirm_sign_message":{"title":"Podpisz","content":"Ta strona prosi Cię aby podpisywać:"},"confirm_keysend":{"title":"Zatwierdź płatność","success":"Płatność wysłana! Obraz pierwotny (preimage): {{preimage}}","payment_summary":{"description":"Wyślij płatność do: {{destination}}"}},"keysend":{"title":"Wyślij","success":"Płatność wysłana! Preimage: {{preimage}}","receiver":{"label":"Wyślij płatność do"},"amount":{"label":"Kwota (Satoshi)"}},"confirm_payment":{"title":"Zatwierdź płatność","success":"Płatność w kwocie {{amount}} pomyślna!","actions":{"pay_now":"Zapłać teraz"}},"confirm_request_permission":{"title":"Zatwierdź prośbę","allow":"Pozwól tej stronie na wykonanie:","always_allow":"Pamiętaj mój wybór i więcej nie pytaj"},"nostr":{"title":"Nostr","allow":"Pozwól tej stronie na:","content":"Ta strona prosi Cię aby podpisywać:","allow_sign":"Pozwól {{host}} na podpisywanie:","block_and_ignore":"Zablokuj i ignoruj {{host}}","block_added":"Dodano {{host}} do listy zablokowanych, odśwież stronę.","hide_details":"Ukryj szczegóły","kinds":{"0":"metadane","1":"krótka wiadomość tekstowa","2":"rekomendacja przekaźnika","3":"kontakty","4":"zaszyfrowane wiadomości prywatne","5":"usunięcie zdarzenia","7":"reakcja","8":"nadanie odznaki","40":"utworzenie kanału","41":"metadane kanału","42":"wiadomość kanału","43":"ukrycie wiadomości w kanale","44":"ignorowanie użytkownika w kanale","1984":"zgłoszenie","9734":"prośba o zap","9735":"zap","10002":"metadane listy przekaźników","22242":"uwierzytelnienie klienta","24133":"połączenie nostr","30008":"odznaki profile","30009":"definicja odznaki","30023":"treść długiego formatu","30078":"dane specyficzne dla aplikacji"},"view_details":"Pokaż szczegóły"},"transactions":{"title":"Transakcje","list_empty":"Brak dostępnych transakcji."},"distributions":{"description":"Wybierz z którą aplikacją {{name}} chcesz się połączyć","title":"Podłącz do {{name}}","raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"btcpay":{"name":"BTCPay"},"start9":{"name":"Start9"},"umbrel":{"name":"Umbrel"},"citadel":{"name":"Citadel"}}},"y0":{"password":"Hasło","confirm_password":"Potwierdź hasło","advanced":"Zaawansowane","success":"Sukces","error":"Błąd","settings":"Ustawienia","accounts":"Konta","discover":"Odkrywaj","connected_sites":"","sats_one":"sat","sats_other":"sats","loading":"ładowanie","amount":"Kwota","optional":"Opcjonalne","feedback":"Opinia","copied":"Skopiowano!","description":"Opis","description_full":"Pełny opis","success_message":"{{amount}}{{fiatAmount}} wysłano do {{destination}}","response":"Odpowiedź","message":"Wiadomość","help":"Pomoc","actions":{"back":"Wstecz","delete":"Skasuj","edit":"Edytuj","next":"Dalej","open":"Otwórz","cancel":"Anuluj","confirm":"Potwierdź","continue":"Kontynuuj","connect":"Połącz","lock":"Zablokuj","unlock":"Odblokuj","send":"Wyślij","save":"Zapisz","receive":"Przyjmij","receive_again":"Przyjmij kolejną płatność","close":"Zamknij","export":"Eksport","remove":"Usuń","copy":"Kopiuj","copy_invoice":"","log_in":"Zaloguj","remember":"Pamiętaj mój wybór i więcej nie pytaj","transactions":"Transakcje"},"errors":{"connection_failed":"Połaczenie nieudane","payment_failed":"Płatność nie powiodła się"},"range":{"between":"pomiędzy {{min}} a {{max}}","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"}},"wx":{"allowance_menu":{"confirm_delete":"Na pewno usunąć tę stronę?","hint":"W ten sposób usuniesz obecny budżet","new_budget":{"label":"Nowy budżet"},"enable_login":{"title":"Włącz logowanie na stronie","subtitle":"Automatycznie loguj się bez potwierdzenia gdy strona o to poprosi."},"edit_allowance":{"title":"Edytuj preferencje","screen_reader":"Opcje limitu"},"edit_permissions":"Edytuj uprawnienia"},"qrcode_scanner":{"title":"Skanuj kod QR","actions":{"start_scanning":"Zacznij skanowanie","stop_scanning":"Zakończ skanowanie"},"errors":{"allow_camera_access":"Proszę pozwolić na dostęp do kamery w ekranie ustawień."}},"transactions_table":{"fee":"Opłata","preimage":"Obraz pierwotny (preimage)","received":"Otrzymano","sent":"Wysłano","boostagram":{"sender":"Nadawca","message":"Wiadomość","app":"Aplikacja","podcast":"Podcast"},"open_location":"Otwórz stronę"},"budget_control":{"remember":{"label":"Zapamiętaj i ustaw budżet","description":"Możesz ustawić limit, do którego nie będzie wymagane potwierdzenie płatności, aż do wyczerpania się środków."},"budget":{"label":"Budżet"}},"toasts":{"connection_error":{"what_you_can_do":"Oto co możesz zrobić:","double_check":"Sprawdź szczegóły swojego połączenia","if_ssl_errors":"a jeśli są błędy SSL (np. ERR_CERT_AUTHORITY_INVALID), kliknij \\"zaawansowane\\" i zaakceptuj certyfikat.","visit_guides":"Aby uzyskać więcej pomocy zobacz nasze przewodniki"},"login_failed":{"password_reset":"Nie pamiętasz hasła? Kliknij tutaj"},"errors":{"invalid_credentials":"Hasło niepoprawne. Sprawdź swoje hasło i adres email i spróbuj ponownie."}},"account_menu":{"screen_reader":"Przełącznik rozwijany","title":"Zmień konto","options":{"account":{"add":"Dodaj nowe konto","manage":"Zarządzaj kontami"}}},"publishers_table":{"payments":"płatności"},"badge":{"label":{"auth":"LOGOWANIE"}},"companion_download_info":{"heading":"Jak chcesz się połączyć do sieci TOR?","companion":{"description":"Lekka aplikacja, która łączy Twoją przeglądarkę z siecią TOR.","title":"Aplikacja towarzysząca"},"download":"Pobierz","tor_native":{"title":"TOR (natywny)","description":"Wybierz tę opcję jeśli Twoja przeglądarka już jest podłączona do sieci TOR."}}},"mk":{"nostr":{"getpublickey":"Czytanie Twojego klucza publicznego.","nip04encrypt":"Szyfrowanie danych.","nip04decrypt":"Deszyfrowanie danych.","signmessage":"Podpisywanie wiadomości Twoim kluczem."},"commando":{"bkpr-listbalances":"Listowanie wszystkich bieżących i historycznych sald konta.","checkmessage":"Weryfikowanie, ze podpis został złożony przez dany węzeł.","connect":"Ustanowienie nowego połączenia z innym węzłem.","decode":"Dekodowane ciąg bolt11/bolt12/runy.","decodepay":"Sprawdzanie i przetwarzanie ciągu bolt11.","disconnect":"Zamykanie bieżącego połączenie z peerem.","feerates":"Zwracanie stawek opłat jakich CLN będzie używać.","fundchannel":"Otwieranie kanału płatności z peerem poprzez dokonywanie transakcji fundującej.","getinfo":"Pobieranie podsumowania o węźle.","getroute":"Odnajdowanie najlepszej trasy płatności do węzła lightning.","invoice":"Tworzenie oczekiwania płatności.","keysend":"Wysłania płatności do innego węzła.","listforwards":"Listowania wszystkich HTLC, które próbowano przekazać.","listfunds":"Listowania wszystkich dostępnych środków.","listinvoices":"Pobierania statusu wszystkich faktur.","listnodes":"Listowania węzłów, o których dany węzeł dowiedział się za pomocą komunikatów gossip.","listoffers":"Listowania wszystkich ofert lub pobierania konkretnej oferty.","listpays":"Pobierania statusu wszystkich poleceń płatności.","listpeers":"Listowania węzłów, które są połączone lub mają otwarte kanały z tym węzłem.","listsendpays":"Pobierania statusu wszystkich poleceń sendpay.","listtransactions":"Listowania transakcji śledzonych w portfelu.","multifundchannel":"Otwierania wielu kanałów płatności z węzłami poprzez dokonywania pojedynczej transakcji fundującej.","offer":"Tworzenie oferty.","pay":"Wysyłanie płatności na fakturę BOLT11.","sendpay":"Wysyłanie płatności poprzez trasę.","setchannel":"Konfigurowanie opłat / zakresów HTLC ogłaszanych dla kanału.","signmessage":"Tworzenie podpisu z tego węzła."},"lnd":{"getinfo":"Pobieranie informacji o węźle.","listchannels":"Pobieranie opisów wszystkich otwartych kanałów.","listinvoices":"Pobieranie listy wszystkich faktur.","channelbalance":"Pobieranie raportu o środkach we wszystkich otwartych kanałach.","walletbalance":"Pobieranie łącznej wartości niewydanych wyjść portfela.","openchannel":"Otwieranie nowego kanału.","connectpeer":"Ustanawianie połączenia ze zdalnym peerem.","disconnectpeer":"Rozłączania się ze zdalnym peerem.","estimatefee":"Szacowanie stawki opłaty oraz opłat całkowitych transakcji.","getchaninfo":"Uzyskiwanie ogłoszeń sieci dla danego kanału.","getnetworkinfo":"Pobieranie podstawowych statystyk o grafie znanych kanałów.","getnodeinfo":"Pobieranie informacji o kanałach węzła.","gettransactions":"Pobieranie listy wszystkich transakcji dotyczących portfela.","listpayments":"Pobieranie listy wszystkich wychodzących płatności.","listpeers":"Pobieranie listy wszystkich aktywnych peerów.","lookupinvoice":"Uzyskiwanie szczegółowych informacji o fakturach.","queryroutes":"Zapytanie o możliwą trasę.","verifymessage":"Weryfikowanie podpisu dla wiadomości.","sendtoroute":"Dokonywanie płatności poprzez podaną trasę.","decodepayreq":"Dekodowanie ciągu żądania płatności.","routermc":"Odczytanie wewnętrznego stanu mission control.","addinvoice":"Tworzenie nowych faktur.","addholdinvoice":"Tworzenie nowych faktur typu HODL.","settleinvoice":"Rozliczenie przyjętej faktury."},"lnc":{"getinfo":"Pobieranie informacji o węźle.","listchannels":"Pobieranie opisów wszystkich otwartych kanałów.","listinvoices":"Pobieranie listy wszystkich faktur.","channelbalance":"Pobieranie raportu o środkach we wszystkich otwartych kanałach.","walletbalance":"Pobieranie łącznej wartości niewydanych wyjść portfela.","openchannel":"Otwieranie nowego kanału.","connectpeer":"Ustanawianie połączenia ze zdalnym peerem.","disconnectpeer":"Rozłączania się ze zdalnym peerem.","estimatefee":"Szacowanie stawki opłaty oraz opłat całkowitych transakcji.","getchaninfo":"Uzyskiwanie ogłoszeń sieci dla danego kanału.","getnetworkinfo":"Pobieranie podstawowych statystyk o grafie znanych kanałów.","getnodeinfo":"Pobieranie informacji o kanałach węzła.","gettransactions":"Pobieranie listy wszystkich transakcji dotyczących portfela.","listpayments":"Pobieranie listy wszystkich wychodzących płatności.","listpeers":"Pobieranie listy wszystkich aktywnych peerów.","lookupinvoice":"Uzyskiwanie szczegółowych informacji o fakturach","queryroutes":"Zapytanie o możliwą trasę","verifymessage":"Weryfikowanie podpisu dla wiadomości","sendtoroute":"Dokonywanie płatności poprzez podaną trasę","decodepayreq":"Dekodowanie ciągu żądania płatności","routermc":"Odczytanie wewnętrznego stanu mission control","addinvoice":"Tworzenie nowych faktur","addholdinvoice":"Tworzenie nowych faktur typu HODL","settleinvoice":"Rozliczenie przyjętej faktury"}}}'),Rt=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"Definir uma senha de desbloqueio","description":"Esta senha é usada para proteger sua carteira e fornecer acesso à extensão do navegador neste dispositivo. Não esqueça esta senha pois não é possível recuperá-la. Obs. Esta senha é diferente da senha da conta da Alby.","choose_password":{"label":"Escolha uma senha de desbloqueio:"},"confirm_password":{"label":"Confirme se você digitou corretamente:"},"errors":{"enter_password":"Insira uma senha.","confirm_password":"Confirme sua senha.","mismatched_password":"As senhas não correspondem."}},"test_connection":{"ready":"Perfeito, tudo configurado!","initializing":"Iniciando sua conta. Aguarde, pode demorar um pouco...","connection_error":"Erro de conexão","review_connection_details":"Revise os detalhes da conexão.","connection_taking_long":"A tentativa de conexão está demorando mais do que o esperado... Os dados estão corretos? O servidor está acessível?","contact_support":"Se precisar de ajuda, entre em contato com support@getalby.com","actions":{"delete_edit_account":"Remover conta inválida e editar novamente"}},"title":"Bem-vindo à Alby","pin_extension":{"title":"Fixar extensão Alby","description":"Quase lá. Para facilitar seu acesso à Alby, lembre-se de fixar a extensão Alby na barra de ferramentas do navegador:","explanation":"1. Clique em <0/> no canto superior direito do seu navegador<1/>2. Localize a Alby e clique no ícone de fixação para fixá-lo na barra de ferramentas do navegador<1/>3. É isso. Agora é só clicar no ícone da Alby <2/>","next_btn":"Comece a usar a Alby {{icon}}"}},"choose_connector":{"description":"Escolha uma carteira ou servidor disponível abaixo","lnd":{"title":"LND","page":{"title":"Conecte-se no servidor LND","description":"Você precisa da URL do servidor e um macaroon com permissão de envio e leitura (ex. admin.macaroon)"},"url":{"label":"REST API host e porta","placeholder":"https://seu-servidor-url:8080"},"macaroon":{"label":"Macaroon (formato HEX)"},"drag_and_drop":"Arraste e solte o macaroon aqui ou clique em <0>procurar</0>","errors":{"connection_failed":"Falha na conexão. As credenciais LND estão corretas?"}},"lnbits":{"title":"LNbits","page":{"title":"Conecte-se na <0>LNbits</0>","instructions":"Na LNbits, escolha a carteira que você deseja conectar, abra ela, clica em API Info a e copie a Chave Admin e cole abaixo:"},"admin_key":{"label":"Chave Admin LNbits","placeholder":"Sua chave admin de 32 dígitos"},"url":{"label":"URL LNbits"},"errors":{"connection_failed":"Falha na conexão. A URL e a chave Admin estão corretas?"}},"eclair":{"title":"Eclair","page":{"title":"Conecte-se no servidor <0>Eclair</0>","instructions":"Você precisa da URL e senha da Eclair."},"url":{"label":"URL Eclair","placeholder":"http://localhost:8080"},"password":{"label":"Senha Eclair"}},"citadel":{"title":"Citadel","page":{"title":"Conecte-se no servidor <0>Citadel</0>","instructions":"Não funciona se o 2FA estiver ativado."},"password":{"label":"Senha Citadel"},"url":{"label":"URL Citadel","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Conecte-se no servidor <0>Umbrel</0>","instructions":"1. In your Lightning Node dashboard go to <0>Connect wallet</0><1/>2. Select <0>REST (Tor)</0> or <0>REST (Local Network)</0> mode<1/>3. Copy the <0>lndconnect URL</0> and paste it below"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://seuservidor:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Conecte-se no servidor <0>myNode</0>","instructions":"No myNode clique em <0>Wallet</0> botão para seu serviço <0>lightning</0>.<1/> Agora clique em <0>Pair Wallet</0> botão abaixo da tab <0>Status</0>. Insira sua senha quando solicitada.<1/> Selecione o menu suspenso e escolha uma opção de emparelhamento. Dependendo de sua configuração você pode escolher <0>Conexão lightning (REST + Local IP)</0> ou conexão <0>lightning (REST + Tor)</0>."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://seuservidor:8080?..."}},"start9":{"title":"Start9","page":{"title":"Conecte-se no seu servidor <0>Start9</0>","instructions":"<0>Note:</0> Atualmente somente a LND é suportada mas nós adicionaremos suporte para a c-lightning no futuro!<1/>No seu Embassy clique em service <0>Lightning Network Daemon</0>.<1/>Selecione a tab <0>Properties</0>.<1/>Agora copie o <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://seuservidor:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Conecte-se seu servidor <0>RaspiBlitz</0>","instructions2":"Copie o (admin) <0>macaroon</0> no campo abaixo.","instructions1":"Siga esses passos<1/> 1. <0>SSH</0> na <0>Raspiblitz</0><1/>2. Selecione <0>Conectar apps & Mostrar credenciais</0> da lista<1/><0/>3. Escolher <0>Conectar Alby neste servidor</0><1/>4. Pressione <0>OK</0> para exibir as credenciais de conexão<1/><1/>Copie e cole o <0>REST API host</0> ou o <0>.onion</0> endereço para conectar -se através do TOR na entrada abaixo."},"rest_api_host":{"label":"REST API host","placeholder":"seu-endereço-servidor-onion:porta"}},"blink":{"title":"Carteira Blink","page":{"title":"Conecte-se na <0>Carteira Blink</0>"},"token":{"label":"Insira a chave API"}},"bitcoin_jungle":{"title":"Carteira Bitcoin Jungle","page":{"title":"Conecte-se na <0>Carteira Bitcoin Jungle</0>"},"token":{"label":"Insira o token de acesso"}},"btcpay":{"title":"Servidor BTCPay","page":{"title":"Conecte-se no servidor LND BTCPay","instructions":"Navegue até a BTCPayServer e acesse como administrador. Vá até Configurações>Serviços>LND Rest - Ver informação. Depois Clique \\"Ver Código QR\\" e copie os dados do Código QR. Cole os dados abaixo:"},"config":{"label":"Dados config","placeholder":"config=https://seu-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Falha na conexão. A URL de conexão do servidor BTCPay está correta e acessível?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Conecte-se na LNDHub","description":"Insira sua credencial URI LNDHub aqui ou leia o código QR com sua webcam."},"uri":{"label":"Exportar URI LNDHub"},"errors":{"invalid_uri":"URI LNDHub inválida","connection_failed":"Falha na conexão. A URI LNDHub está correta?"}},"commando":{"page":{"title":"Conecte-se no seu servidor Core Lightning","instructions":"Certifique-se de conectar em um servidor Core Lightning que esteja na versão 0.12.0 ou mais recente, o plugin commando instalado e rodando e o servidor acessível na rede relâmpago. Crie um rune executando o comando \'lightning-cli commando-rune\'."},"title":"Core Lightning","pubkey":{"label":"Chave pública"},"rune":{"label":"Rune"},"port":{"label":"Porta"},"privKey":{"label":"Chave privada local (Gerada automaticamente)"},"config":{"label":"Dados config","placeholder":"config=https://seu-btc-pay.org/lnd-config/212121/lnd.config"},"proxy":{"label":"Websocket proxy"},"host":{"label":"Host"},"errors":{"connection_failed":"Falha na conexão. O servidor Core Lightning está online e usando o plugin comando?"}},"title":"Conectar Carteira Bitcoin","lnc":{"page":{"title":"Conecte-se no servidor LND usando LNC","description":"1. Open Lightning Terminal and choose <0>Lightning Node Connect</0> from the sidebar.<1/> 2. Click <0>Create a new session</0><1/>3. Label the session, choose desired permissions and submit<1/>4. <0>Copy pairing phrase</0> and paste it below."},"title":"Lightning Terminal (LNC)","pairing_phrase":{"label":"Frase de pareamento "}},"galoy":{"sms_code":{"label":"Insira o código de verificação SMS"},"actions":{"login":"Login"},"phone_number":{"label":"Insira seu número de telefone"},"errors":{"setup_failed":"Falha na configuração","invalid_token":"Falha na autorização. Verifique sua chave API e tente novamente."}}},"home":{"actions":{"send_satoshis":"⚡️ Enviar Satoshis ⚡️","enable_now":"Ativar"},"allowance_view":{"no_transactions":"Sem transações em <0>{{name}}</0>.","sats":"sats","budget_spent":"Limite de gastos","total_spent":"Total gasto","total_payments":"Pagamentos realizados","permissions":"Permissões"},"default_view":{"is_blocked_hint":"A Alby está desativada em {{host}}","block_removed":"{{host}} ativado. Por favor, recarregue o site.","see_all":"Mostrar tudo","no_transactions":"Sem transações nesta conta ainda."}},"accounts":{"title":"Minhas contas","actions":{"add_account":"Adicionar conta"},"account_view":{"export":{"title":"Conectar sua carteira de celular","your_ln_address":"Seu endereço relâmpago:","screen_reader":"Exportar detalhes da conta","waiting":"aguardando dados LndHub...","export_uri":"Credenciais URI LNDHub","scan_qr":"Leia o código QR para importar esta carteira na Zeus ou BlueWallet.","description":"Permite conectar e usar esta conta em carteiras de celular como por ex a <0>Blue Wallet</0> e a <1>Zeus</1>."},"nostr":{"title":"Nostr","private_key":{"title":"Gerenciar sua chave privada Nostr","successfully_removed":"Chave privada Nostr removida com sucesso.","label":"Chave privada Nostr","subtitle":"Cole sua chave privada Nostr ou gere uma nova. <0>Saiba mais »</0>","success":"Chave privada Nostr criptografada e salva com sucesso.","failed_to_remove":"O nome da conta inserido não está correto, sua chave privada Nostr antiga foi restaurada.","warning":"Por favor, insira o nome da conta para confirmar a exclusão de sua chave privada nostr:\\n\\n{{ name }}"},"public_key":{"label":"Chave pública Nostr"},"hint":"é um protocolo simples e aberto que visa criar redes sociais resistentes à censura. Os perfis na rede Nostr são chaves criptográficas. Para publicar algo, você assina com sua chave e a informação é enviada para servidores. Na Alby você pode usar e gerenciar seu perfil em diferentes aplicações que suportam esse recurso.","generate_keys":{"title":"Gerar uma nova chave Nostr","screen_reader":"Gere uma nova chave Nostr para sua conta","actions":{"random_keys":"Gerar uma chave aleatória","derived_keys":"Gerar uma chave a partir da conta"},"hint":"Você pode gerar uma chave aleatória ou gerar uma nova a partir desta conta. <0>Saiba mais »</0>"},"actions":{"generate":"Gerar uma nova chave"},"errors":{"failed_to_load":"Falha ao carregar a chave Nostr. Esta é uma chave Nostr válida?"},"settings":{"label":"Configurações Nostr","title":"Configurações Nostr","derive":"Gere chaves Nostr a partir de sua chave mestra","can_restore":"✅ Chave Nostr gerada a partir de sua chave mestra","description":"Você pode gerar chaves Nostr a partir de sua chave mestra ou importar sua chave privada existente colando-a no campo \\"Chave privada Nostr\\".","no_secret_key":"💡 Você ainda não tem uma chave mestra. <0>Clique aqui</0></div> para gerar sua chave mestra e suas chaves Nostr.","imported_key_warning":"⚠️ No momento, você está usando uma chave Nostr importada ou gerada aleatoriamente. Sua chave privada Nostr não pode ser restaurada por sua frase de recuperação, então lembre-se de fazer o backup de sua chave privada Nostr separadamente.","remove":"Remover esta chave"},"setup":{"title":"Configure suas chaves Nostr","new":{"label":"Criar uma nova conta Nostr","description":"Gere uma chave mestra com um par de novas chaves Nostr."},"import":{"label":"Importar uma conta Nostr","description":"Use uma chave privada Nostr existente ou gere uma a partir de sua chave mestra","title":"Como você gostaria de importar sua conta Nostr?","private_key":{"label":"Usar chave privada Nostr","description":"Cole sua chave privada Nostr para importá-la para a Alby"},"recovery_phrase":{"label":"Usar frase de recuperação","description":"Use a frase de recuperação da chave mestra para importar suas chaves Nostr"}},"new_to_nostr":"Novo no Nostr? <0>Saiba mais</0>","description":"Escolha se você deseja criar uma nova conta Nostr (um par de chaves públicas e privadas) ou importar uma existente.","description2":"Toda conta Nostr criada na Alby vem com uma <0>Frase de recuperação</0> – um conjunto de 12 palavras que sempre permite que você recupere o acesso às suas chaves privadas Nostr."}},"remove":{"title":"Remover esta conta","error":"O nome da conta inserido não corresponde.","subtitle":"Remove todos os limites de gastos, dados de pagamento e chaves associadas à esta conta.","confirm":"Por favor, insira o nome da conta para confirmar a exclusão:\\n\\n{{ name }}\\n\\n ⚠️ Por favor, insira o nome da conta para confirmar a exclusão. Todas as chaves associadas (Chave mestra, Nostr, etc) serão excluídas se você continuar. Certifique-se de ter feito backup das chaves, não há outra maneira de restaurá-las."},"actions":{"remove_account":"Remover conta","export":"Exportar","remove_secretkey":"Remover chave mestra"},"name":{"title":"Nome","placeholder":"Nome da conta"},"title2":"Conta","title1":"Configurações da conta","mnemonic":{"title":"🔑 Gerenciamento de chaves","saved":"Chave mestra criptografada e salva com sucesso.","generate":{"title":"Gere sua chave mestra","button":"Gerar chave mestra","confirm":"Eu salvei a frase de recuperação em um local privado e seguro.","error_confirm":"Por favor, confirme que você salvou a frase de recuperação.","description":"A chave mestra permite que você interaja com diferentes protocolos como: Nostr, rede principal do Bitcoin ou LNURL-Auth."},"backup":{"save":"Salvar chave mestra","button":"Frase de recuperação","protocols":{"nostr":"Nostr"},"title":"Backup de sua frase de recuperação","warning":"⚠️ Não se esqueça de fazer backup de sua frase de recuperação! Não fazer o backup pode resultar na perda permanente do acesso à sua chave mestra, identidade Nostr ou ativos que você gerencia com esta chave.","description":"Anote a frase de recuperação para poder restaurar sua chave mestra em um novo dispositivo ou caso perca o acesso à sua conta.","items":{"recovery_phrase":"Você sempre pode acessar sua chave mestra usando sua frase de recuperação.","words":"A frase de recuperação é um conjunto de 12 palavras que funciona como uma senha, porém não pode ser alterada ou redefinida caso seja perdida.","storage":"Certifique-se de anotá-la em algum local seguro e privado!","keys":"A chave mestra permite interagir com diferentes protocolos como: Nostr, Liquid ou a camada base do Bitcoin."}},"import":{"title":"Importar sua chave mestra","description":"Use a frase de recuperação para importar sua chave mestra na Alby.","button":"Importar chave mestra"},"inputs":{"title":"Frase de recuperação"},"existing_nostr_key_notice":"ℹ️ Esta conta já possui uma chave privada nostr, logo não será gerada uma nova a partir desta chave mestra. Você pode gerenciar sua chave Nostr nas configurações de sua conta.","lnurl":{"use_mnemonic":"Use a chave mestra para acessar aplicativos com tecnologia (LNURL Auth)","title":"Login relâmpago"},"new":{"title":"O que é uma chave mestra?"}},"remove_secretkey":{"title":"Remover chave mestra","success":"Chave mestra removida com sucesso.","subtitle":"Remove a chave mestra desta conta.","confirm":"Por favor, insira o nome da conta para confirmar a exclusão de sua chave mestra:\\n\\n{{ name }}"},"network":{"title":"Rede","options":{"bitcoin":"Rede principal","testnet":"Rede de testes","regtest":"Regtest"},"subtitle":"Escolha a rede para gerar endereços e decodificar transações bitcoin e liquid"},"no_mnemonic_hint":"💡 Você ainda não tem uma chave mestra. <0>Clique aqui</0></div> para gerar sua chave mestra e desbloquear essas configurações."}},"unlock":{"unlock_to_continue":"Desbloqueie para continuar","unlock_password":"Sua senha de desbloqueio","help_contact":{"part1":"Precisa de ajuda?","part2":"Suporte Alby"},"unlock_error":{"help":"Os dados da sua conta são criptografados com sua senha de desbloqueio. Se você realmente esqueceu sua senha de desbloqueio, será necessário redefinir e adicionar sua conta novamente.","link":"Redefinir e adicionar nova conta"},"errors":{"invalid_password":"Senha incorreta"}},"settings":{"title":"Configurações","website_enhancements":{"title":"Pagamentos em redes sociais","subtitle":"Reconhece automaticamente endereços relâmpago em perfis do Twitter, Youtube, etc, facilitando o envio de pagamentos."},"lnurl_auth":{"title":"LNURL-Auth","hint":"é um protocolo de autenticação. Ele autentica o usuário usando assinaturas digitais. O protocolo não requer nenhuma outra informação de identificação, como senhas, e-mails, nomes de usuário... Com a Alby você pode usar suas contas bitcoin para logar em sites com segurança. Para ser compatível com outras carteiras, tivemos que fazer algumas alterações que você pode configurar aqui. Por padrão essas opções estão DESLIGADAS. Use-as apenas se você tiver contas antigas.","legacy_lnurl_auth_202207":{"title":"LNURL-Auth antigo","subtitle":"A geração de chave para a LNURL-auth mudou em (julho de 2022). A Alby não era compatível com outras implementações. Isso foi corrigido, mas agora uma nova chave está sendo usada como padrão. Se você usou a LNURL-auth para logar em sites antes de julho de 2022, ainda poderá fazer login habilitando o método antigo. Esta opção será removida posteriormente, certifique-se de alterar suas contas nos sites para usar o novo login."},"legacy_lnurl_auth":{"title":"Método antigo de autenticação para LNDhub e LNbits","subtitle":"A assinatura de mensagens e o login com as contas LNDhub (por exemplo, BlueWallet) e LNbits foram alteradas em (março de 2022). Se você fez login com essas contas, ainda poderá ativar o método de assinatura antigo. Esta opção será removida posteriormente, certifique-se de alterar suas contas nos sites para usar o novo login."}},"camera_access":{"title":"Acesso à câmera","subtitle":"Acesso para ler códigos QR","allow":"Permitir acesso à câmera","granted":"Permissão concedida"},"language":{"title":"Idioma","subtitle":"As traduções ainda não estão 100% concluídas. <0>Nos ajude a traduzir a Alby para o seu idioma!</0>"},"theme":{"title":"Tema","subtitle":"Use a Alby no modo escuro ou claro","options":{"dark":"Escuro","light":"Claro","system":"Sistema"}},"show_fiat":{"title":"Sats para Fiat","subtitle":"Exibe na Alby os valores em Sats e em uma moeda adicional de sua escolha"},"currency":{"title":"Moeda","subtitle":"Escolha a moeda adicional para exibir os valores na Alby"},"exchange":{"title":"Serviço provedor de cotações","subtitle":"Escolha o serviço que fornecerá as cotações do bitcoin exibidas na Alby"},"personal_data":{"title":"Dados pessoais","description":"Alguns serviços podem solicitar dados adicionais no pagamento. Esses dados não são compartilhados sem o seu consentimento e você sempre será informado com antecedência sobre os dados a serem enviados."},"name":{"title":"Nome","subtitle":"","placeholder":"Insira seu nome"},"email":{"title":"E-mail","subtitle":"","placeholder":"Insira seu endereço de e-mail"},"change_password":{"title":"Alterar senha de desbloqueio","subtitle":"","screen_reader":"Alterar senha de desbloqueio","choose_password":{"label":"Insira uma nova senha de desbloqueio:"},"confirm_password":{"label":"Confirme a nova senha:"},"errors":{"enter_password":"Insira uma nova senha de desbloqueio.","mismatched_password":"As senhas não correspondem.","confirm_password":"Confirme a senha."},"submit":{"label":"Alterar"},"success":"Senha alterada com sucesso"},"browser_notifications":{"subtitle":"Exibe no navegador notificações da Alby relacionadas a pagamentos e autenticação.","title":"Notificações do navegador"},"nostr":{"title":"Nostr","private_key":{"subtitle":"Esta seção foi movida para a área de contas, pois as chaves agora são específicas de cada conta.","title":"Chave privada","go_to":"Ir para contas"},"hint":"é um protocolo simples e aberto que visa criar redes sociais resistentes à censura. Os perfis na rede Nostr são chaves criptográficas. Para publicar algo, você assina com sua chave e a informação é enviada para servidores. Na Alby você pode usar e gerenciar seu perfil em diferentes aplicações que suportam esse recurso."}},"send":{"title":"Enviar","input":{"label":"Dados para pagamento","hint":"Fatura, endereço relâmpago, LNURL","hint_with_bitcoin_address":"Fatura, endereço relâmpago, LNURL ou endereço bitcoin"}},"lnurlpay":{"amount":{"label":"Quantia"},"comment":{"label":"Comentário"},"name":{"label":"Nome"},"email":{"label":"E-mail"},"success":"Sucesso, pagamento enviado!"},"receive":{"title":"Receber","actions":{"create_invoice":"Gerar fatura","redeem":{"description":"Receba bitcoin de forma instantânea usando um código LNURL","title":"Vale-satoshi"},"invoice":{"title":"Fatura relâmpago","description":"Receba pagamentos bitcoin de valores específicos e de forma instantânea"},"bitcoin_address":{"description":"Receba via endereço bitcoin usando um serviço de trocas","title":"Serviço de trocas"}},"amount":{"label":"Quantia a receber","placeholder":"Quantia em Satoshi..."},"description":{"label":"Descrição","placeholder":"Opcional"},"success":"Pagamento recebido!","payment":{"waiting":"aguardando pagamento...","status":"Verificar status do pagamento"}},"publishers":{"publisher":{"allowance":{"title":"Limite de gastos","used_budget":"sats usados"}},"title":"Sua lista de sites ⚡️","description":"Sites onde você já usou a Alby","no_info":"Parece que você ainda não usou a Alby em sites.","discover":"Descubra sites"},"make_invoice":{"title":"Gerar fatura","amount":{"label":"Quantia (Satoshi)"},"memo":{"label":"Memo"},"errors":{"amount_too_small":"O valor é menor que o mínimo","amount_too_big":"O valor excede o máximo"}},"confirm_sign_message":{"title":"Assinar","content":"Este site solicita que você assine:"},"confirm_keysend":{"title":"Aprovar pagamento","success":"Pagamento enviado! Pré-imagem: {{preimage}}","payment_summary":{"description":"Enviar pagamento para: {{destination}}"}},"confirm_payment":{"title":"Aprovar pagamento","success":"Pagamento de {{amount}} realizado com sucesso!","actions":{"pay_now":"Pague agora"}},"lnurlauth":{"content_message":{"heading":"Você deseja logar em"},"success":"Login realizado com sucesso em {{name}}","errors":{"status":"Erro: O status de autenticação não está correto"},"submit":"Fazer login","title":"Autenticação"},"lnurlwithdraw":{"title":"Resgatar","content_message":{"heading":"Quantia"},"amount":{"label":"Quantia"},"success":"{{amount}} recebidos com sucesso de {{sender}}"},"lnurlchannel":{"success":"Solicitação de canal de pagamento enviada com sucesso para {{name}}","title":"Solicitar canal de pagamento","content_message":{"heading":"Solicitar canal de pagamento do servidor"}},"keysend":{"title":"Enviar","success":"Pagamento enviado! Pré-imagem: {{preimage}}","receiver":{"label":"Enviar pagamento para"},"amount":{"label":"Quantia (Satoshi)"}},"nostr":{"allow":"Permitir este site:","block_and_ignore":"Bloquear e ignorar {{host}}","title":"Nostr","content":"Este site solicita que você assine:","block_added":"{{host}} adicionado na lista de bloqueio, por favor recarregue o site.","allow_sign":"Permitir {{host}} assinar:","view_details":"Ver detalhes","hide_details":"Ocultar detalhes","kinds":{"0":"metadados","1":"nota de texto curta","3":"contatos","4":"mensagens diretas criptografadas","5":"exclusão de evento","7":"reação","9735":"zap","unknown":"tipo {{kind}}"},"allow_sign_event":"Permitir {{host}} assinar um evento {{kind}}","allow_encrypt":"Permitir {{host}} criptografar a mensagem:","allow_decrypt":"Permitir {{host}} descriptografar a mensagem:"},"confirm_request_permission":{"title":"Aprovar solicitação","allow":"Permitir este site executar:","always_allow":"Lembrar e não perguntar novamente"},"discover":{"title":"Explore o ecossistema ⚡️","description":"Sites onde você pode usar a Alby","list":{"trading":"Negociação","gaming":"Jogos","entertainment":"Entretenimento","shopping":"Compras","miscellaneous":"Outros","nostr":"Nostr","nodeManagement":"Gerenciamento de servidor"},"tips":{"top_up_wallet":{"description":"Precisa adicionar fundos?\\nClique aqui!","title":"Comprar Bitcoin"},"demo":{"title":"Teste a Alby","description":"Descubra tudo o que você pode fazer com a Alby\\nem nosso site de demonstração"},"title":"Sua carteira Alby está pronta","description":"Algumas dicas para você começar a usar a Alby 🐝","mnemonic":{"description":"Planejando usar apps Nostr?\\nClique aqui para configurar suas chaves.","title":"Nostr"}}},"choose_path":{"alby":{"title":"Conta Alby","connect":"Conecte-se com a Alby","description":"Crie uma conta Alby ou faça o login caso já possua uma conta conosco."},"other":{"title":"Outras contas","connect":"Conectar outras contas","description":"Conecte-se em sua carteira bitcoin ou em um dos vários servidores de carteira disponíveis."}},"alby":{"pre_connect":{"set_password":{"errors":{"enter_password":"Insira uma senha.","confirm_password":"Confirme sua senha.","mismatched_password":"As senhas não correspondem."},"confirm_password":{"label":"Confirmar senha"},"choose_password":{"label":"Senha"}}}},"transactions":{"title":"Transações","list_empty":"Sem transações.","description":"Extrato de transações desta conta"},"distributions":{"umbrel":{"name":"Umbrel"},"citadel":{"name":"Citadel"},"btcpay":{"name":"BTCPay"},"raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"start9":{"name":"Start9"},"description":"Escolha com qual aplicativo {{name}} você gostaria de se conectar","title":"Conectar em {{name}}"},"confirm_add_account":{"content":"Este site deseja adicionar uma conta ({{connector}}):","title":"Adicionar conta","tor_info":"Para se conectar através da rede TOR, você precisa primeiro instalar o aplicativo Alby companion:"},"on_chain":{"instructions1":"Para receber via endereço bitcoin, acesse sua <0>conta Alby</0> em getalby.com","go":"Ir para sua conta Alby na web →","title":"Receber via endereço bitcoin","instructions2":"Seu endereço bitcoin está na página <0>Receber</0>."},"lnurlredeem":{"title":"Resgatar vale-satoshi","input":{"placeholder":"LNURL...","label":"Código LNURL"},"actions":{"withdraw":"Resgatar"},"errors":{"invalid_withdraw_request":"Solicitação LNURL inválida","invalid_lnurl":"LNURL inválido"}},"scan_qrcode":{"title":"Aguardando leitura"},"confirm_sign_pset":{"view_details":"Ver detalhes","hide_details":"Ocultar detalhes","view_raw_transaction":"Ver transação raw (Base64)","hide_raw_transaction":"Ocultar transação raw (Base64)","outputs":"Saídas","amount":"{{amount}} {{ticker}}","title":"Assinar","allow_sign":"Este site solicita que você assine uma transação liquid","inputs":"Entradas"},"bitcoin":{"confirm_get_address":{"title":"Obter endereço"},"allow":"Permitir este site:","allow_sign":"Permitir {{host}} assinar:","block_and_ignore":"Bloquear e ignorar {{host}}","block_added":"{{host}} adicionado na lista de bloqueios, recarregue o site.","confirm_sign_psbt":{"title":"Assinar","hide_raw_transaction":"Ocultar transação bruta (Hex)","view_raw_transaction":"Ver transação bruta (Hex)","inputs":"Entradas","fee":"Taxa","hide_details":"Ocultar detalhes","allow_sign":"Este site solicita que você assine uma transação de bitcoin","view_details":"Ver detalhes","outputs":"Saídas"}},"liquid":{"title":"Liquid","block_added":"{{host}} adicionado na lista de bloqueios, recarregue o site.","allow":"Permitir este site:","allow_sign":"Permitir {{host}} assinar:","block_and_ignore":"Bloquear e ignorar {{host}}"},"send_to_bitcoin_address":{"total_fee":{"label":"Taxa"},"view_on_explorer":"Ver no explorer mempool","network_fee":{"label":"Taxa de rede"},"total":{"label":"Total"},"service_fee":{"label":"Taxa de serviço"},"amount":{"label":"Quantia (sats)"},"service_unavailable":"Serviço temporariamente indisponível. Tente novamente em alguns minutos.","provider":{"label":"Serviço provedor de trocas"},"time_estimate":"ℹ️ As transações geralmente são recebidas no prazo de 10 a 30 minutos.","title":"Enviar para um endereço bitcoin","recipient":{"label":"Endereço"}},"onboard":{"request2":"Você ainda não configurou suas chaves","request3":"A configuração é rápida e fácil","title":"Configure suas chaves","actions":{"start_setup":"Configurar"},"request1":"Interagir com este site exige configurar uma chave"},"nostr_enable":{"request1":"Solicitar a leitura de sua chave pública Nostr","title":"Conectar no Nostr","request2":"Solicitar assinar eventos usando sua chave privada"},"webln_enable":{"title":"Conectar no WebLN","request2":"Solicitar faturas e informações da rede relâmpago"},"webbtc_enable":{"title":"Conectar no WebBTC","request2":"Solicitar faturas e informações Webbtc"},"liquid_enable":{"title":"Conectar na Liquid","request2":"Solicitar faturas e informações da liquid"},"alby_enable":{"title":"Conectar na Alby","request2":"Solicitar faturas e informações da alby"},"confirm_payment_async":{"title":"Aprovar pagamento","description":"Esta é uma fatura do tipo HOLD. <0>Saiba mais »</0>","actions":{"pay_now":"Pagar agora"}}},"y0":{"password":"Senha","success":"Sucesso","error":"Erro","settings":"Configurações","connected_sites":"Sites conectados","sats_one":"sat","sats_other":"sats","loading":"carregando","amount":"Quantia","optional":"Opcional","feedback":"Feedback","copied":"Copiado!","actions":{"delete":"Remover","edit":"Editar","next":"Próximo","open":"Abrir","cancel":"Cancelar","confirm":"Confirmar","continue":"Continuar","connect":"Conectar","lock":"Bloquear","unlock":"Desbloquear","send":"Enviar","save":"Salvar","receive":"Receber","close":"Fechar","export":"Exportar","remove":"Remover","copy":"Copiar","copy_invoice":"Copiar código","back":"Voltar","log_in":"Fazer login","remember":"Lembrar e não perguntar novamente","receive_again":"Receber outro pagamento","transactions":"Transações","more":"Mais","import":"Importar","paste":"Colar","paste_clipboard":"Colar da área de transferência","download":"Baixar","copy_clipboard":"Copiar para área de transferência","disconnect":"Desconectar","copied_to_clipboard":"Copiado para a área de transferência","review":"Revisar","hide":"Ocultar"},"errors":{"connection_failed":"Falha na conexão","payment_failed":"Pagamento falhou"},"description":"Descrição","description_full":"Descrição completa","message":"Mensagem","help":"Ajuda","response":"Resposta","success_message":"{{amount}}{{fiatAmount}} enviados para {{destination}}","advanced":"Avançado","discover":"Explorar","confirm_password":"Confirmar senha","accounts":"Minhas contas","range":{"between":"entre {{min}} e {{max}}","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"},"balance":"Saldo disponível","wallet":"Carteira","connectors":{"galoy":"Galoy","lndhub":"LNDHub","eclair":"Eclair","lnd":"LND","lnbits":"LNBits","nativelndhub":"LNDHub (usando Tor)","commando":"Commando","citadel":"Citadel","nativelnbits":"LNBits (usando Tor)","nativecitadel":"Citadel (usando Tor)","nativelnd":"LND (usando Tor)"},"pasted":"Colado!","or":"ou","enable":{"block_added":"{{host}} adicionado à lista de bloqueio, recarregue o site.","request1":"Solicitar aprovação para transações","allow":"Permitir este site:","block_and_ignore":"Bloquear e ignorar {{host}}","insecure_domain_warn":"⚠️ Você está se conectando a um domínio inseguro."},"website":"Site","apps":"Apps"},"wx":{"allowance_menu":{"confirm_delete":"Tem certeza de que deseja desconectar este site?","hint":"O limite atual será redefinido","new_budget":{"label":"Novo limite","link_label":"Defina um limite para pagamentos com um clique"},"edit_allowance":{"title":"Preferências","screen_reader":"Opções limite de gastos"},"enable_login":{"title":"Login","subtitle":"O login é realizado de forma automática, sem necessidade de confirmação."},"edit_permissions":"Permissões"},"qrcode_scanner":{"title":"Ler código QR","actions":{"start_scanning":"Iniciar leitura","stop_scanning":"Parar leitura"},"errors":{"allow_camera_access":"Permita o acesso à câmera na tela configurações."}},"transactions_table":{"fee":"Taxa","preimage":"Pré-imagem","received":"Recebida","sent":"Enviada","boostagram":{"sender":"Enviado por","message":"Mensagem","app":"App","podcast":"Podcast","episode":"Episódio","action":"Ação","totalAmount":"Quantia total"},"open_location":"Abrir link","payment_hash":"Hash do pagamento","date_time":"Data & Hora"},"budget_control":{"remember":{"label":"Lembrar e definir um limite de gastos","description":"Você pode definir um valor limite para pagamentos automáticos (sem necessidade de confirmação)."},"budget":{"label":"Limite de gastos"}},"toasts":{"connection_error":{"what_you_can_do":"Aqui está o que você pode fazer:","double_check":"Verifique novamente os detalhes de sua conexão","if_ssl_errors":"e se houver erros de SSL (por exemplo, ERR_CERT_AUTHORITY_INVALID), clique em \\"avançado\\" e prossiga para aceitar o certificado.","visit_guides":"Acesse nossos tutoriais para obter mais ajuda"},"login_failed":{"password_reset":"Esqueceu sua senha? Clique aqui"},"errors":{"invalid_credentials":"Senha incorreta. Verifique se sua senha e endereço de e-mail estão corretos e tente novamente."}},"account_menu":{"title":"Mudar de conta","options":{"account":{"add":"Adicionar nova conta","manage":"Gerenciar contas","account_settings":"Configurações da conta","go_to_web_wallet":"Acessar sua conta na web"}}},"publishers_table":{"payments":"pagamentos","total":"total","budget":"limite de gastos"},"badge":{"label":{"auth":"LOGIN","imported":"IMPORTADA","budget":"LIMITE DE GASTOS"}},"companion_download_info":{"tor_native":{"title":"TOR (nativo)","description":"Selecione esta opção se este navegador já estiver conectado à rede TOR."},"heading":"Como você deseja se conectar à rede TOR?","download":"Baixar"}},"mk":{"nostr":{"getpublickey":"Ler sua chave pública","signmessage":"Assinar mensagem com sua chave","nip04decrypt":"Descriptografar dados","nip04encrypt":"Criptografar dados"},"lnc":{"openchannel":""},"bitcoin":{"getaddress":"Ler seu endereço de recebimento de Bitcoin"},"liquid":{"signschnorr":"Assinar mensagem com sua chave","getaddress":"Ler seu endereço de recebimento da Liquid"},"webln":{"getbalance":"Ler o saldo da sua conta"}}}'),Ct=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"Ange ett lösenord för upplåsning","description":"Detta lösenord låter dig låsa upp Alby på den här enheten. Det kan inte återställas, men kan ändras senare.","choose_password":{"label":"Välj ett lösenord för upplåsning:"},"confirm_password":{"label":"Bekräfta att du skrivit in lösenordet korrekt:"},"errors":{"enter_password":"Skriv in ett lösenord.","confirm_password":"Bekräfta ditt lösenord.","mismatched_password":"Lösenorden överensstämmer inte."}},"test_connection":{"ready":"Fantastiskt, du är redo att börja!","initializing":"Initialiserar ditt konto. Vänta, det kan ta någon minut...","connection_error":"Anslutningsfel","review_connection_details":"Se över dina anslutningsinställningar.","connection_taking_long":"Anslutningen tar längre tid än förväntat... Är inställningarna korrekta? Är din nod nåbar?","contact_support":"Om du behöver hjälp, kontakta support@getalby.com","actions":{"delete_edit_account":"Radera ogiltigt konto och redigera igen"}},"title":"Välkommen till Alby","pin_extension":{"title":"Fäst din Alby extension","description":"Du är nästan där. För att använda Alby bekvämt, kom ihåg att fästa ditt tillägg till webbläsarens verktygsfält:","explanation":"1. Klicka på <0/> i det övre högra hörnet av din webbläsare<1/>2. Hitta Alby och klicka för att fästa den i verktygsfältet<1/>3. Det är allt. För att komma åt Alby klickar du bara på ikonen <2/>","next_btn":"Börja surra {{icon}} med Alby"}},"choose_connector":{"description":"Anslut till din externa lightning-plånbok eller node","lnd":{"title":"LND","page":{"title":"Anslut din LND-nod","description":"Du behöver URLen till din nod samt en macaroon med läs och skicka-rättigheter (t.ex. admin.macaroon)"},"url":{"label":"REST API värd och port","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon (HEX-format)"},"drag_and_drop":"Drag och släpp din macaroon här eller <0>bläddra</0>","errors":{"connection_failed":"Koppling misslyckades. Är dina LND-uppgifter korrekta?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Koppla till LNDHub","description":"Fyll i dina LNDHub-uppgifter eller skanna QR-koden med din webbkamera."},"uri":{"label":"LNDHub Export URI"},"errors":{"invalid_uri":"Ogiltig LNDHub URI","connection_failed":"Koppling misslyckades. Är din LNDHub URI korrekt?"}},"lnbits":{"title":"LNbits","page":{"title":"Anslut <0>LNbits</0>","instructions":"I LNBits, välj den plånbok du vill ansluta, öppna den och klicka på API info och kopiera Admin-nyckeln. Klistra in nedan:"},"admin_key":{"label":"LNBits Admin-nyckel","placeholder":"Din 32-siffriga admin-nyckel"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Anslutningen misslyckades. Har du korrekt URL och Admin-nyckel?"}},"eclair":{"title":"Eclair","page":{"title":"Anslut <0>Eclair</0>","instructions":"Du behöver din Eclair URL och lösenord."},"password":{"label":"Eclair lösenord"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Anslut <0>Citadel</0>-nod","instructions":"Detta fungerar för tillfället inte om 2FA är aktiverat."},"password":{"label":"Citadel lösenord"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Anslut <0>Umbrel</0>-nod","instructions":"1. Gå till <0>Anslut plånbok</0><1/>2 i din Lightning Node-instrumentpanel. Välj läge <0>REST (Tor)</0> eller <0>REST (Lokalt nätverk)</0><1/>3. Kopiera <0>lndconnect URL</0> och klistra in den nedan"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Anslut <0>myNode</0>","instructions":"På din myNode-hemsida, klicka på knappen <0>Wallet</0> som motsvarar din <0>Lightning</0>-tjänst. <1/> Klicka på knappen <0>Pair Wallet</0> under fliken <0>Status</0>. Fyll i ditt lösenord när du blir tillfrågad.<1/> I droppmenym välj kopplingsalternativ. Beroende på dina inställningar kan du antingen välja <0>Lightning (REST + Local IP)</0> eller <0>Lightning (REST + Tor)</0>."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"start9":{"title":"Start9","page":{"title":"Anslut till din <0>Start9 Server</0>","instructions":"På din Embassy instrumentpanel klickar du på tjänsten <0>Lightning Network Daemon</0>.<1/>Välj fliken <0>Egenskaper</0>.<1/>Kopiera nu <0>LND Connect REST URL. </0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Anslut din <0>RaspiBlitz</0>-nod","instructions1":"Följ dessa steg:<1/> 1. <0>SSH</0> till din <0>Raspiblitz</0><1/>2. Välj <0>Anslut appar och visa inloggningsuppgifter</0> från listan<1/><0/>3. Välj <0>Anslut Alby till denna nod</0><1/>4. Tryck på <0>OK</0> för att visa anslutningsuppgifterna<1/><1/>Kopiera och klistra in <0>REST API-värden</0> eller <0>.onion</0>-adressen för att ansluta genom Tor till ingången nedan.","instructions2":"Kopiera (admin) <0>macaroon</0> till inmatningen nedan."},"rest_api_host":{"label":"REST API värd","placeholder":"din-onion-nod-adress:port"}},"blink":{"title":"Blink plånbok","page":{"title":"Anslut <0>Blink Wallet</0>"},"token":{"label":"Ange din API-nyckel"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Anslut en <0>Bitcoin Jungle Wallet</0>"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Anslut din BTCPay LND-nod","instructions":"Navigera till din BTCPayServer och logga in som administratör. Gå till Server Settings > Services > LND Rest - See information. Klicka på \\"See QR Code information\\" och kopiera QR-koddatan. Klistra in nedan:"},"config":{"label":"Konfigurationsdata","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Anslutning misslyckades. Är URL till BTCPay-anslutningen korrekt och tillgänglig?"}},"commando":{"port":{"label":"Port"},"title":"Core Lightning","proxy":{"label":"Websocket proxy"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Anslutningen misslyckades. Är din Core Lightning-nod online och använder kommandoplugin?"},"privKey":{"label":"Lokal privat nyckel (automatiskt genererad)"},"page":{"title":"Anslut till din Core Lightning node","instructions":"Säkerställ att du har Core Lightning version 0.12.0 eller nyare, att kommando insticksprogrammet är aktivt samt att din node är nåbar över lightning-nätverket. Skapa en rune genom att köra \'lightning-cli commando-rune\'."},"pubkey":{"label":"Publik nyckel"},"rune":{"label":"Rune"},"host":{"label":"Hosta"}},"title":"Anslut Lightning Plånbok","lnc":{"pairing_phrase":{"placeholder":"hemlig stack sats fras","label":"Din parningsfras "},"title":"Lightning Terminal (LNC)","page":{"title":"Anslut till din LND node","description":"1. Öppna Lightning Terminal och välj <0>Lightning Node Connect</0> från sidofältet.<1/> 2. Klicka på <0>Skapa en ny session</0><1/>3. Märk sessionen, välj önskade behörigheter och skicka in<1/>4. <0>Kopiera parningsfras</0> och klistra in den nedan."}},"umbrel_lightning_node":{"title":"Lightning Node"}},"home":{"actions":{"send_satoshis":"⚡️ Skicka Satoshis ⚡️","enable_now":"Aktivera Nu"},"allowance_view":{"no_transactions":"Inga transaktioner för <0>{{name}}</0> ännu.","sats":"sats","budget_spent":"Budget förbrukad","total_spent":"Totalt spenderat","total_payments":"Totala betalningar","permissions":"Behörigheter"},"default_view":{"is_blocked_hint":"Alby är för tillfället avstängt hos {{host}}","block_removed":"Aktiverade {{host}}. Ladda om webbplatsen.","see_all":"Se alla","no_transactions":"Inga transaktioner för detta konto ännu."}},"accounts":{"title":"Konton","actions":{"add_account":"Lägg till konto"},"account_view":{"nostr":{"generate_keys":{"hint":"Du kan generera en slumpmässig nyckel eller få en nyckel från denna kontoinformation (med en signerad kanonisk fras). <0>Läs mer »</0>","screen_reader":"Skapa en ny Nostr-nyckel för ditt konto","title":"Generera en ny Nostr nyckel","actions":{"random_keys":"Generera en slumpmässig nyckel","derived_keys":"Få en nyckel från kontot"}},"errors":{"failed_to_load":"Det gick inte att ladda Nostr-nyckeln. Är det en giltig Nostr-nyckel?"},"private_key":{"title":"Hantera dina Nostr privata nyckel","successfully_removed":"Nostr privat nyckel har tagits bort.","label":"Nostr Privat Nyckel","subtitle":"Klistra in din nostr privata nyckel eller skapa en ny. <0>Läs mer »</0>","success":"Nostr privat nyckel krypterad och sparad.","failed_to_remove":"Det angivna kontonamnet matchade inte, din gamla Nostr privata nyckel har återställts.","warning":"Vänligen ange namnet på kontot för att bekräfta raderingen av din nostr privata nyckel:\\n\\n{{ name }}"},"public_key":{"label":"Nostr Publik Nyckel"},"actions":{"generate":"Generera en ny nyckel"},"title":"Nostr","hint":"är ett enkelt och öppet protokoll som syftar till att skapa ett censur beskyddat sociala nätverk. Nostr fungerar med kryptografiska nycklar. För att publicera något signerar du det med din nyckel och skickar det till flera reläer. Du kan använda Alby för att hantera din Nostr-nyckel. Många Nostr-applikationer låter dig då helt enkelt använda nyckeln från Alby-tillägget.","settings":{"label":"Nostr Inställningar","title":"Nostr Inställningar","imported_key_warning":"⚠️ Du använder för närvarande en importerad eller slumpmässigt genererad Nostr-nyckel. Din privata Nostr-nyckel kan inte återställas av din återställningsfras, så kom ihåg att säkerhetskopiera din privata Nostr-nyckel separat.","derive":"Härled från huvudnyckel","can_restore":"✅ Nostr-nyckel härledd från din huvudnyckel","description":"Härled Nostr-nycklar från din huvudnyckel eller importera din befintliga privata nyckel genom att klistra in den i fältet \\"Nostr privat nyckel\\".","no_secret_key":"💡 Du har ingen huvudnyckel än. <0>Klicka här</0></div> för att skapa din huvudnyckel och härleda dina Nostr-nycklar.","remove":"Ta bort nuvarande nycklar"},"setup":{"description":"Välj Om du vill skapa ett nytt Nostr-konto (ett par privata och offentliga nycklar) eller importera ett befintligt.","description2":"Varje Nostr-konto som skapas i Alby kommer med en <0>Återställningsfras</0> – en uppsättning av 12 ord som alltid låter dig återfå åtkomst till dina privata Nostr-nycklar.","title":"Ställ in dina Nostr-nycklar","new":{"label":"Skapa ett nytt Nostr-konto","description":"Generera en huvudnyckel med ett par nya Nostr-nycklar."},"import":{"label":"Importera ett Nostr-konto","description":"Använd en befintlig privat Nostr-nyckel eller härled den från din huvudnyckel","recovery_phrase":{"label":"Använd återställningsfras","description":"Använd huvudnyckelåterställningsfrasen för att importera dina Nostr-nycklar"},"private_key":{"description":"Klistra in din privata Nostr-nyckel för att importera den till Alby","label":"Använd Nostr privat nyckel"},"title":"Hur skulle du vilja importera ditt Nostr-konto?"},"new_to_nostr":"Ny på Nostr? <0>Läs mer</0>"}},"remove":{"title":"Ta bort detta konto","subtitle":"Tar bort alla traktamenten, betalningsdata och nycklar som är kopplade till detta konto.","error":"Det angivna kontonamnet matchade inte.","confirm":"Ange namnet på kontot för att bekräfta raderingen av ditt konto.\\n\\n{{ name }}\\n\\n ⚠️ Alla associerade nycklar (Master Key, Nostr, etc) kommer att raderas om du fortsätter. Se till att du har säkerhetskopierat dem, det finns inget annat sätt att återställa dem."},"title1":"Konto inställningar","title2":"Konto","name":{"title":"Visnings Namn","placeholder":"Konto visningsnamn"},"export":{"title":"Anslut din mobila plånbok","screen_reader":"Exportera konto detaljer","waiting":"väntar på LndHub-data...","your_ln_address":"Din Lightning Address:","export_uri":"LNDHub-inloggnings-URI","scan_qr":"Importera denna plånbok till Zeus eller BlueWallet genom att skanna QR-koden.","description":"Låter dig ansluta och använda det här kontot på mobila plånböcker som <0>Blue Wallet</0> och <1>Zeus</1>."},"actions":{"remove_account":"Ta bort kontot","export":"Exportera","remove_secretkey":"Ta bort huvudnyckeln"},"mnemonic":{"saved":"Huvudnyckeln krypterad och sparad.","existing_nostr_key_notice":"ℹ️ Detta konto har redan en nostr privat nyckeluppsättning och kommer inte att härledas från denna huvudnyckel. Du kan hantera din Nostr-nyckel från dina kontoinställningar.","generate":{"title":"Generera ny huvudnyckel","button":"Generera huvudnyckel","confirm":"Jag har säkerhetskopierat återställningsfrasen till min huvudnyckel på en privat och säker plats.","error_confirm":"Bekräfta att du har säkerhetskopierat återställningsfrasen.","description":"Master Key låter dig interagera med olika protokoll som: Nostr, baslager av Bitcoin eller LNURL-Auth."},"backup":{"title":"Säkerhetskopiera din återställningsfras","save":"Spara huvudnyckeln","button":"Visa återställningsfras","protocols":{"nostr":"Nostr"},"warning":"⚠️ Glöm inte att säkerhetskopiera din återställningsfras! Att inte säkerhetskopiera det kan leda till att du permanent förlorar åtkomst till din huvudnyckel, Nostr-identitet eller tillgångar som du hanterar med denna nyckel.","description":"Skriv ner återställningsfrasen för att kunna återställa din huvudnyckel på en ny enhet eller om du förlorar åtkomsten till ditt konto.","items":{"recovery_phrase":"Du kan alltid komma åt din huvudnyckel genom att använda dess återställningsfras.","words":"Återställningsfrasen består av 12 ord som fungerar som ett lösenord, men det kan inte ändras eller återställas om det tappas bort.","storage":"Se till att skriva ner det någonstans säkert och privat!","keys":"Master Key låter dig interagera med olika protokoll som: Nostr, Liquid eller baslager av Bitcoin."}},"import":{"title":"Importera din huvudnyckel","description":"Använd återställningsfrasen för att importera din huvudnyckel till Alby.","button":"Importera huvudnyckel"},"title":"🔑 Nyckelhantering","inputs":{"title":"Återställningsfras"},"lnurl":{"title":"Logga in med Lightning","use_mnemonic":"Använd Master Key för att logga in på lightning appar (LNURL Auth)"},"new":{"title":"Vad är en Master Key?"}},"remove_secretkey":{"title":"Ta bort huvudnyckeln","subtitle":"Tar bort huvudnyckeln från det här kontot.","success":"Masternyckeln har tagits bort.","confirm":"Ange namnet på kontot för att bekräfta raderingen av din huvudnyckel.\\n\\n{{ name }}"},"no_mnemonic_hint":"💡 Du har ingen huvudnyckel än. <0>Klicka här</0></div> för att skapa din huvudnyckel och låsa upp dessa inställningar.","network":{"title":"Nätverk","subtitle":"Välj nätverk för att härleda adresser och avkoda bitcoin och likvida transaktioner","options":{"bitcoin":"Mainnet","testnet":"Testnet","regtest":"Regtest"}}}},"unlock":{"unlock_to_continue":"Lås upp för att fortsätta","unlock_password":"Ditt upplåsningslösenord","help_contact":{"part1":"Behvöver du hjälp? Kontakta","part2":"Alby Support"},"unlock_error":{"help":"Ditt konto är krypterat med ditt upplåsningslösenord. Om du har glömt ditt upplåsningslösenord behöver du nollställa och lägga till ditt Lightning-konto på nytt.","link":"Nollställ och skapa ett nytt konto"},"errors":{"invalid_password":"Ogiltigt lösenord"}},"settings":{"title":"Inställningar","browser_notifications":{"title":"Webbläsarnotiser","subtitle":"Betalnings- och autentiseringsrelaterade notiser."},"website_enhancements":{"title":"Webbplatsförbättringar","subtitle":"Dricks för Twitter, YouTube, m.fl."},"lnurl_auth":{"title":"LNURL-Auth","hint":"är ett generiskt autentiseringsprotokoll. Detta autentiserar användarens digitala signaturer. Protokollet kräver ingen ytterligare information såsom lösenord, e-post, användarnamn eller liknande. Med Alby kan du använd dina lightning-konton för att logga in på webbplatser. För att vara kompatibla med andra plånböcker var vi tvungna att göra vissa förändringar som du kan konfigurera här. <0>I bästa fall är alla inställningar AV.</0> Använd enbart om du har äldre konton.","legacy_lnurl_auth_202207":{"title":"Äldre LNURL-Auth","subtitle":"Nyckelgenereringen för LNURL-auth har ändrats (Juli 2022). Alby var inte kompatibelt med andra implementationer. Detta har ändrats och nu används andra inloggningsnycklar. Om du tidigare använt LNURL-auth för att logga in, kan du fortfarande aktivera denna metod. Denna möjlighet kommer försvinna så se till att byta till det nya inloggningsförfarandet."},"legacy_lnurl_auth":{"title":"Äldre signeringsmetod för LNDHub och LNbits","subtitle":"Meddelandesignering och inloggning med LNDhub (t.ex. BlueWallet) och LNbits-konton har ändrats (Mars 2022). Om du tidigare loggade in med dessa konton kan du fortfarande aktivera den äldre signeringsmetoden. Denna möjlighet kommer försvinna så se till att byta till det nya inloggningsförfarandet."}},"camera_access":{"title":"Åtkomst till kamera","subtitle":"För att skanna QR-koder","allow":"Tillåt åtkomst till kamera","granted":"Åtkomst beviljad"},"language":{"title":"Språk","subtitle":"Översättningarna är inte fullständiga till 100%. <0>Hjälp oss att översätta Alby till ditt språk!</0>"},"theme":{"title":"Tema","subtitle":"Använd Alby i mörkt eller ljust läge","options":{"dark":"Mörkt","light":"Ljust","system":"System"}},"show_fiat":{"title":"Sats till Fiat","subtitle":"Växla alltid till denna valuta från vald valutaväxlare"},"currency":{"title":"Valuta","subtitle":"Visa belopp även i denna valuta"},"exchange":{"title":"Källa för växlingskurs","subtitle":"Källa för Bitcoin växlingskurs"},"personal_data":{"title":"Personlig information","description":"Betalande kan be att få skicka ytterligare information tillsammans med en överföring. Denna information delas inte med någon annan utan ditt samtycke. Du kommer alltid få frågan om denna information ska skickas tillsammmans med en överföring."},"name":{"title":"Namn","subtitle":"","placeholder":"Skriv ditt namn"},"email":{"title":"E-post","subtitle":"","placeholder":"Skriv in din e-postadress"},"change_password":{"title":"Ändra upplåsningslösenord","subtitle":"","screen_reader":"Ända upplåsningslösenord","choose_password":{"label":"Skriv in det nya upplåsningslösenordet:"},"confirm_password":{"label":"Bekräfta nytt lösenord:"},"submit":{"label":"Ändra"},"errors":{"enter_password":"Skriv in ett nytt upplåsningslösenord.","confirm_password":"Bekräfta ditt lösenord.","mismatched_password":"Lösenorden överensstämmer inte."},"success":"Lösenordet har ändrats"},"nostr":{"title":"Nostr","hint":"är ett enkelt och öppet protokoll som syftar till att skapa sociala nätverk som är motståndskraftiga mot censur. Nostr använder kryptografiska nycklar. För att publicera något signerar du med dina nycklar som skickas till multipla reläer. Du kan använda Alby för att hantera din Nostr-nyckel. Flertalet Nostr-applikationer tillåter dig att använda nyckeln med hjälp av Alby-tillägget.","private_key":{"title":"Privat nyckel","subtitle":"Det här sektionen har flyttas till kontosidan eftersom nycklar är kontospecifika nu.","go_to":"Gå till Konton"}}},"send":{"title":"Skicka","input":{"label":"Mottagare","hint":"Faktura, Lightning-adress eller LNURL","hint_with_bitcoin_address":"Faktura, Lightning-adress , LNURL eller bitcoin adress"}},"lnurlpay":{"amount":{"label":"Belopp"},"comment":{"label":"Kommentar"},"name":{"label":"Namn"},"email":{"label":"E-post"},"success":"Klart. Betalning skickad!"},"lnurlauth":{"title":"Autentisering","content_message":{"heading":"Vill du logga in till"},"submit":"Logga in","success":"Inloggad till {{name}}","errors":{"status":"Fel: Auth status är felaktig"}},"lnurlchannel":{"title":"Kanalbegäran","content_message":{"heading":"Begär kanal från nod"},"success":"Kanalbegäran skickad till {{name}}"},"lnurlwithdraw":{"title":"Återkalla","content_message":{"heading":"Belopp"},"amount":{"label":"Belopp"},"success":"Återkallelse av begäran om {{amount}} skickad till {{sender}}"},"receive":{"title":"Tag emot","actions":{"create_invoice":"Skapa Faktura","redeem":{"description":"Ta ut en bitcoin-kupong direkt via en LNURL-kod","title":"Lösa in"},"invoice":{"title":"Lightning faktura","description":"Begär omedelbara och specifika belopp bitcoinbetalningar"},"bitcoin_address":{"description":"Ta emot via bitcoin-adress med en bytestjänst","title":"Bitcoin adress"}},"amount":{"label":"Belopp","placeholder":"Belopp i Satoshi..."},"description":{"label":"Beskrivning","placeholder":"T.ex. vem skickar denna betalning?"},"success":"Betalning mottagen!","payment":{"waiting":"väntar på betalning...","status":"Kontrollera betalningsstatus"}},"publishers":{"publisher":{"allowance":{"title":"Beloppsgräns","used_budget":"spenderade sats"}},"description":"Webbplatser där du har använt Alby tidigare","discover":"Upptäck webbplatser","no_info":"Det verkar som att du inte har använt Alby på några webbplatser än.","title":"Dina ⚡ webbsidor"},"make_invoice":{"title":"Skapa Faktura","amount":{"label":"Belopp (Satoshi)"},"memo":{"label":"PM"},"errors":{"amount_too_small":"Belopp understiger minimigränsen","amount_too_big":"Belopp överstiger maximumgränsen"}},"confirm_sign_message":{"title":"Signera","content":"Den här webbplatsen ber dig att logga in:"},"confirm_keysend":{"title":"Godkänn Betalning","success":"Betalning skickad! Förhandsvy: {{preimage}}","payment_summary":{"description":"Skicka betalning till: {{destination}}"}},"keysend":{"title":"Skicka","success":"Betalning skickad! Förhandsvy: {{preimage}}","receiver":{"label":"Skicka betalning till"},"amount":{"label":"Belopp (Satoshi)"}},"confirm_payment":{"title":"Godkänn Betalning","success":"Betalning av {{amount}} genomförd!","actions":{"pay_now":"Betala nu"}},"nostr":{"title":"Nostr","allow":"Tillåt den här webbplatsen att:","block_and_ignore":"Blockera och ignorera {{host}}","kinds":{"0":"metadata","1":"kort textanteckning","2":"rekommenderade relä","3":"kontakter","4":"krypterade direktmeddelanden","5":"radering av händelse","7":"reaktion","8":"badge utmärkelse","40":"skapa kanal","41":"kanalens metadata","42":"kanal meddelande","43":"kanal gömda meddelande","44":"kanal tysta användare","1984":"anmäla","9734":"zap förfrågan","9735":"zap","10002":"relä listans metadata","22242":"klient autentisering","24133":"nostr ansluta","30008":"profil badges","30009":"badge definition","30023":"långformigt innehåll","30078":"applikationsspecifika data"},"view_details":"Visa detaljer","hide_details":"Göm detaljer","block_added":"Lade till {{host}} till blockeringslistan, ladda om webbplatsen.","allow_sign":"Tillåt {{host}} att signera:","content":"Den här webbplatsen ber dig att signera:"},"choose_path":{"alby":{"title":"Alby Konto","connect":"Anslut med Alby","description":"Registrera dig eller använd ditt befintliga Alby konto. Perfekt att snabbt komma igång och för små belopp."},"other":{"title":"Annan Plånbok","connect":"Anslut","description":"Anslut till din befintliga lightning plånbok eller nod och välj bland olika kontakter. Perfekt för full flexibilitet. Kör din egen nod."}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Lösenord"},"confirm_password":{"label":"Bekräfta Lösenord"},"errors":{"mismatched_password":"Lösenordet matchar inte.","enter_password":"Vänligen ange ett lösenord.","confirm_password":"Vänligen ange ditt lösenord."}}}},"discover":{"list":{"miscellaneous":"Diverse","gaming":"Spel","entertainment":"Underhållning","shopping":"Shoppa","showcases":"Vitriner","nostr":"Nostr","trading":"Handel","nodeManagement":"Nodhantering"},"tips":{"title":"Din Alby plånbok är redo","description":"Några tips för att få igång dig\'🐝","top_up_wallet":{"title":"Köp Bitcoin","description":"Behöver du en påfyllning?\\nVi hjälper dig!"},"demo":{"title":"Alby Demo","description":"Upptäck Albys funktioner\\npå vår demowebbplats"},"mnemonic":{"title":"Nostr","description":"Planerar du att använda Nostr?\\nSkapa dina nycklar nu."}},"title":"Utforska Lightnings ⚡️ Eco system","description":"Webbplatser och webbappar där du kan använda Alby"},"confirm_request_permission":{"always_allow":"Kom ihåg mitt val och fråga inte igen","title":"Godkänn begäran","allow":"Tillåt den här webbplatsen att köra:"},"transactions":{"title":"Transaktion","list_empty":"Inga transaktioner tillgängliga ännu.","description":"Transaktioner för detta konto"},"distributions":{"title":"Anslut till {{namn}}","description":"Välj vilket {{namn}} app du vill ansluta med","umbrel":{"name":"Umbrel"},"citadel":{"name":"Citadel"},"btcpay":{"name":"BTCPay"},"raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"start9":{"name":"Start9"}},"confirm_add_account":{"title":"Lägg till konto","content":"Den här webbplatsen vill lägga till ett konto ({{connector}}):","tor_info":"För att kunna ansluta via TOR-nätverket måste du först installera Alby kompanion appen:"},"on_chain":{"title":"Ta emot via bitcoin adress","instructions2":"Du hittar din bitcoin adress på <0>Ta emot</0> sidan.","go":"Gå till ditt Alby konto →","instructions1":"För att ta emot bitcoin via en bitcoin adress, logga in på ditt <0>Alby-konto</0> på getalby.com"},"scan_qrcode":{"title":"Väntar på att skanna"},"lnurlredeem":{"input":{"placeholder":"LNURL...","label":"LNURL-uttagskod"},"errors":{"invalid_withdraw_request":"Ogiltig LNURL-utagningsbegäran","invalid_lnurl":"Ogiltig LNURL"},"title":"Lös in bitcoin","actions":{"withdraw":"Ta ut"}},"confirm_sign_pset":{"title":"Signera","allow_sign":"Denna webbplats ber dig att underteckna en Liquid transaktion:","view_details":"Visa detaljer","hide_details":"Dölj detaljer","view_raw_transaction":"Visa obearbetad transaktion (Base64)","hide_raw_transaction":"Göm obearbetad transaktion (Base64)","inputs":"Ingångar","outputs":"Utgångar","amount":"{{amount}} {{ticker}}"},"bitcoin":{"confirm_get_address":{"title":"Hämta Adress"},"allow":"Tillåt den här webbplatsen att:","allow_sign":"Tillåt {{host}} att signera:","block_and_ignore":"Blockera och ignorera {{host}}","block_added":"Lade till {{host}} till blockeringslistan, ladda om webbplatsen.","confirm_sign_psbt":{"title":"Signera","hide_raw_transaction":"Göm råtransaktion (hexadecimal)","view_raw_transaction":"Visa råtransaktion (hexadecimal)","inputs":"Ingångar","fee":"Avgift","hide_details":"Göm detaljer","allow_sign":"Den här webbplatsen ber dig att underteckna en bitcoin-transaktion","view_details":"Visa detaljer","outputs":"Utgångar"}},"liquid":{"title":"Liquid","allow":"Tillåt den här webbplatsen att:","allow_sign":"Tillåt {{host}} att signera:","block_and_ignore":"Blockera och ignorera {{host}}","block_added":"Lade till {{host}} till blockeringslistan, ladda om webbplatsen."},"send_to_bitcoin_address":{"service_unavailable":"Tjänsten är för tillfällig inte tillgänglig, försök igen om några minuter.","amount":{"label":"Belopp (sats)"},"title":"Skicka till bitcoin-adress","recipient":{"label":"Mottagare"},"network_fee":{"label":"Nätverksavgift"},"service_fee":{"label":"Serviceavgift"},"total":{"label":"Total"},"total_fee":{"label":"Avgift"},"provider":{"label":"Byt leverantör"},"view_on_explorer":"Visa på mempool explorer","time_estimate":"ℹ️ Transaktioner kommer vanligtvis inom 10-30 minuter."},"webln_enable":{"title":"Anslut till WebLN","request2":"Begär fakturor och lightning information"},"onboard":{"request2":"Du har inte konfigurerat dina nycklar än","request1":"Denna webbplats kräver nyckelinteraktion","request3":"Installationen är snabb och enkel","title":"Ställ in dina nycklar","actions":{"start_setup":"Starta installationen"}},"liquid_enable":{"request2":"Begär fakturor och likvida uppgifter","title":"Anslut till Liquid"},"nostr_enable":{"title":"Anslut till Nostr","request1":"Begär att läsa din publika Nostr-nyckel","request2":"Begäran att signera händelser med din privata nyckel"},"webbtc_enable":{"request2":"Begär fakturor och Webbtc-information","title":"Anslut till WebBTC"},"alby_enable":{"title":"Anslut till Alby","request2":"Begär fakturor och albyinformation"},"confirm_payment_async":{"title":"Godkänn betalning","description":"Detta är en HOLD-faktura. <0>Läs mer »</0>","actions":{"pay_now":"Betala nu"}}},"y0":{"password":"Lösenord","success":"Genomfört","error":"Misslyckades","settings":"Inställningar","connected_sites":"Anslutna webbplatser","loading":"laddar","amount":"Belopp","optional":"Valfritt","feedback":"Återkoppling","copied":"Kopierad!","description":"Beskrivning","description_full":"Fullständig beskrivning","message":"Meddelande","help":"Hjälp","actions":{"back":"Tillbaka","delete":"Radera","edit":"Redigera","next":"Nästa","open":"Öppna","cancel":"Avbryt","confirm":"Bekräfta","continue":"Fortsätt","connect":"Anslut","lock":"Lås","unlock":"Lås upp","send":"Skicka","save":"Spara","receive":"Tag emot","close":"Stäng","export":"Exportera","remove":"Tag bort","copy":"Kopiera","copy_invoice":"Kopiera faktura","transactions":"Transaktioner","receive_again":"Ta emot en ny betalning","remember":"Kom ihåg mitt val och fråga inte igen","log_in":"Logga in","more":"Mer","download":"Ladda ner","import":"Importera","copy_clipboard":"Kopiera till urklipp","paste":"Klistra in","paste_clipboard":"Klistra in från urklipp","review":"Recension","copied_to_clipboard":"Kopierade till urklipp","disconnect":"Koppla ifrån","hide":"Dölj"},"errors":{"connection_failed":"Anslutning misslyckades","payment_failed":"Betalning misslyckades"},"range":{"between":"mellan {{min}} och {{max}}","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"},"sats_other":"sats","sats_one":"sat","advanced":"Avancerat","accounts":"Konton","discover":"Upptäcka","success_message":"{{amount}}{{fiatAmount}} skickat till {{destination}}","response":"Svar","confirm_password":"Bekräfta Lösenord","balance":"Balans","wallet":"Plånbok","connectors":{"lnd":"LND","nativelnd":"LND (över Tor)","nativelndhub":"LNDHub (över Tor)","galoy":"Galoy","eclair":"Eclair","nativecitadel":"Citadel (över Tor)","commando":"Commando","nativelnbits":"LNBits (över Tor)","lndhub":"LNDHub","lnbits":"LNBits","citadel":"Citadel"},"or":"eller","pasted":"Klistrat in!","enable":{"block_added":"Lade till {{host}} till blockeringslistan, ladda om webbplatsen.","request1":"Begär godkännande för transaktioner","allow":"Tillåt den här webbplatsen att:","block_and_ignore":"Blockera och ignorera {{host}}"},"website":"Webbsida"},"wx":{"allowance_menu":{"confirm_delete":"Är du säker på att du vill koppla bort den här webbplatsen?","hint":"Om du ändrar detta återställs den nuvarande budgeten","new_budget":{"label":"Betalningsbudget med ett klick","link_label":"Ställ in en budget för betalningar med ett klick"},"enable_login":{"title":"Aktivera webbplatsinloggning","subtitle":"Logga in automatiskt utan bekräftelse när webbplatsen begär det."},"edit_allowance":{"title":"Webbplatsinställningar","screen_reader":"Alternativ för Beloppsgräns"},"edit_permissions":"Redigera behörigheter"},"qrcode_scanner":{"title":"Skanna QR-kod","actions":{"start_scanning":"Påbörja skanning","stop_scanning":"Avsluta skanning"},"errors":{"allow_camera_access":"Tillåt kameraåtkomst under inställningar."}},"transactions_table":{"fee":"Avgift","preimage":"Förhandsvy","received":"Mottaget","sent":"Skickat","boostagram":{"sender":"Avsändare","message":"Meddelande","app":"App","podcast":"Podcast","episode":"Avsnitt","action":"Åtgärd","totalAmount":"Totalt belopp","timestamp":"Tidsstämpel"},"open_location":"Öppna websida","payment_hash":"Betalningshash","date_time":"Datum & tid"},"budget_control":{"remember":{"label":"Kom ihåg att ange en budget","description":"Du kan ange en beloppsgräns utan att behöva bekräfta betalningar förrän gränsen är uppnådd."},"budget":{"label":"Budget"}},"toasts":{"connection_error":{"what_you_can_do":"Du kan göra detta:","double_check":"Kontrollera dina anslutningsinställningar","if_ssl_errors":"och om det förekommer SSL-fel (t.ex. ERR_CERT_AUTHORITY_INVALID), klicka på \\"advanced\\" och fortsätt genom att godkänna certifikatet.","visit_guides":"Besök vår guide för ytterligare hjälp"},"login_failed":{"password_reset":"Glömt ditt lösenord? Klicka här"},"errors":{"invalid_credentials":"Ogitligt lösenord. Kontrollera ditt lösenord, e-postadress och försök igen."}},"account_menu":{"screen_reader":"Öppna droppmeny","title":"Växla konto","options":{"account":{"add":"Lägg till nytt konto","manage":"Hantera konton","account_settings":"Konto inställningar","go_to_web_wallet":"Hantera ditt webbkonto"}}},"publishers_table":{"payments":"betalningar","total":"totalt","budget":"budget"},"badge":{"label":{"auth":"LOGGA IN","imported":"IMPORTERAD","budget":"BUDGET"}},"companion_download_info":{"heading":"Hur vill du ansluta till TOR-nätverket?","companion":{"title":"Companion App","description":"Lättviktsapp som ansluter din webbläsare till TOR-nätverket."},"download":"Ladda ner","tor_native":{"title":"TOR (native)","description":"Välj det här alternativet om den här webbläsaren redan är ansluten till TOR-nätverket."}}},"mk":{"nostr":{"nip04decrypt":"Dekryptera data","getpublickey":"Läs din publika nyckel","signmessage":"Skriv under meddelandet med din nyckel","nip04encrypt":"Kryptera data"},"lnd":{"channelbalance":"Få en rapport om de totala medlen över alla öppna kanaler","routermc":"Läs det interna uppdragskontroll läget","getinfo":"Få nod-informationen","lookupinvoice":"Slå upp fakturainformation","walletbalance":"Få plånbokens totala outnyttjade uttag","disconnectpeer":"Koppla från en fjärr-ansluten peer","getchaninfo":"Få nätverksmeddelandet för den givna kanalen","listpeers":"Få en lista över alla för närvarande aktiva peers","sendtoroute":"Gör en betalning via den angivna vägen","getnodeinfo":"Få kanalinformationen för en nod","gettransactions":"Få en lista över alla transaktioner som är relevanta för plånboken","listpayments":"Få en lista över alla utgående betalningar","queryroutes":"Fråga efter en möjlig rutt","addholdinvoice":"Skapa nya HODL-fakturor","settleinvoice":"Avgör en godkänd faktura","listchannels":"Få en beskrivning av alla öppna kanaler","listinvoices":"Få en lista över alla fakturor","openchannel":"Öppna en ny kanal","connectpeer":"Upprätta en anslutning till en extern peer","estimatefee":"Uppskatta avgiftssatsen och totala avgifter för en transaktion","getnetworkinfo":"Få grundläggande statistik om det kända kanaldiagrammet","verifymessage":"Verifiera en signatur över ett meddelande","decodepayreq":"Avkoda en sträng för betalningsbegäran","addinvoice":"Skapa nya fakturor"},"lnc":{"listinvoices":"Få en lista över alla fakturor","walletbalance":"Få plånbokens totala outnyttjade uttag","openchannel":"Öppna en ny kanal","getchaninfo":"Få nätverksmeddelandet för den givna kanalen","getnetworkinfo":"Få grundläggande statistik om det kända kanaldiagrammet","listchannels":"Få en beskrivning av alla öppna kanaler","estimatefee":"Uppskatta avgiftssatsen och totala avgifter för en transaktion","getinfo":"Få nod-informationen","channelbalance":"Få en rapport om de totala medlen över alla öppna kanaler","disconnectpeer":"Koppla från en fjärransluten peer","getnodeinfo":"Få kanalinformationen för en nod","gettransactions":"Få en lista över alla transaktioner som är relevanta för plånboken","lookupinvoice":"Se fakturainformation","queryroutes":"Fråga efter en möjlig rutt","connectpeer":"Upprätta en anslutning till en extern peer","listpayments":"Få en lista över alla utgående betalningar","listpeers":"Få en lista över alla för närvarande aktiva peers","decodepayreq":"Avkoda en sträng för betalningsbegäran","verifymessage":"Verifiera en signatur över ett meddelande","sendtoroute":"Gör en betalning via den angivna vägen","routermc":"Läs det interna uppdragskontrollläget","addinvoice":"Skapa nya fakturor","addholdinvoice":"Skapa nya HODL-fakturor","settleinvoice":"Avgör en godkänd faktura"},"commando":{"invoice":"Skapa förväntningar på en betalning","listpeers":"Lista noder som är anslutna eller har öppna kanaler med denna nod","setchannel":"Konfigurera avgifter / htlc-intervall som annonseras för en kanal","offer":"Skapa ett erbjudande","pay":"Skicka en betalning till en BOLT11-faktura","decodepay":"Kontrollera och analysera en bolt11-sträng","decode":"Avkoda en bolt11/bolt12/rune-sträng","getinfo":"Få sammanfattningen av noden","multifundchannel":"Öppna flera betalningskanaler med noder genom att utföra en enda finansieringstransaktion","sendpay":"Skicka en betalning via en rutt","signmessage":"Skapa en signatur från denna nod","bkpr-listbalances":"Lista över alla aktuella och historiska kontosaldon","disconnect":"Stäng en befintlig anslutning till en peer","feerates":"Returnera avgifterna som CLN kommer att använda","listfunds":"Lista alla tillgängliga medel","fundchannel":"Öppna en betalningskanal med en peer genom att genomföra en finansieringstransaktion","listnodes":"Lista noder som noden har lärt sig om via gossip-meddelanden","listoffers":"Lista alla erbjudanden eller få ett specifikt erbjudande","listpays":"Får status för alla betalkommandon","listsendpays":"Får status för alla sendpay-kommandon","listtransactions":"Lista transaktioner som spåras i plånboken","connect":"Upprätta en ny anslutning med en annan nod","getroute":"Hitta den bästa vägen för betalningen till en lightning-nod","listinvoices":"Få status på alla fakturor","keysend":"Skicka en betalning till en annan nod","checkmessage":"Verifiera att signaturen genererades av en given nod","listforwards":"Lista alla htlcs som har försökt vidarebefordras"},"webln":{"getbalance":"Läs saldot på ditt konto"},"bitcoin":{"getaddress":"Läs din Bitcoin-mottagningsadress"},"liquid":{"getaddress":"Läs din Liquid-mottagningsadress","signschnorr":"Skriv under meddelandet med din nyckel"}}}'),Bt=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"ตั้งรหัสผ่านเข้าแอพ","description":"ใช้รหัสนี้เพื่อเข้าสู่ Alby บนเครื่องนี้ รหัสผ่านนี้ไม่สามารถกู้คืนได้หากคุณลืมรหัสผ่านแต่คุณสามารถเปลี่ยนรหัสผ่านได้ภายหลัง","choose_password":{"label":"ตั้งรหัสผ่านเข้าแอพ:"},"confirm_password":{"label":"โปรดยืนยันว่าคุณพิมพ์ถูกต้อง:"},"errors":{"confirm_password":"โปรดยืนยันรหัสผ่าน","mismatched_password":"รหัสผ่านไม่ถูกต้อง","enter_password":"โปรดใส่รหัสผ่าน"}},"title":"ยินดีต้อนรับสู่ Alby","test_connection":{"ready":"เยี่ยมมาก คุณพร้อมลุยแล้ว!","initializing":"กำลังสร้างบัญชีโปรดรอสักครู่ อาจใช้เวลาสักครู่…","connection_error":"เกิดข้อผิดพลาดในการเชื่อมต่อ","contact_support":"ถ้าคุณต้องการความช่วยเหลือ ติดต่อ support@getalby.com","review_connection_details":"กรุณาตรวจสอบรายละเอียดการเชื่อมต่อของคุณ","connection_taking_long":"การเชื่อมต่อใช้เวลานานกว่าที่คาดไว้… ข้อมูลของคุณถูกต้องหรือไม่? โหนดของคุณสามารถเข้าถึงได้หรือไม่?","actions":{"delete_edit_account":"ลบบัญชีที่ไม่ถูกต้อง และ แก้ไขอีกครั้ง"}},"pin_extension":{"title":"ปักหมุด extension Alby","description":"ใกล้จะเสร็จแล้ว! เพื่อใช้ Alby ได้อย่างสะดวก อย่าลืมปักหมุดไว้ที่แถบเครื่องมือเบราว์เซอร์:","explanation":"1. คลิกที่ <0/> ที่มุมขวาบนของเบราว์เซอร์ของคุณ <1/> 2. ค้นหา Alby แล้วคลิกเพื่อปักหมุดไว้ที่แถบเครื่องมือ <1/> 3. เสร็จแล้ว! ในการเข้าถึง Alby เพียงคลิกที่ไอคอน <2/>","next_btn":"เริ่มใช้งาน Alby {{icon}}"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"รหัสผ่าน"},"errors":{"enter_password":"ยืนยันรหัสผ่านอีกครั้ง","confirm_password":"โปรดยืนยันรหัสผ่านของคุณ","mismatched_password":"รหัสผ่านไม่ถูกต้อง"},"confirm_password":{"label":"ยืนยันรหัสผ่าน"}}}},"accounts":{"account_view":{"mnemonic":{"generate":{"button":"สร้าง Master Key","confirm":"ฉันได้สำรอง recovery phase ของฉันไปยัง Master Key ของฉันในที่ส่วนตัวและปลอดภัย","error_confirm":"โปรดยืนยันการสำรอง recovery phase ของคุณ","title":"สร้าง Master Key ใหม่","description":"Master Key ช่วยให้คุณโต้ตอบกับโปรโตคอลต่างๆ เช่น Nostr, เลเยอร์พื้นฐานของ Bitcoin หรือ LNURL-Auth"},"backup":{"title":"สำรอง recovery phase ของคุณ","save":"บันทึก Master Key","button":"ดู recovery phrase","warning":"⚠️อย่าลืมสำรอง recovery phrase ของคุณ! การไม่สำรองข้อมูลอาจทำให้คุณสูญเสียการเข้าถึง Master Key, ข้อมูลประจำตัว Nostr หรือ สินทรัพย์ที่คุณจัดการด้วยคีย์นี้อย่างถาวร","description":"จด recovery phase ของคุณ เพื่อให้สามารถกู้คืน Master Key ของคุณในอุปกรณ์ใหม่ หรือในกรณีที่คุณสูญเสียการเข้าถึงบัญชีของคุณ","protocols":{"nostr":"Nostr"},"items":{"recovery_phrase":"คุณสามารถเข้าถีง Master Key ของคุณโดยการใช้ recovery phrase","words":"Recovery phase เป็นชุดคำ 12 คำ ทำงานเหมือนรหัสผ่าน แต่ไม่สามารถเปลี่ยนหรือตั้งค่าใหม่ได้ในกรณีที่สูญหาย","storage":"อย่าลืมจดไว้ที่ไหนสักแห่งที่ปลอดภัยและเป็นส่วนตัว!"}},"import":{"title":"นำเข้า Master Key ของคุณ","description":"ใช้ recovery phrase เพื่อนำ Master Key ของคุณเข้าสู่ Alby","button":"นำเข้า Master Key"},"inputs":{"title":"Recovery Phrase"},"lnurl":{"title":"เข้าสู่ระบบด้วย Lightning","use_mnemonic":"ใช้ Master Key เพื่อลงชื่อเข้าใช้แอปพลิเคชันที่ใช้ Lightning (LNURL Auth)"},"title":"🔑 การจัดการ Key","saved":"Master Key ถูกเข้ารหัสและบันทึกไว้เรียบร้อย","existing_nostr_key_notice":"ℹ️ บัญชีนี้ตั้งค่า private key nostr ไว้แล้วและจะไม่ถูกสืบทอดจาก Master Key นี้ คุณสามารถจัดการคีย์ Nostr ของคุณจากการตั้งค่าบัญชีของคุณ"},"no_mnemonic_hint":"💡คุณยังไม่มี Master Key คลิก ที่นี่ เพื่อสร้าง Master Key ของคุณและปลดล็อกการตั้งค่าเหล่านี้","network":{"title":"เครือข่าย","options":{"bitcoin":"Mainnet","testnet":"Testnet","regtest":"Regtest"},"subtitle":"เลือกเครือข่ายเพื่อหา addresses และ decode ธุรกรรมของ Bitcoin และ Liquid"},"nostr":{"settings":{"derive":"มาจาก Master Key","remove":"ลบ keys ปัจจุบัน","no_secret_key":"💡คุณยังไม่มี Master Key <0>คลิกที่นี่</0></div> เพื่อสร้าง Master Key และ Nostr keys ของคุณ","imported_key_warning":"⚠️ คุณกำลังใช้คีย์ Nostr ที่นำเข้า หรือ สร้างขึ้นแบบสุ่มในปัจจุบัน Nostr private key ของคุณไม่สามารถกู้คืนได้โดย recovery phase ของคุณ ดังนั้นโปรดอย่าลืมสำรอง Nostr private key ของคุณแยกต่างหาก","label":"การตั้งค่าสำหรับ Nostr","title":"การตั้งค่าสำหรับ Nostr","description":"รับคีย์ Nostr จาก Master Key หรือ นำเข้า private key ที่มีอยู่ โดยวางในช่อง \\"Nostr Private Key\\"","can_restore":"✅ Nostr key ได้มาจาก Master Key ของคุณ"},"setup":{"title":"ตั้งค่า Nostr keys ของคุณ","description":"เลือกระหว่างการสร้างบัญชี Nostr (คู่ private และ public keys) หรือ นำเข้าที่มีอยู่แล้ว","description2":"บัญชี Nostr ทุกบัญชีที่สร้างใน Alby มาพร้อมกับ <0>Recovery Phrase</0> ซึ่งเป็นชุดคำ 12 คำที่ช่วยให้คุณเข้าถึง private keys ของ Nostr ได้อีกครั้ง","new":{"description":"สร้าง Master Key และคู่ Nostr keys ใหม่","label":"สร้างบัญชี Nostr ใหม่"},"import":{"label":"นำเข้าบัญชี Nostr","description":"ใช่ Nostr private key ที่มีอยู่แล้ว หรือรับมาจาก Master Key ของคุณ","title":"คุณต้องการจะนำเข้าบัญชี Nostr ของคุณด้วยวิธีใด ?","private_key":{"description":"วาง Nostr private key ของคุณหรือนำเข้าจาก Alby","label":"ใช้ Nostr private key"},"recovery_phrase":{"label":"ใช้ recovery phrase","description":"ใช้ recovery phrase ของ Master Key เพื่อนำเข้า Nostr keys ของคุณ"}},"new_to_nostr":"ยังใหม่กับ Nostr ? <0>Learn more</0>"},"private_key":{"label":"Nostr Private Key","title":"จัดการ Nostr private key ของคุณ","subtitle":"วาง Nostr private key ของคุณ หรือ สร้างอันใหม่ <0>Learn more »</0>","success":"Nostr private key ถูกเข้ารหัส และ บันทึกเรียบร้อยแล้ว","failed_to_remove":"ชื่อบัญชีที่ป้อนไม่ตรงกัน Nostr private key เก่าของคุณได้รับการคืนค่าแล้ว","successfully_removed":"ลบ Nostr private key เรียบร้อยแล้ว"},"public_key":{"label":"Nostr Public Key"},"generate_keys":{"title":"สร้าง Nostr key ใหม่","screen_reader":"สร้าง Nostr key อันใหม่สำหรับบัญชีของคุณ","hint":"คุณสามารถสร้าง key แบบสุ่ม หรือ คีย์ที่ได้มาจากรายละเอียดบัญชีนี้ (โดยใช้canonical phrase) <0>เรียนรู้เพิ่มเติม »</0>","actions":{"random_keys":"สร้าง key ใหม่แบบสุ่ม","derived_keys":"รับ key จากบัญชี"}},"actions":{"generate":"สร้าง key ใหม่"},"errors":{"failed_to_load":"เกิดข้อผิดพลาดในการโหลด Nostr key โปรดตรวจว่าNostr key ถูกต้องหรือไม่ ?"},"title":"Nostr","hint":"Nostr เป็นโปรโตคอลที่เรียบง่ายและเปิดกว้างที่มุ่งสร้างเครือข่ายสังคมที่ทนต่อการเซ็นเซอร์ Nostr ทำงานด้วยคีย์ทาง cryptography เมื่อต้องการเผยแพร่บางอย่าง คุณต้องลงชื่อด้วยคีย์ของคุณและส่งไปยังรีเลย์หลายตัว คุณสามารถใช้ Alby เพื่อจัดการคีย์ Nostr ของคุณ แอปพลิเคชัน Nostr หลายตัวจะอนุญาตให้คุณใช้คีย์จาก extension Alby ได้อย่างง่ายดาย"},"remove":{"title":"ลบบัญชีนี้","subtitle":"ลบการอนุญาต ข้อมูลการชำระเงิน และข้อมูลประจำตัวที่เชื่อมโยงกับบัญชีนี้ทั้งหมด","error":"ชื่อบัญชีที่ป้อนไม่ตรงกัน"},"remove_secretkey":{"title":"ลบ Master Key","subtitle":"ลบ Master Key ออกจากบัญชีนี้","success":"การลบ Master Key เสร็จสมบูรณ์"},"actions":{"remove_account":"ลบบัญชี","export":"ส่งออก","remove_secretkey":"ลบ Master Key"},"title2":"บัญชี","name":{"title":"ชื่อที่ปรากฏ","placeholder":"ชื่อที่ปรากฏบนบัญชี"},"export":{"title":"เชื่อมต่อกับ moblie wallet","description":"อณุญาติให้คุณสามารถเชื่อมต่อและใช้งานบัญชีนี้กับ mobile wallets เช่น <0>Blue Wallet</0> t และ <1>Zeus</1>","screen_reader":"ส่งออกรายละเอียดบัญชี","waiting":"รอช้อมูลจาก LNDHub…","your_ln_address":"Lightning Address ของคุณ:","export_uri":"LNDHub Credentials URI","scan_qr":"นำกระเป๋านี้เข้าสู่ Zeus หรือ BlueWallet โดยการแสกน QRCode"},"title1":"การตั้งค่าบัญชี"},"actions":{"add_account":"เพิ่มบัญชี"},"title":"บัญชี"},"unlock":{"unlock_to_continue":"ปลดล็อคเพื่อไปต่อ","unlock_password":"รหัสผ่านปลดล็อคของคุณ","help_contact":{"part1":"ต้องการความช่วยเหลือ ? ติดต่อ","part2":"ฝ่ายสนับสนุนของ Alby"},"unlock_error":{"help":"ข้อมูลในบัญชีของคุณถูกเข้ารหัสด้วยรหัสผ่านของคุณ ถ้าคุณลืมรหัสผ่านของคุณจริง ๆ คุณต้องตั้งค่าใหม่และเพิ่มบัญชี Lightning ของคุณใหม่อีกครั้ง","link":"ตั้งค่าใหม่ตอนนี้และเพิ่มบัญชีใหม่"},"errors":{"invalid_password":"รหัสผ่านไม่ถูกต้อง"}},"settings":{"lnurl_auth":{"legacy_lnurl_auth_202207":{"title":"Legacy LNURL-Auth","subtitle":"การสร้างคีย์สำหรับ LNURL-auth มีการเปลี่ยนแปลง (กรกฎาคม 2022) Alby เข้ากันไม่ได้กับการใช้งานอื่นๆ สิ่งนี้มีการเปลี่ยนแปลง แต่ตอนนี้ใช้รหัสการเข้าสู่ระบบที่แตกต่างกัน หากคุณใช้ LNURL-auth เพื่อเข้าสู่ระบบก่อนที่คุณจะสามารถเปิดใช้งานวิธีการเดิมได้ ตัวเลือกนี้จะถูกลบออกในภายหลัง อย่าลืมเปลี่ยนไปใช้การเข้าสู่ระบบใหม่"},"title":"LNURL-Auth","legacy_lnurl_auth":{"title":"Legacy signing สำหรับ LNbits และ LNDHub","subtitle":"ข้อความลงนามและการเข้าสู่ระบบด้วย LNDhub (เช่น BlueWallet) และบัญชี LNbits ได้เปลี่ยนไป (มีนาคม 2022) หากคุณลงชื่อเข้าใช้ด้วยบัญชีเหล่านี้ คุณสามารถเปิดใช้งานวิธีการลงนามแบบเก่าได้ ตัวเลือกนี้จะถูกลบออกในภายหลัง โปรดแน่ใจว่าได้เปลี่ยนเป็นล็อกอินใหม่"},"hint":"เป็นโปรโตคอลการตรวจสอบสิทธิ์แบบทั่วไป ตรวจสอบสิทธิ์ผู้ใช้โดยใช้ลายเซ็นดิจิทัล โปรโตคอลนี้ไม่ต้องการข้อมูลระบุตัวตนอื่น ๆ เช่น รหัสผ่าน อีเมล ชื่อผู้ใช้ หรือข้อมูลอื่น ๆ คล้ายกัน ด้วย Alby คุณสามารถใช้บัญชี Lightning ของคุณเพื่อลงชื่อเข้าใช้เว็บไซต์อย่างปลอดภัย เพื่อให้เข้ากันได้กับ wallet อื่น ๆ เราจำเป็นต้องทำการเปลี่ยนแปลงเล็กน้อยที่คุณสามารถกำหนดค่าได้ที่นี่ <0>ideally all those options are OFF.</0> ใช้เฉพาะเมื่อคุณมีบัญชีเก่า"},"browser_notifications":{"title":"การแจ้งเตือนของเบราว์เซอร์","subtitle":"การแจ้งเตือนที่เกี่ยวข้องกับการชำระเงินและการตรวจสอบสิทธิ์"},"website_enhancements":{"title":"การปรับปรุงเว็บไซต์","subtitle":"การปรับปรุงระบบการให้ทิปสำหรับ Twitter, YouTube และอื่น ๆ"},"camera_access":{"title":"การเข้าถึงกล้องถ่ายรูป","subtitle":"เพื่อแสกน QR codes","allow":"อนุญาติให้เข้าถึงกล้อง","granted":"ได้รับอนุญาต"},"language":{"title":"ภาษา","subtitle":"การแปลยังไม่เสร็จสมบูรณ์ 100% <0>ช่วยเราแปล Alby เป็นภาษาของคุณ!</0>"},"theme":{"title":"ธีม","subtitle":"ใช้ Alby ในโหมดมืดหรือสว่าง","options":{"dark":"มีด","light":"สว่าง","system":"ระบบ"}},"show_fiat":{"title":"แปลงซาโตชิเป็น Fiat","subtitle":"แปลงเป็นสกุลเงินที่เลือกจากการแลกเปลี่ยนที่เลือกเสมอ"},"currency":{"title":"สกุลเงิน","subtitle":"แสดงจำนวนเพิ่มเติมในสกุลเงินนี้"},"exchange":{"title":"แหล่งแลกเปลี่ยน","subtitle":"แหล่งที่มาของอัตราแลกเปลี่ยนบิตคอยน์"},"email":{"title":"อีเมล","placeholder":"โปรดใส่อีเมลของคุณ"},"change_password":{"title":"เปลี่ยนรหัสผ่านที่ใช้ปลดล๊อค","screen_reader":"เปลี่ยนรหัสผ่านที่ใช้ปลดล๊อค","choose_password":{"label":"โปรดใส่รหัสผ่านที่ใช้ปลดล๊อคอันใหม่:"},"submit":{"label":"เปลี่ยน"},"confirm_password":{"label":"ยืนยันรหัสผ่านอันใหม่:"},"errors":{"enter_password":"โปรดป้อนรหัสเพื่อปลดล๊อคอันใหม่","confirm_password":"โปรดยืนยันรหัสผ่านของคุณ","mismatched_password":"รหัสผ่านไม่ถูกต้อง"},"success":"เปลี่ยนรหัสผ่านเสร็จสมบูรณ์"},"nostr":{"private_key":{"subtitle":"หัวข้อนี้ย้ายไปที่หน้าบัญชีแล้ว เนื่องจาก key เป็นข้อมูลเฉพาะบัญชี","go_to":"ไปที่บัญชี","title":"Private key"},"title":"Nostr","hint":"Nostr เป็นโปรโตคอลที่เรียบง่ายและเปิดกว้างที่มุ่งสร้างเครือข่ายสังคมที่ทนต่อการเซ็นเซอร์ Nostr ทำงานด้วยคีย์ทาง cryptography เมื่อต้องการเผยแพร่บางอย่าง คุณต้องลงชื่อด้วยคีย์ของคุณและส่งไปยังรีเลย์หลายตัว คุณสามารถใช้ Alby เพื่อจัดการคีย์ Nostr ของคุณ แอปพลิเคชัน Nostr หลายตัวจะอนุญาตให้คุณใช้คีย์จาก extension Alby ได้อย่างง่ายดาย"},"title":"การตั้งค่า","personal_data":{"title":"ข้อมูลส่วนบุคคล","description":"ผู้รับเงินสามารถขอข้อมูลเพิ่มเติมที่จะส่งพร้อมกับการชำระเงิน ข้อมูลนี้จะไม่ถูกแบ่งปันกับใครก็ตามโดยไม่ได้รับความยินยอมจากคุณ คุณจะได้รับแจ้งเสมอก่อนที่จะส่งข้อมูลนี้ไปพร้อมกับการชำระเงิน"},"name":{"title":"ชื่อ","placeholder":"โปรดใส่ชื่อของคุณ"}},"send":{"title":"ส่ง","input":{"label":"ผู้รับ","hint":"Invoice, Lightning Address หรือ LNURL"}},"lnurlpay":{"amount":{"label":"จำนวน"},"comment":{"label":"ความคิดเห็น"},"name":{"label":"ชื่อ"},"email":{"label":"อีเมล"},"success":"การชำระเงินสำเร็จ!"},"lnurlauth":{"title":"การตรวจสอบสิทธิ์","content_message":{"heading":"คุณต้องการเข้าสู่ระบบด้วย"},"submit":"เข้าระบบ","success":"เข้าระบบสำเร็จแล้ว บน {{name}}","errors":{"status":"ข้อผิดพลาด: สถานะการตรวจสอบสิทธิ์ไม่ถูกต้อง"}},"lnurlchannel":{"title":"คำขอ Channel","content_message":{"heading":"ขอ channel จาก node"},"success":"ส่งการขอ channel สำเร็จแล้วที่ {{name}}"},"lnurlredeem":{"title":"แลกบิตคอยน์","input":{"label":"LNURL-withdraw code","placeholder":"LNURL..."},"actions":{"withdraw":"ถอน"},"errors":{"invalid_lnurl":"LNURLไม่ถูกต้อง","invalid_withdraw_request":"คำขอการถอนจาก LNURL ไม่ถูกต้อง"}},"receive":{"payment":{"status":"ตรวจสถานะการชำระเงิน","waiting":"กำลังรอการชำระเงิน…"},"title":"รับ","actions":{"create_invoice":"สร้าง Invoice"},"amount":{"label":"จำนวน","placeholder":"จำนวนในหน่วยซาโตชิ…"},"description":{"label":"คำอธิบาย","placeholder":"ตัวอย่างเช่น ใครเป็นคนส่งการชำระเงินนี้ ?"},"success":"ได้รับการชำระเงินแล้ว!"},"on_chain":{"title":"รับด้วย address บิตคอยน์","go":"ไปที่บัญชี Alby ของคุณ →","instructions1":"เพื่อรับบิตคอยน์ด้วย address บิตคอยน์ โปรดเข้าสู่ระบบ <0>Alby Account</0> ของคุณบน getalby.com","instructions2":"คุณสามารถหา address ของบิตคอยน์ได้ที่หน้า <0>Receive</0>"},"keysend":{"title":"ส่ง","success":"ชำระเงินแล้ว! พรีอิมเมจ: {{preimage}}","amount":{"label":"จำนวน (ซาโตชิ)"},"receiver":{"label":"โอนเงินไปที่"}},"nostr":{"block_and_ignore":"บล็อกและเพิกเฉยต่อ {{host}}","kinds":{"0":"metadata","1":"บันทึกข้อความสั้น ๆ","2":"รีเลย์แนะนำ","3":"รายชื่อติดต่อ","4":"เข้ารหัสข้อความส่วนตัว","5":"การลบ event","7":"การตอบสนอง","8":"ตรารางวัล","40":"การสร้าง channel","41":"channel metadata","42":"ช่องข้อความ","43":"ข้อความช่องที่ถูกซ่อน","44":"ช่องผู้ใช้ที่ถูกปิดเสียง","1984":"การรายงาน","9734":"คำขอ zap","9735":"zap","10002":"metadata ของรายการรีเลย์","22242":"การรับรองความถูกต้องของไคลเอนต์","24133":"เชื่อมต่อ Nostr","30008":"โปรไฟล์เหรียญตรา","30009":"คำจำกัดความของเหรียญตรา","30023":"เนื้อหาแบบยาว","30078":"ข้อมูลเฉพาะแอปพลิเคชัน"},"title":"Nostr","block_added":"เพื่ม {{host}} เข้าสู่แบล็คลิส โปรดรีเฟรชหน้าเว็บใหม่","allow":"อณุญาติเว็บไซต์นี้เพื่อ:","content":"เว็บไซต์นี้ขอให้คุณลงชื่อ:","view_details":"ดูรายละเอียด","hide_details":"ซ่อนรายละเอียด","allow_sign":"อนุญาตให้ {{host}} ลงนาม:"},"choose_path":{"other":{"title":"wallets อื่น ๆ","connect":"เชื่อมต่อ"},"alby":{"title":"บัญชี Alby","connect":"เชื่อมต่อกับ Alby"}},"choose_connector":{"title":"เชื่อมต่อกับ Lightning Wallet","description":"เชื่อมต่อกับ lightning wallet อื่น ๆ หรือ node ของคุณ","lnd":{"page":{"title":"เชื่อมต่อกับ LND node ของคุณ","description":"คุณต้องมี URL ของ node และ macaroon ที่มีสิทธิ์อ่านและส่ง (เช่น admin.macaroon)"},"url":{"label":"Host และ Port ของ API REST","placeholder":"https://your-node-url:8080"},"title":"LND","macaroon":{"label":"Macaroon (รูปแบบ HEX)"},"drag_and_drop":"ลากและวาง macaroon ของคุณที่นี่ หรือ <0>browse</0>","errors":{"connection_failed":"การเชื่อมต่อล้มเหลว LND credentials ของคุณถูกต้องหรือไม่?"}},"lnc":{"pairing_phrase":{"label":"pairing phrase ของคุณ ","placeholder":"รหัสเพื่อเข้าถึงแซต"},"title":"Lightning Terminal (LNC)","page":{"title":"เชื่อมต่อกับ LND node ของคุณ","description":"1. เปิด Lightning Terminal และเลือก <0> เชื่อมต่อ Lightning Node </0> จากแถบด้านข้าง </1> 2. คลิก <0> สร้างเซสชันใหม่ </0><1/> 3. ตั้งชื่อเซสชัน เลือกสิทธิ์ที่ต้องการและกดยืนยัน <1/>4. <0> คัดลอก pairing phrase </0> และวางมันข้างล่าง"}},"lndhub_go":{"title":"LNDHub","page":{"title":"เชื่อมต่อกับ LNDHub","description":"ใส่ LNDHub credential URI ของคุณที่นี่ หรือแสกน QR code ด้วย webcam ของคุณ"},"errors":{"connection_failed":"เกิดข้อผิดพลาดในการเชื่อมต่อ LNDHub URI ของคุณถูกต้องหรือไม่ ?","invalid_uri":"LNDHub URI ไม่ถูกต้อง"},"uri":{"label":"ส่องออก URI จาก LNDHub"}},"lnbits":{"page":{"title":"เชื่อมต่อกับ <0>LNbits</0>","instructions":"ใน LNbits, เลือกกระเป๋าที่คุณต้องการเชื่อมต่อ, เปิดมัน , คลิกที่ API Info และ คัดลอก Admin Key และวางข้างล่างนี้:"},"errors":{"connection_failed":"เกิดการผิดพลาดในการเชื่อมต่อ โปรพตรวจสอบ URL และ Admin Key ว่าถูกต้องหรือไม่ ?"},"title":"LNbits","admin_key":{"label":"LNbits Admin Key","placeholder":"Admin Key 32 ตัวของคุณ"},"url":{"label":"LNbits URL"}},"eclair":{"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"},"title":"Eclair","page":{"title":"เชื่อมต่อกับ<0>Eclair</0>","instructions":"คุณต้องการ Eclair URL และ รหัสผ่าน"},"password":{"label":"รหัสผ่าน Eclair"}},"citadel":{"title":"Citadel","page":{"title":"เชื่อมต่อกับ<0>Citaddel</0> node","instructions":"ไม่ทำงานในปัจจุบันหากเปิดใช้งาน 2FA"},"password":{"label":"รหัสผ่าน Citadel"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"page":{"instructions":"1. ในแดชบอร์ด Lightning node ของคุณไปที่ <0>เชื่อมต่อกระเป๋า</0><1/>2. เลือก<0>REST (TOR)</0> หรือ <0> REST (Local Network)</0><1/>3. คัดลอก<0>Indconnect URL</0> และวางข้างล่างนี้","title":"เชื่อมต่อกับ<0>Umbrel</0> node"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."},"title":"Umbrel"},"mynode":{"title":"myNode","page":{"title":"เชื่อมต่อกับ<0>myNode</0>","instructions":"บนหน้าแรกของ myNode คลิกที่ปุ่ม <0>Wallet</0> สำหรับบริการ <0>lightning</0> ของคุณ จากนั้นคลิกที่ปุ่ม <0>Pair Wallet</0> ใต้แท็บ <0>Status </0>ป้อนรหัสผ่าน เมื่อได้รับแจ้ง<1/> เลือกเมนูแบบเลื่อนลงและเลือกตัวเลือกการจับคู่ ขึ้นอยู่กับการตั้งค่าของคุณ คุณสามารถใช้การเชื่อมต่อ <0>lightning (REST + Local IP)</0> หรือ การเชื่อมต่อ <0>lightning (REST + Tor)</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"raspiblitz":{"page":{"instructions1":"ทำตามขั้นตอนต่อไปนี้:<1/> 1.<0>SSH</0> เข้ากับ <0>Raspiblitz</0> ของคุณ</1> 2.เลือก <0>Connect Apps & Show Credentials<1/></0>3. เลือก <0>Connect Alby to this node</0><1/>4. กด <0>OK</0> เพื่อแสดงข้อมูลรับรองการเชื่อมต่อ<1/><1/>คัดลอกและวาง<0>REST API host</0> หรือ <0>.onion</0> address เพื่อเชื่อมต่อผ่าน Tor ลงในอินพุตด้านล่าง","title":"เชื่อมต่อกับ <0>RaspiBlitz</0> node ของคุณ","instructions2":"คัดลอก (admin) <0>macaroon</0> มาใส่ในช่องข้างล่าง"},"title":"RaspiBlitz","rest_api_host":{"label":"REST API host","placeholder":"your-node-onion-address:port"}},"blink":{"title":"Blink plånbok","page":{"title":"Anslut <0>Blink Wallet</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"เชื่อมต่อกับ <0>Bitcoin Jungle Wallet</0>"}},"btcpay":{"page":{"instructions":"ไปที่ BTCPayServer ของคุณและลงชื่อเข้าใช้ในฐานะผู้ดูแลระบบ ไปที่ Server Settings > Services > LND Rest - ดูข้อมูล จากนั้นคลิก \\"See QR code information\\" และ คัดลอก QR Code มาวางไว้ด้านล่าง:","title":"เชื่อมต่อกับ BTCPay LND node ของคุณ"},"config":{"placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config","label":"การกำหนดค่าข้อมูล"},"errors":{"connection_failed":"การเชื่อมต่อผิดพลาด โปรดตรวจสอบ BTCPay connection URL ว่าถูกต้องและเข้าถึงได้หรือไม่ ?"},"title":"BTCPay Server"},"commando":{"page":{"title":"เชื่อมต่อกับ Core Lightning node ของคุณ","instructions":"โปรดตรวจสอบให้แน่ใจว่า Core Lightning ของคุณเป็นเวอร์ชัน 0.12.0 หรือ ใหม่กว่า และ commando plugin กำลังทำงานและโหนดของคุณสามารถเข้าถึงได้ผ่านเครือข่าย Lightning สร้าง rune โดยการเรียกใช้ \\"lightning-cli commando-rune\\""},"host":{"label":"Host"},"pubkey":{"label":"Public key"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Websocket-proxy"},"privKey":{"label":"Local private key (สร้างขึ้นโดยอัตโนมัติ)"},"title":"Core Lightning","config":{"label":"การกำหนดค่าข้อมูล","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"เกิดข้อผิดหลาดในการเชื่อมต่อ โปรดตรวจสอบว่า Core Lightning node ของคุณออนไลน์และกำลังใช้ commando plugin หรือไม่?"}},"umbrel_lightning_node":{"title":"Lightning Node"},"start9":{"title":"Start9","page":{"title":"เชื่อมต่อกับ <0>Staet9 Server</0> ของคุณ","instructions":"บนแดชบอร์ดของ Embassy คลิกที่บริการ <0>Lightning Network Daemon</0> <1/>เลือกแท็บ<0>Properties</0><1/>คัดลอก<0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}}},"distributions":{"description":"เลือกแอปพลิเคชัน {{name}} ที่คุณต้องการเชื่อมต่อ","umbrel":{"name":"Umbrel"},"btcpay":{"name":"BTCPay"},"citadel":{"name":"Citadel"},"raspiblitz":{"name":"RaspiBlitz"},"mynode":{"name":"myNode"},"start9":{"name":"Start9"},"title":"เชื่อมต่อกับ {{name}}"},"home":{"actions":{"send_satoshis":"⚡️ส่งซาโตชิ⚡️","enable_now":"เปิดใช้งานเดี๋ยวนี้"},"allowance_view":{"no_transactions":"ยังไม่มีธุรกรรมบน <0>{{name}}</0>"},"default_view":{"is_blocked_hint":"Alby ถูกปิดใช้งานบน {{host}}","block_removed":"เปิดใช้งาน {{host}} โปรด รีเฟรชหน้าเว็บไซต์"}},"lnurlwithdraw":{"success":"คำขอการถอนจำนวน {{amount}} ถูกส่งให้ {{sender}} เรียบร้อยแล้ว","title":"ถอน","content_message":{"heading":"จำนวน"},"amount":{"label":"จำนวน"}},"scan_qrcode":{"title":"กำลังรอการสแกน"},"discover":{"list":{"trading":"แลกเปลี่ยน","gaming":"เกม","entertainment":"ความบันเทิง","shopping":"ช้อปปิ้ง","miscellaneous":"เบ็ดเตล็ด","showcases":"ตู้โชว์","nostr":"Nostr","nodeManagement":"การจัดการ node"},"title":"สำรวจระบบนิเวศของ Lightning ⚡️","description":"เว็บไซต์และเว็บแอปที่คุณสามารถใช้ Alby ได้","tips":{"title":"กระเป๋าเงิน Alby ของคุณพร้อมแล้ว","mnemonic":{"description":"มีแผนที่จะใช็ Nostr ?\\nสร้าง keys ของคุณตอนนี้","title":"Nostr"},"description":"คล็ดลับในการเริ่มต้นใช้งาน buzzin\'🐝","top_up_wallet":{"title":"ซื้อบิตคอยน์","description":"ต้องการเติมเงินไหม?\\n เรามีให้!"},"demo":{"title":"การสาธิต Alby","description":"ค้นพบคุณสมบัติของ Alby \\nบนเว็บไซต์สาธิตของเรา"}}},"publishers":{"title":"เว็บไซต์⚡ของคุณ","description":"เว็บไซต์ที่คุณเคยใช้ Alby มาก่อน","no_info":"ดูเหมือนว่าคุณยังไม่เคยใช้ Alby ในเว็บไซต์ใดๆ เลย","discover":"สำรวจเว็บไซต์ต่าง ๆ","publisher":{"allowance":{"title":"การยินยอม","used_budget":"ซาโตชิที่ใช้ไป"}}},"make_invoice":{"title":"สร้าง Invoice","amount":{"label":"จำนวน (ซาโตชิ)"},"memo":{"label":"บันทึกช่วยจำ"},"errors":{"amount_too_small":"จำนวนเงินน้อยกว่าขั้นต่ำ","amount_too_big":"จำนวนเงินเกินจำนวนสูงสุด"}},"confirm_sign_pset":{"title":"เซ็น","allow_sign":"เว็บไซต์นี้ขอให้คุณลงนามในธุรกรรม Liquid:","view_details":"ดูรายละเอียด","hide_details":"ซ่อนรายละเอียด","view_raw_transaction":"ดูธุรกรรม (Base64)","hide_raw_transaction":"ซ่อนธุรกรรม (Base64)","inputs":"อินพุต","outputs":"ผลลัพธ์","amount":"{{amount}} {{ticker}}"},"confirm_sign_message":{"title":"เซ็น","content":"เว็บไซต์นี้ขอให้คุณลงชื่อ:"},"liquid":{"block_and_ignore":"บล็อกและเพิกเฉยต่อ {{host}}","block_added":"เพื่ม {{host}} เข้าสู่แบล็คลิส โปรดรีเฟรชหน้าเว็บใหม่","allow":"อณุญาติเว็บไซต์นี้เพื่อ:","allow_sign":"อนุญาตให้ {{host}} ลงนาม:","title":"Liquid"},"bitcoin":{"block_and_ignore":"บล็อกและเพิกเฉยต่อ {{host}}","block_added":"เพื่ม {{host}} เข้าสู่แบล็คลิส โปรดรีเฟรชหน้าเว็บใหม่","allow":"อณุญาติเว็บไซต์นี้เพื่อ:","confirm_get_address":{"title":"รับ Address"},"allow_sign":"อนุญาตให้ {{host}} ลงนาม:"},"confirm_keysend":{"title":"อนุมัติการชำระเงิน","success":"ชำระเงินแล้ว! พรีอิมเมจ: {{preimage}}","payment_summary":{"description":"ส่งการชำระเงินไปที่: {{destination}}"}},"confirm_payment":{"title":"อนุมัติการชำระเงิน","success":"การชำระเงิน {{amount}} เสร็จสมบูรณ์!","actions":{"pay_now":"จ่ายตอนนี้"}},"confirm_request_permission":{"title":"อนุมัติคำขอ","allow":"อนุญาตให้เว็บไซต์นี้ดำเนินการ:","always_allow":"จำตัวเลือกของฉันและอย่าถามอีก"},"confirm_add_account":{"title":"เพื่มบัญชี","content":"เว็บไซต์นี้ต้องการเพิ่มบัญชี ({{connector}}):","tor_info":"ในการเชื่อมต่อผ่านเครือข่าย TOR คุณต้องติดตั้ง Alby companion app เสียก่อน:"},"transactions":{"title":"การทำธุรกรรม","list_empty":"ยังไม่มีการทำธุรกรรม"}},"mk":{"nostr":{"signmessage":"เซ็นข้อความด้วย key ของคุณ","nip04encrypt":"เข้ารหัสข้อมูล","nip04decrypt":"ถอดรหัสข้อมูล","getpublickey":"แสดง public key ของคุณ"},"commando":{"invoice":"สร้างความคาดหวังในการชำระเงิน","keysend":"ส่งการชำระเงินไปยัง node อื่น","listfunds":"แสดงรายการการเงินทั้งหมด","listinvoices":"รับสถานะของ invoice ทั้งหมด","listoffers":"แสดงรายการข้อเสนอทั้งหมดหรือรับข้อเสนอเฉพาะ","offer":"สร้างข้อเสนอ","pay":"ส่งการชำระเงินไปยัง invoice BOLT11","connect":"สร้างการเชื่อมต่อใหม่กับ node อื่น","decode":"ถอดรหัสสตริง bolt11/bolt12/rune","decodepay":"การตรวจสอบความถูกต้องของสตริง Bolt11","feerates":"คืนค่าธรรมเนียมที่ CLN จะใช้","fundchannel":"เปิดช่องทางการชำระเงินกับคู่ของคุณโดยการทำธุรกรรมทางการเงิน","getinfo":"รับข้อมูลสรุปเกี่ยวกับ node","getroute":"ค้นหาเส้นทางที่ดีที่สุดสำหรับการชำระเงินไปยัง lightning node","listforwards":"แสดงรายการ htlcs ทั้งหมดที่พยายามส่งต่อ","listnodes":"แสดงรายการ node ที่ได้รับ gossip messages","listtransactions":"รายการธุรกรรมที่ติดตามใน wallet","sendpay":"ส่งการชำระเงินผ่าน route","bkpr-listbalances":"ประวัติยอดคงเหลือบัญชีทั้งหมด","checkmessage":"ตรวจสอบว่าลายเซ็นถูกสร้างขึ้นโดย node ที่กำหนด","disconnect":"ปิดการเชื่อมต่อที่มีอยู่กับ peer","listpays":"รับสถานะของคำสั่งจ่ายทั้งหมด","multifundchannel":"เปิดช่องทางการชำระเงินหลายช่องทางด้วย node โดยการทำธุรกรรมทางการเงินเพียงครั้งเดียว","setchannel":"กำหนดค่าค่าธรรมเนียม / ช่วง htlc สำหรับ channel","signmessage":"สร้างลายเซ็นจาก node นี้","listpeers":"แสดงรายการ ืnode ที่เชื่อมต่อหรือมีการเปิด channel กับ node นี้","listsendpays":"รับสถานะของคำสั่งการส่งเงินทั้งหมด"},"lnd":{"listinvoices":"รับรายการ invoice ทั้งหมด","walletbalance":"รับผลลัพธ์ที่ไม่ได้ใช้ทั้งหมดใน wallet","openchannel":"เปิด channel ใหม่","getnetworkinfo":"รับสถิติพื้นฐานจาก channel graph ที่รู้จัก","getchaninfo":"รับประกาศเครือข่ายจาก channel ที่กำหนด","settleinvoice":"ชำระ invoice ที่ยอมรับ","getinfo":"รับข้อมูลจาก node","channelbalance":"รับรายงานเกี่ยวกับเงินทุนรวมในทุก channel ที่เปิดอยู่","disconnectpeer":"หยุดการเชื่อมต่อกับ node ระยะไกล","estimatefee":"ประมาณการอัตราค่าธรรมเนียมและค่าธรรมเนียมทั้งหมดสำหรับการทำธุรกรรม","gettransactions":"รับรายการธุรกรรมทั้งหมดที่เกี่ยวข้องกับ wallet","listpayments":"รับรายการการชำระเงินขาออกทั้งหมด","listpeers":"รับรายชื่อเพื่อนที่ใช้งานอยู่ทั้งหมด","lookupinvoice":"ดูรายละเอียดของ invoice","queryroutes":"สอบถามเส้นทางที่เป็นไปได้","decodepayreq":"ถอดรหัสสตริงคำขอชำระเงิน","addinvoice":"สร้าง invoice ใหม่","addholdinvoice":"สร้าง HODL invoice ใหม่","routermc":"แสดงค่าสถานะการควบคุมภายใน","listchannels":"รับคำอธิบายของ channel ที่เปิดอยู่ทั้งหมด","connectpeer":"สร้างการเชื่อมต่อกับ node ระยะไกล","getnodeinfo":"รับข้อมูล channel จาก node","verifymessage":"ตรวจสอบลายเซ็นผ่านข้อความ","sendtoroute":"ชำระเงินตามเส้นทางที่กำหนด"},"lnc":{"sendtoroute":"ชำระเงินตามเส้นทางที่กำหนด","decodepayreq":"ถอดรหัสสตริงคำขอชำระเงิน","routermc":"แสดงค่าสถานะการควบคุมภายใน","openchannel":"เปิด channel ใหม่","connectpeer":"สร้างการเชื่อมต่อกับ node ระยะไกล","disconnectpeer":"หยุดการเชื่อมต่อกับ node ระยะไกล","estimatefee":"ประมาณการอัตราค่าธรรมเนียมและค่าธรรมเนียมทั้งหมดสำหรับการทำธุรกรรม","getchaninfo":"รับประกาศเครือข่ายจาก channel ที่กำหนด","getnetworkinfo":"รับสถิติพื้นฐานจาก channel graph ที่รู้จัก","getnodeinfo":"รับข้อมูล channel จาก node","gettransactions":"รับรายการธุรกรรมทั้งหมดที่เกี่ยวข้องกับ wallet","listpayments":"รับรายการการชำระเงินขาออกทั้งหมด","listpeers":"รับรายชื่อเพื่อนที่ใช้งานอยู่ทั้งหมด","lookupinvoice":"ดูรายละเอียดของ invoice","queryroutes":"สอบถามเส้นทางที่เป็นไปได้","verifymessage":"ตรวจสอบลายเซ็นผ่านข้อความ","addholdinvoice":"สร้าง HODL invoice ใหม่","settleinvoice":"ชำระ invoice ที่ยอมรับ","addinvoice":"สร้าง invoice ใหม่","getinfo":"รับข้อมูลจาก node","listchannels":"รับคำอธิบายของ channel ที่เปิดอยู่ทั้งหมด","listinvoices":"รับรายการ invoice ทั้งหมด","channelbalance":"รับรายงานเกี่ยวกับเงินทุนรวมในทุก channel ที่เปิดอยู่","walletbalance":"รับผลลัพธ์ที่ไม่ได้ใช้ทั้งหมดใน wallet"},"liquid":{"signschnorr":"เซ็นข้อความด้วย key ของคุณ","getaddress":"แสดง Liquid address รับเงินของคุณ"},"webln":{"getbalance":"แสดงยอดเงินในบัญชีของคุณ"},"bitcoin":{"getaddress":"แสดง address บิตคอยน์ที่ใช้รับเงินของคุณ"}},"y0":{"amount":"จำนวน","optional":"ไม่จำเป็น","feedback":"ข้อเสนอแนะ","copied":"คัดลอกเรียบร้อย!","pasted":"วาง!","message":"ข้อความ","help":"ช่วยเหลือ","balance":"คงเหลือ","or":"หรือ","actions":{"back":"ย้อนกลับ","delete":"ลบ","edit":"แก้ไข","send":"ส่ง","save":"บันทึก","import":"นำเข้า","unlock":"ปลดล๊อค","open":"เปิด","cancel":"ยกเลิก","confirm":"ยืนยัน","continue":"ต่อไป","connect":"เชื่อมต่อ","lock":"ล๊อค","receive":"รับ","remember":"จำตัวเลือกของฉันและอย่าถามอีก","more":"อื่น ๆ","download":"ดาวน์โหลด","log_in":"เข้าสู่ระบบ","next":"ต่อไป","transactions":"การทำธุรกรรม","close":"ปิด","export":"ส่งออก","remove":"ลบออก","copy":"คัดลอก","copy_clipboard":"คัดลอกไปยังคลิปบอร์ด","paste":"วาง","paste_clipboard":"วางจากคลิปบอร์ด","copy_invoice":"คัดลอก Invoice","receive_again":"รับการชำระเงินอีกรายการ"},"connectors":{"lnd":"LND","nativelnd":"LND(บน Tor)","lndhub":"LNDHub","nativelndhub":"LNDHub(บนTor)","lnbits":"LNbits","nativelnbits":"LNbits(บน Tor)","galoy":"Galoy","eclair":"Eclair","citadel":"Citadel","nativecitadel":"Citadel (บน Tor)","commando":"Commando"},"range":{"between":"ระหว่าง {{min}} และ {{max}}","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"},"description":"คำอธิบาย","description_full":"คำอธิบายแบบเต็ม","success_message":"{{amount}}{{fiatAmount}} ส่งถึง {{destination}}","response":"การตอบสนอง","password":"รหัสผ่าน","confirm_password":"ยืนยันรหัสผ่าน","sats_other":"ซาโตชิ","loading":"กำลังโหลด","errors":{"connection_failed":"การเชื่อมต่อล้มเหลว","payment_failed":"การชำระเงินล้มเหลว"},"advanced":"ขั้นสูง","success":"สำเร็จ","error":"ข้อผิดพลาด","settings":"การตั้งค่า","accounts":"บัญชี","discover":"ค้นหา","connected_sites":"เว็บไซต์ที่เชื่อมต่อ","wallet":"กระเป๋าตัง","sats_one":"ซาโตชิ"},"wx":{"allowance_menu":{"edit_permissions":"แก้ไขสิทธิ์","hint":"การดำเนินการนี้จะรีเซ็ตงบประมาณปัจจุบัน","new_budget":{"label":"งบประมาณใหม่"},"enable_login":{"title":"เปิดใช้งานการเข้าสู่ระบบเว็บไซต์","subtitle":"เข้าสู่ระบบโดยอัตโนมัติโดยไม่ต้องยืนยันเมื่อเว็บไซต์ร้องขอ"},"edit_allowance":{"title":"แก้ไขการตั้งค่า","screen_reader":"ตัวเลือกการอนุญาติ"},"confirm_delete":"คุณแน่ใจหรือไม่ว่าต้องการลบเว็บไซต์นี้ ?"},"qrcode_scanner":{"title":"สแกน QR Code","actions":{"start_scanning":"เริ่มสแกน","stop_scanning":"หยุดสแกน"},"errors":{"allow_camera_access":"โปรดอนุญาตการเข้าถึงกล้องในหน้าจอการตั้งค่า"}},"companion_download_info":{"download":"ดาวน์โหลด","companion":{"title":"Companion App","description":"Lightweight app เชื่อมต่อเบราว์เซอร์ของคุณกับเครือข่าย TOR"},"tor_native":{"title":"TOR (native)","description":"เลือกตัวเลือกนี้หากเบราว์เซอร์นี้เชื่อมต่อกับเครือข่าย TOR แล้ว"},"heading":"คุณต้องการเชื่อมต่อเครือข่าย TOR อย่างไร?"},"budget_control":{"remember":{"label":"จดจำและกำหนดงบประมาณ","description":"คุณสามารถตั้งค่ายอดคงเหลือไม่ให้ถูกขอให้ยืนยันการชำระเงินจนกว่าจะหมด"},"budget":{"label":"งบประมาณ"}},"toasts":{"connection_error":{"what_you_can_do":"นี่คือสิ่งที่คุณสามารถทำได้:","double_check":"ตรวจสอบรายละเอียดการเชื่อมต่อของคุณอีกครั้ง","if_ssl_errors":"และถ้ามีข้อผิดพลาด SSL (เช่น ERR_CERT_AUTHORITY_INVALID) ให้คลิก \\"ขั้นสูง\\" และดำเนินการยอมรับใบรับรอง","visit_guides":"ดูคำแนะนำของเราสำหรับความช่วยเหลือเพิ่มเติม"},"login_failed":{"password_reset":"ลืมรหัสผ่านของคุณ ? คลิกที่นี่"},"errors":{"invalid_credentials":"รหัสผ่านไม่ถูกต้อง โปรดเช็ครหัสผ่านและอีเมลของคุณ และลองอีกครั้ง"}},"transactions_table":{"fee":"ค่าทำเนียม","preimage":"Preimage","received":"ได้รับ","sent":"ส่ง","boostagram":{"sender":"ผู้ส่ง","message":"ข้อความ","app":"แอปพลิเคชัน","podcast":"พอดคาสต์"},"open_location":"เปิดเว็บไซต์"},"account_menu":{"screen_reader":"เมนูแบบเลื่อนลง","title":"สลับบัญชี","options":{"account":{"add":"เพิ่มบัญชีใหม่","manage":"การจัดการบัญชี","account_settings":"การตั้งค่าบัญชี","go_to_web_wallet":"จัดการเว็บไซต์บนบัญชีของคุณ"}}},"publishers_table":{"payments":"การชำระเงิน"},"badge":{"label":{"auth":"เข้าสู่ระบบ","imported":"นำเข้า"}}}}'),Lt=JSON.parse('{"xk":{"welcome":{"set_password":{"title":"设置解锁密码","description":"此密码将允许你在此设备上解锁 Alby。它无法恢复，但可以稍后更改。","choose_password":{"label":"选择解锁密码："},"confirm_password":{"label":"让我们确认你输入的内容是否正确："},"errors":{"enter_password":"请输入密码。","confirm_password":"请确认你的密码。","mismatched_password":"密码不匹配。"}},"test_connection":{"ready":"真棒，你已准备就绪!","initializing":"正在初始化你的帐户。请耐心等待，可能需要几分钟。。。","connection_error":"连接错误","review_connection_details":"请检查你的连接详情。","connection_taking_long":"尝试连接花费的时间不预期的要长。。。你的详情正确吗？你的节点是否可达？","contact_support":"如果你需要帮助，请联系support@getalby.com","actions":{"delete_edit_account":"删除无效帐户并重新编辑"}},"title":"欢迎使用Alby","pin_extension":{"title":"固定你的 Alby 扩展","description":"就快完成了。以便方便地使用 Alby，请记住把扩展固定到工具栏：","next_btn":"与 Alby 一起开始嗡嗡作响{{icon}}","explanation":"1.点击浏览器右上角的<0/><1/>2.找到Alby并点击将其固定到工具栏<1/>3.就这样。要访问Alby，只需点击<2/>图标"}},"choose_connector":{"lnd":{"errors":{"connection_failed":"连接失败。你的LND凭据是否正确？"},"page":{"description":"你需要你的节点URL和一个具有读取和发送权限的macaroon（例如admin.macaroon）","title":"连接你的LND节点"},"url":{"label":"REST API主机和端口","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon(HEX格式)"},"drag_and_drop":"将你的macaroon拖放到此处或<0>浏览</0>","title":"LND"},"eclair":{"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"},"page":{"title":"连接 <0>Eclair</0>","instructions":"你需要你的 Eclair URL 和密码。"},"password":{"label":"Eclair密码"},"title":"Eclair"},"citadel":{"page":{"title":"连接<0>Citadel</0>节点","instructions":"目前，如果启用了2FA，这就用不了了。"},"password":{"label":"Citadel密码"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"},"title":"Citadel"},"blink":{"title":"眨眼钱包","page":{"title":"连接<0>眨眼钱包</0>"}},"bitcoin_jungle":{"title":"比特币丛林钱包","page":{"title":"连接<0>比特币丛林钱包</0>"}},"btcpay":{"page":{"instructions":"导航到你的BTCPayServer并以管理员身份登录。转到服务器设置 > 服务 > LND Rest - 查看信息。然后点击 \\"查看二维码信息 \\"并复制二维码数据。把它粘贴在下面：","title":"连接你的BTCPay LND节点"},"title":"BTCPay Server","errors":{"connection_failed":"连接失败。BTCPay连接URL是否正确且可访问？"},"config":{"label":"配置数据","placeholder":"config=http://your-btc-pay.org/lnd-config/212121/lnd.config"}},"commando":{"config":{"placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config","label":"配置数据"},"errors":{"connection_failed":"连接失败。你的Core Lightning节点是否在线并使用了commando插件？"},"title":"Core Lightning","page":{"title":"连接你的Core Lightning节点","instructions":"确保你用的是Core Lightning 0.12.0或更新的版本、commando插件正在运行，并且你的节点可以通过闪电网络访问。通过运行\'lightning-cli commando-rune\'来创建rune。"},"host":{"label":"主机"},"pubkey":{"label":"公钥"},"rune":{"label":"Rune"},"proxy":{"label":"Websocket代理"},"port":{"label":"端口"},"privKey":{"label":"本地私钥（自动生成的）"}},"start9":{"page":{"instructions":"在你的 Embassy 仪表板上点击 <0>Lightning Network Daemon</0> 服务。<1/>选择 <0>Properties</0> 标签。<1/>复制 <0>LND Connect REST URL。</0>","title":"连接你的<0>Start9 服务器</0>"},"rest_url":{"placeholder":"lndconnect://yournode:8080?...","label":"lndconnect REST URL"},"title":"Start9"},"raspiblitz":{"page":{"instructions2":"将（admin）<0>macaroon</0>粘贴到下面的输入中。","instructions1":"按照以下步骤操作：<1/> 1.<0>SSH</0>进入你的<0>Raspiblitz</0><1/>2。从列表中选择<0>Connect Apps & Show Credentials</0><1/><0/>3。选择 <0>Connect Alby to this node</0><1/>4。按 <0>OK</0> 以显示连接凭据<1/><1/>在下面的输入中复制并粘贴<0>REST API 主机</0>或 <0>.onion</0> 地址以通过 Tor 连接。","title":"连接你的<0>RaspiBlitz</0>节点"},"rest_api_host":{"label":"REST API主机","placeholder":"your-node-onion-address:port"},"title":"RaspiBlitz"},"lndhub_go":{"title":"LNDHub","page":{"title":"连接LNDHub","description":"在此输入你的LNDHub凭据URI或用你的摄像头扫描二维码。"},"errors":{"invalid_uri":"LNDHub URI无效","connection_failed":"连接失败。你的LNDHub URI是否正确？"},"uri":{"label":"LNDHub导出URI"}},"lnbits":{"url":{"label":"LNbits URL"},"errors":{"connection_failed":"连接失败。你的URL和管理密钥正确吗？"},"title":"LNbits","page":{"title":"连接<0>LNbits</0>","instructions":"在LNbits中，选择你想连接的钱包，打开它，点击API信息并复制管理密钥。把它粘贴在下面："},"admin_key":{"label":"LNbits管理密钥","placeholder":"你的32位数的管理密钥"}},"umbrel":{"page":{"title":"连接<0>Umbrel</0>节点","instructions":"1. 在你的Umbrel仪表板上，进入<0>连接钱包</0><1/>2. 选择<0>REST (Tor)</0>或<0>REST （本地网络）</0>模式<1/>3. 复制<0>lndconnect URL</0>并粘贴到下方"},"title":"Umbrel","rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"description":"连接你外部的闪电钱包或节点","mynode":{"title":"myNode","page":{"title":"连接<0>myNode</0>","instructions":"在你的myNode主页上点击你的<0>Lightning</0>服务的<0>Wallet</0>按钮。<1/> 现在点击<0>Status</0>标签下的<0>Pair Wallet</0>按钮。出现提示时输入密码。<1/>选择下拉菜单并选择一个配对选项。根据你的设置，你可以使用<0>闪电（REST +本地IP）</0>连接或<0>闪电（REST + Tor）</0>连接。"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"lnc":{"page":{"description":"1. 打开 Lightning Terminal 并从侧边栏选择 <0>Lightning Node Connect</0> 。<1/> 2. 点击 <0>Create a new session</0><1/>3. 标记对话，选择所需的权限并提交<1/>4. <0>复制配对词句</0> 并粘贴到下方。","title":"连接你的LND节点"},"title":"Lightning Terminal (LNC)","pairing_phrase":{"placeholder":"秘密的堆聪短语","label":"你的配对短语 "}}},"home":{"allowance_view":{"no_transactions":"<0>{{name}}</0>还没有交易。"},"default_view":{"is_blocked_hint":"Alby 目前在 {{host}} 上被禁用","block_removed":"启用了{{host}}。请重新加载网站。"},"actions":{"send_satoshis":"⚡️ 发送聪 ⚡️","enable_now":"立即启用"}},"accounts":{"title":"帐户","actions":{"add_account":"添加帐户"},"account_view":{"nostr":{"errors":{"failed_to_load":"无法加载 Nostr 密钥。它是有效的 Nostr 密钥吗？"},"title":"Nostr","public_key":{"label":"Nostr 公钥"},"generate_keys":{"screen_reader":"为你的帐户生成一个新的Nostr密钥","actions":{"random_keys":"生成随机密钥","derived_keys":"从帐户派生密钥"},"title":"生成新的 Nostr 密钥","hint":"你可以从这个帐户的详细信息中生成一个随机密钥或派生密钥（使用一个签名的规范短语）。 <0>了解更多\\"</0>"},"actions":{"generate":"生成新密钥"},"private_key":{"subtitle":"粘贴你的 Nostr 私钥或生成一个新的。<0>了解更多»</0>","title":"管理你的 Nostr 密钥","success":"Nostr 私钥已加密并成功保存。","successfully_removed":"Nostr 私钥已成功移除。","label":"Nostr 私钥","failed_to_remove":"输入的帐户名称不匹配，你的旧 Nostr 私钥已被恢复。"},"hint":"是一个简单而开放的协议，旨在创建抗审查的社交网络。Nostr 使用加密密钥。你可以使用你的密钥对内容进行签署并将其发送到多个中继。你可以使用 Alby 来管理你的 Nostr 密钥。许多 Nostr 应用程序允许你轻松地使用 Alby 扩展中的密钥。","settings":{"label":"Nostr 设置","title":"Nostr 设置","imported_key_warning":"⚠️ 你当前正在使用导入的或随机生成的 Nostr 密钥。 你的 Nostr 私钥将无法通过你的恢复短语恢复，因此请记住分别备份你的 Nostr 私钥。","can_restore":"✅ Nostr 密钥已从你的主密钥派生","derive":"从主密钥中派生","no_secret_key":"💡 你还没有主密钥。 <0>单击此处</0></div>创建你的主密钥并派生你的 nostr 密钥。","description":"从你的主密钥中派生 Nostr 密钥，或通过将其粘贴到“Nostr 私钥”字段来导入现有的私钥。","remove":"移除现有的密钥"},"setup":{"description2":"在 Alby 中创建的每个 Nostr 帐户都带有<0>恢复短语</0> —— 一组12个单词，始终保证重新获得对你的 Nostr 私钥的访问。","new_to_nostr":"Nostr 新手？<0>了解更多</0>","title":"设置你的 nostr 密钥","description":"选择是否要创建一个新的 nostr 帐户（一对私钥和公钥）或导入现有帐户。","new":{"label":"创建新的 nostr 帐户","description":"通过使用一对新的 nostr 密钥生成主密钥。"},"import":{"label":"导入 nostr 帐户","description":"使用已有的 nostr 私钥或从主密钥中将其派生","title":"你想如何导入你的 nostr 帐户？","private_key":{"label":"使用 nostr 私钥","description":"粘贴你的 nostr 私钥将其导入 Alby"},"recovery_phrase":{"label":"使用恢复短语","description":"使用主密钥恢复短语导入你的 nostr 密钥"}}}},"title1":"帐户设置","export":{"export_uri":"LNDHub凭证URI","scan_qr":"通过扫描二维码将这个钱包导入Zeus或BlueWallet。","title":"连接移动钱包","screen_reader":"导出帐户详情","waiting":"等待LndHub的数据...","your_ln_address":"你的闪电地址：","description":"将允许你在移动钱包上连接并使用此帐户，例如 <0>BlueWallet</0> 和 <1>Zeus</1>。"},"remove":{"title":"删除此帐户","subtitle":"将删除与此帐户关联的所有限额、付款数据和密钥。","error":"输入的帐户名称不匹配。"},"actions":{"remove_account":"删除帐户","export":"导出","remove_secretkey":"移除主密钥"},"title2":"帐户","name":{"title":"名称","placeholder":"帐户名称"},"mnemonic":{"backup":{"button":"备份恢复短语","warning":"⚠️ 别忘了将你的恢复短语备份！不备份可能会导致永久失去对你的主密钥、Nostr 身份或使用此密钥管理的资产的访问权限。","title":"备份你的恢复短语","save":"保存主密钥","protocols":{"nostr":"Nostr"},"items":{"recovery_phrase":"你将始终可以通过使用主密钥的恢复短语来访问它。","storage":"请确保在一个安全且私密的地方将它记下！","words":"恢复短语是一组12个单词，它的工作方式类似于秘密，但是如果丢失，它不能被更改或重置。"},"description":"请写下恢复短语，以便能够在新设备上恢复主密钥，或以防失去帐户访问。"},"existing_nostr_key_notice":"ℹ️ 该账户已设置 nostr 私钥，因此不会从此主密钥派生。你可以通过你的帐户设置管理你的 nostr 密钥。","title":"🔑密钥管理","saved":"主密钥已加密并成功保存。","generate":{"title":"生成新的主密钥","button":"生成主密钥","confirm":"我已将我的帐户主密钥的恢复短语保存到私密且安全的地方。","error_confirm":"请确认你已将你的恢复短语备份。","description":"主密钥允许你与各种协议进行互动，例如：Nostr、基础层比特币或 LNURL-auth。"},"import":{"title":"导入你的主密钥","description":"通过使用恢复短语将主密钥导入 Alby。","button":"导入主密钥"},"inputs":{"title":"恢复短语"},"lnurl":{"title":"闪电登录","use_mnemonic":"使用主密钥登录闪电驱动的应用程序（LNURL Auth）"}},"remove_secretkey":{"success":"已成功移除主密钥。","title":"移除主密钥","subtitle":"将主密钥从该帐户移除。"},"no_mnemonic_hint":"💡 你还没有主密钥。<0>点击此处e</0></div>来生成你的主密钥并解锁这些设置。","network":{"title":"网络","subtitle":"选择网络来派生地址并解码比特币和 Liquid 交易","options":{"bitcoin":"主网","testnet":"测试网","regtest":"Regtest"}}}},"unlock":{"help_contact":{"part2":"Alby支持","part1":"需要帮助? 联络"},"unlock_to_continue":"解锁以继续","errors":{"invalid_password":"密码无效"},"unlock_error":{"help":"你的帐户数据是用你的解锁密码加密的。如果你真的忘记了你的解锁密码，你必须重置并再次添加你的闪电帐户。","link":"立即重置并添加新帐户"},"unlock_password":"你的解锁密码"},"publishers":{"publisher":{"allowance":{"used_budget":"已使用的聪","title":"限额"}},"description":"你曾经使用过Alby的网站","no_info":"看起来你还没有在任何网站上使用过 Alby。","discover":"发现网站","title":"你的⚡网站"},"settings":{"nostr":{"private_key":{"title":"私钥","subtitle":"此部分已移至帐户页面，因为密钥现在是特定于帐户的。","go_to":"前往帐户"},"title":"Nostr","hint":"是一个简单而开放的协议，旨在创建抗审查的社交网络。 Nostr 使用加密密钥。你可以使用你的密钥对内容进行签署并将其发送到多个中继。你可以使用 Alby 来管理你的 Nostr 密钥。许多 Nostr 应用程序允许你轻松地使用 Alby 扩展中的密钥。"},"lnurl_auth":{"title":"LNURL-认证","legacy_lnurl_auth":{"title":"LNDhub 和 LNbits 的旧签名方式","subtitle":"用 LNDhub（如 BlueWallet）和 LNbits 帐户进行的消息签署和登录已经改变（2022年3月）。如果你使用这些帐户登录，你仍然可以启用旧的签名方法。这个选项以后会被删除，请确保切换到新的登录方式。"},"hint":"是一个通用的认证协议。它使用数字签名对用户进行认证。该协议不需要任何其他识别信息，如密码、电子邮件、用户名或类似信息。通过 Alby，你可以使用你的闪电帐户安全地登录网站。为了与其他钱包兼容，我们不得不做一些改变，你可以在这里进行配置。 <0>理想情况下，所有这些选项都是关闭的。</0>仅当你有旧帐户时才应该启用它们。","legacy_lnurl_auth_202207":{"subtitle":"LNURL-认证的密钥生成已经改变（2022年7月）。Alby与其他实施方式不再兼容。这已被改变了，但现在使用的是不同的登录密钥。如果你之前使用LNURL-认证登录，你仍然可以启用旧方法。这个选项以后会被删除，请务必切换到新的登录方式。","title":"旧版 LNURL-认证"}},"browser_notifications":{"title":"浏览器通知","subtitle":"支付和认证相关的通知。"},"language":{"subtitle":"翻译工作尚未100%完成。 <0>帮助我们将Alby翻译成你的语言！</0>","title":"语言"},"name":{"title":"名字","placeholder":"输入你的名字"},"change_password":{"screen_reader":"更改解锁密码","errors":{"confirm_password":"请确认你的密码。","mismatched_password":"密码不匹配。","enter_password":"请输入新的解锁密码。"},"choose_password":{"label":"输入新的解锁密码："},"success":"密码更改成功","title":"更改解锁密码","confirm_password":{"label":"确认新密码："},"submit":{"label":"更改"}},"title":"设置","theme":{"options":{"system":"系统","dark":"深色","light":"浅色"},"title":"模式","subtitle":"在深色或浅色模式下使用 Alby"},"website_enhancements":{"subtitle":"为Twitter、YouTube等提供小费功能。","title":"网站改进"},"camera_access":{"subtitle":"用于扫描二维码","allow":"允许摄像头访问","granted":"许可已授予","title":"摄像头访问权"},"show_fiat":{"subtitle":"始终从所选交易所转换为所选货币","title":"聪兑换法币"},"exchange":{"title":"交易所来源","subtitle":"比特币汇率来源"},"personal_data":{"title":"个人数据","description":"收款人可以请求在付款时发送额外的数据。未经你的同意，此数据不会与任何人分享。在发送此数据以及付款之前，你始终将收到提示。"},"email":{"title":"电子邮箱","placeholder":"输入你的电子邮件地址"},"currency":{"title":"货币","subtitle":"另外显示该货币的金额"}},"keysend":{"receiver":{"label":"将付款发送至"},"success":"付款已发送！原像：{{preimage}}","amount":{"label":"金额(聪)"},"title":"发送"},"send":{"input":{"hint":"发票、闪电地址、LNURL","label":"接收者","hint_with_bitcoin_address":"发票、闪电地址、LNURL或比特币地址"},"title":"发送"},"lnurlauth":{"submit":"登录","content_message":{"heading":"你是否想登录"},"title":"认证","success":"成功登录 {{name}}","errors":{"status":"错误：认证状态不正常"}},"lnurlwithdraw":{"content_message":{"heading":"金额"},"amount":{"label":"金额"},"title":"提款","success":"向{{sender}}成功发送了{{amount}}的提款请求"},"receive":{"actions":{"create_invoice":"创建发票"},"amount":{"placeholder":"聪金额...","label":"金额"},"description":{"label":"描述","placeholder":"例如，谁在发送这笔付款？"},"success":"收到付款!","payment":{"waiting":"等待付款...","status":"检查付款状态"},"title":"收款"},"make_invoice":{"memo":{"label":"备忘录"},"errors":{"amount_too_small":"金额低于最低限度","amount_too_big":"金额超过最高限额"},"title":"创建发票","amount":{"label":"金额(聪)"}},"confirm_sign_message":{"content":"该网站要求你签署:","title":"签名"},"confirm_request_permission":{"allow":"允许该网站执行：","always_allow":"记住我的选择，不要再问了","title":"批准请求"},"nostr":{"title":"Nostr","allow":"允许该网站:","block_and_ignore":"阻止并忽略 {{host}}","content":"该网站要求你签署:","allow_sign":"允许{{host}}签署：","block_added":"已将{{host}}添加到屏蔽列表，请重新加载网站。","view_details":"查看详情","hide_details":"隐藏详情","kinds":{"0":"元数据","1":"短文笔记","2":"推荐中继器","3":"联系人","4":"加密的直接消息","5":"删除事件","7":"回应","8":"徽章奖励","40":"频道创建","41":"频道元数据","42":"频道消息","43":"频道隐藏消息","44":"频道静音用户","1984":"报告","9734":"打闪请求","9735":"打闪","10002":"中继器列表元数据","22242":"客户端认证","24133":"nostr 连接","30008":"个人资料徽章","30009":"徽章定义","30023":"长篇内容","30078":"应用程序特定数据"}},"lnurlpay":{"amount":{"label":"金额"},"comment":{"label":"注"},"email":{"label":"电子邮箱"},"success":"成功，付款已发送！","name":{"label":"名称"}},"confirm_payment":{"actions":{"pay_now":"立即付款"},"title":"批准付款","success":"支付{{amount}}成功!"},"confirm_keysend":{"title":"批准付款","success":"付款已发送! 原像: {{preimage}}","payment_summary":{"description":"付款至： {{destination}}"}},"choose_path":{"other":{"title":"其他钱包","connect":"连接"},"alby":{"title":"Alby帐户","connect":"使用 Alby 连接"}},"discover":{"list":{"trading":"交易","miscellaneous":"杂项","shopping":"购物","entertainment":"娱乐","gaming":"游戏","showcases":"展示","nostr":"Nostr","nodeManagement":"节点管理"},"description":"可以使用 Alby 的网站和网络应用程序","title":"探索闪电⚡️生态系统","tips":{"top_up_wallet":{"title":"购买比特币","description":"需要充值？\\n我们能帮忙！"},"title":"你的Alby钱包已准备就绪","description":"一些让你开始嗡嗡作响的小贴士🐝","demo":{"title":"Alby 演示","description":"在我们的演示网站上\\n发现 Alby 的所有功能"},"mnemonic":{"title":"Nostr","description":"打算使用 Nostr？\\n立即生成你的密钥。"}}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"密码"},"confirm_password":{"label":"确认密码"},"errors":{"enter_password":"请输入密码。","confirm_password":"请确认你的密码。","mismatched_password":"密码不匹配。"}}}},"lnurlchannel":{"content_message":{"heading":"向节点请求通道"},"title":"通道请求","success":"通道请求已成功发送到 {{name}}"},"transactions":{"list_empty":"尚无交易。","title":"交易"},"distributions":{"title":"连接 {{name}}","description":"选择你想连接的{{name}}应用程序","citadel":{"name":"Citadel"},"btcpay":{"name":"BTCPay"},"raspiblitz":{"name":"Raspiblitz"},"mynode":{"name":"myNode"},"start9":{"name":"Start9"},"umbrel":{"name":"Umbrel"}},"confirm_add_account":{"title":"添加帐户","content":"此网站想要添加一个帐户（{{connector}}）：","tor_info":"为了通过 TOR 网络进行连接，你需要先安装 Alby 配套应用程序："},"on_chain":{"instructions1":"要通过比特币地址接收比特币，请在 getalby.com 上登录你的 <0>Alby 帐户</0>","go":"前往你的 Alby 帐户 →","title":"通过比特币地址接收","instructions2":"你可以在<0>收款</0>页面上找到你的比特币地址。"},"lnurlredeem":{"title":"兑换比特币","actions":{"withdraw":"提款"},"input":{"label":"LNURL-提款代码","placeholder":"LNURL..."},"errors":{"invalid_withdraw_request":"无效 LNURL 提款请求","invalid_lnurl":"无效 LNURL"}},"scan_qrcode":{"title":"等待扫描"},"confirm_sign_pset":{"title":"签署","view_details":"查看详情","inputs":"输入","allow_sign":"该网站要求你签署一笔 Liquid 交易：","view_raw_transaction":"查看原始交易（Base64）","hide_raw_transaction":"隐藏原始交易（Base64）","hide_details":"隐藏详情","outputs":"输出","amount":"{{amount}} {{ticker}}"},"bitcoin":{"allow_sign":"允许{{host}}签署：","block_and_ignore":"阻止并忽略{{host}}","block_added":"已将 {{host}}添加到了阻止列表，请重新加载网站。","confirm_get_address":{"title":"获取地址"},"allow":"允许该网站："},"liquid":{"title":"Liquid","allow_sign":"允许{{host}}签署：","allow":"允许该网站：","block_and_ignore":"阻止并忽略{{host}}","block_added":"已将{{host}}加入阻止列表，请重新加载网站。"},"send_to_bitcoin_address":{"view_on_explorer":"在内存池浏览器上查看","title":"发送到比特币地址","recipient":{"label":"收款方"},"network_fee":{"label":"网络费"},"total":{"label":"总额"},"service_fee":{"label":"服务费"},"provider":{"label":"交换提供方"},"service_unavailable":"服务暂时不可用，请几分钟后重试。","amount":{"label":"金额（聪）"},"total_fee":{"label":"费用"},"time_estimate":"ℹ️ 交易通常在10到30分钟内到达。"}},"y0":{"actions":{"lock":"锁定","receive":"收款","close":"关闭","back":"返回","next":"下一步","cancel":"取消","delete":"删除","edit":"编辑","export":"导出","remove":"移除","continue":"继续","connect":"连接","unlock":"解锁","send":"发送","save":"保存","open":"打开","confirm":"确认","copy":"复制","copy_invoice":"复制发票","log_in":"登录","receive_again":"接收另一笔付款","remember":"记住我的选择，不要再问","transactions":"交易","more":"更多","download":"下载","import":"导入","copy_clipboard":"复制到剪切板","paste":"粘贴","paste_clipboard":"从剪切板粘贴","review":"审查"},"errors":{"connection_failed":"连接失败","payment_failed":"付款失败"},"feedback":"反馈","success":"成功","description_full":"详细描述","password":"密码","settings":"设置","connected_sites":"已连接的网站","amount":"金额","optional":"可选","description":"描述","message":"消息","sats_one":"sat","sats_other":"聪","success_message":"{{amount}}{{fiatAmount}}正在被发送至{{destination}}","response":"答复","help":"帮助","copied":"已复制！","error":"错误","loading":"加载中","advanced":"高级","accounts":"帐户","confirm_password":"确认密码","discover":"发现","range":{"between":"在 {{min}} 和 {{max}} 之间","lessThanOrEqual":"≤ {{max}}","greaterOrEqual":"≥ {{min}}"},"balance":"余额","wallet":"钱包","connectors":{"lnd":"LND","nativelnd":"LND（通过 Tor）","lndhub":"LNDHub","nativelndhub":"LNDHub（通过 Tor）","lnbits":"LNBits","nativelnbits":"LNBits（通过 Tor）","galoy":"Galoy","eclair":"Eclair","citadel":"Citadel","nativecitadel":"Citadel（通过 Tor）","commando":"Commando"},"or":"或","pasted":"已粘贴！"},"wx":{"toasts":{"login_failed":{"password_reset":"忘记密码？点击这里"},"errors":{"invalid_credentials":"密码无效。请检查你的密码和电子邮件地址，然后重试。"},"connection_error":{"visit_guides":"访问我们的指南以获取更多帮助","what_you_can_do":"以下是你可以执行的操作：","double_check":"仔细检查你的连接详情","if_ssl_errors":"如果有SSL错误（如ERR_CERT_AUTHORITY_INVALID），点击 \\"高级 \\"并继续接受凭证。"}},"account_menu":{"title":"切换帐户","options":{"account":{"add":"添加新帐户","manage":"管理帐户","account_settings":"帐户设置","go_to_web_wallet":"管理你的网络帐户"}},"screen_reader":"切换下拉菜单"},"allowance_menu":{"hint":"这将重置当前的预算","confirm_delete":"你确定要删除这个网站吗？","new_budget":{"label":"新预算"},"enable_login":{"title":"启用网站登录","subtitle":"当网站要求时，无需确认即可自动登录。"},"edit_allowance":{"title":"编辑偏好","screen_reader":"限额选项"},"edit_permissions":"编辑权限"},"transactions_table":{"boostagram":{"podcast":"播客","message":"消息","app":"应用程序","sender":"付款方"},"received":"已收到","sent":"已发送","fee":"费用","preimage":"原像","open_location":"打开网站"},"budget_control":{"remember":{"label":"保存并设定预算","description":"你可以设置一个预算余额，在它用完之前不要求确认付款。"},"budget":{"label":"预算"}},"qrcode_scanner":{"title":"扫描二维码","actions":{"stop_scanning":"停止扫描","start_scanning":"开始扫描"},"errors":{"allow_camera_access":"请在设置屏幕中允许摄像头访问。"}},"badge":{"label":{"auth":"登录","imported":"已导入"}},"publishers_table":{"payments":"付款"},"companion_download_info":{"heading":"你想如何连接到 TOR 网络？","download":"下载","tor_native":{"title":"TOR（本地）","description":"如果该浏览器已经连线 TOR 网络，请选择该选项。"},"companion":{"title":"配套应用","description":"将浏览器连接到 TOR 网络的轻量级应用程序。"}}},"mk":{"nostr":{"signmessage":"使用你的密钥签署消息","nip04decrypt":"解密数据","nip04encrypt":"加密数据","getpublickey":"读取你的公钥"},"commando":{"bkpr-listbalances":"所有当前和历史帐户余额列表","checkmessage":"验证该签名是由一个给定的节点产生的","decode":"解码 bolt11/bolt12/rune 字符串","connect":"与另一个节点建立新的连接","decodepay":"检查并解析 bolt11 字符串","disconnect":"关闭与对等体的现有连接","fundchannel":"通过投入资金交易与对等体打开支付渠道","getroute":"寻找支付到闪电节点的最佳途径","invoice":"创建付款的期望","listforwards":"列出所有已尝试转发的 htlc","listfunds":"列出所有可用资金","listnodes":"列出该节点通过八卦消息了解到的节点","listpeers":"列出与该节点相连或有开放渠道的节点","listsendpays":"获取所有 sendpay 命令的状态","listtransactions":"列出钱包中跟踪的交易","offer":"创建报价","multifundchannel":"通过投入一笔资金交易与多个节点开通支付渠道","pay":"向 BOLT11 发票发送付款","signmessage":"从这个节点创建一个签名","keysend":"向另一个节点发送付款","listinvoices":"获取所有发票的状态","getinfo":"获取节点摘要","listoffers":"列出所有报价或获取特定报价","setchannel":"配置为渠道宣传的费用 / htlc 范围","sendpay":"通过途径发送付款","feerates":"返回 CLN 将使用的费率","listpays":"获取所有支付命令的状态"},"lnc":{"getnodeinfo":"获取节点的渠道信息","gettransactions":"获取与该钱包相关的所有交易的列表","listpeers":"列出所有当前活跃的对等体","addinvoice":"创建新发票","getinfo":"获取节点信息","listinvoices":"获取所有发票的列表","walletbalance":"获取钱包的总未花费输出","connectpeer":"与远程对等体连线","disconnectpeer":"与远程对等体断线","estimatefee":"估算交易的费率和总费用","getnetworkinfo":"获取有关已知渠道图的基本统计信息","listpayments":"列出所有付款","lookupinvoice":"查看发票详情","listchannels":"获取所有开放频道的描述","channelbalance":"获取所有开放渠道的总资金报告","getchaninfo":"获取给定渠道的网络公告","openchannel":"开通新渠道","sendtoroute":"通过指定的途径付款","routermc":"读取内部任务控制状态","queryroutes":"查询可能的途径","verifymessage":"通过消息验证签名","decodepayreq":"解码支付请求字符串","addholdinvoice":"创建新的 HODL 发票","settleinvoice":"结算已接受的发票"},"lnd":{"sendtoroute":"通过指定的途径付款","queryroutes":"查询可能的途径","verifymessage":"通过消息验证签名","lookupinvoice":"查看发票详情","listpeers":"列出所有当前活跃的对等体","listinvoices":"获取所有发票的列表","channelbalance":"获取所有开放渠道的总资金报告","walletbalance":"获取钱包中的总未花费输出","disconnectpeer":"与远程对等体断线","estimatefee":"估算交易的费率和总费用","getchaninfo":"获取给定渠道的网络公告","getnetworkinfo":"获取有关已知渠道图的基本统计信息","getnodeinfo":"获取节点的渠道信息","gettransactions":"列出与该钱包相关的所有交易","listpayments":"列出所有付款","decodepayreq":"解码支付请求字符串","routermc":"读取内部任务控制状态","addinvoice":"创建新发票","getinfo":"获取节点信息","listchannels":"获取所有开放渠道的描述","connectpeer":"与远程对等体连线","openchannel":"开通新渠道","addholdinvoice":"创建新的 HODL 发票","settleinvoice":"结算已接受的发票"},"webln":{"getbalance":"读取你的帐户余额"},"bitcoin":{"getaddress":"读取你的比特币收款地址"},"liquid":{"getaddress":"读取你的 Liquid 收款地址","signschnorr":"用你的密钥签署消息"}}}');var jt={en:{translation:At.xk,common:At.y0,components:At.wx,permissions:At.mk},cs:{translation:Et.xk,common:Et.y0,components:Et.wx,permissions:Et.mk},da:{translation:St.xk,common:St.y0,components:St.wx,permissions:St.mk},de:{translation:kt.xk,common:kt.y0,components:kt.wx,permissions:kt.mk},es:{translation:Ot.xk,common:Ot.y0,components:Ot.wx,permissions:Ot.mk},fr:{translation:Pt.xk,common:Pt.y0,components:Pt.wx,permissions:Pt.mk},it:{translation:Tt.xk,common:Tt.y0,components:Tt.wx,permissions:Tt.mk},hi:{translation:It.xk,common:It.y0,components:It.wx,permissions:It.mk},mr:{translation:Nt.xk,common:Nt.y0,components:Nt.wx,permissions:Nt.mk},pl:{translation:xt.xk,common:xt.y0,components:xt.wx,permissions:xt.mk},"pt-BR":{translation:Rt.xk,common:Rt.y0,components:Rt.wx,permissions:Rt.mk},sv:{translation:Ct.xk,common:Ct.y0,components:Ct.wx,permissions:Ct.mk},th:{translation:Bt.xk,common:Bt.y0,components:Bt.wx,permissions:Bt.mk},"zh-CN":{translation:Lt.xk,common:Lt.y0,components:Lt.wx,permissions:Lt.mk}};$e.use(_t).use(pt).init({fallbackLng:"en",ns:["translation","common","components","permissions"],defaultNS:"translation",resources:jt});const Dt=$e;var Ut,Mt={browserNotifications:!0,websiteEnhancements:!0,legacyLnurlAuth:!1,isUsingLegacyLnurlAuthKey:!1,userName:"",userEmail:"",locale:null!==(Ut=Dt.resolvedLanguage)&&void 0!==Ut?Ut:"en",theme:"system",showFiat:!0,currency:n.USD,exchange:"alby",nostrEnabled:!1,closedTips:[]};const Ht=2n**256n,zt=Ht-0x1000003d1n,Ft=Ht-0x14551231950b75fc4402da1732fc9bebfn,Kt=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,qt=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,Vt={p:zt,n:Ft,a:0n,b:7n,Gx:Kt,Gy:qt},Wt=32,Gt=e=>nn(nn(e*e)*e+Vt.b),Yt=(e="")=>{throw new Error(e)},$t=e=>"bigint"==typeof e,Zt=e=>"string"==typeof e,Xt=e=>$t(e)&&0n<e&&e<zt,Jt=e=>$t(e)&&0n<e&&e<Ft,Qt=(e,t)=>!(e instanceof Uint8Array)||"number"==typeof t&&t>0&&e.length!==t?Yt("Uint8Array expected"):e,en=e=>new Uint8Array(e),tn=(e,t)=>Qt(Zt(e)?fn(e):en(e),t),nn=(e,t=zt)=>{let n=e%t;return n>=0n?n:t+n},rn=e=>e instanceof an?e:Yt("Point expected");let on;class an{constructor(e,t,n){this.px=e,this.py=t,this.pz=n}static fromAffine(e){return new an(e.x,e.y,1n)}static fromHex(e){let t;const n=(e=tn(e))[0],r=e.subarray(1),i=hn(r,0,Wt),o=e.length;if(33===o&&[2,3].includes(n)){Xt(i)||Yt("Point hex invalid: x not FE");let e=mn(Gt(i));1==(1&n)!==(1n===(1n&e))&&(e=nn(-e)),t=new an(i,e,1n)}return 65===o&&4===n&&(t=new an(i,hn(r,Wt,2*Wt),1n)),t?t.ok():Yt("Point is not on curve")}static fromPrivateKey(e){return sn.mul(vn(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){const{px:t,py:n,pz:r}=this,{px:i,py:o,pz:a}=rn(e),s=nn(t*a),c=nn(i*r),u=nn(n*a),l=nn(o*r);return s===c&&u===l}negate(){return new an(this.px,nn(-this.py),this.pz)}double(){return this.add(this)}add(e){const{px:t,py:n,pz:r}=this,{px:i,py:o,pz:a}=rn(e),{a:s,b:c}=Vt;let u=0n,l=0n,f=0n;const d=nn(3n*c);let h=nn(t*i),p=nn(n*o),y=nn(r*a),g=nn(t+n),b=nn(i+o);g=nn(g*b),b=nn(h+p),g=nn(g-b),b=nn(t+r);let m=nn(i+a);return b=nn(b*m),m=nn(h+y),b=nn(b-m),m=nn(n+r),u=nn(o+a),m=nn(m*u),u=nn(p+y),m=nn(m-u),f=nn(s*b),u=nn(d*y),f=nn(u+f),u=nn(p-f),f=nn(p+f),l=nn(u*f),p=nn(h+h),p=nn(p+h),y=nn(s*y),b=nn(d*b),p=nn(p+y),y=nn(h-y),y=nn(s*y),b=nn(b+y),h=nn(p*b),l=nn(l+h),h=nn(m*b),u=nn(g*u),u=nn(u-h),h=nn(g*p),f=nn(m*f),f=nn(f+h),new an(u,l,f)}mul(e,t=!0){if(!t&&0n===e)return cn;if(Jt(e)||Yt("invalid scalar"),this.equals(sn))return Ln(e).p;let n=cn,r=sn;for(let i=this;e>0n;i=i.double(),e>>=1n)1n&e?n=n.add(i):t&&(r=r.add(i));return n}mulAddQUns(e,t,n){return this.mul(t,!1).add(e.mul(n,!1)).ok()}toAffine(){const{px:e,py:t,pz:n}=this;if(this.equals(cn))return{x:0n,y:0n};if(1n===n)return{x:e,y:t};const r=bn(n);return 1n!==nn(n*r)&&Yt("invalid inverse"),{x:nn(e*r),y:nn(t*r)}}assertValidity(){const{x:e,y:t}=this.aff();return Xt(e)&&Xt(t)||Yt("Point invalid: x or y"),nn(t*t)===Gt(e)?this:Yt("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){const{x:t,y:n}=this.aff();return(e?0n===(1n&n)?"02":"03":"04")+yn(t)+(e?"":yn(n))}toRawBytes(e=!0){return fn(this.toHex(e))}}an.BASE=new an(Kt,qt,1n),an.ZERO=new an(0n,1n,0n);const{BASE:sn,ZERO:cn}=an,un=(e,t)=>e.toString(16).padStart(t,"0"),ln=e=>Array.from(e).map((e=>un(e,2))).join(""),fn=e=>{const t=e.length;(!Zt(e)||t%2)&&Yt("hex invalid 1");const n=en(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);(Number.isNaN(o)||o<0)&&Yt("hex invalid 2"),n[t]=o}return n},dn=e=>BigInt("0x"+(ln(e)||"0")),hn=(e,t,n)=>dn(e.slice(t,n)),pn=e=>$t(e)&&e>=0n&&e<Ht?fn(un(e,2*Wt)):Yt("bigint expected"),yn=e=>ln(pn(e)),gn=(...e)=>{const t=en(e.reduce(((e,t)=>e+Qt(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},bn=(e,t=zt)=>{(0n===e||t<=0n)&&Yt("no inverse n="+e+" mod="+t);let n=nn(e,t),r=t,i=0n,o=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=i-a*e,u=o-s*e;r=n,n=t,i=a,o=s,a=c,s=u}return 1n===r?nn(i,t):Yt("no inverse")},mn=e=>{let t=1n;for(let n=e,r=(zt+1n)/4n;r>0n;r>>=1n)1n&r&&(t=t*n%zt),n=n*n%zt;return nn(t*t)===e?t:Yt("sqrt invalid")},vn=e=>($t(e)||(e=dn(tn(e,Wt))),Jt(e)?e:Yt("private key out of range")),wn=e=>e>Ft>>1n;function _n(e,t=!0){return an.fromPrivateKey(e).toRawBytes(t)}class En{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){return e=tn(e,64),new En(hn(e,0,Wt),hn(e,Wt,2*Wt))}assertValidity(){return Jt(this.r)&&Jt(this.s)?this:Yt()}addRecoveryBit(e){return new En(this.r,this.s,e)}hasHighS(){return wn(this.s)}recoverPublicKey(e){const{r:t,s:n,recovery:r}=this;[0,1,2,3].includes(r)||Yt("recovery id invalid");const i=kn(tn(e,32)),o=2===r||3===r?t+Ft:t;o>=zt&&Yt("q.x invalid");const a=0==(1&r)?"02":"03",s=an.fromHex(a+yn(o)),c=bn(o,Ft),u=nn(-i*c,Ft),l=nn(n*c,Ft);return sn.mulAddQUns(s,u,l)}toCompactRawBytes(){return fn(this.toCompactHex())}toCompactHex(){return yn(this.r)+yn(this.s)}}const Sn=e=>{const t=8*e.length-256,n=dn(e);return t>0?n>>BigInt(t):n},kn=e=>nn(Sn(e),Ft),An=e=>pn(e),On=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let Pn;const In={lowS:!0};function Tn(e,t,n=In){["der","recovered","canonical"].some((e=>e in n))&&Yt("sign() legacy options not supported");let{lowS:r}=n;null==r&&(r=!0);const i=kn(tn(e)),o=An(i),a=vn(t),s=[An(a),o];let c=n.extraEntropy;if(c){!0===c&&(c=Bn.randomBytes(Wt));const e=tn(c);e.length!==Wt&&Yt(),s.push(e)}const u=i;return{seed:gn(...s),k2sig:e=>{const t=Sn(e);if(!Jt(t))return;const n=bn(t,Ft),i=sn.mul(t).aff(),o=nn(i.x,Ft);if(0n===o)return;const s=nn(n*nn(u+nn(a*o,Ft),Ft),Ft);if(0n===s)return;let c=s,l=(i.x===o?0:2)|Number(1n&i.y);return r&&wn(s)&&(c=nn(-s,Ft),l^=1),new En(o,c,l)}}}function Nn(e){let t=en(Wt),n=en(Wt),r=0;const i=()=>{t.fill(1),n.fill(0),r=0},o="drbg: tried 1000 values";if(e){const e=(...e)=>Bn.hmacSha256Async(n,t,...e),a=async(r=en())=>{n=await e(en([0]),r),t=await e(),0!==r.length&&(n=await e(en([1]),r),t=await e())},s=async()=>(r++>=1e3&&Yt(o),t=await e(),t);return async(e,t)=>{let n;for(i(),await a(e);!(n=t(await s()));)await a();return i(),n}}{const e=(...e)=>{const r=Pn;return r||Yt("etc.hmacSha256Sync not set"),r(n,t,...e)},a=(r=en())=>{n=e(en([0]),r),t=e(),0!==r.length&&(n=e(en([1]),r),t=e())},s=()=>(r++>=1e3&&Yt(o),t=e(),t);return(e,t)=>{let n;for(i(),a(e);!(n=t(s()));)a();return i(),n}}}async function xn(e,t,n=In){const{seed:r,k2sig:i}=Tn(e,t,n);return Nn(!0)(r,i)}function Rn(e,t,n=!0){return an.fromHex(t).mul(vn(e)).toRawBytes(n)}function Cn(e){e=tn(e);const t=Wt+8;(e.length<t||e.length>1024)&&Yt("expected proper params");const n=nn(dn(e),Ft-1n)+1n;return pn(n)}const Bn={hexToBytes:fn,bytesToHex:ln,concatBytes:gn,bytesToNumberBE:dn,numberToBytesBE:pn,mod:nn,invert:bn,hmacSha256Async:async(e,...t)=>{const n=On();if(!n)return Yt("etc.hmacSha256Async not set");const r=n.subtle,i=await r.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return en(await r.sign("HMAC",i,gn(...t)))},hmacSha256Sync:Pn,hashToPrivateKey:Cn,randomBytes:e=>{const t=On();return t||Yt("crypto.getRandomValues must be defined"),t.getRandomValues(en(e))}};Object.defineProperties(Bn,{hmacSha256Sync:{configurable:!1,get:()=>Pn,set(e){Pn||(Pn=e)}}});const Ln=e=>{const t=on||(on=(()=>{const e=[];let t=sn,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=cn,i=sn;const o=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&o);e>>=a,u>128&&(u-=256,e+=1n);const l=c,f=c+Math.abs(u)-1,d=s%2!=0,h=u<0;0===u?i=i.add(n(d,t[l])):r=r.add(n(h,t[f]))}return{p:r,f:i}};var jn=a(17656),Dn=a(45217),Un=a(77235),Mn=a.t(Un,2),Buffer=a(48764).Buffer;function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn="m/86'/0'/0'/0",Kn="m/86'/1'/0'/0",qn=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zn(this,"networkType",void 0),zn(this,"mnemonic",void 0),zn(this,"network",void 0),this.mnemonic=t,this.networkType=n,this.network=jn.QW[this.networkType],jn.Wi(Mn)}var t,n,r;return t=e,n=[{key:"signPsbt",value:function(e){var t="bitcoin"===this.networkType?Fn:Kn,n="".concat(t,"/").concat(0),r=this.mnemonic.deriveKey(n),i=jn._B.fromHex(e,{network:this.network}),o=(0,Dn.default)(Mn),a=function(e,t,n){var r=t.privateKey;if(!r)throw new Error("Private key is required for tweaking signer!");3===t.publicKey[0]&&(r=Un.privateNegate(r));var i=Un.privateAdd(r,function(e,t){return jn.eL.taggedHash("TapTweak",Buffer.concat(t?[e,t]:[e]))}(Wn(t.publicKey),n.tweakHash));if(!i)throw new Error("Invalid tweaked private key!");return e.fromPrivateKey(Buffer.from(i),{network:n.network})}(o,o.fromPrivateKey(Buffer.from(r.privateKey),{network:this.network}),{network:this.network});return i.data.inputs.forEach((function(e,t){i.signTaprootInput(t,a)})),i.finalizeAllInputs(),i.extractTransaction().toHex()}},{key:"getTaprootAddress",value:function(){var e="bitcoin"===this.networkType?Fn:Kn,t="".concat(e,"/").concat(0),n=this.mnemonic.deriveKey(t),r=jn.PP.p2tr({internalPubkey:Wn(Buffer.from(n.publicKey)),network:this.network}).address;if(!r)throw new Error("No taproot address found from private key");return{address:r,derivationPath:t,index:0,publicKey:Bn.bytesToHex(n.publicKey)}}},{key:"getPsbtPreview",value:function(e){for(var t=function(e){var t=r.txOutputs[e],o=t.address||t.script&&function(){try{return jn.Lk.fromOutputScript(t.script,n.network)}catch(e){console.error(e)}}()||"UNKNOWN",a={amount:t.value,address:o};i.outputs.push(a)},n=this,r=jn._B.fromHex(e,{network:this.network}),i={inputs:[],outputs:[],fee:0},o=0;o<r.data.inputs.length;o++){var a,s,c,u=r.data.inputs[o].tapInternalKey||(null===(s=r.data.inputs[o].tapBip32Derivation)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.pubkey),l="UNKNOWN";if(u){var f=jn.PP.p2tr({internalPubkey:u,network:this.network}).address;f&&(l=f)}if(!r.data.inputs[o].witnessUtxo)throw new Error("No witnessUtxo in input "+o);i.inputs.push({amount:(null===(c=r.data.inputs[o].witnessUtxo)||void 0===c?void 0:c.value)||0,address:l})}for(var d=0;d<r.data.outputs.length;d++)t(d);var h=!0,p=!1,y=void 0;try{for(var g,b=i.inputs[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var m=g.value;i.fee+=m.amount}}catch(e){p=!0,y=e}finally{try{h||null==b.return||b.return()}finally{if(p)throw y}}var v=!0,w=!1,_=void 0;try{for(var E,S=i.outputs[Symbol.iterator]();!(v=(E=S.next()).done);v=!0){var k=E.value;i.fee-=k.amount}}catch(e){w=!0,_=e}finally{try{v||null==S.return||S.return()}finally{if(w)throw _}}return i}}],n&&Hn(t.prototype,n),r&&Hn(t,r),e}();const Vn=qn;var Wn=function(e){return 32===e.length?e:e.slice(1,33)};function Gn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Yn(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const $n={number:Gn,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Yn,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Gn(e.outputLen),Gn(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Yn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},Zn=$n,Xn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Jn=e=>e instanceof Uint8Array,Qn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),er=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const tr=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function nr(e){if(!Jn(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=tr[e[n]];return t}function rr(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}function ir(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function or(e){if("string"==typeof e&&(e=ir(e)),!Jn(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function ar(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Jn(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class sr{clone(){return this._cloneInto()}}const cr=e=>"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object;function ur(e){const t=t=>e().update(or(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function lr(e=32){if(Xn&&"function"==typeof Xn.getRandomValues)return Xn.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class fr extends sr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Zn.hash(e);const n=or(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Zn.exists(this),this.iHash.update(e),this}digestInto(e){Zn.exists(this),Zn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dr=(e,t,n)=>new fr(e,t).update(n).digest();dr.create=(e,t)=>new fr(e,t);class hr extends sr{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Qn(this.buffer)}update(e){Zn.exists(this);const{view:t,buffer,blockLen:n}=this,r=(e=or(e)).length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);if(o!==n)buffer.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Qn(e);for(;n<=r-i;i+=n)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zn.exists(this),Zn.output(e,this),this.finished=!0;const{buffer,view:t,blockLen:n,isLE:r}=this;let{pos:i}=this;buffer[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(t,0),i=0);for(let e=i;e<n;e++)buffer[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)}(t,n-8,BigInt(8*this.length),r),this.process(t,0);const o=Qn(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const s=a/4,c=this.get();if(s>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<s;e++)o.setUint32(4*e,c[e],r)}digest(){const{buffer,outputLen:e}=this;this.digestInto(buffer);const t=buffer.slice(0,e);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer,length:n,finished:r,destroyed:i,pos:o}=this;return e.length=n,e.pos=o,e.finished=r,e.destroyed=i,n%t&&e.buffer.set(buffer),e}}const pr=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),yr=Uint8Array.from({length:16},((e,t)=>t)),gr=yr.map((e=>(9*e+5)%16));let br=[yr],mr=[gr];for(let e=0;e<4;e++)for(let t of[br,mr])t.push(t[e].map((e=>pr[e])));const vr=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),wr=br.map(((e,t)=>e.map((e=>vr[t][e])))),_r=mr.map(((e,t)=>e.map((e=>vr[t][e])))),Er=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Sr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),kr=(e,t)=>e<<t|e>>>32-t;function Ar(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const Or=new Uint32Array(16);class Pr extends hr{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)Or[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,a=0|this.h2,s=a,c=0|this.h3,u=c,l=0|this.h4,f=l;for(let e=0;e<5;e++){const t=4-e,d=Er[e],h=Sr[e],p=br[e],y=mr[e],g=wr[e],b=_r[e];for(let t=0;t<16;t++){const r=kr(n+Ar(e,i,a,c)+Or[p[t]]+d,g[t])+l|0;n=l,l=c,c=0|kr(a,10),a=i,i=r}for(let e=0;e<16;e++){const n=kr(r+Ar(t,o,s,u)+Or[y[e]]+h,b[e])+f|0;r=f,f=u,u=0|kr(s,10),s=o,o=n}}this.set(this.h1+a+u|0,this.h2+c+f|0,this.h3+l+r|0,this.h4+n+o|0,this.h0+i+s|0)}roundClean(){Or.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Ir=ur((()=>new Pr)),Tr=(e,t,n)=>e&t^~e&n,Nr=(e,t,n)=>e&t^e&n^t&n,xr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cr=new Uint32Array(64);class Br extends hr{constructor(){super(64,32,8,!1),this.A=0|Rr[0],this.B=0|Rr[1],this.C=0|Rr[2],this.D=0|Rr[3],this.E=0|Rr[4],this.F=0|Rr[5],this.G=0|Rr[6],this.H=0|Rr[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)Cr[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Cr[e-15],n=Cr[e-2],r=er(t,7)^er(t,18)^t>>>3,i=er(n,17)^er(n,19)^n>>>10;Cr[e]=i+Cr[e-7]+r+Cr[e-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(er(a,6)^er(a,11)^er(a,25))+Tr(a,s,c)+xr[e]+Cr[e]|0,l=(er(n,2)^er(n,13)^er(n,22))+Nr(n,r,i)|0;u=c,c=s,s=a,a=o+t|0,o=i,i=r,r=n,n=t+l|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,o,a,s,c,u)}roundClean(){Cr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Lr extends Br{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const jr=ur((()=>new Br)),Dr=(ur((()=>new Lr)),BigInt(2**32-1)),Ur=BigInt(32);function Mr(e,t=!1){return t?{h:Number(e&Dr),l:Number(e>>Ur&Dr)}:{h:0|Number(e>>Ur&Dr),l:0|Number(e&Dr)}}const Hr={fromBig:Mr,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=Mr(e[i],t);[n[i],r[i]]=[o,a]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<Ur|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},zr=Hr,[Fr,Kr]=zr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),qr=new Uint32Array(80),Vr=new Uint32Array(80);class Wr extends hr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:c,El:u,Fh:l,Fl:f,Gh:d,Gl:h,Hh:p,Hl:y}=this;return[e,t,n,r,i,o,a,s,c,u,l,f,d,h,p,y]}set(e,t,n,r,i,o,a,s,c,u,l,f,d,h,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)qr[n]=e.getUint32(t),Vr[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|qr[e-15],n=0|Vr[e-15],r=zr.rotrSH(t,n,1)^zr.rotrSH(t,n,8)^zr.shrSH(t,n,7),i=zr.rotrSL(t,n,1)^zr.rotrSL(t,n,8)^zr.shrSL(t,n,7),o=0|qr[e-2],a=0|Vr[e-2],s=zr.rotrSH(o,a,19)^zr.rotrBH(o,a,61)^zr.shrSH(o,a,6),c=zr.rotrSL(o,a,19)^zr.rotrBL(o,a,61)^zr.shrSL(o,a,6),u=zr.add4L(i,c,Vr[e-7],Vr[e-16]),l=zr.add4H(u,r,s,qr[e-7],qr[e-16]);qr[e]=0|l,Vr[e]=0|u}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:s,Dh:c,Dl:u,Eh:l,El:f,Fh:d,Fl:h,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){const t=zr.rotrSH(l,f,14)^zr.rotrSH(l,f,18)^zr.rotrBH(l,f,41),m=zr.rotrSL(l,f,14)^zr.rotrSL(l,f,18)^zr.rotrBL(l,f,41),v=l&d^~l&p,w=f&h^~f&y,_=zr.add5L(b,m,w,Kr[e],Vr[e]),E=zr.add5H(_,g,t,v,Fr[e],qr[e]),S=0|_,k=zr.rotrSH(n,r,28)^zr.rotrBH(n,r,34)^zr.rotrBH(n,r,39),A=zr.rotrSL(n,r,28)^zr.rotrBL(n,r,34)^zr.rotrBL(n,r,39),O=n&i^n&a^i&a,P=r&o^r&s^o&s;g=0|p,b=0|y,p=0|d,y=0|h,d=0|l,h=0|f,({h:l,l:f}=zr.add(0|c,0|u,0|E,0|S)),c=0|a,u=0|s,a=0|i,s=0|o,i=0|n,o=0|r;const I=zr.add3L(S,A,P);n=zr.add3H(I,E,k,O),r=0|I}({h:n,l:r}=zr.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=zr.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=zr.add(0|this.Ch,0|this.Cl,0|a,0|s)),({h:c,l:u}=zr.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:f}=zr.add(0|this.Eh,0|this.El,0|l,0|f)),({h:d,l:h}=zr.add(0|this.Fh,0|this.Fl,0|d,0|h)),({h:p,l:y}=zr.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=zr.add(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(n,r,i,o,a,s,c,u,l,f,d,h,p,y,g,b)}roundClean(){qr.fill(0),Vr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Gr extends Wr{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Yr extends Wr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class $r extends Wr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Zr=ur((()=>new Wr)),Xr=(ur((()=>new Gr)),ur((()=>new Yr)),ur((()=>new $r)),BigInt(0),BigInt(1)),Jr=BigInt(2),Qr=e=>e instanceof Uint8Array,ei=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ti(e){if(!Qr(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ei[e[n]];return t}function ni(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ri(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}function ii(e){return ni(ti(e))}function oi(e){if(!Qr(e))throw new Error("Uint8Array expected");return ni(ti(Uint8Array.from(e).reverse()))}function ai(e,t){return ri(e.toString(16).padStart(2*t,"0"))}function si(e,t){return ai(e,t).reverse()}function ci(e,t,n){let r;if("string"==typeof t)try{r=ri(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Qr(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function ui(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Qr(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}const li=e=>(Jr<<BigInt(e-1))-Xr,fi=e=>new Uint8Array(e),di=e=>Uint8Array.from(e);function hi(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=fi(e),i=fi(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=(...e)=>n(i,r,...e),c=(e=fi())=>{i=s(di([0]),e),r=s(),0!==e.length&&(i=s(di([1]),e),r=s())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return ui(...n)};return(e,t)=>{let n;for(a(),c(e);!(n=t(u()));)c();return a(),n}}const pi={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function yi(e,t,n={}){const r=(t,n,r)=>{const i=pi[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const gi=BigInt(0),bi=BigInt(1),mi=BigInt(2),vi=BigInt(3),wi=BigInt(4),_i=BigInt(5),Ei=BigInt(8);BigInt(9),BigInt(16);function Si(e,t){const n=e%t;return n>=gi?n:t+n}function ki(e,t,n){if(n<=gi||t<gi)throw new Error("Expected power/modulo > 0");if(n===bi)return gi;let r=bi;for(;t>gi;)t&bi&&(r=r*e%n),e=e*e%n,t>>=bi;return r}function Ai(e,t,n){let r=e;for(;t-- >gi;)r*=r,r%=n;return r}function Oi(e,t){if(e===gi||t<=gi)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Si(e,t),r=t,i=gi,o=bi,a=bi,s=gi;for(;n!==gi;){const e=r/n,t=r%n,c=i-a*e,u=o-s*e;r=n,n=t,i=a,o=s,a=c,s=u}if(r!==bi)throw new Error("invert: does not exist");return Si(i,t)}function Pi(e){if(e%wi===vi){const t=(e+bi)/wi;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Ei===_i){const t=(e-_i)/Ei;return function(e,n){const r=e.mul(n,mi),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,mi),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-bi)/mi;let n,r,i;for(n=e-bi,r=0;n%mi===gi;n/=mi,r++);for(i=mi;i<e&&ki(i,t,e)!==e-bi;i++);if(1===r){const t=(e+bi)/wi;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+bi)/mi;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,c=e.pow(e.mul(e.ONE,i),n),u=e.pow(a,o),l=e.pow(a,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,bi<<BigInt(s-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),s=t}return u}}(e)}const Ii=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ti(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}const Ni=BigInt(0),xi=BigInt(1);function Ri(e){return function(e){const t=Ii.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});yi(e,t)}(e.Fp),yi(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ti(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:Ci,hexToBytes:Bi}=e,Li={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Li;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Ci(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Li,n="string"==typeof e?Bi(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Li._parseInt(n.subarray(2)),{d:a,l:s}=Li._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,a=i.length/2,s=n(o),c=n(a);return`30${n(a+o+4)}02${c}${i}02${s}${r}`}},ji=BigInt(0),Di=BigInt(1),Ui=(BigInt(2),BigInt(3));BigInt(4);function Mi(e){const t=function(e){const t=Ri(e);yi(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return ui(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&ji<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=ti(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"==typeof e?e:ii(ci("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(a=Si(a,o)),s(a),a}const u=new Map;function l(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?f.ZERO:new f(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(i(ci("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=o(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),u=n.eql(n.mul(r,s),n.mul(a,i));return c&&u}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Ui),{px:o,py:a,pz:s}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(o,o),h=n.mul(a,a),p=n.mul(s,s),y=n.mul(o,a);return y=n.add(y,y),l=n.mul(o,s),l=n.add(l,l),c=n.mul(e,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(h,u),u=n.add(h,u),u=n.mul(c,u),c=n.mul(y,c),l=n.mul(i,l),p=n.mul(e,p),y=n.sub(d,p),y=n.mul(e,y),y=n.add(y,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,p),d=n.mul(d,y),u=n.add(u,d),p=n.mul(a,s),p=n.add(p,p),d=n.mul(p,y),c=n.sub(c,d),l=n.mul(p,h),l=n.add(l,l),l=n.add(l,l),new f(c,u,l)}add(e){l(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:c}=e;let u=n.ZERO,d=n.ZERO,h=n.ZERO;const p=t.a,y=n.mul(t.b,Ui);let g=n.mul(r,a),b=n.mul(i,s),m=n.mul(o,c),v=n.add(r,i),w=n.add(a,s);v=n.mul(v,w),w=n.add(g,b),v=n.sub(v,w),w=n.add(r,o);let _=n.add(a,c);return w=n.mul(w,_),_=n.add(g,m),w=n.sub(w,_),_=n.add(i,o),u=n.add(s,c),_=n.mul(_,u),u=n.add(b,m),_=n.sub(_,u),h=n.mul(p,w),u=n.mul(y,m),h=n.add(u,h),u=n.sub(b,h),h=n.add(b,h),d=n.mul(u,h),b=n.add(g,g),b=n.add(b,g),m=n.mul(p,m),w=n.mul(y,w),b=n.add(b,m),m=n.sub(g,m),m=n.mul(p,m),w=n.add(w,m),g=n.mul(b,w),d=n.add(d,g),g=n.mul(_,w),u=n.mul(v,u),u=n.sub(u,g),g=n.mul(v,b),h=n.mul(_,h),h=n.add(h,g),new f(u,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(f.fromAffine)}))}multiplyUnsafe(e){const r=f.ZERO;if(e===ji)return r;if(s(e),e===Di)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:c,k2:u}=i.splitScalar(e),l=r,d=r,p=this;for(;a>ji||u>ji;)a&Di&&(l=l.add(p)),u&Di&&(d=d.add(p)),p=p.double(),a>>=Di,u>>=Di;return o&&(l=l.negate()),c&&(d=d.negate()),d=new f(n.mul(d.px,i.beta),d.py,d.pz),l.add(d)}multiply(e){s(e);let r,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:c}=a.splitScalar(o);let{p:u,f:l}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);u=h.constTimeNegate(e,u),d=h.constTimeNegate(s,d),d=new f(n.mul(d.px,a.beta),d.py,d.pz),r=u.add(d),i=l.add(p)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return f.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=f.BASE,i=(e,t)=>t!==ji&&t!==Di&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const a=n.mul(t,e),s=n.mul(r,e),c=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Di)return!0;if(n)return n(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Di?this:n?n(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(f,this,e)}toHex(e=!0){return ti(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Ni;)n&xi&&(r=r.add(i)),i=i.double(),n>>=xi;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=r(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),f=2**t,d=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let r=Number(o&l);o>>=d,r>s&&(r-=f,o+=xi);const a=t,h=t+Math.abs(r)-1,p=e%2!=0,y=r<0;0===r?u=u.add(n(p,i[a])):c=c.add(n(y,i[h]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Hi(e){const t=function(e){const t=Ri(e);return yi(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return Si(e,r)}function s(e){return Oi(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:f}=Mi({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=ui;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=ii(a);if(!(ji<(s=e)&&s<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let i=n.sqrt(t);return 1==(1&r)!==((i&Di)===Di)&&(i=n.neg(i)),{x:e,y:i}}var s}}),d=e=>ti(ai(e,t.nByteLength));function h(e){return e>r>>Di}const p=(e,t,n)=>ii(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=ci("compactSignature",e,2*n),new y(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Li.toSig(ci("DER",e));return new y(t,n)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:o}=this,u=v(ci("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0==(1&o)?"02":"03",h=c.fromHex(f+d(l)),p=s(l),y=a(-u*p),g=a(i*p),b=c.BASE.multiplyAndAddUnsafe(h,y,g);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ri(this.toDERHex())}toDERHex(){return Li.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ri(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=function(e,t,n=!1){const r=(e=ci("privateHash",e)).length,i=Ti(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return Si(n?oi(e):ii(e),t-bi)+bi}(t.randomBytes(n.BYTES+8),r);return ai(e,t.nByteLength)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof c}const m=t.bits2int||function(e){const n=ii(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},v=t.bits2int_modN||function(e){return a(m(e))},w=li(t.nBitLength);function _(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(ji<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ai(e,t.nByteLength)}function E(e,r,i=S){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:l}=t;let{lowS:d,prehash:p,extraEntropy:g}=i;null==d&&(d=!0),e=ci("msgHash",e),p&&(e=ci("prehashed msgHash",o(e)));const b=v(e),w=u(r),E=[_(w),_(b)];if(null!=g){const e=!0===g?l(n.BYTES):g;E.push(ci("extraEntropy",e,n.BYTES))}const k=ui(...E),A=b;return{seed:k,k2sig:function(e){const t=m(e);if(!f(t))return;const n=s(t),r=c.BASE.multiply(t).toAffine(),i=a(r.x);if(i===ji)return;const o=a(n*a(A+i*w));if(o===ji)return;let u=(r.x===i?0:2)|Number(r.y&Di),l=o;return d&&h(o)&&(l=function(e){return h(e)?a(-e):e}(o),u^=1),new y(i,l,u)}}}const S={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n,r=S){const{seed:i,k2sig:o}=E(e,n,r),a=t;return hi(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r,i=k){const o=e;if(n=ci("msgHash",n),r=ci("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=i;let f,d;try{if("string"==typeof o||o instanceof Uint8Array)try{f=y.fromDER(o)}catch(e){if(!(e instanceof Li.Err))throw e;f=y.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;f=new y(e,t)}}d=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(n=t.hash(n));const{r:h,s:p}=f,g=v(n),b=s(p),m=a(g*b),w=a(h*b),_=c.BASE.multiplyAndAddUnsafe(d,m,w)?.toAffine();return!!_&&a(_.x)===h},ProjectivePoint:c,Signature:y,utils:g}}function zi(e){return{hash:e,hmac:(t,...n)=>dr(e,t,ar(...n)),randomBytes:lr}}const Fi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ki=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qi=BigInt(1),Vi=BigInt(2),Wi=(e,t)=>(e+t/Vi)/t;function Gi(e){const t=Fi,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=Ai(l,n,t)*l%t,d=Ai(f,n,t)*l%t,h=Ai(d,Vi,t)*u%t,p=Ai(h,i,t)*h%t,y=Ai(p,o,t)*p%t,g=Ai(y,s,t)*y%t,b=Ai(g,c,t)*g%t,m=Ai(b,s,t)*y%t,v=Ai(m,n,t)*l%t,w=Ai(v,a,t)*p%t,_=Ai(w,r,t)*u%t,E=Ai(_,Vi,t);if(!Yi.eql(Yi.sqr(E),e))throw new Error("Cannot find square root");return E}const Yi=function(e,t,n=!1,r={}){if(e<=gi)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Ti(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Pi(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:li(i),ZERO:gi,ONE:bi,create:t=>Si(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return gi<=t&&t<e},is0:e=>e===gi,isOdd:e=>(e&bi)===bi,neg:t=>Si(-t,e),eql:(e,t)=>e===t,sqr:t=>Si(t*t,e),add:(t,n)=>Si(t+n,e),sub:(t,n)=>Si(t-n,e),mul:(t,n)=>Si(t*n,e),pow:(e,t)=>function(e,t,n){if(n<gi)throw new Error("Expected power > 0");if(n===gi)return e.ONE;if(n===bi)return t;let r=e.ONE,i=t;for(;n>gi;)n&bi&&(r=e.mul(r,i)),i=e.sqr(i),n>>=bi;return r}(s,e,t),div:(t,n)=>Si(t*Oi(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Oi(t,e),sqrt:r.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?si(e,o):ai(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?oi(e):ii(e)}});return Object.freeze(s)}(Fi,void 0,void 0,{sqrt:Gi}),$i=function(e,t){const n=t=>Hi({...e,...zi(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Yi,n:Ki,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ki,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-qi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=Wi(o*e,t),c=Wi(-r*e,t);let u=Si(e-s*n-c*i,t),l=Si(-s*r-c*o,t);const f=u>a,d=l>a;if(f&&(u=t-u),d&&(l=t-l),u>a||l>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},jr),Zi=BigInt(0),Xi=e=>"bigint"==typeof e&&Zi<e&&e<Fi,Ji=e=>"bigint"==typeof e&&Zi<e&&e<Ki,Qi={};function eo(e,...t){let n=Qi[e];if(void 0===n){const t=jr(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=ui(t,t),Qi[e]=n}return jr(ui(n,...t))}const to=e=>e.toRawBytes(!0).slice(1),no=e=>ai(e,32),ro=e=>Si(e,Fi),io=e=>Si(e,Ki),oo=$i.ProjectivePoint,ao=(e,t,n)=>oo.BASE.multiplyAndAddUnsafe(e,t,n);function so(e){let t=$i.utils.normPrivateKeyToScalar(e),n=oo.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:io(-t),bytes:to(n)}}function co(e){if(!Xi(e))throw new Error("bad x: need 0 < x < p");const t=ro(e*e);let n=Gi(ro(t*e+BigInt(7)));n%Vi!==Zi&&(n=ro(-n));const r=new oo(e,n,qi);return r.assertValidity(),r}function uo(...e){return io(ii(eo("BIP0340/challenge",...e)))}function lo(e){return so(e).bytes}function fo(e,t,n=lr(32)){const r=ci("message",e),{bytes:i,scalar:o}=so(t),a=ci("auxRand",n,32),s=no(o^ii(eo("BIP0340/aux",a))),c=eo("BIP0340/nonce",s,i,r),u=io(ii(c));if(u===Zi)throw new Error("sign failed: k is zero");const{bytes:l,scalar:f}=so(u),d=uo(l,i,r),h=new Uint8Array(64);if(h.set(l,0),h.set(no(io(f+d*o)),32),!ho(h,r,i))throw new Error("sign: Invalid signature produced");return h}function ho(e,t,n){const r=ci("signature",e,64),i=ci("message",t),o=ci("publicKey",n,32);try{const e=co(ii(o)),t=ii(r.subarray(0,32));if(!Xi(t))return!1;const n=ii(r.subarray(32,64));if(!Ji(n))return!1;const a=uo(no(t),to(e),i),s=ao(e,n,io(-a));return!(!s||!s.hasEvenY()||s.toAffine().x!==t)}catch(e){return!1}}const po=(()=>({getPublicKey:lo,sign:fo,verify:ho,utils:{randomPrivateKey:$i.utils.randomPrivateKey,lift_x:co,pointToBytes:to,numberToBytesBE:ai,bytesToNumberBE:ii,taggedHash:eo,mod:Si}}))();function yo(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function go(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function bo(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(yo(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function mo(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function vo(e,t="="){if(yo(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function wo(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function _o(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(yo(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let i=r;i<o.length;i++){const s=o[i],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%n,o[i]=Math.floor(c/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==c)throw new Error("convertRadix: carry overflow");a&&(o[i]?a=!1:r=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const Eo=(e,t)=>t?Eo(t,e%t):e,So=(e,t)=>e+(t-Eo(e,t));function ko(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(So(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${So(t,n)}`);let i=0,o=0;const a=2**n-1,s=[];for(const r of e){if(yo(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)s.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&s.push(i>>>0),s}function Ao(e){return yo(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return _o(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(_o(t,e,256))}}}function Oo(e,t=!1){if(yo(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(So(8,e)>32||So(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return ko(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(ko(n,e,8,t))}}}function Po(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function Io(e,t){if(yo(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}const To={alphabet:bo,chain:go,checksum:Io,radix:Ao,radix2:Oo,join:mo,padding:vo},No=(go(Oo(4),bo("0123456789ABCDEF"),mo("")),go(Oo(5),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),vo(5),mo("")),go(Oo(5),bo("0123456789ABCDEFGHIJKLMNOPQRSTUV"),vo(5),mo("")),go(Oo(5),bo("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),mo(""),wo((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),go(Oo(6),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),vo(6),mo(""))),xo=(go(Oo(6),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),vo(6),mo("")),e=>go(Ao(58),bo(e),mo(""))),Ro=xo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Co=(xo("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),xo("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),go(bo("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),mo(""))),Bo=[996825010,642813549,513874426,1027748829,705979059];function Lo(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<Bo.length;e++)1==(t>>e&1)&&(n^=Bo[e]);return n}function jo(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=Lo(i)^n>>5}i=Lo(i);for(let t=0;t<r;t++)i=Lo(i)^31&e.charCodeAt(t);for(let e of t)i=Lo(i)^e;for(let e=0;e<6;e++)i=Lo(i);return i^=n,Co.encode(ko([i%2**30],30,5,!1))}function Do(e){const t="bech32"===e?1:734539939,n=Oo(5),r=n.decode,i=n.encode,o=Po(r);function a(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),a=e.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=Co.decode(a).slice(0,-6),c=jo(o,s,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:s}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${Co.encode(n)}${jo(e,n,t)}`},decode:a,decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:Po(a),fromWords:r,fromWordsUnsafe:o,toWords:i}}const Uo=Do("bech32"),Mo=(Do("bech32m"),go(Oo(4),bo("0123456789abcdef"),mo(""),wo((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),$i.ProjectivePoint),Ho=(e=>go(Io(4,(t=>e(e(t)))),Ro))(jr);function zo(e){return BigInt(`0x${nr(e)}`)}const Fo=ir("Bitcoin seed"),Ko={private:76066276,public:76067358},qo=2147483648,Vo=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return Qn(t).setUint32(0,e,!1),t};class Wo{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,Qn(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return Ho.encode(this.serialize(this.versions.private,ar(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return Ho.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=Ko){if(Yn(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=dr(Zr,Fo,e);return new Wo({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=Ko){const n=Ho.decode(e),r=Qn(n),i=r.getUint32(0,!1),o={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},a=n.slice(45),s=0===a[0];if(i!==t[s?"private":"public"])throw new Error("Version mismatch");return new Wo(s?{...o,privateKey:a.slice(1)}:{...o,publicKey:a})}static fromJSON(e){return Wo.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||Ko,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!$i.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:zo(e.privateKey),this.privKeyBytes=rr(this.privKey.toString(16).padStart(64,"0")),this.pubKey=$i.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=Mo.fromHex(e.publicKey).toRawBytes(!0)}var t;this.pubHash=(t=this.pubKey,Ir(jr(t)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e);if(!t||3!==t.length)throw new Error(`Invalid child index: ${e}`);let r=+t[1];if(!Number.isSafeInteger(r)||r>=qo)throw new Error("Invalid index");"'"===t[2]&&(r+=qo),n=n.deriveChild(r)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=Vo(e);if(e>=qo){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=ar(new Uint8Array([0]),e,t)}else t=ar(this.pubKey,t);const n=dr(Zr,this.chainCode,t),r=zo(n.slice(0,32)),i=n.slice(32);if(!$i.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const o={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=Si(this.privKey+r,$i.CURVE.n);if(!$i.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=e}else{const e=Mo.fromHex(this.pubKey).add(Mo.fromPrivateKey(r));if(e.equals(Mo.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=e.toRawBytes(!0)}return new Wo(o)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return Yn(e,32),$i.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(Yn(e,32),Yn(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=$i.Signature.fromCompact(t)}catch(e){return!1}return $i.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return Yn(t,33),ar(Vo(e),new Uint8Array([this.depth]),Vo(this.parentFingerprint),Vo(this.index),this.chainCode,t)}}function Go(e,t,n,r){Zn.hash(e);const i=function(e,t){if(void 0!==t&&("object"!=typeof t||!cr(t)))throw new Error("Options should be object or undefined");return Object.assign(e,t)}({dkLen:32,asyncTick:10},r),{c:o,dkLen:a,asyncTick:s}=i;if(Zn.number(o),Zn.number(a),Zn.number(s),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=or(t),u=or(n),l=new Uint8Array(a),f=dr.create(e,c),d=f._cloneInto().update(u);return{c:o,dkLen:a,asyncTick:s,DK:l,PRF:f,PRFSalt:d}}function Yo(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}const $o=e=>"あいこくしん"===e[0];function Zo(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function Xo(e){const t=Zo(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function Jo(e){Zn.bytes(e,16,20,24,28,32)}function Qo(e,t=128){if(Zn.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function(e,t){Jo(e);const n=ta(t).encode(e);return n.join($o(t)?"　":" ")}(lr(t/8),e)}const ea=e=>{const t=8-e.length/4;return new Uint8Array([jr(e)[0]>>t<<t])};function ta(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),To.chain(To.checksum(1,ea),To.radix2(11,!0),To.alphabet(e))}function na(e,t){try{!function(e,t){const{words:n}=Xo(e),r=ta(t).decode(n);Jo(r)}(e,t)}catch(e){return!1}return!0}const ra=e=>Zo(`mnemonic${e}`);function ia(e,t=""){return function(e,t,n,r){const{c:i,dkLen:o,DK:a,PRF:s,PRFSalt:c}=Go(e,t,n,r);let u;const l=new Uint8Array(4),f=Qn(l),d=new Uint8Array(s.outputLen);for(let e=1,t=0;t<o;e++,t+=s.outputLen){const n=a.subarray(t,t+s.outputLen);f.setInt32(0,e,!1),(u=c._cloneInto(u)).update(l).digestInto(d),n.set(d.subarray(0,n.length));for(let e=1;e<i;e++){s._cloneInto(u).update(d).digestInto(d);for(let e=0;e<n.length;e++)n[e]^=d[e]}}return Yo(s,c,a,u,d)}(Zr,Xo(e).nfkd,ra(t),{c:2048,dkLen:64})}var oa=a(63465),aa=a.n(oa),sa=a(52153),ca=a.n(sa);function ua(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ha=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fa(this,"mnemonic",void 0),fa(this,"_hdkey",void 0),this.mnemonic=t;var n=ia(t);this._hdkey=Wo.fromMasterSeed(n)}var t,n,r;return t=e,n=[{key:"deriveNostrPrivateKeyHex",value:function(){return Bn.bytesToHex(this.deriveKey("m/44'/1237'/0'/0/0").privateKey)}},{key:"deriveKey",value:function(e){return this._hdkey.derive(e)}},{key:"signMessage",value:function(e){var t=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ua(o,r,i,a,s,"next",e)}function s(e){ua(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){var n;return da(this,(function(r){switch(r.label){case 0:return[4,xn(ca()(e).toString(aa()),t._hdkey.privateKey)];case 1:return n=r.sent(),[2,Bn.bytesToHex(n.toCompactRawBytes())]}}))}))()}}],n&&la(t.prototype,n),r&&la(t,r),e}();const pa=ha;var ya=a(17187);const ga="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n"),ba=e=>e instanceof Uint8Array,ma=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function va(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function wa(e){if("string"==typeof e&&(e=va(e)),!ba(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function _a(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new Error("options must be object or undefined");var n;return Object.assign(e,t)}function Ea(e,t){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof t&&e.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function Sa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ka(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const Aa={number:Sa,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:ka,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("hash must be wrapped by utils.wrapConstructor");Sa(e.outputLen),Sa(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){ka(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},Oa=Aa,Pa=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Ia{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Ea(e=wa(e),32);const t=Pa(e,0),n=Pa(e,2),r=Pa(e,4),i=Pa(e,6),o=Pa(e,8),a=Pa(e,10),s=Pa(e,12),c=Pa(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|a<<2),this.r[7]=8065&(a>>>11|s<<5),this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Pa(e,16+2*t)}process(e,t,n=!1){const r=n?0:2048,{h:i,r:o}=this,a=o[0],s=o[1],c=o[2],u=o[3],l=o[4],f=o[5],d=o[6],h=o[7],p=o[8],y=o[9],g=Pa(e,t+0),b=Pa(e,t+2),m=Pa(e,t+4),v=Pa(e,t+6),w=Pa(e,t+8),_=Pa(e,t+10),E=Pa(e,t+12),S=Pa(e,t+14);let k=i[0]+(8191&g),A=i[1]+(8191&(g>>>13|b<<3)),O=i[2]+(8191&(b>>>10|m<<6)),P=i[3]+(8191&(m>>>7|v<<9)),I=i[4]+(8191&(v>>>4|w<<12)),T=i[5]+(w>>>1&8191),N=i[6]+(8191&(w>>>14|_<<2)),x=i[7]+(8191&(_>>>11|E<<5)),R=i[8]+(8191&(E>>>8|S<<8)),C=i[9]+(S>>>5|r),B=0,L=B+k*a+A*(5*y)+O*(5*p)+P*(5*h)+I*(5*d);B=L>>>13,L&=8191,L+=T*(5*f)+N*(5*l)+x*(5*u)+R*(5*c)+C*(5*s),B+=L>>>13,L&=8191;let j=B+k*s+A*a+O*(5*y)+P*(5*p)+I*(5*h);B=j>>>13,j&=8191,j+=T*(5*d)+N*(5*f)+x*(5*l)+R*(5*u)+C*(5*c),B+=j>>>13,j&=8191;let D=B+k*c+A*s+O*a+P*(5*y)+I*(5*p);B=D>>>13,D&=8191,D+=T*(5*h)+N*(5*d)+x*(5*f)+R*(5*l)+C*(5*u),B+=D>>>13,D&=8191;let U=B+k*u+A*c+O*s+P*a+I*(5*y);B=U>>>13,U&=8191,U+=T*(5*p)+N*(5*h)+x*(5*d)+R*(5*f)+C*(5*l),B+=U>>>13,U&=8191;let M=B+k*l+A*u+O*c+P*s+I*a;B=M>>>13,M&=8191,M+=T*(5*y)+N*(5*p)+x*(5*h)+R*(5*d)+C*(5*f),B+=M>>>13,M&=8191;let H=B+k*f+A*l+O*u+P*c+I*s;B=H>>>13,H&=8191,H+=T*a+N*(5*y)+x*(5*p)+R*(5*h)+C*(5*d),B+=H>>>13,H&=8191;let z=B+k*d+A*f+O*l+P*u+I*c;B=z>>>13,z&=8191,z+=T*s+N*a+x*(5*y)+R*(5*p)+C*(5*h),B+=z>>>13,z&=8191;let F=B+k*h+A*d+O*f+P*l+I*u;B=F>>>13,F&=8191,F+=T*c+N*s+x*a+R*(5*y)+C*(5*p),B+=F>>>13,F&=8191;let K=B+k*p+A*h+O*d+P*f+I*l;B=K>>>13,K&=8191,K+=T*u+N*c+x*s+R*a+C*(5*y),B+=K>>>13,K&=8191;let q=B+k*y+A*p+O*h+P*d+I*f;B=q>>>13,q&=8191,q+=T*l+N*u+x*c+R*s+C*a,B+=q>>>13,q&=8191,B=(B<<2)+B|0,B=B+L|0,L=8191&B,B>>>=13,j+=B,i[0]=L,i[1]=j,i[2]=D,i[3]=U,i[4]=M,i[5]=H,i[6]=z,i[7]=F,i[8]=K,i[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=r,r=e[t]>>>13,e[t]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let t=1;t<10;t++)n[t]=e[t]+r,r=n[t]>>>13,n[t]&=8191;n[9]-=8192;let i=(1^r)-1;for(let e=0;e<10;e++)n[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|n[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+t[0];e[0]=65535&o;for(let n=1;n<8;n++)o=(e[n]+t[n]|0)+(o>>>16)|0,e[n]=65535&o}update(e){Oa.exists(this);const{buffer,blockLen:t}=this,n=(e=wa(e)).length;for(let r=0;r<n;){const i=Math.min(t-this.pos,n-r);if(i!==t)buffer.set(e.subarray(r,r+i),this.pos),this.pos+=i,r+=i,this.pos===t&&(this.process(buffer,0,!1),this.pos=0);else for(;t<=n-r;r+=t)this.process(e,r)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){Oa.exists(this),Oa.output(e,this),this.finished=!0;const{buffer,h:t}=this;let{pos:n}=this;if(n){for(buffer[n++]=1;n<16;n++)buffer[n]=0;this.process(buffer,0,!0)}this.finalize();let r=0;for(let n=0;n<8;n++)e[r++]=t[n]>>>0,e[r++]=t[n]>>>8;return e}digest(){const{buffer,outputLen:e}=this;this.digestInto(buffer);const t=buffer.slice(0,e);return this.destroy(),t}}!function(e){const t=(t,n)=>e(n).update(wa(t)).digest(),n=e(new Uint8Array(32));t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t)}((e=>new Ia(e)));const Ta=va("expand 16-byte k"),Na=va("expand 32-byte k"),xa=ma(Ta),Ra=ma(Na),Ca=e=>!(e.byteOffset%4),Ba=e=>{const{core:t,rounds:n,counterRight:r,counterLen:i,allow128bitKeys:o,extendNonceFn:a,blockLen:s}=_a({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},e);Oa.number(i),Oa.number(n),Oa.number(s),Oa.bool(r),Oa.bool(o);const c=s/4;if(s%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(e,u,l,f,d=0)=>{if(Oa.bytes(e),Oa.bytes(u),Oa.bytes(l),f||(f=new Uint8Array(l.length)),Oa.bytes(f),Oa.number(d),d<0||d>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(f.length<l.length)throw new Error(`Salsa/ChaCha: output (${f.length}) is shorter than data (${l.length})`);const h=[];let p,y;if(32===e.length)p=e,y=Ra;else{if(16!==e.length||!o)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${e.length}`);p=new Uint8Array(32),p.set(e),p.set(e,16),y=xa,h.push(p)}if(a){if(u.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");p=a(y,p,u.subarray(0,16),new Uint8Array(32)),h.push(p),u=u.subarray(16)}const g=16-i;if(u.length!==g)throw new Error(`Salsa/ChaCha: nonce must be ${g} or 16 bytes`);if(12!==g){const e=new Uint8Array(12);e.set(u,r?0:12-u.length),h.push(u=e)}const b=new Uint8Array(s),m=ma(b),v=ma(p),w=ma(u),_=Ca(l)&&ma(l),E=Ca(f)&&ma(f);h.push(m);const S=l.length;for(let e=0,r=d;e<S;r++){if(t(y,v,w,m,r,n),r>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const i=Math.min(s,S-e);if(i===s&&E&&_){const t=e/4;if(e%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let e=0;e<c;e++)E[t+e]=_[t+e]^m[e];e+=s}else{for(let t=0;t<i;t++)f[e+t]=l[e+t]^b[t];e+=i}}for(let e=0;e<h.length;e++)h[e].fill(0);return f}},La=(e,t)=>e<<t|e>>>32-t;function ja(e,t,n,r,i,o=20){let a=e[0],s=e[1],c=e[2],u=e[3],l=t[0],f=t[1],d=t[2],h=t[3],p=t[4],y=t[5],g=t[6],b=t[7],m=i,v=n[0],w=n[1],_=n[2],E=a,S=s,k=c,A=u,O=l,P=f,I=d,T=h,N=p,x=y,R=g,C=b,B=m,L=v,j=w,D=_;for(let e=0;e<o;e+=2)E=E+O|0,B=La(B^E,16),N=N+B|0,O=La(O^N,12),E=E+O|0,B=La(B^E,8),N=N+B|0,O=La(O^N,7),S=S+P|0,L=La(L^S,16),x=x+L|0,P=La(P^x,12),S=S+P|0,L=La(L^S,8),x=x+L|0,P=La(P^x,7),k=k+I|0,j=La(j^k,16),R=R+j|0,I=La(I^R,12),k=k+I|0,j=La(j^k,8),R=R+j|0,I=La(I^R,7),A=A+T|0,D=La(D^A,16),C=C+D|0,T=La(T^C,12),A=A+T|0,D=La(D^A,8),C=C+D|0,T=La(T^C,7),E=E+P|0,D=La(D^E,16),R=R+D|0,P=La(P^R,12),E=E+P|0,D=La(D^E,8),R=R+D|0,P=La(P^R,7),S=S+I|0,B=La(B^S,16),C=C+B|0,I=La(I^C,12),S=S+I|0,B=La(B^S,8),C=C+B|0,I=La(I^C,7),k=k+T|0,L=La(L^k,16),N=N+L|0,T=La(T^N,12),k=k+T|0,L=La(L^k,8),N=N+L|0,T=La(T^N,7),A=A+O|0,j=La(j^A,16),x=x+j|0,O=La(O^x,12),A=A+O|0,j=La(j^A,8),x=x+j|0,O=La(O^x,7);let U=0;r[U++]=a+E|0,r[U++]=s+S|0,r[U++]=c+k|0,r[U++]=u+A|0,r[U++]=l+O|0,r[U++]=f+P|0,r[U++]=d+I|0,r[U++]=h+T|0,r[U++]=p+N|0,r[U++]=y+x|0,r[U++]=g+R|0,r[U++]=b+C|0,r[U++]=m+B|0,r[U++]=v+L|0,r[U++]=w+j|0,r[U++]=_+D|0}const Da=Ba({core:ja,counterRight:!1,counterLen:4,allow128bitKeys:!1});const Ua=new Uint8Array([0]),Ma=new Uint8Array;const Ha=(e,t,n,r,i)=>function(e,t,n,r=32){if(Zn.hash(e),Zn.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=Ma);const o=new Uint8Array(i*e.outputLen),a=dr.create(e,t),s=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let t=0;t<i;t++)Ua[0]=t+1,s.update(0===t?Ma:c).update(n).update(Ua).digestInto(c),o.set(c,e.outputLen*t),a._cloneInto(s);return a.destroy(),s.destroy(),c.fill(0),Ua.fill(0),o.slice(0,r)}(e,function(e,t,n){return Zn.hash(e),void 0===n&&(n=new Uint8Array(e.outputLen)),dr(e,or(n),or(t))}(e,t,n),r,i);var za=Object.defineProperty,Fa=(e,t)=>{for(var n in t)za(e,n,{get:t[n],enumerable:!0})};function Ka(e){return nr(po.getPublicKey(e))}Fa({},{MessageNode:()=>$a,MessageQueue:()=>Za,insertEventIntoAscendingList:()=>Ya,insertEventIntoDescendingList:()=>Ga,normalizeURL:()=>Wa,utf8Decoder:()=>qa,utf8Encoder:()=>Va});var qa=new TextDecoder("utf-8"),Va=new TextEncoder;function Wa(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Ga(e,t){let n,r=0,i=e.length-1,o=r;if(i<0)o=0;else if(t.created_at<e[i].created_at)o=i+1;else if(t.created_at>=e[r].created_at)o=r;else for(;;){if(i<=r+1){o=i;break}if(n=Math.floor(r+(i-r)/2),e[n].created_at>t.created_at)r=n;else{if(!(e[n].created_at<t.created_at)){o=n;break}i=n}}return e[o]?.id!==t.id?[...e.slice(0,o),t,...e.slice(o)]:e}function Ya(e,t){let n,r=0,i=e.length-1,o=r;if(i<0)o=0;else if(t.created_at>e[i].created_at)o=i+1;else if(t.created_at<=e[r].created_at)o=r;else for(;;){if(i<=r+1){o=i;break}if(n=Math.floor(r+(i-r)/2),e[n].created_at<t.created_at)r=n;else{if(!(e[n].created_at>t.created_at)){o=n;break}i=n}}return e[o]?.id!==t.id?[...e.slice(0,o),t,...e.slice(o)]:e}var $a=class{_value;_next;get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}constructor(e){this._value=e,this._next=null}},Za=class{_first;_last;get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}_size;get size(){return this._size}set size(e){this._size=e}constructor(){this._first=null,this._last=null,this._size=0}enqueue(e){const t=new $a(e);return 0!==this._size&&this._last?(this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}},Xa=Symbol("verified");function Ja(e,t){const n=e;return n.pubkey=Ka(t),n.id=Qa(n),n.sig=rs(n,t),n[Xa]=!0,n}function Qa(e){return nr(jr(Va.encode(function(e){if(!ts(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var es=e=>e instanceof Object;function ts(e){if(!es(e))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"==typeof n[e])return!1}return!0}function ns(e){if("boolean"==typeof e[Xa])return e[Xa];const t=Qa(e);if(t!==e.id)return e[Xa]=!1;try{return e[Xa]=po.verify(e.sig,t,e.pubkey)}catch(t){return e[Xa]=!1}}function rs(e,t){return nr(po.sign(Qa(e),t))}function is(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)&&!e.ids.some((e=>t.id.startsWith(e))))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey)&&!e.authors.some((e=>t.pubkey.startsWith(e))))return!1;for(let n in e)if("#"===n[0]){let r=e[`#${n.slice(1)}`];if(r&&!t.tags.find((([e,t])=>e===n.slice(1)&&-1!==r.indexOf(t))))return!1}return!(e.since&&t.created_at<e.since)&&!(e.until&&t.created_at>e.until)}function os(e,t){for(let n=0;n<e.length;n++)if(is(e[n],t))return!0;return!1}function as(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function ss(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function cs(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(-1===i)return null;let o=r+1+i;return e.slice(r+1,o)}function us(e,t){return t===as(e,"id")}function ls(e,t){return t===as(e,"pubkey")}function fs(e,t){return t===ss(e,"kind")}Fa({},{getHex64:()=>as,getInt:()=>ss,getSubscriptionId:()=>cs,matchEventId:()=>us,matchEventKind:()=>fs,matchEventPubkey:()=>ls});function ds(e,t={}){let{listTimeout:n=3e3,getTimeout:r=3e3,countTimeout:i=3e3}=t;var o,a,s={},c={connect:[],disconnect:[],error:[],notice:[],auth:[]},u={},l={};function f(){return 1===o?.readyState}async function d(e){let t=JSON.stringify(e);if(f()||(await new Promise((e=>setTimeout(e,1e3))),f()))try{o.send(t)}catch(e){console.log(e)}}const h=(e,{verb:t="REQ",skipVerification:n=!1,alreadyHaveEvent:r=null,id:i=Math.random().toString().slice(2)}={})=>{let o=i;s[o]={id:o,filters:e,skipVerification:n,alreadyHaveEvent:r},d([t,o,...e]);let a={sub:(t,i={})=>h(t||e,{skipVerification:i.skipVerification||n,alreadyHaveEvent:i.alreadyHaveEvent||r,id:o}),unsub:()=>{delete s[o],delete u[o],d(["CLOSE",o])},on:(e,t)=>{u[o]=u[o]||{event:[],count:[],eose:[]},u[o][e].push(t)},off:(e,t)=>{let n=u[o],r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)},get events(){return hs(a)}};return a};function p(e,t){return new Promise(((n,r)=>{if(!e.id)return void r(new Error(`event ${e} has no id`));let i=e.id;d([t,e]),l[i]={resolve:n,reject:r}}))}return{url:e,sub:h,on:(e,t)=>{c[e].push(t),"connect"===e&&1===o?.readyState&&t()},off:(e,t)=>{let n=c[e].indexOf(t);-1!==n&&c[e].splice(n,1)},list:(e,t)=>new Promise((r=>{let i=h(e,t),o=[],a=setTimeout((()=>{i.unsub(),r(o)}),n);i.on("eose",(()=>{i.unsub(),clearTimeout(a),r(o)})),i.on("event",(e=>{o.push(e)}))})),get:(e,t)=>new Promise((n=>{let i=h([e],t),o=setTimeout((()=>{i.unsub(),n(null)}),r);i.on("event",(e=>{i.unsub(),clearTimeout(o),n(e)}))})),count:e=>new Promise((t=>{let n=h(e,{...h,verb:"COUNT"}),r=setTimeout((()=>{n.unsub(),t(null)}),i);n.on("count",(e=>{n.unsub(),clearTimeout(r),t(e)}))})),async publish(e){await p(e,"EVENT")},async auth(e){await p(e,"AUTH")},connect:async function(){f()||await async function(){return a||(a=new Promise(((t,n)=>{try{o=new WebSocket(e)}catch(e){n(e)}o.onopen=()=>{c.connect.forEach((e=>e())),t()},o.onerror=()=>{a=void 0,c.error.forEach((e=>e())),n()},o.onclose=async()=>{a=void 0,c.disconnect.forEach((e=>e()))};let r,i=new Za;function f(){if(0===i.size)return clearInterval(r),void(r=null);var t=i.dequeue();if(!t)return;let n=cs(t);if(n){let r=s[n];if(r&&r.alreadyHaveEvent&&r.alreadyHaveEvent(as(t,"id"),e))return}try{let e=JSON.parse(t);switch(e[0]){case"EVENT":{let t=e[1],n=e[2];return void(ts(n)&&s[t]&&(s[t].skipVerification||ns(n))&&os(s[t].filters,n)&&(s[t],(u[t]?.event||[]).forEach((e=>e(n)))))}case"COUNT":let t=e[1],n=e[2];return void(s[t]&&(u[t]?.count||[]).forEach((e=>e(n))));case"EOSE":{let t=e[1];return void(t in u&&(u[t].eose.forEach((e=>e())),u[t].eose=[]))}case"OK":{let t=e[1],n=e[2],r=e[3]||"";if(t in l){let{resolve:e,reject:i}=l[t];n?e(null):i(new Error(r))}return}case"NOTICE":let r=e[1];return void c.notice.forEach((e=>e(r)));case"AUTH":{let t=e[1];return void c.auth?.forEach((e=>e(t)))}}}catch(e){return}}o.onmessage=e=>{i.enqueue(e.data),r||(r=setInterval(f,0))}})),a)}()},close(){c={connect:[],disconnect:[],error:[],notice:[],auth:[]},u={},l={},o?.readyState===WebSocket.OPEN&&o.close()},get status(){return o?.readyState??3}}}async function*hs(e){let t;const n=[],r=e=>{t?(t(e),t=void 0):n.push(e)};e.on("event",r);try{for(;;)if(n.length>0)yield n.shift();else{const e=await new Promise((e=>{t=e}));yield e}}finally{e.off("event",r)}}var ps={};Fa(ps,{BECH32_REGEX:()=>gs,decode:()=>bs,naddrEncode:()=>Os,neventEncode:()=>As,noteEncode:()=>_s,nprofileEncode:()=>ks,npubEncode:()=>ws,nrelayEncode:()=>Ps,nsecEncode:()=>vs});var ys=5e3,gs=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function bs(e){let{prefix:t,words:n}=Uo.decode(e,ys),r=new Uint8Array(Uo.fromWords(n));switch(t){case"nprofile":{let e=ms(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:nr(e[0][0]),relays:e[1]?e[1].map((e=>qa.decode(e))):[]}}}case"nevent":{let e=ms(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:nr(e[0][0]),relays:e[1]?e[1].map((e=>qa.decode(e))):[],author:e[2]?.[0]?nr(e[2][0]):void 0,kind:e[3]?.[0]?parseInt(nr(e[3][0]),16):void 0}}}case"naddr":{let e=ms(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:qa.decode(e[0][0]),pubkey:nr(e[2][0]),kind:parseInt(nr(e[3][0]),16),relays:e[1]?e[1].map((e=>qa.decode(e))):[]}}}case"nrelay":{let e=ms(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:qa.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:t,data:nr(r)};default:throw new Error(`unknown prefix ${t}`)}}function ms(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1];if(!r)throw new Error(`malformed TLV ${e}`);let i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw new Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(i)}return t}function vs(e){return Ss("nsec",e)}function ws(e){return Ss("npub",e)}function _s(e){return Ss("note",e)}function Es(e,t){let n=Uo.toWords(t);return Uo.encode(e,n,ys)}function Ss(e,t){return Es(e,rr(t))}function ks(e){return Es("nprofile",Is({0:[rr(e.pubkey)],1:(e.relays||[]).map((e=>Va.encode(e)))}))}function As(e){let t;return null!=e.kind&&(t=function(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),Es("nevent",Is({0:[rr(e.id)],1:(e.relays||[]).map((e=>Va.encode(e))),2:e.author?[rr(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function Os(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),Es("naddr",Is({0:[Va.encode(e.identifier)],1:(e.relays||[]).map((e=>Va.encode(e))),2:[rr(e.pubkey)],3:[new Uint8Array(t)]}))}function Ps(e){return Es("nrelay",Is({0:[Va.encode(e)]}))}function Is(e){let t=[];return Object.entries(e).forEach((([e,n])=>{n.forEach((n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)}))})),ar(...t)}var Ts={};async function Ns(e,t,n){const r=Rs($i.getSharedSecret(e,"02"+t));let i=Uint8Array.from(lr(16)),o=Va.encode(n),a=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),s=await crypto.subtle.encrypt({name:"AES-CBC",iv:i},a,o);return`${No.encode(new Uint8Array(s))}?iv=${No.encode(new Uint8Array(i.buffer))}`}async function xs(e,t,n){let[r,i]=n.split("?iv="),o=Rs($i.getSharedSecret(e,"02"+t)),a=await crypto.subtle.importKey("raw",o,{name:"AES-CBC"},!1,["decrypt"]),s=No.decode(r),c=No.decode(i),u=await crypto.subtle.decrypt({name:"AES-CBC",iv:c},a,s);return qa.decode(u)}function Rs(e){return e.slice(1,33)}Fa(Ts,{decrypt:()=>xs,encrypt:()=>Ns}),"undefined"!=typeof crypto&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle);Fa({},{NIP05_REGEX:()=>Bs,queryProfile:()=>Ds,searchDomain:()=>js,useFetchImplementation:()=>Ls});var Cs,Bs=/^(?:([\w.+-]+)@)?([\w.-]+)$/;try{Cs=fetch}catch{}function Ls(e){Cs=e}async function js(e,t=""){try{return(await(await Cs(`https://${e}/.well-known/nostr.json?name=${t}`)).json()).names}catch(e){return{}}}async function Ds(e){const t=e.match(Bs);if(!t)return null;const[n,r="_",i]=t;try{const e=await Cs(`https://${i}/.well-known/nostr.json?name=${r}`),{names:t,relays:n}=function(e){const t={names:{}};for(const[n,r]of Object.entries(e.names))"string"==typeof n&&"string"==typeof r&&(t.names[n]=r);if(e.relays){t.relays={};for(const[n,r]of Object.entries(e.relays))"string"==typeof n&&Array.isArray(r)&&(t.relays[n]=r.filter((e=>"string"==typeof e)))}return t}(await e.json()),o=t[r];return o?{pubkey:o,relays:n?.[o]}:null}catch(e){return null}}function Us(e,t){let n=Wo.fromMasterSeed(ia(e,t)).derive("m/44'/1237'/0'/0/0").privateKey;if(!n)throw new Error("could not derive private key");return nr(n)}function Ms(){return Qo(ga)}function Hs(e){return na(e,ga)}Fa({},{generateSeedWords:()=>Ms,privateKeyFromSeedWords:()=>Us,validateWords:()=>Hs});function zs(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)"e"===r[0]&&r[1]&&n.push(r),"p"===r[0]&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let e=0;e<n.length;e++){const r=n[e],[i,o,a,s]=r,c={id:o,relays:a?[a]:[]},u=0===e,l=e===n.length-1;"root"!==s?"reply"!==s?"mention"!==s?u?t.root=c:l?t.reply=c:t.mentions.push(c):t.mentions.push(c):t.reply=c:t.root=c}return t}Fa({},{parse:()=>zs});function Fs(e){let t=0;for(let n=0;n<e.length;n++){const r=parseInt(e[n],16);if(0!==r){t+=Math.clz32(r)-28;break}t+=4}return t}function Ks(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const e=Math.floor((new Date).getTime()/1e3);if(e!==r.created_at&&(n=0,r.created_at=e),i[1]=(++n).toString(),r.id=Qa(r),Fs(r.id)>=t)break}return r}Fa({},{getPow:()=>Fs,minePow:()=>Ks});function qs(e,t,n,r){return Ja({kind:6,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function Vs(e){if(6!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t?{id:t[1],relays:[t[2],n?.[2]].filter((e=>"string"==typeof e)),author:n?.[1]}:void 0}function Ws(e,{skipVerification:t}={}){const n=Vs(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(e){return}return r.id===n.id&&(t||ns(r))?r:void 0}Fa({},{finishRepostEvent:()=>qs,getRepostedEvent:()=>Ws,getRepostedEventPointer:()=>Vs});Fa({},{NOSTR_URI_REGEX:()=>Gs,parse:()=>$s,test:()=>Ys});var Gs=new RegExp(`nostr:(${gs.source})`);function Ys(e){return"string"==typeof e&&new RegExp(`^${Gs.source}$`).test(e)}function $s(e){const t=e.match(new RegExp(`^${Gs.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:bs(t[1])}}function Zs(e,t,n){const r=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return Ja({...e,kind:7,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Xs(e){if(7!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}Fa({},{finishReactionEvent:()=>Zs,getReactedEventPointer:()=>Xs});function Js(e,t){let n=[];(t.kind||-1)>=0&&n.push(`kind=${t.kind}`),t.until&&n.push(`created_at<${t.until}`),t.since&&n.push(`created_at>${t.since}`);let r=n.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let i=jr(Va.encode(`nostr:delegation:${t.pubkey}:${r}`)),o=nr(po.sign(i,e));return{from:Ka(e),to:t.pubkey,cond:r,sig:o}}function Qs(e){let t=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!t)return null;let n=t[1],r=t[2],i=t[3],o=r.split("&");for(let t=0;t<o.length;t++){let[n,r,i]=o[t].split(/\b/);if(("kind"!==n||"="!==r||e.kind!==parseInt(i))&&!("created_at"===n&&"<"===r&&e.created_at<parseInt(i)||"created_at"===n&&">"===r&&e.created_at>parseInt(i)))return null}let a=jr(Va.encode(`nostr:delegation:${e.pubkey}:${r}`));return po.verify(i,a,n)?n:null}Fa({},{createDelegation:()=>Js,getDelegator:()=>Qs});Fa({},{matchAll:()=>tc,regex:()=>ec,replaceAll:()=>nc});var ec=()=>new RegExp(`\\b${Gs.source}\\b`,"g");function*tc(e){const t=e.matchAll(ec());for(const e of t)try{const[t,n]=e;yield{uri:t,value:n,decoded:bs(n),start:e.index,end:e.index+t.length}}catch(e){}}function nc(e,t){return e.replaceAll(ec(),((e,n)=>t({uri:e,value:n,decoded:bs(n)})))}Fa({},{channelCreateEvent:()=>ic,channelHideMessageEvent:()=>sc,channelMessageEvent:()=>ac,channelMetadataEvent:()=>oc,channelMuteUserEvent:()=>cc});var rc,ic=(e,t)=>{let n;if("object"==typeof e.content)n=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;n=e.content}return Ja({kind:40,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},oc=(e,t)=>{let n;if("object"==typeof e.content)n=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;n=e.content}return Ja({kind:41,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},ac=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Ja({kind:42,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},sc=(e,t)=>{let n;if("object"==typeof e.content)n=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;n=e.content}return Ja({kind:43,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},cc=(e,t)=>{let n;if("object"==typeof e.content)n=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;n=e.content}return Ja({kind:44,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)};Fa({},{useFetchImplementation:()=>uc,validateGithub:()=>lc});try{rc=fetch}catch{}function uc(e){rc=e}async function lc(e,t,n){try{return await(await rc(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(e){return!1}}Fa({},{authenticate:()=>fc});var fc=async({challenge:e,relay:t,sign:n})=>{const r={kind:22242,created_at:Math.floor(Date.now()/1e3),tags:[["relay",t.url],["challenge",e]],content:""};return t.auth(await n(r))};Fa({},{decrypt:()=>pc,encrypt:()=>hc,utils:()=>dc});var dc={v2:{maxPlaintextSize:65408,minCiphertextSize:100,maxCiphertextSize:102400,getConversationKey:(e,t)=>$i.getSharedSecret(e,"02"+t).subarray(1,33),getMessageKeys(e,t){const n=Ha(jr,e,t,"nip44-v2",76);return{encryption:n.subarray(0,32),nonce:n.subarray(32,44),auth:n.subarray(44,76)}},calcPadding(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)},pad(e){const t=Va.encode(e),n=t.length;if(n<1||n>=dc.v2.maxPlaintextSize)throw new Error("invalid plaintext length: must be between 1b and 64KB");const r=dc.v2.calcPadding(n),i=new Uint8Array(r-n),o=new Uint8Array(2);return new DataView(o.buffer).setUint16(0,n),ar(o,t,i)},unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(0===t||n.length!==t||e.length!==2+dc.v2.calcPadding(t))throw new Error("invalid padding");return qa.decode(n)}}};function hc(e,t,n={}){const r=n.version??2;if(2!==r)throw new Error("unknown encryption version "+r);const i=n.salt??lr(32);Ea(i,32);const o=dc.v2.getMessageKeys(e,i),a=dc.v2.pad(t),s=Da(o.encryption,o.nonce,a),c=dr(jr,o.auth,s);return No.encode(ar(new Uint8Array([r]),i,s,c))}function pc(e,t){const n=dc.v2;Ea(e,32);const r=t.length;if(r<n.minCiphertextSize||r>=n.maxCiphertextSize)throw new Error("invalid ciphertext length: "+r);if("#"===t[0])throw new Error("unknown encryption version");let i;try{i=No.decode(t)}catch(e){throw new Error("invalid base64: "+e.message)}const o=i.subarray(0,1)[0];if(2!==o)throw new Error("unknown encryption version "+o);const a=i.subarray(1,33),s=i.subarray(33,-32),c=i.subarray(-32),u=n.getMessageKeys(e,a);if(!function(e,t){if(e.length!==t.length)throw new Error("equalBytes: Different size of Uint8Arrays");let n=!0;for(let r=0;r<e.length;r++)n&&(n=e[r]===t[r]);return n}(dr(jr,u.auth,s),c))throw new Error("invalid MAC");const l=Da(u.encryption,u.nonce,s);return n.unpad(l)}function yc(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),o=n.get("secret");if(!r||!i||!o)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:o}}async function gc({pubkey:e,secret:t,invoice:n}){const r={method:"pay_invoice",params:{invoice:n}},i=await Ns(t,e,JSON.stringify(r));return Ja({kind:23194,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]},t)}Fa({},{makeNwcRequestEvent:()=>gc,parseConnectionString:()=>yc});var bc;Fa({},{getZapEndpoint:()=>vc,makeZapReceipt:()=>Ec,makeZapRequest:()=>wc,useFetchImplementation:()=>mc,validateZapRequest:()=>_c});try{bc=fetch}catch{}function mc(e){bc=e}async function vc(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Uo.decode(n,1e3),r=Uo.fromWords(e);t=qa.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=`https://${n}/.well-known/lnurlp/${e}`}}let i=await bc(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(e){}return null}function wc({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&o.tags.push(["e",t]),o}function _c(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!ts(t))return"Zap request is not a valid Nostr event.";if(!ns(t))return"Invalid signature on zap request.";let n=t.tags.find((([e,t])=>"p"===e&&t));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((([e,t])=>"e"===e&&t));if(r&&!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'e' tag is not valid hex.";let i=t.tags.find((([e,t])=>"relays"===e&&t));return i?null:"Zap request doesn't have a 'relays' tag."}function Ec({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),o={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["bolt11",n],["description",e]]};return t&&o.tags.push(["preimage",t]),o}Fa({},{getToken:()=>kc,unpackEventFromToken:()=>Oc,validateEvent:()=>Pc,validateToken:()=>Ac});var Sc="Nostr ";async function kc(e,t,n,r=!1){if(!e||!t)throw new Error("Missing loginUrl or httpMethod");const i=function(e=255){return{kind:e,content:"",tags:[],created_at:0}}(27235);i.tags=[["u",e],["method",t]],i.created_at=Math.round((new Date).getTime()/1e3);const o=await n(i);return(r?Sc:"")+No.encode(Va.encode(JSON.stringify(o)))}async function Ac(e,t,n){const r=await Oc(e).catch((e=>{throw e}));return await Pc(r,t,n).catch((e=>{throw e}))}async function Oc(e){if(!e)throw new Error("Missing token");e=e.replace(Sc,"");const t=qa.decode(No.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}async function Pc(e,t,n){if(!e)throw new Error("Invalid nostr event");if(!ns(e))throw new Error("Invalid nostr event, signature invalid");if(27235!==e.kind)throw new Error("Invalid nostr event, kind invalid");if(!e.created_at)throw new Error("Invalid nostr event, created_at invalid");if(Math.round((new Date).getTime()/1e3)-e.created_at>60)throw new Error("Invalid nostr event, expired");const r=e.tags.find((e=>"u"===e[0]));if(1!==r?.length&&r?.[1]!==t)throw new Error("Invalid nostr event, url tag invalid");const i=e.tags.find((e=>"method"===e[0]));if(1!==i?.length&&i?.[1].toLowerCase()!==n.toLowerCase())throw new Error("Invalid nostr event, method tag invalid");return!0}function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ic.apply(this,arguments)}function Tc(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function Nc(e){return Object.entries(e).map((([e,t])=>e&&t?`${e}=${t}`:"")).filter((e=>e)).join("&")}function xc(e,t){return`Basic ${btoa(`${e}:${t}`)}`}class Rc extends Error{constructor(e,t,n,r){let i=e.toString();t&&(i+=` ${t}`),i+=": ",i+=r.message?r.message:JSON.stringify(r),super(i),this.status=void 0,this.statusText=void 0,this.headers=void 0,this.error=void 0,this.status=e,this.statusText=t,this.headers=n,this.error=r}}const Cc=["auth","endpoint","params","request_body","method","max_retries","base_url","user_agent","headers"],Bc="https://api.getalby.com";async function Lc(e,t,n=0){const r=await fetch(e,t);if(429===r.status&&n>0){const i=Number(r.headers.get("x-rate-limit-reset")),o=Number(r.headers.get("x-rate-limit-remaining")),a=1e3*i-Date.now();let s=1e3;return 0===o&&(s=a),await new Promise((e=>setTimeout(e,s))),Lc(e,t,n-1)}return r}async function jc(e){let{auth:t,endpoint:n,params:r={},request_body:i,method:o,max_retries:a,base_url:s=Bc,user_agent:c,headers:u}=e,l=Tc(e,Cc);const f=new URL(s+n);f.search=Nc(r);const d="POST"===o&&!!i,h=t?await t.getAuthHeader(f.href,o):void 0,p=await Lc(f.toString(),Ic({headers:Ic({},d?{"Content-Type":"application/json; charset=utf-8"}:void 0,h,u,{"User-Agent":null!=c?c:"@getalby/sdk","X-User-Agent":null!=c?c:"@getalby/sdk"}),method:o,body:d?JSON.stringify(i):void 0},l),a);if(!p.ok){const e=await p.json();throw new Rc(p.status,p.statusText,p.headers,e)}return p}async function Dc(e){return(await jc(e)).json()}const Uc=["expires_in"],Mc=["token"];function Hc(e){const{expires_in:t}=e;return Ic({},Tc(e,Uc),!!t&&{expires_at:Date.now()+1e3*t})}class zc{constructor(e){this.bearer_token=void 0,this.bearer_token=e}getAuthHeader(){return{Authorization:`Bearer ${this.bearer_token}`}}}var Fc=class{constructor(e){this.token=void 0,this.options=void 0,this.code_verifier=void 0,this.code_challenge=void 0,this._refreshAccessTokenPromise=void 0,this._tokenEvents=void 0,this._tokenEvents=new ya;const{token:t}=e,n=Tc(e,Mc);this.options=Ic({client_secret:""},n),this.token=t,this._refreshAccessTokenPromise=null}on(e,t){this._tokenEvents.on(e,t)}async refreshAccessToken(){var e=this;return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=new Promise((async function(t,n){try{var r;const n=null==(r=e.token)?void 0:r.refresh_token,{client_id:i,client_secret:o,request_options:a,user_agent:s}=e.options;if(!i)throw new Error("client_id is required");if(!n)throw new Error("refresh_token is required");const c=Hc(await Dc(Ic({},a,{endpoint:"/oauth/token",params:{client_id:i,grant_type:"refresh_token",refresh_token:n},user_agent:s,method:"POST",headers:Ic({},null==a?void 0:a.headers,{"Content-type":"application/x-www-form-urlencoded"},{Authorization:xc(i,o)})})));e.token=c,t({token:c}),e._tokenEvents.emit("tokenRefreshed",e.token)}catch(t){console.error(t),n(t),e._tokenEvents.emit("tokenRefreshFailed",t)}finally{e._refreshAccessTokenPromise=null}}))),this._refreshAccessTokenPromise}isAccessTokenExpired(){var e,t;const n=null==(e=this.token)?void 0:e.refresh_token,r=null==(t=this.token)?void 0:t.expires_at;return!r||!!n&&r<=Date.now()+1e3}async requestAccessToken(e){const{client_id:t,client_secret:n,callback:r,request_options:i,user_agent:o}=this.options,a=this.code_verifier;if(!t)throw new Error("client_id is required");if(!n&&!a)throw new Error("either client_secret is required, or code should be generated using a challenge");if(!r)throw new Error("callback is required");const s={code:e,grant_type:"authorization_code",code_verifier:a,client_id:t,redirect_uri:r},c=Hc(await Dc(Ic({},i,{endpoint:"/oauth/token",params:s,user_agent:o,method:"POST",headers:Ic({},null==i?void 0:i.headers,{"Content-Type":"application/x-www-form-urlencoded"},{Authorization:xc(t,n)})})));return this.token=c,{token:c}}async generateAuthURL(e){e||(e={});const{client_id:t,callback:n,scopes:r}=this.options;if(!n)throw new Error("callback required");if(!r)throw new Error("scopes required");let i;"S256"===e.code_challenge_method?(await this._generateS256Challenge(),i="S256"):"plain"===e.code_challenge_method&&e.code_challenge&&(this.code_challenge=e.code_challenge,this.code_verifier=e.code_challenge,i="plain");const o=this.code_challenge,a=new URL(e.authorizeUrl||"https://getalby.com/oauth");return a.search=Nc(Ic({},e,{client_id:t,scope:r.join(" "),response_type:"code",redirect_uri:n,code_challenge_method:i,code_challenge:o})),a.toString()}async getAuthHeader(){var e;if(null==(e=this.token)||!e.access_token)throw new Error("access_token is required");return this.isAccessTokenExpired()&&await this.refreshAccessToken(),{Authorization:`Bearer ${this.token.access_token}`}}async _generateS256Challenge(){const e=crypto.getRandomValues(new Uint8Array(64));this.code_verifier=e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"");const t=await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(this.code_verifier)),n=new Uint8Array(t);this.code_challenge=btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}};const Kc={alby:{authorizationUrl:"https://nwc.getalby.com/apps/new",relayUrl:"wss://relay.getalby.com/v1",walletPubkey:"69effe7b49a6dd5cf525bd0905917a5005ffe480b58eeb8e861418cf3ae760d9"}},qc={get_info:"getInfo",get_balance:"getBalance",make_invoice:"makeInvoice",pay_invoice:"sendPayment",pay_keysend:"payKeysend",lookup_invoice:"lookupInvoice",list_transactions:"listTransactions"};class Vc{static parseWalletConnectUrl(e){e=e.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://");const t=new URL(e),n={};n.walletPubkey=t.host;const r=t.searchParams.get("secret"),i=t.searchParams.get("relay");return r&&(n.secret=r),i&&(n.relayUrl=i),n}static withNewSecret(e){return(e=e||{}).secret=nr(po.utils.randomPrivateKey()),new Vc(e)}constructor(e){var t;this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.walletPubkey=void 0,this.options=void 0,this.subscribers=void 0,this._enabled=!1,e&&e.nostrWalletConnectUrl&&(e=Ic({},Vc.parseWalletConnectUrl(e.nostrWalletConnectUrl),e));const n=Kc[(null==(t=e)?void 0:t.providerName)||"alby"];this.options=Ic({},n,e||{}),this.relayUrl=this.options.relayUrl,this.relay=ds(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?ps.decode(this.options.secret).data:this.options.secret),this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?ps.decode(this.options.walletPubkey).data:this.options.walletPubkey,this.subscribers={},void 0===globalThis.WebSocket&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}on(e,t){this.subscribers[e]=t}notify(e,t){const n=this.subscribers[e];n&&n(t)}getNostrWalletConnectUrl(e=!0){let t=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return e&&(t=`${t}&secret=${this.secret}`),t}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}get connected(){return 1===this.relay.status}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Ka(this.secret)}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(e){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(Ja(e,this.secret))}getEventHash(e){return Qa(e)}async enable(){this._enabled=!0}close(){return this.relay.close()}async encrypt(e,t){if(!this.secret)throw new Error("Missing secret");return await Ts.encrypt(this.secret,e,t)}async decrypt(e,t){if(!this.secret)throw new Error("Missing secret");return await Ts.decrypt(this.secret,e,t)}async getInfo(){await this.checkConnected();const e=["lightning","nostr"],t="Alby JS SDK";try{return await this.executeNip47Request("get_info",void 0,(e=>!!e.methods),(n=>({methods:n.methods.map((e=>qc[e])),node:{alias:n.alias,pubkey:n.pubkey,color:n.color},supports:e,version:t})))}catch(n){return console.error("Failed to request get_info",n),{methods:["sendPayment"],node:{},supports:e,version:t}}}async getBalance(){return await this.checkConnected(),this.executeNip47Request("get_balance",void 0,(e=>void 0!==e.balance),(e=>({balance:Math.floor(e.balance/1e3),currency:"sats"})))}async sendPayment(e){return await this.checkConnected(),this.executeNip47Request("pay_invoice",{invoice:e},(e=>!!e.preimage),(e=>({preimage:e.preimage})))}async keysend(e){return await this.checkConnected(),this.executeNip47Request("pay_keysend",{amount:1e3*+e.amount,pubkey:e.destination,tlv_records:e.customRecords?Object.entries(e.customRecords).map((e=>({type:parseInt(e[0]),value:e[1]}))):[]},(e=>!!e.preimage),(e=>({preimage:e.preimage})))}lnurl(e){throw new Error("Method not implemented.")}async makeInvoice(e){var t;await this.checkConnected();const n="object"==typeof e?e:void 0,r=+(null!=(t=null==n?void 0:n.amount)?t:e);if(!r)throw new Error("No amount specified");return this.executeNip47Request("make_invoice",{amount:1e3*r,description:null==n?void 0:n.defaultMemo},(e=>!!e.invoice),(e=>({paymentRequest:e.invoice})))}async lookupInvoice(e){return await this.checkConnected(),this.executeNip47Request("lookup_invoice",{invoice:e.paymentRequest,payment_hash:e.paymentHash},(e=>!!e.invoice),(e=>({preimage:e.preimage,paymentRequest:e.invoice,paid:!!e.settled_at})))}async listTransactions(e){return await this.checkConnected(),this.executeNip47Request("list_transactions",e,(e=>!!e.transactions),(e=>({transactions:e.transactions.map(Wc)})))}request(e,t){throw new Error("Method not implemented.")}signMessage(e){throw new Error("Method not implemented.")}verifyMessage(e,t){throw new Error("Method not implemented.")}getAuthorizationUrl(e){if(!this.options.authorizationUrl)throw new Error("Missing authorizationUrl option");const t=new URL(this.options.authorizationUrl);return null!=e&&e.name&&t.searchParams.set("c",null==e?void 0:e.name),t.searchParams.set("pubkey",this.publicKey),null!=e&&e.returnTo&&t.searchParams.set("return_to",e.returnTo),null!=e&&e.budgetRenewal&&t.searchParams.set("budget_renewal",e.budgetRenewal),null!=e&&e.expiresAt&&t.searchParams.set("expires_at",Math.floor(e.expiresAt.getTime()/1e3).toString()),null!=e&&e.maxAmount&&t.searchParams.set("max_amount",e.maxAmount.toString()),void 0!==(null==e?void 0:e.editable)&&t.searchParams.set("editable",e.editable.toString()),t}initNWC(e={}){e.name||(e.name=document.location.host);const t=this.getAuthorizationUrl(e),n=window.outerHeight/2+window.screenY-300,r=window.outerWidth/2+window.screenX-200;return new Promise(((e,i)=>{const o=window.open(t.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${n},left=${r}`);if(!o)return void i();const a=n=>{const r=n.data;r&&"nwc:success"===r.type&&n.origin===`${t.protocol}//${t.host}`&&(e(r),clearInterval(s),window.removeEventListener("message",a),o&&o.close())},s=setInterval((()=>{o&&o.closed&&(i(),clearInterval(s),window.removeEventListener("message",a))}),500);window.addEventListener("message",a)}))}async checkConnected(){if(!this._enabled)throw new Error("please call enable() and await the promise before calling this function");if(!this.secret)throw new Error("Missing secret key");await this.relay.connect()}executeNip47Request(e,t,n,r){var i=this;const o=qc[e];return new Promise(((a,s)=>{!async function(){const c={method:e,params:t},u=await i.encrypt(i.walletPubkey,JSON.stringify(c)),l={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",i.walletPubkey]],content:u,pubkey:i.publicKey},f=await i.signEvent(l),d=i.relay.sub([{kinds:[23195],authors:[i.walletPubkey],"#e":[f.id]}]),h=setTimeout((function(){d.unsub(),s({error:`reply timeout: event ${f.id}`,code:"INTERNAL"})}),6e4);d.on("event",(async function(e){clearTimeout(h),d.unsub();const t=await i.decrypt(i.walletPubkey,e.content);let c;try{c=JSON.parse(t)}catch(e){return void s({error:"invalid response",code:"INTERNAL"})}var u,l;23195==e.kind&&c.result?n(c.result)?(a(r(c.result)),i.notify(o,c.result)):s({error:"Response from NWC failed validation: "+JSON.stringify(c.result),code:"INTERNAL"}):s({error:null==(u=c.error)?void 0:u.message,code:null==(l=c.error)?void 0:l.code})}));const p=setTimeout((function(){s({error:`Publish timeout: event ${f.id}`})}),5e3);try{await i.relay.publish(f),clearTimeout(p)}catch(e){clearTimeout(p),s({error:`Failed to publish request: ${e}`})}}()}))}}function Wc(e){return Ic({},e,{amount:Math.floor(e.amount/1e3),fees_paid:e.fees_paid?Math.floor(e.fees_paid/1e3):0})}const Gc=Vc;function Yc(e){const t={};return e.recipient.customKey&&e.recipient.customValue&&(t[e.recipient.customKey]=e.recipient.customValue),t[7629169]=JSON.stringify(e.boostagram),{destination:e.recipient.address,amount:e.amount,customRecords:t}}class $c{constructor(e,t){this.auth=void 0,this.defaultRequestOptions=void 0,this.auth="string"==typeof e?new zc(e):e,this.defaultRequestOptions=Ic({},t,{user_agent:null==t?void 0:t.user_agent})}accountBalance(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/balance",params:e,method:"GET"}))}accountSummary(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/user/summary",params:e,method:"GET"}))}accountInformation(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/user/me",params:e,method:"GET"}))}accountValue4Value(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/user/value4value",params:e,method:"GET"}))}incomingInvoices(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/invoices/incoming",params:e,method:"GET"}))}outgoingInvoices(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/invoices/outgoing",params:e,method:"GET"}))}invoices(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/invoices",params:e,method:"GET"}))}getInvoice(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/invoices/${e}`,method:"GET"}))}decodeInvoice(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/decode/bolt11/${e}`,method:"GET"}))}createInvoice(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/invoices",request_body:e,method:"POST"}))}keysend(e,t){let n,r;return Array.isArray(e)?(n="/payments/keysend/multi",r={keysends:e}):(n="/payments/keysend",r=e),Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:n,request_body:r,method:"POST"}))}sendPayment(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/payments/bolt11",request_body:e,method:"POST"}))}sendBoostagram(e,t){let n,r;return Array.isArray(e)?(n="/payments/keysend/multi",r={keysends:e.map((e=>Yc(e)))}):(n="/payments/keysend",r=Yc(e)),Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:n,request_body:r,method:"POST"}))}sendToAlbyAccount(e,t){return console.warn("sendToAlbyAccount is deprecated. Please use sendBoostagramToAlbyAccount instead."),this.sendBoostagramToAlbyAccount(e,t)}sendBoostagramToAlbyAccount(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/payments/keysend",request_body:{destination:"030a58b8653d32b99200a2334cfe913e51dc7d155aa0116c176657a4f1722677a3",customRecords:{696969:e.account},amount:e.amount,memo:e.memo},method:"POST"}))}createWebhookEndpoint(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/webhook_endpoints",request_body:e,method:"POST"}))}deleteWebhookEndpoint(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/webhook_endpoints/${e}`,method:"DELETE"}))}getSwapInfo(e){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,e,{endpoint:"/swaps/info",method:"GET"}))}createSwap(e,t){return Dc(Ic({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/swaps",method:"POST",request_body:e}))}}var Zc={__proto__:null,NostrWebLNProvider:Vc,NWC:Gc,OauthWeblnProvider:class{constructor(e){this.client=void 0,this.auth=void 0,this.oauth=void 0,this.subscribers=void 0,this.isExecuting=void 0,this.auth=e.auth,this.client=new $c(e.auth),this.oauth=!0,this.subscribers={},this.isExecuting=!1}on(e,t){this.subscribers[e]=t}notify(e,t){const n=this.subscribers[e];n&&n(t)}async enable(){var e;if(!this.isExecuting){if(null!=(e=this.auth.token)&&e.access_token)return{enabled:!0};if("undefined"==typeof window||void 0===window.document)throw new Error("Missing access token");try{this.isExecuting=!0,await this.openAuthorization()}finally{this.isExecuting=!1}}}async sendPayment(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.sendPayment({invoice:e});return this.notify("sendPayment",t),{preimage:t.payment_preimage}}catch(e){let t="Unknown Error";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async keysend(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.keysend(e);return this.notify("keysend",t),{preimage:t.payment_preimage}}catch(e){let t="Unknown Error";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async getInfo(){return{alias:"Alby"}}async makeInvoice(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.createInvoice({amount:parseInt(e.amount.toString()),description:e.defaultMemo});return this.notify("makeInvoice",t),{paymentRequest:t.payment_request}}catch(e){let t="Unknown Error";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async openAuthorization(){var e=this;const t=window.outerHeight/2+window.screenY-350,n=window.outerWidth/2+window.screenX-300,r=await this.auth.generateAuthURL({code_challenge_method:"S256"});return new Promise(((i,o)=>{const a=window.open(r,`${document.title} - WebLN enable`,`height=700,width=600,top=${t},left=${n}`);let s=!1;window.addEventListener("message",(async function(t){const n=t.data;if(n&&"alby:oauth:success"===n.type&&t.origin===`${document.location.protocol}//${document.location.host}`&&!s){s=!0,console.info("Processing OAuth code response");const t=n.payload.code;try{await e.auth.requestAccessToken(t),e.client=new $c(e.auth),a&&a.close(),e.notify("enable"),i({enabled:!0})}catch(e){console.error(e),o({enabled:!1})}}}))}))}}};function Xc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Jc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Xc(o,r,i,a,s,"next",e)}function s(e){Xc(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){eu(e,t,n[t])}))}return e}function nu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ru(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var iu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eu(this,"account",void 0),eu(this,"config",void 0),eu(this,"_client",void 0),eu(this,"_authUser",void 0),eu(this,"_cache",new Map),this.account=t,this.config=n}var t,n,r;return t=e,n=[{key:"init",value:function(){var e=this;return Jc((function(){var t;return ru(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,e.authorize()];case 1:return e._authUser=n.sent(),e._client=new $c(e._authUser,e._getRequestOptions()),[3,4];case 2:return t=n.sent(),console.error("Failed to initialize alby connector",t),e._authUser=void 0,e._client=void 0,[4,e.unload()];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()}},{key:"getOAuthToken",value:function(){return this.config.oAuthToken}},{key:"unload",value:function(){return Promise.resolve()}},{key:"supportedMethods",get:function(){return["getInfo","keysend","makeInvoice","sendPayment","sendPaymentAsync","getBalance","getTransactions"]}},{key:"connectPeer",value:function(){var e=this;return Jc((function(){return ru(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the connectPeer call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"getTransactions",value:function(){var e=this;return Jc((function(){return ru(this,(function(t){switch(t.label){case 0:return[4,e._request((function(e){return e.invoices({})}))];case 1:return[2,{data:{transactions:t.sent().map((function(e,t){var n;return{custom_records:e.custom_records,id:"".concat(e.payment_request,"-").concat(t),memo:e.comment||e.memo,preimage:null!==(n=e.preimage)&&void 0!==n?n:"",payment_hash:e.payment_hash,settled:e.settled,settleDate:new Date(e.settled_at).getTime(),totalAmount:e.amount,type:"incoming"==e.type?"received":"sent"}}))}}]}}))}))()}},{key:"getInfo",value:function(){var e=this;return Jc((function(){var t,n,r,i,o;return ru(this,(function(a){switch(a.label){case 0:if(t="getInfo",n=e._cache.get(t))return[2,n];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e._request((function(e){return e.accountInformation({})}))];case 2:return r=a.sent(),i={data:nu(tu({},r),{alias:"🐝 getalby.com"})},e._cache.set(t,i),[2,i];case 3:throw o=a.sent(),console.error(o),o;case 4:return[2]}}))}))()}},{key:"getBalance",value:function(){var e=this;return Jc((function(){return ru(this,(function(t){switch(t.label){case 0:return[4,e._request((function(e){return e.accountBalance({})}))];case 1:return[2,{data:{balance:t.sent().balance}}]}}))}))()}},{key:"sendPayment",value:function(e){var t=this;return Jc((function(){var n;return ru(this,(function(r){switch(r.label){case 0:return[4,t._request((function(t){return t.sendPayment({invoice:e.paymentRequest})}))];case 1:return[2,{data:{preimage:(n=r.sent()).payment_preimage,paymentHash:n.payment_hash,route:{total_amt:n.amount,total_fees:n.fee}}}]}}))}))()}},{key:"keysend",value:function(e){var t=this;return Jc((function(){var n;return ru(this,(function(r){switch(r.label){case 0:return[4,t._request((function(t){return t.keysend({destination:e.pubkey,amount:e.amount,customRecords:e.customRecords})}))];case 1:return[2,{data:{preimage:(n=r.sent()).payment_preimage,paymentHash:n.payment_hash,route:{total_amt:n.amount,total_fees:n.fee}}}]}}))}))()}},{key:"checkPayment",value:function(e){var t=this;return Jc((function(){var n,r,i;return ru(this,(function(o){switch(o.label){case 0:n=!1,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t._request((function(t){return t.getInvoice(e.paymentHash)}))];case 2:return r=o.sent(),n=!!(null==r?void 0:r.settled),[3,4];case 3:return i=o.sent(),console.error(i),[3,4];case 4:return[2,{data:{paid:n}}]}}))}))()}},{key:"signMessage",value:function(e){throw new Error("SignMessage is not supported by Alby accounts. Generate a Master Key to use LNURL auth.")}},{key:"makeInvoice",value:function(e){var t=this;return Jc((function(){var n;return ru(this,(function(r){switch(r.label){case 0:return[4,t._request((function(t){return t.createInvoice({amount:parseInt(e.amount.toString()),description:e.memo})}))];case 1:return[2,{data:{paymentRequest:(n=r.sent()).payment_request,rHash:n.payment_hash}}]}}))}))()}},{key:"getSwapInfo",value:function(){var e=this;return Jc((function(){return ru(this,(function(t){switch(t.label){case 0:return[4,e._request((function(e){return e.getSwapInfo()}))];case 1:return[2,t.sent()]}}))}))()}},{key:"createSwap",value:function(e){var t=this;return Jc((function(){return ru(this,(function(n){switch(n.label){case 0:return[4,t._request((function(t){return t.createSwap(e)}))];case 1:return[2,n.sent()]}}))}))()}},{key:"authorize",value:function(){var e=this;return Jc((function(){var t,n,r,i,a,s,c;return ru(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,8,,9]),t="NYvmxLuaWE",n="HZPT40whgazUEMl2U22K",(r=new Fc({request_options:e._getRequestOptions(),client_id:t,client_secret:n,callback:"https://getalby.com/extension/connect",user_agent:"lightning-browser-extension:".concat("3.6.0"),scopes:["invoices:read","account:read","balance:read","invoices:create","invoices:read","payments:send","transactions:read"],token:e.config.oAuthToken})).on("tokenRefreshed",(function(t){e._updateOAuthToken(t)})),r.on("tokenRefreshFailed",(function(e){console.error("Failed to Refresh token",e)})),!e.config.oAuthToken)return[3,5];u.label=1;case 1:return u.trys.push([1,4,,5]),r.isAccessTokenExpired()?[4,r.refreshAccessToken()]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2,r];case 4:return i=u.sent(),console.error("Failed to request new auth token",i),[3,5];case 5:return[4,r.generateAuthURL({code_challenge_method:"S256",authorizeUrl:""})];case 6:return a=u.sent(),a+="&webln=false",[4,o().tabs.create({url:a})];case 7:return s=u.sent(),[2,new Promise((function(t,n){var i=function(a,c,u){if("complete"===c.status&&a===s.id){var l=e.extractCodeFromTabUrl(u.url);if(!l)throw new Error("no authorization code");r.requestAccessToken(l).then((function(n){e._updateOAuthToken(n.token),t(r)})).catch((function(e){console.error("Failed to request new auth token",e),n(e)})).finally((function(){o().tabs.remove(a),o().tabs.onUpdated.removeListener(i)}))}},a=function(e){if(e===s.id){var t=new Error("OAuth authentication canceled by user");n(t),o().tabs.onRemoved.removeListener(a)}};o().tabs.onUpdated.addListener(i),o().tabs.onRemoved.addListener(a)}))];case 8:throw c=u.sent(),console.error(c),c;case 9:return[2]}}))}))()}},{key:"extractCodeFromTabUrl",value:function(e){return e?new URLSearchParams(e.split("?")[1]).get("code"):null}},{key:"_request",value:function(e){var t=this;return Jc((function(){var n,r;return ru(this,(function(i){switch(i.label){case 0:if(!t._authUser||!t._client)throw new Error("Alby client was not initialized");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e(t._client)];case 2:return n=i.sent(),[3,4];case 3:throw r=i.sent(),console.error(r),r;case 4:return[2,n]}}))}))()}},{key:"_getRequestOptions",value:function(){return tu({user_agent:"lightning-browser-extension:".concat("3.6.0")},{base_url:"https://api.getalby.com"})}},{key:"_updateOAuthToken",value:function(e){var t=this;return Jc((function(){var n,r,i,o,a,s;return ru(this,(function(c){switch(c.label){case 0:return n=e.access_token,r=e.refresh_token,i=e.expires_at,n&&r&&i?(t.config.oAuthToken={access_token:n,refresh_token:r,expires_at:i},t.account.id?(o=Bg.getState().accounts,[4,Bg.getState().password()]):[3,3]):[3,4];case 1:return a=c.sent(),(s=L(o[t.account.id].config,a)).oAuthToken=t.config.oAuthToken,o[t.account.id].config=B(s,a),Bg.setState({accounts:o}),[4,Bg.getState().saveToStorage()];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:throw console.error("Invalid token"),new Error("Invalid token");case 5:return[2]}}))}))()}}],n&&Qc(t.prototype,n),r&&Qc(t,r),e}();function ou(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function au(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ou(o,r,i,a,s,"next",e)}function s(e){ou(o,r,i,a,s,"throw",e)}a(void 0)}))}}function su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){cu(e,t,n[t])}))}return e}function lu(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var fu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cu(this,"account",void 0),cu(this,"config",void 0),cu(this,"jwt",void 0),cu(this,"_requestFunc",void 0),this.account=t,this.config=n,this.jwt=""}var t,n,r;return t=e,n=[{key:"requestFunc",set:function(e){this._requestFunc=e}},{key:"init",value:function(){return Promise.resolve()}},{key:"unload",value:function(){return Promise.resolve()}},{key:"supportedMethods",get:function(){return["makeInvoice","sendPayment","sendPaymentAsync","signMessage","getInfo","getBalance"]}},{key:"getInfo",value:function(){var e=this;return au((function(){return lu(this,(function(t){switch(t.label){case 0:return[4,e.ensureLogin()];case 1:return t.sent(),[2,e.request("GET","api/v1/lnd/info").then((function(e){return{data:{alias:e.alias,pubkey:e.identityPubkey,color:e.color}}}))]}}))}))()}},{key:"getTransactions",value:function(){var e=this;return au((function(){return lu(this,(function(t){return console.error("getTransactions() is not yet supported with the currently used account: ".concat(e.constructor.name)),[2,{data:{transactions:[]}}]}))}))()}},{key:"connectPeer",value:function(){var e=this;return au((function(){return lu(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the getInvoices call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"getBalance",value:function(){var e=this;return au((function(){return lu(this,(function(t){switch(t.label){case 0:return[4,e.ensureLogin()];case 1:return t.sent(),[2,e.request("GET","api/v1/lnd/wallet/lightning").then((function(e){var t;return{data:{balance:parseInt(null===(t=e.localBalance)||void 0===t?void 0:t.sat)}}}))]}}))}))()}},{key:"keysend",value:function(e){return au((function(){return lu(this,(function(e){throw new Error("not supported")}))}))()}},{key:"sendPayment",value:function(e){var t=this;return au((function(){return lu(this,(function(n){switch(n.label){case 0:return[4,t.ensureLogin()];case 1:return n.sent(),[2,t.request("POST","api/v1/lnd/lightning/payInvoice",{paymentRequest:e.paymentRequest}).then((function(e){var t,n;return{data:{preimage:e.paymentPreimage,paymentHash:e.paymentHash,route:{total_amt:Math.floor(parseInt(null===(t=e.paymentRoute)||void 0===t?void 0:t.totalAmtMsat)/1e3),total_fees:parseInt(null===(n=e.paymentRoute)||void 0===n?void 0:n.totalFeesMsat)}}}}))]}}))}))()}},{key:"signMessage",value:function(e){var t=this;return au((function(){return lu(this,(function(n){switch(n.label){case 0:return[4,t.ensureLogin()];case 1:return n.sent(),[2,t.request("POST","api/v1/lnd/util/sign-message",{message:e.message}).then((function(t){return{data:{message:e.message,signature:t.signature}}}))]}}))}))()}},{key:"refresh",value:function(){var e=this;return au((function(){var t;return lu(this,(function(n){switch(n.label){case 0:return[4,e.request("POST","manager-api/v1/account/refresh")];case 1:if("object"!=typeof(t=n.sent())||null===t||!t.jwt)throw new Error("Failed to login.");return[2,t.jwt]}}))}))()}},{key:"login",value:function(e,t){var n=this;return au((function(){var r;return lu(this,(function(i){switch(i.label){case 0:return[4,n.request("POST","manager-api/v1/account/login",{password:e,totpToken:t})];case 1:if("object"!=typeof(r=i.sent())||null===r||!r.jwt)throw new Error("Failed to login.");return[2,r.jwt]}}))}))()}},{key:"ensureLogin",value:function(){var e=this;return au((function(){return lu(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,e.refresh()];case 1:case 3:return e.jwt=t.sent(),[3,4];case 2:return t.sent(),[4,e.login(e.config.password,"")];case 4:return[2]}}))}))()}},{key:"makeInvoice",value:function(e){var t=this;return au((function(){return lu(this,(function(n){switch(n.label){case 0:return[4,t.ensureLogin()];case 1:return n.sent(),[2,t.request("POST","api/v1/lnd/util/lightning/addInvoice",{memo:e.memo,amt:e.amount.toString()}).then((function(e){return{data:{paymentRequest:e.paymentRequest,rHash:e.rHashStr}}}))]}}))}))()}},{key:"checkPayment",value:function(e){var t=this;return au((function(){return lu(this,(function(n){switch(n.label){case 0:return[4,t.ensureLogin()];case 1:return n.sent(),[2,t.request("GET","invoice-info?paymentHash=".concat(e.paymentHash)).then((function(e){return{data:{paid:e.isPaid||1===e.state}}}))]}}))}))()}},{key:"request",value:function(e,t,n){var r=this;return au((function(){var i,o,a,s;return lu(this,(function(c){switch(c.label){case 0:return i=r.config.url+(r.config.url.endsWith("/")?"":"/")+t,(o=new Headers).append("Accept","application/json"),o.append("Content-Type","application/json"),r.jwt&&o.append("Authorization","JWT ".concat(r.jwt)),[4,fetch(i,uu({headers:o,method:e},"GET"!==e?{body:JSON.stringify(n)}:{}))];case 1:return(a=c.sent()).ok?[3,3]:[4,a.json()];case 2:throw s=c.sent(),console.error("errBody",s),new Error(s.detail);case 3:return[4,a.json()];case 4:return[2,c.sent()]}}))}))()}}],n&&su(t.prototype,n),r&&su(t,r),e}();const du=fu;var hu=a(55743),pu=a.n(hu),yu=function(e,t){return yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},yu(e,t)};function gu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}yu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function bu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function vu(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;function wu(e){return"function"==typeof e}function _u(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Eu=_u((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Su(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ku=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=bu(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(wu(c))try{c()}catch(e){i=e instanceof Eu?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=bu(u),f=l.next();!f.done;f=l.next()){var d=f.value;try{Pu(d)}catch(e){i=null!=i?i:[],e instanceof Eu?i=vu(vu([],mu(i)),mu(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new Eu(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Pu(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Su(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Su(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Au=ku.EMPTY;function Ou(e){return e instanceof ku||e&&"closed"in e&&wu(e.remove)&&wu(e.add)&&wu(e.unsubscribe)}function Pu(e){wu(e)?e():e.unsubscribe()}var Iu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Tu={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Tu.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,vu([e,t],mu(n))):setTimeout.apply(void 0,vu([e,t],mu(n)))},clearTimeout:function(e){var t=Tu.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Nu(){}var xu=Ru("C",void 0,void 0);function Ru(e,t,n){return{kind:e,value:t,error:n}}var Cu=null;function Bu(e){if(Iu.useDeprecatedSynchronousErrorHandling){var t=!Cu;if(t&&(Cu={errorThrown:!1,error:null}),e(),t){var n=Cu,r=n.errorThrown,i=n.error;if(Cu=null,r)throw i}}else e()}var Lu=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Ou(t)&&t.add(n)):n.destination=Fu,n}return gu(t,e),t.create=function(e,t,n){return new Mu(e,t,n)},t.prototype.next=function(e){this.isStopped?zu(function(e){return Ru("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?zu(Ru("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?zu(xu,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ku),ju=Function.prototype.bind;function Du(e,t){return ju.call(e,t)}var Uu=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Hu(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Hu(e)}else Hu(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Hu(e)}},e}(),Mu=function(e){function t(t,n,r){var i,o,a=e.call(this)||this;wu(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&Iu.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&Du(t.next,o),error:t.error&&Du(t.error,o),complete:t.complete&&Du(t.complete,o)}):i=t;return a.destination=new Uu(i),a}return gu(t,e),t}(Lu);function Hu(e){Iu.useDeprecatedSynchronousErrorHandling?function(e){Iu.useDeprecatedSynchronousErrorHandling&&Cu&&(Cu.errorThrown=!0,Cu.error=e)}(e):function(e){Tu.setTimeout((function(){var t=Iu.onUnhandledError;if(!t)throw e;t(e)}))}(e)}function zu(e,t){var n=Iu.onStoppedNotification;n&&Tu.setTimeout((function(){return n(e,t)}))}var Fu={closed:!0,next:Nu,error:function(e){throw e},complete:Nu},Ku="function"==typeof Symbol&&Symbol.observable||"@@observable";function qu(e){return e}function Vu(e){return 0===e.length?qu:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Wu=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof Lu||function(e){return e&&wu(e.next)&&wu(e.error)&&wu(e.complete)}(r)&&Ou(r)?e:new Mu(e,t,n);return Bu((function(){var e=i,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Gu(t))((function(t,r){var i=new Mu({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Ku]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vu(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Gu(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Gu(e){var t;return null!==(t=null!=e?e:Iu.Promise)&&void 0!==t?t:Promise}var Yu=_u((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),$u=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return gu(t,e),t.prototype.lift=function(e){var t=new Zu(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Yu},t.prototype.next=function(e){var t=this;Bu((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=bu(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Bu((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Bu((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?Au:(this.currentObservers=null,o.push(e),new ku((function(){t.currentObservers=null,Su(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new Wu;return e.source=this,e},t.create=function(e,t){return new Zu(e,t)},t}(Wu),Zu=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return gu(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Au},t}($u),Xu=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return gu(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}($u),Ju=_u((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function Qu(e,t){var n="object"==typeof t;return new Promise((function(r,i){var o=new Mu({next:function(e){r(e),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new Ju)}});e.subscribe(o)}))}function el(e){return function(t){if(function(e){return wu(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function tl(e,t,n,r,i){return new nl(e,t,n,r,i)}var nl=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return gu(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Lu);function rl(e,t){return el((function(n,r){var i=0;n.subscribe(tl(r,(function(n){r.next(e.call(t,n,i++))})))}))}function il(e,t){return el((function(n,r){var i=0;n.subscribe(tl(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}var ol=a(48764);const al="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,sl=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),cl=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const ul=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ll(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ul[e[n]];return t}function fl(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class dl{clone(){return this._cloneInto()}}function hl(e){const t=t=>e().update(fl(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function pl(e=32){if(al&&"function"==typeof al.getRandomValues)return al.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}var yl=a(46403),gl=a.t(yl,2);const bl=BigInt(0),ml=BigInt(1),vl=BigInt(2),wl=BigInt(3),_l=BigInt(8),El=Object.freeze({a:bl,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ml,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Sl=(e,t)=>(e+t/vl)/t,kl={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=El,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ml*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=Sl(o*e,t),c=Sl(-r*e,t);let u=Jl(e-s*n-c*i,t),l=Jl(-s*r-c*o,t);const f=u>a,d=l>a;if(f&&(u=t-u),d&&(l=t-l),u>a||l>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}},Al=32,Ol=32,Pl=Al+1,Il=2*Al+1;function Tl(e){const{a:t,b:n}=El,r=Jl(e*e),i=Jl(r*e);return Jl(i+t*e+n)}const Nl=El.a===bl;class xl extends Error{constructor(e){super(e)}}function Rl(e){if(!(e instanceof Cl))throw new TypeError("JacobianPoint expected")}class Cl{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof jl))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(jl.ZERO)?Cl.ZERO:new Cl(e.x,e.y,ml)}static toAffineBatch(e){const t=function(e,t=El.P){const n=new Array(e.length),r=e.reduce(((e,r,i)=>r===bl?e:(n[i]=e,Jl(e*r,t))),ml),i=ef(r,t);return e.reduceRight(((e,r,i)=>r===bl?e:(n[i]=Jl(e*n[i],t),Jl(e*r,t))),i),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return Cl.toAffineBatch(e).map(Cl.fromAffine)}equals(e){Rl(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:a}=e,s=Jl(r*r),c=Jl(a*a),u=Jl(t*c),l=Jl(i*s),f=Jl(Jl(n*a)*c),d=Jl(Jl(o*r)*s);return u===l&&f===d}negate(){return new Cl(this.x,Jl(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=Jl(e*e),i=Jl(t*t),o=Jl(i*i),a=e+i,s=Jl(vl*(Jl(a*a)-r-o)),c=Jl(wl*r),u=Jl(c*c),l=Jl(u-vl*s),f=Jl(c*(s-l)-_l*o),d=Jl(vl*t*n);return new Cl(l,f,d)}add(e){Rl(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:a}=e;if(i===bl||o===bl)return this;if(t===bl||n===bl)return e;const s=Jl(r*r),c=Jl(a*a),u=Jl(t*c),l=Jl(i*s),f=Jl(Jl(n*a)*c),d=Jl(Jl(o*r)*s),h=Jl(l-u),p=Jl(d-f);if(h===bl)return p===bl?this.double():Cl.ZERO;const y=Jl(h*h),g=Jl(h*y),b=Jl(u*y),m=Jl(p*p-g-vl*b),v=Jl(p*(b-m)-f*g),w=Jl(r*a*h);return new Cl(m,v,w)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Cl.ZERO;if("bigint"==typeof e&&e===bl)return t;let n=Xl(e);if(n===ml)return this;if(!Nl){let e=t,r=this;for(;n>bl;)n&ml&&(e=e.add(r)),r=r.double(),n>>=ml;return e}let{k1neg:r,k1:i,k2neg:o,k2:a}=kl.splitScalar(n),s=t,c=t,u=this;for(;i>bl||a>bl;)i&ml&&(s=s.add(u)),a&ml&&(c=c.add(u)),u=u.double(),i>>=ml,a>>=ml;return r&&(s=s.negate()),o&&(c=c.negate()),c=new Cl(Jl(c.x*kl.beta),c.y,c.z),s.add(c)}precomputeWindow(e){const t=Nl?128/e+1:256/e+1,n=[];let r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(Cl.BASE)&&(t=jl.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&Ll.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=Cl.normalizeZ(r),Ll.set(t,r)));let i=Cl.ZERO,o=Cl.BASE;const a=1+(Nl?128/n:256/n),s=2**(n-1),c=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let t=0;t<a;t++){const n=t*s;let a=Number(e&c);e>>=l,a>s&&(a-=u,e+=ml);const f=n,d=n+Math.abs(a)-1,h=t%2!=0,p=a<0;0===a?o=o.add(Bl(h,r[f])):i=i.add(Bl(p,r[d]))}return{p:i,f:o}}multiply(e,t){let n,r,i=Xl(e);if(Nl){const{k1neg:e,k1:o,k2neg:a,k2:s}=kl.splitScalar(i);let{p:c,f:u}=this.wNAF(o,t),{p:l,f}=this.wNAF(s,t);c=Bl(e,c),l=Bl(a,l),l=new Cl(Jl(l.x*kl.beta),l.y,l.z),n=c.add(l),r=u.add(f)}else{const{p:e,f:o}=this.wNAF(i,t);n=e,r=o}return Cl.normalizeZ([n,r])[0]}toAffine(e){const{x:t,y:n,z:r}=this,i=this.equals(Cl.ZERO);null==e&&(e=i?_l:ef(r));const o=e,a=Jl(o*o),s=Jl(a*o),c=Jl(t*a),u=Jl(n*s),l=Jl(r*o);if(i)return jl.ZERO;if(l!==ml)throw new Error("invZ was invalid");return new jl(c,u)}}function Bl(e,t){const n=t.negate();return e?n:t}Cl.BASE=new Cl(El.Gx,El.Gy,ml),Cl.ZERO=new Cl(bl,ml,bl);const Ll=new WeakMap;class jl{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Ll.delete(this)}hasEvenY(){return this.y%vl===bl}static fromCompressedHex(e){const t=32===e.length,n=$l(t?e:e.subarray(1));if(!af(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=El,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=Ql(u,wl)*u%t,f=Ql(l,wl)*u%t,d=Ql(f,vl)*c%t,h=Ql(d,r)*d%t,p=Ql(h,i)*h%t,y=Ql(p,a)*p%t,g=Ql(y,s)*y%t,b=Ql(g,a)*p%t,m=Ql(b,wl)*u%t,v=Ql(m,o)*h%t,w=Ql(v,n)*c%t,_=Ql(w,vl),E=_*_%t;if(E!==e)throw new Error("Cannot find square root");return _}(Tl(n));const i=(r&ml)===ml;if(t)i&&(r=Jl(-r));else{1==(1&e[0])!==i&&(r=Jl(-r))}const o=new jl(n,r);return o.assertValidity(),o}static fromUncompressedHex(e){const t=$l(e.subarray(1,Al+1)),n=$l(e.subarray(Al+1,2*Al+1)),r=new jl(t,n);return r.assertValidity(),r}static fromHex(e){const t=Zl(e),n=t.length,r=t[0];if(n===Al)return this.fromCompressedHex(t);if(n===Pl&&(2===r||3===r))return this.fromCompressedHex(t);if(n===Il&&4===r)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Pl} compressed bytes or ${Il} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return jl.BASE.multiply(sf(e))}static fromSignature(e,t,n){const{r,s:i}=uf(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=tf(Zl(e)),{n:a}=El,s=2===n||3===n?r+a:r,c=ef(s,a),u=Jl(-o*c,a),l=Jl(i*c,a),f=1&n?"03":"02",d=jl.fromHex(f+ql(s)),h=jl.BASE.multiplyAndAddUnsafe(d,u,l);if(!h)throw new Error("Cannot recover signature: point at infinify");return h.assertValidity(),h}toRawBytes(e=!1){return Yl(this.toHex(e))}toHex(e=!1){const t=ql(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${ql(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!af(t)||!af(n))throw new Error(e);const r=Jl(n*n);if(Jl(r-Tl(t))!==bl)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new jl(this.x,Jl(-this.y))}double(){return Cl.fromAffine(this).double().toAffine()}add(e){return Cl.fromAffine(this).add(Cl.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Cl.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const r=Cl.fromAffine(this),i=t===bl||t===ml||this!==jl.BASE?r.multiplyUnsafe(t):r.multiply(t),o=Cl.fromAffine(e).multiplyUnsafe(n),a=i.add(o);return a.equals(Cl.ZERO)?void 0:a.toAffine()}}function Dl(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Ul(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${Fl(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:$l(n),left:e.subarray(t+2)}}jl.BASE=new jl(El.Gx,El.Gy),jl.ZERO=new jl(bl,bl);class Ml{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=t?Fl(e):e;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new Ml(Gl(r.slice(0,64)),Gl(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${Fl(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=Ul(e.subarray(2)),{data:r,left:i}=Ul(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Fl(i)}`);return{r:t,s:r}}(t?e:Yl(e));return new Ml(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!of(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!of(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=El.n>>ml;return this.s>e}normalizeS(){return this.hasHighS()?new Ml(this.r,Jl(-this.s,El.n)):this}toDERRawBytes(){return Yl(this.toDERHex())}toDERHex(){const e=Dl(Wl(this.s)),t=Dl(Wl(this.r)),n=e.length/2,r=t.length/2,i=Wl(n),o=Wl(r);return`30${Wl(r+n+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Yl(this.toCompactHex())}toCompactHex(){return ql(this.r)+ql(this.s)}}function Hl(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const zl=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Fl(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=zl[e[n]];return t}const Kl=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function ql(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(bl<=e&&e<Kl))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Vl(e){const t=Yl(ql(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Wl(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Gl(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Yl(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function $l(e){return Gl(Fl(e))}function Zl(e){return e instanceof Uint8Array?Uint8Array.from(e):Yl(e)}function Xl(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&of(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Jl(e,t=El.P){const n=e%t;return n>=bl?n:t+n}function Ql(e,t){const{P:n}=El;let r=e;for(;t-- >bl;)r*=r,r%=n;return r}function ef(e,t=El.P){if(e===bl||t<=bl)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Jl(e,t),r=t,i=bl,o=ml,a=ml,s=bl;for(;n!==bl;){const e=r/n,t=r%n,c=i-a*e,u=o-s*e;r=n,n=t,i=a,o=s,a=c,s=u}if(r!==ml)throw new Error("invert: does not exist");return Jl(i,t)}function tf(e,t=!1){const n=function(e){const t=8*e.length-8*Ol,n=$l(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;const{n:r}=El;return n>=r?n-r:n}let nf,rf;function of(e){return bl<e&&e<El.n}function af(e){return bl<e&&e<El.P}function sf(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*Ol)throw new Error("Expected 32 bytes of private key");t=Gl(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==Ol)throw new Error("Expected 32 bytes of private key");t=$l(e)}if(!of(t))throw new Error("Expected private key: 0 < key < n");return t}function cf(e){return e instanceof jl?(e.assertValidity(),e):jl.fromHex(e)}function uf(e){if(e instanceof Ml)return e.assertValidity(),e;try{return Ml.fromDER(e)}catch(t){return Ml.fromCompact(e)}}function lf(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===Pl||r===Il:n?r===2*Pl||r===2*Il:e instanceof jl}jl.BASE._setWindowSize(8);const ff={node:gl,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},df={},hf={bytesToHex:Fl,hexToBytes:Yl,concatBytes:Hl,mod:Jl,invert:ef,isValidPrivateKey(e){try{return sf(e),!0}catch(e){return!1}},_bigintTo32Bytes:Vl,_normalizePrivateKey:sf,hashToPrivateKey:e=>{e=Zl(e);const t=Ol+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Vl(Jl($l(e),El.n-ml)+ml)},randomBytes:(e=32)=>{if(ff.web)return ff.web.getRandomValues(new Uint8Array(e));if(ff.node){const{randomBytes:t}=ff.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>hf.hashToPrivateKey(hf.randomBytes(Ol+8)),precompute(e=8,t=jl.BASE){const n=t===jl.BASE?t:new jl(t.x,t.y);return n._setWindowSize(e),n.multiply(wl),n},sha256:async(...e)=>{if(ff.web){const buffer=await ff.web.subtle.digest("SHA-256",Hl(...e));return new Uint8Array(buffer)}if(ff.node){const{createHash:t}=ff.node,n=t("sha256");return e.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(ff.web){const n=await ff.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Hl(...t),buffer=await ff.web.subtle.sign("HMAC",n,r);return new Uint8Array(buffer)}if(ff.node){const{createHmac:n}=ff.node,r=n("sha256",e);return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=df[e];if(void 0===n){const t=await hf.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=Hl(t,t),df[e]=n}return hf.sha256(n,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof nf)throw new xl("sha256Sync is undefined, you need to set it");let n=df[e];if(void 0===n){const t=nf(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=Hl(t,t),df[e]=n}return nf(n,...t)},_JacobianPoint:Cl};function pf(e,t){return e<<t|e>>>32-t}Object.defineProperties(hf,{sha256Sync:{configurable:!1,get:()=>nf,set(e){nf||(nf=e)}},hmacSha256Sync:{configurable:!1,get:()=>rf,set(e){rf||(rf=e)}}});const yf=ol.Buffer.from("expand 32-byte k");const gf=class{input;cachePos;buffer;output;constructor(e,t){this.input=new Uint32Array(16),this.input[0]=yf.readUInt32LE(0),this.input[1]=yf.readUInt32LE(4),this.input[2]=yf.readUInt32LE(8),this.input[3]=yf.readUInt32LE(12),this.input[4]=e.readUInt32LE(0),this.input[5]=e.readUInt32LE(4),this.input[6]=e.readUInt32LE(8),this.input[7]=e.readUInt32LE(12),this.input[8]=e.readUInt32LE(16),this.input[9]=e.readUInt32LE(20),this.input[10]=e.readUInt32LE(24),this.input[11]=e.readUInt32LE(28),this.input[12]=0,this.input[13]=t.readUInt32LE(0),this.input[14]=t.readUInt32LE(4),this.input[15]=t.readUInt32LE(8),this.cachePos=64,this.buffer=new Uint32Array(16),this.output=ol.Buffer.alloc(64)}quarterRound(e,t,n,r){const i=this.buffer;i[e]+=i[t],i[r]=pf(i[r]^i[e],16),i[n]+=i[r],i[t]=pf(i[t]^i[n],12),i[e]+=i[t],i[r]=pf(i[r]^i[e],8),i[n]+=i[r],i[t]=pf(i[t]^i[n],7)}makeBlock(e,t){let n=-1;for(;++n<16;)this.buffer[n]=this.input[n];for(n=-1;++n<10;)this.quarterRound(0,4,8,12),this.quarterRound(1,5,9,13),this.quarterRound(2,6,10,14),this.quarterRound(3,7,11,15),this.quarterRound(0,5,10,15),this.quarterRound(1,6,11,12),this.quarterRound(2,7,8,13),this.quarterRound(3,4,9,14);for(n=-1;++n<16;)this.buffer[n]+=this.input[n],e.writeUInt32LE(this.buffer[n],t),t+=4;if(this.input[12]++,!this.input[12])throw new Error("counter is exausted")}getBytes(e){let t=0;const n=ol.Buffer.alloc(e),r=64-this.cachePos;if(r){if(r>=e)return this.output.copy(n,0,this.cachePos,64),this.cachePos+=e,n;this.output.copy(n,0,this.cachePos,64),e-=r,t+=r,this.cachePos=64}for(;e>0;){if(e<=64)return this.makeBlock(this.output,0),this.output.copy(n,t,0,e),e<64&&(this.cachePos=e),n;this.makeBlock(n,t),e-=64,t+=64}throw new Error("something bad happended")}};const bf=class{buffer;leftover;r;h;pad;finished;constructor(e){this.buffer=ol.Buffer.alloc(16),this.leftover=0,this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.finished=0;let t,n=new Uint16Array(8);for(t=8;t--;)n[t]=e.readUInt16LE(2*t);for(this.r[0]=8191&n[0],this.r[1]=8191&(n[0]>>>13|n[1]<<3),this.r[2]=7939&(n[1]>>>10|n[2]<<6),this.r[3]=8191&(n[2]>>>7|n[3]<<9),this.r[4]=255&(n[3]>>>4|n[4]<<12),this.r[5]=n[4]>>>1&8190,this.r[6]=8191&(n[4]>>>14|n[5]<<2),this.r[7]=8065&(n[5]>>>11|n[6]<<5),this.r[8]=8191&(n[6]>>>8|n[7]<<8),this.r[9]=n[7]>>>5&127,t=8;t--;)this.h[t]=0,this.pad[t]=e.readUInt16LE(16+2*t);this.h[8]=0,this.h[9]=0,this.leftover=0,this.finished=0}blocks(e,t,n){const r=this.finished?0:2048;let i=new Uint16Array(8),o=new Uint32Array(10),a=0,s=0,c=0;for(;n>=16;){for(s=8;s--;)i[s]=e.readUInt16LE(2*s+t);for(this.h[0]+=8191&i[0],this.h[1]+=8191&(i[0]>>>13|i[1]<<3),this.h[2]+=8191&(i[1]>>>10|i[2]<<6),this.h[3]+=8191&(i[2]>>>7|i[3]<<9),this.h[4]+=8191&(i[3]>>>4|i[4]<<12),this.h[5]+=i[4]>>>1&8191,this.h[6]+=8191&(i[4]>>>14|i[5]<<2),this.h[7]+=8191&(i[5]>>>11|i[6]<<5),this.h[8]+=8191&(i[6]>>>8|i[7]<<8),this.h[9]+=i[7]>>>5|r,s=0,a=0;s<10;s++){for(o[s]=a,c=0;c<10;c++)o[s]+=(4294967295&this.h[c])*(c<=s?this.r[s-c]:5*this.r[s+10-c]),4===c&&(a=o[s]>>>13,o[s]&=8191);a+=o[s]>>>13,o[s]&=8191}for(a=(a<<2)+a,a+=o[0],o[0]=8191&a,a>>>=13,o[1]+=a,s=10;s--;)this.h[s]=o[s];t+=16,n-=16}}update(e){let t=e.length,n=0,r=0,i=0;if(this.leftover){for(n=16-this.leftover,n>t&&(n=t),r=n;r--;)this.buffer[this.leftover+r]=e[r+i];if(t-=n,i+=n,this.leftover+=n,this.leftover<16)return this;this.blocks(this.buffer,0,16),this.leftover=0}if(t>=16&&(n=-16&t,this.blocks(e,i,n),i+=n,t-=n),t){for(r=t;r--;)this.buffer[this.leftover+r]=e[r+i];this.leftover+=t}return this}finish(){let e=ol.Buffer.alloc(16),t=new Uint16Array(10),n=0,r=0,i=0,o=0;if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.finished=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,t[0]=this.h[0]+5,n=t[0]>>>13,t[0]&=8191,o=1;o<10;o++)t[o]=this.h[o]+n,n=t[o]>>>13,t[o]&=8191;for(t[9]-=8192,r=(t[9]>>>15)-1,o=10;o--;)t[o]&=r;for(r=~r,o=10;o--;)this.h[o]=this.h[o]&r|t[o];for(this.h[0]=this.h[0]|this.h[1]<<13,this.h[1]=this.h[1]>>3|this.h[2]<<10,this.h[2]=this.h[2]>>6|this.h[3]<<7,this.h[3]=this.h[3]>>9|this.h[4]<<4,this.h[4]=this.h[4]>>12|this.h[5]<<1|this.h[6]<<14,this.h[5]=this.h[6]>>2|this.h[7]<<11,this.h[6]=this.h[7]>>5|this.h[8]<<8,this.h[7]=this.h[8]>>8|this.h[9]<<5,i=(4294967295&this.h[0])+this.pad[0],this.h[0]=i,o=1;o<8;o++)i=(4294967295&this.h[o])+this.pad[o]+(i>>>16),this.h[o]=i;for(o=8;o--;)e.writeUInt16LE(this.h[o],2*o),this.pad[o]=0;for(o=10;o--;)this.h[o]=0,this.r[o]=0;return e}};class mf{alen;clen;chacha;poly;tag;_decrypt;_hasData;constructor(e,t,n=!1){this.alen=0,this.clen=0,this.chacha=new gf(e,t),this.poly=new bf(this.chacha.getBytes(64)),this.tag=null,this._decrypt=n,this._hasData=!1}setAAD(e){if(this._hasData)throw new Error("Attempting to set AAD in unsupported state");this.alen=e.length,this.poly.update(e);const t=ol.Buffer.alloc(vf(this.alen));t.length&&(t.fill(0),this.poly.update(t))}update(e,t,n){"string"==typeof e&&(e=ol.Buffer.from(e,t));let r=this._update(e)||ol.Buffer.from("");return n?r.toString(n):r}final(e){let t=this._final()||ol.Buffer.from("");return e?t.toString(e):t}_update(e){this._hasData||(this._hasData=!0);const t=e.length;if(!t)return;this.clen+=t;const n=this.chacha.getBytes(t);let r=-1;for(;++r<t;)n[r]^=e[r];return this._decrypt?this.poly.update(e):this.poly.update(n),n}_final(){if(this._decrypt&&!this.tag)throw new Error("Unsupported state or unable to authenticate data");const e=ol.Buffer.alloc(vf(this.clen));e.length&&(e.fill(0),this.poly.update(e));const t=ol.Buffer.alloc(16);t.fill(0),t.writeUInt32LE(this.alen,0),t.writeUInt32LE(this.clen,8);const n=this.poly.update(t).finish();if(this._decrypt){if(function(e,t){let n=0;e.length!==t.length&&n++;const r=Math.min(e.length,t.length);let i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(n,this.tag))throw new Error("Unsupported state or unable to authenticate data")}else this.tag=n;return n}getAuthTag(){return this._decrypt||null===this.tag?ol.Buffer.from(""):this.tag}setAuthTag(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this.tag=e}}function vf(e){const t=e%16;return t?16-t:0}function wf(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function _f(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const Ef={number:wf,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:_f,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");wf(e.outputLen),wf(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){_f(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},Sf=Ef;class kf extends dl{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Sf.hash(e);const n=fl(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Sf.exists(this),this.iHash.update(e),this}digestInto(e){Sf.exists(this),Sf.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Af=(e,t,n)=>new kf(e,t).update(n).digest();Af.create=(e,t)=>new kf(e,t);class Of extends dl{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=sl(this.buffer)}update(e){Sf.exists(this);const{view:t,buffer,blockLen:n}=this,r=(e=fl(e)).length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);if(o!==n)buffer.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=sl(e);for(;n<=r-i;i+=n)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sf.exists(this),Sf.output(e,this),this.finished=!0;const{buffer,view:t,blockLen:n,isLE:r}=this;let{pos:i}=this;buffer[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(t,0),i=0);for(let e=i;e<n;e++)buffer[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,s,r)}(t,n-8,BigInt(8*this.length),r),this.process(t,0);const o=sl(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const s=a/4,c=this.get();if(s>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<s;e++)o.setUint32(4*e,c[e],r)}digest(){const{buffer,outputLen:e}=this;this.digestInto(buffer);const t=buffer.slice(0,e);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer,length:n,finished:r,destroyed:i,pos:o}=this;return e.length=n,e.pos=o,e.finished=r,e.destroyed=i,n%t&&e.buffer.set(buffer),e}}const Pf=(e,t,n)=>e&t^~e&n,If=(e,t,n)=>e&t^e&n^t&n,Tf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xf=new Uint32Array(64);class Rf extends Of{constructor(){super(64,32,8,!1),this.A=0|Nf[0],this.B=0|Nf[1],this.C=0|Nf[2],this.D=0|Nf[3],this.E=0|Nf[4],this.F=0|Nf[5],this.G=0|Nf[6],this.H=0|Nf[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)xf[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=xf[e-15],n=xf[e-2],r=cl(t,7)^cl(t,18)^t>>>3,i=cl(n,17)^cl(n,19)^n>>>10;xf[e]=i+xf[e-7]+r+xf[e-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(cl(a,6)^cl(a,11)^cl(a,25))+Pf(a,s,c)+Tf[e]+xf[e]|0,l=(cl(n,2)^cl(n,13)^cl(n,22))+If(n,r,i)|0;u=c,c=s,s=a,a=o+t|0,o=i,i=r,r=n,n=t+l|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,i,o,a,s,c,u)}roundClean(){xf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Cf extends Rf{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Bf=hl((()=>new Rf));hl((()=>new Cf));function Lf(e){return ol.Buffer.from(Bf(e))}function jf(e,t){const n=jl.fromHex(function(e,t,n=!1){if(lf(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!lf(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=cf(t);return r.assertValidity(),r.multiply(sf(e)).toRawBytes(n)}(t,e));return ol.Buffer.from(Lf(n.toRawBytes(!0)))}function Df(e,t){return ol.Buffer.from(Af(Bf,e,t))}function Uf(e,t,n=ol.Buffer.alloc(0),r=ol.Buffer.alloc(0)){const i=Df(n,e),o=Math.ceil(t/i.byteLength);if(o>255)throw new Error("Output length exceeds maximum");const a=[ol.Buffer.alloc(0)];for(let e=1;e<=o;e++){const t=a[a.length-1],n=ol.Buffer.from([e]);a.push(Df(i,ol.Buffer.concat([t,r,n])))}return ol.Buffer.concat(a.slice(1)).subarray(0,t)}function Mf(e,t=!0){return ol.Buffer.from(function(e,t=!1){return jl.fromPrivateKey(e).toRawBytes(t)}(e,t))}function Hf(e,t,n,r){const i=new mf(e,t);i.setAAD(n);const o=i.update(r);i.final&&i.final();const a=i.getAuthTag();return ol.Buffer.concat([o,a])}function zf(e,t,n,r){const i=new mf(e,t,!0);if(i.setAAD(n),16===r.length)return i.setAuthTag(r),i.final();if(r.length>16){const e=r.subarray(r.length-16),t=r.subarray(0,r.length-16);i.setAuthTag(e);let n=i.update(t);const o=i.final();return n=ol.Buffer.concat([n,o]),n}}function Ff(){let e;do{e=pl(32)}while(!Kf(ol.Buffer.from(e)));return ll(e)}function Kf(e){return hf.isValidPrivateKey(e)}class qf{protocolName=ol.Buffer.from("Noise_XK_secp256k1_ChaChaPoly_SHA256");prologue=ol.Buffer.from("lightning");ls;lpk;es;epk;rpk;repk;h;ck;rk;sk;sn;rn;sck;rck;tempK1;tempK2;tempK3;constructor({ls:e,es:t}){this.ls=e,this.lpk=Mf(e),this.es=t,this.epk=Mf(t)}initiatorAct1(e){this.rpk=e,this._initialize(this.rpk),this.h=Lf(ol.Buffer.concat([this.h,this.epk]));const t=Uf(jf(this.rpk,this.es),64,this.ck);this.ck=t.subarray(0,32),this.tempK1=ol.Buffer.from(t.subarray(32));const n=Hf(this.tempK1,ol.Buffer.alloc(12),this.h,ol.Buffer.alloc(0));this.h=Lf(ol.Buffer.concat([this.h,n]));return ol.Buffer.concat([ol.Buffer.alloc(1),this.epk,n])}initiatorAct2(e){if(50!==e.length)throw new Error("ACT2_READ_FAILED");const t=e.subarray(0,1)[0],n=e.subarray(1,34),r=e.subarray(34);if(this.repk=n,0!==t)throw new Error("ACT2_BAD_VERSION");this.h=Lf(ol.Buffer.concat([this.h,this.repk]));const i=Uf(jf(this.repk,this.es),64,this.ck);this.ck=i.subarray(0,32),this.tempK2=i.subarray(32),zf(this.tempK2,ol.Buffer.alloc(12),this.h,r),this.h=Lf(ol.Buffer.concat([this.h,r]))}initiatorAct3(){const e=Hf(this.tempK2,ol.Buffer.from([0,0,0,0,1,0,0,0,0,0,0,0]),this.h,this.lpk);this.h=Lf(ol.Buffer.concat([this.h,e]));const t=Uf(jf(this.repk,this.ls),64,this.ck);this.ck=t.subarray(0,32),this.tempK3=ol.Buffer.from(t.subarray(32)),this.rck=this.sck=this.ck;const n=Hf(this.tempK3,ol.Buffer.alloc(12),this.h,ol.Buffer.alloc(0)),r=Uf(ol.Buffer.alloc(0),64,this.ck);this.rk=r.subarray(32),this.sk=r.subarray(0,32),this.sn=ol.Buffer.alloc(12),this.rn=ol.Buffer.alloc(12);return ol.Buffer.concat([ol.Buffer.alloc(1),e,n])}receiveAct1(e){if(this._initialize(this.lpk),50!==e.length)throw new Error("ACT1_READ_FAILED");const t=e.subarray(0,1)[0],n=e.subarray(1,34),r=e.subarray(34);if(this.repk=n,0!==t)throw new Error("ACT1_BAD_VERSION");this.h=Lf(ol.Buffer.concat([this.h,n]));const i=Uf(jf(n,this.ls),64,this.ck);this.ck=i.subarray(0,32),this.tempK1=i.subarray(32),zf(this.tempK1,ol.Buffer.alloc(12),this.h,r),this.h=Lf(ol.Buffer.concat([this.h,r]))}recieveAct2(){this.h=Lf(ol.Buffer.concat([this.h,this.epk]));const e=Uf(jf(this.repk,this.es),64,this.ck);this.ck=e.subarray(0,32),this.tempK2=ol.Buffer.from(e.subarray(32));const t=Hf(this.tempK2,ol.Buffer.alloc(12),this.h,ol.Buffer.alloc(0));this.h=Lf(ol.Buffer.concat([this.h,t]));return ol.Buffer.concat([ol.Buffer.alloc(1),this.epk,t])}receiveAct3(e){if(66!==e.length)throw new Error("ACT3_READ_FAILED");const t=e.subarray(0,1)[0],n=e.subarray(1,50),r=e.subarray(50);if(0!==t)throw new Error("ACT3_BAD_VERSION");const i=zf(this.tempK2,ol.Buffer.from("000000000100000000000000","hex"),this.h,n);this.rpk=i,this.h=Lf(ol.Buffer.concat([this.h,n]));const o=Uf(jf(this.rpk,this.es),64,this.ck);this.ck=o.subarray(0,32),this.tempK3=o.subarray(32),zf(this.tempK3,ol.Buffer.alloc(12),this.h,r);const a=Uf(ol.Buffer.alloc(0),64,this.ck);this.rk=a.subarray(0,32),this.sk=a.subarray(32),this.rn=ol.Buffer.alloc(12),this.sn=ol.Buffer.alloc(12)}encryptMessage(e){const t=ol.Buffer.alloc(2);t.writeUInt16BE(e.length,0);const n=Hf(this.sk,this.sn,ol.Buffer.alloc(0),t);this._incrementSendingNonce()>=1e3&&this._rotateSendingKeys();const r=Hf(this.sk,this.sn,ol.Buffer.alloc(0),e);return this._incrementSendingNonce()>=1e3&&this._rotateSendingKeys(),ol.Buffer.concat([n,r])}decryptLength(e){const t=zf(this.rk,this.rn,ol.Buffer.alloc(0),e);return this._incrementRecievingNonce()>=1e3&&this._rotateRecievingKeys(),t.readUInt16BE(0)}decryptMessage(e){const t=zf(this.rk,this.rn,ol.Buffer.alloc(0),e);return this._incrementRecievingNonce()>=1e3&&this._rotateRecievingKeys(),t}_initialize(e){this.h=Lf(ol.Buffer.from(this.protocolName)),this.ck=this.h,this.h=Lf(ol.Buffer.concat([this.h,this.prologue])),this.h=Lf(ol.Buffer.concat([this.h,e]))}_incrementSendingNonce(){const e=this.sn.readUInt16LE(4)+1;return this.sn.writeUInt16LE(e,4),e}_incrementRecievingNonce(){const e=this.rn.readUInt16LE(4)+1;return this.rn.writeUInt16LE(e,4),e}_rotateSendingKeys(){const e=Uf(this.sk,64,this.sck);this.sk=e.subarray(32),this.sck=e.subarray(0,32),this.sn=ol.Buffer.alloc(12)}_rotateRecievingKeys(){const e=Uf(this.rk,64,this.rck);this.rk=e.subarray(32),this.rck=e.subarray(0,32),this.rn=ol.Buffer.alloc(12)}}function Vf(e){const{remoteNodePublicKey:t,wsProxy:n,privateKey:r,ip:i,port:o,logger:a}=e;if(!t||!function(e){try{return jl.fromHex(e),!0}catch(e){return!1}}(t))throw new Error(`${t} is not a valid public key`);if(!i||!i.match(/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)(\.(?!$)|$)){4}$/)&&!i.match(/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/)&&"localhost"!==i)throw new Error(`${i} is not a valid IP or DNS address`);if(!o||o<1||o>65535)throw new Error(`${o} is not a valid port number`);if(n){const e=`${n} is not a valid url`;try{const t=new URL(n);if("wss:"!==t.protocol&&"ws:"!==t.protocol)throw new Error(e)}catch(t){throw new Error(e)}}if(r&&!Kf(r))throw new Error(`${r} is not a valid private key`);if(a){if("object"!=typeof a)throw new Error("Logger must be of type object");const e=["info","warn","error"];Object.entries(a).forEach((([t,n])=>{if(!e.includes(t))throw new Error(`Invalid logger level: ${t}`);if("function"!=typeof n)throw new Error(`Logger for level: ${t} is not a function`)}))}}class Wf{static bigSizeBytes(e){return e<BigInt(253)?1:e<BigInt(65536)?3:e<BigInt(4294967296)?5:9}_buffer;_position;_lastReadBytes;constructor(buffer){this._buffer=buffer,this._position=0,this._lastReadBytes=0}get position(){return this._position}set position(e){this._position=e}get eof(){return this._position===this._buffer.length}get buffer(){return this._buffer}get lastReadBytes(){return this._lastReadBytes}readUInt8(){return this._readStandard(this.readUInt8.name,1)}readUInt16LE(){return this._readStandard(this.readUInt16LE.name,2)}readUInt16BE(){return this._readStandard(this.readUInt16BE.name,2)}readUInt32LE(){return this._readStandard(this.readUInt32LE.name,4)}readUInt32BE(){return this._readStandard(this.readUInt32BE.name,4)}readUInt64BE(){return BigInt("0x"+this.readBytes(8).toString("hex"))}readUInt64LE(){return BigInt("0x"+this.readBytes(8).reverse().toString("hex"))}readVarUint(){const e=this.readUInt8();if(e<253)return this._lastReadBytes=1,BigInt(e);switch(e){case 253:return this._lastReadBytes=3,BigInt(this.readUInt16LE());case 254:return this._lastReadBytes=5,BigInt(this.readUInt32LE());case 255:return this._lastReadBytes=9,this.readUInt64LE()}}readBigSize(){const e=this.readUInt8();if(e<253)return this._lastReadBytes=1,BigInt(e);switch(e){case 253:{this._lastReadBytes=3;const e=this.readUInt16BE();if(e<253)throw new Error("decoded varint is not canonical");return BigInt(e)}case 254:{this._lastReadBytes=5;const e=this.readUInt32BE();if(e<65536)throw new Error("decoded varint is not canonical");return BigInt(e)}case 255:{this._lastReadBytes=9;const e=this.readUInt64BE();if(e<BigInt(4294967296))throw new Error("decoded varint is not canonical");return e}default:throw new Error(`Unrecognised size: ${e} when trying to read BigSize`)}}readBytes(e){if(0===e)return this._lastReadBytes=0,ol.Buffer.alloc(0);if("number"==typeof e&&e>0){if(this._position+e>this._buffer.length)throw new RangeError("Index out of range");const t=this._buffer.subarray(this._position,this._position+e),n=ol.Buffer.alloc(t.length,t);return this._position+=e,this._lastReadBytes=e,n}{if(this._position===this._buffer.length)return this._lastReadBytes=0,ol.Buffer.alloc(0);const e=this._buffer.subarray(this._position),t=ol.Buffer.alloc(e.length,e);return this._position=this._buffer.length,this._lastReadBytes=t.length,t}}peakBytes(e){if(0===e)return ol.Buffer.alloc(0);if("number"==typeof e&&e>0){if(this._position+e>this._buffer.length)throw new RangeError("Index out of range");const t=this._buffer.subarray(this._position,this._position+e);return ol.Buffer.alloc(t.length,t)}{if(this._position===this._buffer.length)throw new RangeError("Index out of range");const e=this._buffer.subarray(this._position);return ol.Buffer.alloc(e.length,e)}}readTUInt16(){const e=Math.min(2,this._buffer.length-this._position);if(0===e)return 0;const t=this._buffer.readUIntBE(this._position,e);return this._assertMinimalTUInt(BigInt(t),e),this._position+=e,t}readTUInt32(){const e=Math.min(4,this._buffer.length-this._position);if(0===e)return 0;const t=this._buffer.readUIntBE(this._position,e);return this._assertMinimalTUInt(BigInt(t),e),this._position+=e,t}readTUInt64(){const e=Math.min(8,this._buffer.length-this._position);if(0===e)return BigInt(0);const t=this._buffer.subarray(this._position,this._position+e).toString("hex")||"0",n=BigInt("0x"+t);return this._assertMinimalTUInt(n,e),this._position+=e,n}_readStandard(e,t){if(this._position+t>this._buffer.length)throw new RangeError("Index out of range");const n=this._buffer[e](this._position);return this._position+=t,this._lastReadBytes=t,n}_assertMinimalTUInt(e,t){for(let n=0;n<9;n++)if(e<BigInt("0x1"+"".padStart(2*n,"0"))&&t!==n)throw new Error("TUInt not minimal")}}class Gf{_position;_fixed;_buffer;constructor(buffer){this._position=0,this._fixed=!!buffer,this._buffer=buffer||ol.Buffer.alloc(0)}get size(){return this._position}toBuffer(){return this._fixed?this._buffer:this._buffer.subarray(0,this._position)}writeUInt8(e){this._writeStandard(this.writeUInt8.name,e,1)}writeUInt16LE(e){this._writeStandard(this.writeUInt16LE.name,e,2)}writeUInt16BE(e){this._writeStandard(this.writeUInt16BE.name,e,2)}writeUInt32LE(e){this._writeStandard(this.writeUInt32LE.name,e,4)}writeUInt32BE(e){this._writeStandard(this.writeUInt32BE.name,e,4)}writeUInt64LE(e){const t=BigInt(e);if(t<0||t>=BigInt(2)**BigInt(64))throw new RangeError(`The value of "value" is out of range. It must be >= 0 and <= 18446744073709551615. Received ${e.toString()}`);const n=ol.Buffer.from(t.toString(16).padStart(16,"0"),"hex");this.writeBytes(n.reverse())}writeUInt64BE(e){const t=BigInt(e);if(t<0||t>=BigInt(2)**BigInt(64))throw new RangeError(`The value of "value" is out of range. It must be >= 0 and <= 18446744073709551615. Received ${e.toString()}`);const n=ol.Buffer.from(t.toString(16).padStart(16,"0"),"hex");this.writeBytes(n)}writeBytes(buffer){buffer&&buffer.length&&(this._expand(buffer.length),buffer.copy(this._buffer,this._position),this._position+=buffer.length)}writeVarInt(e){const t=BigInt(e);t<BigInt(253)?this.writeUInt8(Number(t)):t<BigInt(65536)?(this.writeUInt8(253),this.writeUInt16LE(Number(t))):t<BigInt(4294967296)?(this.writeUInt8(254),this.writeUInt32LE(Number(t))):(this.writeUInt8(255),this.writeUInt64LE(t))}writeBigSize(e){const t=BigInt(e);t<BigInt(253)?this.writeUInt8(Number(t)):t<BigInt(65536)?(this.writeUInt8(253),this.writeUInt16BE(Number(t))):t<BigInt(4294967296)?(this.writeUInt8(254),this.writeUInt32BE(Number(t))):(this.writeUInt8(255),this.writeUInt64BE(t))}writeTUInt16(e){if(0===e)return;const t=e>255?2:1;this._expand(t),this._buffer.writeUIntBE(e,this._position,t),this._position+=t}writeTUInt32(e){if(0===e)return;const t=e>16777215?4:e>65535?3:e>255?2:1;this._expand(t),this._buffer.writeUIntBE(e,this._position,t),this._position+=t}writeTUInt64(e){if(e===BigInt(0))return;let t=e.toString(16);t.length%2==1&&(t="0"+t);const n=ol.Buffer.from(t,"hex");this.writeBytes(n)}_expand(e){const t=this._position+e;if(this._fixed&&t>this._buffer.length)throw new RangeError("Out of range");if(this._buffer.length<t){const e=1<<Math.ceil(Math.log2(t)),n=ol.Buffer.alloc(e);this._buffer.copy(n),this._buffer=n}}_writeStandard(e,t,n){this._expand(n),this._buffer[e](t,this._position),this._position+=n}}function Yf(e){const t=function(e){let t=0;for(;e>BigInt(0);)t+=1,e/=BigInt(256);return t}(e);return ol.Buffer.from(e.toString(16).padStart(2*t,"0"),"hex")}class $f{static fromNumber(e){return new $f(BigInt(e))}static fromBuffer(e){return 0===e.length?new $f:new $f(BigInt("0x"+e.toString("hex")))}value;constructor(e){this.value=e||BigInt(0)}isSet(e){return(this.value&BigInt(1)<<BigInt(e))>BigInt(0)}set(e){this.value|=BigInt(1)<<BigInt(e)}unset(e){this.value&=~(this.value&BigInt(1)<<BigInt(e))}toggle(e){this.value^=BigInt(1)<<BigInt(e)}flags(){const e=[];let t=0,n=1n;for(;n<this.value;)this.value&n&&e.push(t),t+=1,n<<=1n;return e}msb(){let e=this.value,t=0;for(;e>1;)e>>=1n,t+=1;return t}and(e){return new $f(this.value&e.value)}or(e){return new $f(this.value|e.value)}xor(e){return new $f(this.value^e.value)}toBigInt(){return this.value}toNumber(){return Number(this.value)}toBuffer(){return this.value===BigInt(0)?ol.Buffer.alloc(0):Yf(this.value)}}var Zf,Xf,Jf;!function(e){e[e.Init=16]="Init",e[e.Error=17]="Error",e[e.Ping=18]="Ping",e[e.Pong=19]="Pong",e[e.OpenChannel=32]="OpenChannel",e[e.AcceptChannel=33]="AcceptChannel",e[e.FundingCreated=34]="FundingCreated",e[e.FundingSigned=35]="FundingSigned",e[e.FundingLocked=36]="FundingLocked",e[e.Shutdown=38]="Shutdown",e[e.ClosingSigned=39]="ClosingSigned",e[e.ChannelAnnouncement=256]="ChannelAnnouncement",e[e.NodeAnnouncement=257]="NodeAnnouncement",e[e.ChannelUpdate=258]="ChannelUpdate",e[e.AnnouncementSignatures=259]="AnnouncementSignatures",e[e.QueryShortChannelIds=261]="QueryShortChannelIds",e[e.ReplyShortChannelIdsEnd=262]="ReplyShortChannelIdsEnd",e[e.QueryChannelRange=263]="QueryChannelRange",e[e.ReplyChannelRange=264]="ReplyChannelRange",e[e.GossipTimestampFilter=265]="GossipTimestampFilter",e[e.CommandoRequest=19535]="CommandoRequest",e[e.CommandoResponseContinues=22859]="CommandoResponseContinues",e[e.CommandoResponse=22861]="CommandoResponse"}(Zf||(Zf={})),function(e){e[e.INITIATOR_INITIATING=0]="INITIATOR_INITIATING",e[e.AWAITING_INITIATOR=1]="AWAITING_INITIATOR",e[e.AWAITING_RESPONDER_REPLY=2]="AWAITING_RESPONDER_REPLY",e[e.AWAITING_INITIATOR_REPLY=3]="AWAITING_INITIATOR_REPLY",e[e.READY=100]="READY"}(Xf||(Xf={})),function(e){e[e.READY_FOR_LEN=2]="READY_FOR_LEN",e[e.READY_FOR_BODY=3]="READY_FOR_BODY",e[e.BLOCKED=4]="BLOCKED"}(Jf||(Jf={}));class Qf{static deserialize(buffer){const e=new Qf,t=new Wf(buffer);t.readUInt16BE();const n=t.readUInt16BE(),r=$f.fromBuffer(t.readBytes(n)),i=t.readUInt16BE(),o=$f.fromBuffer(t.readBytes(i));return e.features=(new $f).or(r).or(o),function(e,t){let n=BigInt(-1);for(;!e.eof;)try{const r=e.readBigSize(),i=e.readBigSize(),o=e.readBytes(Number(i)),a=new Wf(o);if(r<=n)throw new Error("Invalid TLV stream");const s=r%BigInt(2)===BigInt(0),c=t(r,a);if(!c&&s)throw new Error("Unknown even type");if(c&&!a.eof)throw new Error("Non-canonical length");n=r}catch(e){}}(t,((t,n)=>{if(t===BigInt(1)){for(;!n.eof;){const t=n.readBytes(32);e.chainHashes.push(t)}return!0}return!1})),e}type=Zf.Init;features=new $f;chainHashes=[];serialize(){const e=new Gf;e.writeUInt16BE(this.type);e.writeUInt16BE(0);const t=ol.Buffer.from([0,0,0,0,0,0,0,0]),n=t.length;return e.writeUInt16BE(n),e.writeBytes(t),this.chainHashes.length&&(e.writeBigSize(1),e.writeBigSize(32*this.chainHashes.length),e.writeBytes(ol.Buffer.concat(this.chainHashes))),e.toBuffer()}}class ed{static deserialize(e){const t=new Wf(e);t.readUInt16BE();const n=new ed;n.numPongBytes=t.readUInt16BE();const r=t.readUInt16BE();return n.ignored=t.readBytes(r),n}type=Zf.Ping;numPongBytes=1;ignored=ol.Buffer.alloc(0);serialize(){const e=6+this.ignored.length,t=new Gf(ol.Buffer.alloc(e));return t.writeUInt16BE(this.type),t.writeUInt16BE(this.numPongBytes),t.writeUInt16BE(this.ignored.length),t.writeBytes(this.ignored),t.toBuffer()}get triggersReply(){return this.numPongBytes<65532}}class td{static deserialize(e){const t=new td,n=new Wf(e);n.readUInt16BE();const r=n.readUInt16BE();return t.ignored=n.readBytes(r),t}type=Zf.Pong;ignored;constructor(e=0){this.ignored=ol.Buffer.alloc(e)}serialize(){const e=+this.ignored.length+4,t=new Gf(ol.Buffer.alloc(e));return t.writeUInt16BE(this.type),t.writeUInt16BE(this.ignored.length),t.writeBytes(this.ignored),t.toBuffer()}}class nd{static deserialize(buffer){const e=new nd,t=new Wf(buffer);t.readUInt16BE(),e.id=t.readBytes(8).toString("hex");const n=t.readBytes(buffer.byteLength-26).toString();try{e.response=JSON.parse(n)}catch(t){e.response={jsonrpc:"2.0",id:null,error:{code:1,message:"Could not parse json response"}}}return e}type=Zf.CommandoResponse;id;response}const rd=class{noise;remoteNodePublicKey;publicKey;privateKey;wsUrl;socket;tcpSocket;connected$;connectionStatus$;connecting;decryptedMsgs$;commandoMsgs$;Buffer;_ls;_es;_handshakeState;_readState;_decryptedMsgs$;_commandoMsgs$;_partialCommandoMsgs;_attemptedReconnects;_logger;_attemptReconnect;_messageBuffer;_processingBuffer;_l;constructor(e){Vf(e);const{remoteNodePublicKey:t,wsProxy:n,wsProtocol:r="wss:",privateKey:i,ip:o,port:a=9735,logger:s,tcpSocket:c}=e;this._ls=ol.Buffer.from(i||Ff(),"hex"),this._es=ol.Buffer.from(Ff(),"hex"),this.noise=new qf({ls:this._ls,es:this._es}),this.remoteNodePublicKey=t,this.publicKey=this.noise.lpk.toString("hex"),this.privateKey=this._ls.toString("hex"),this.wsUrl=n?`${n}/${o}:${a}`:`${r}//${o}:${a}`,this.connectionStatus$=new Xu("disconnected"),this.connected$=new Xu(!1),this.connecting=!1,this.Buffer=ol.Buffer,this.tcpSocket=c,this._handshakeState=Xf.INITIATOR_INITIATING,this._decryptedMsgs$=new $u,this.decryptedMsgs$=this._decryptedMsgs$.asObservable(),this._commandoMsgs$=new $u,this.commandoMsgs$=this._commandoMsgs$.asObservable().pipe(rl((({response:e,id:t})=>({...e,reqId:t})))),this._partialCommandoMsgs={},this._attemptedReconnects=0,this._logger=s,this._readState=Jf.READY_FOR_LEN,this._processingBuffer=!1,this._l=null,this.decryptedMsgs$.subscribe((e=>{this.handleDecryptedMessage(e)}))}async connect(e=!0){const t=this.connectionStatus$.value;return"connected"===t||("connecting"===t||(this._log("info",`Initiating connection to node ${this.remoteNodePublicKey}`),this._messageBuffer=new Wf(ol.Buffer.from("")),this.connecting=!0,this.connectionStatus$.next("connecting"),this._attemptReconnect=e,this.socket=this.tcpSocket?new((await a.e(853).then(a.bind(a,9853))).default)(this.wsUrl,this.tcpSocket):void 0===globalThis.WebSocket?new((await a.e(26).then(a.t.bind(a,57026,19))).default)(this.wsUrl):new globalThis.WebSocket(this.wsUrl),this.socket.binaryType&&(this.socket.binaryType="arraybuffer"),this.socket.onopen=async()=>{this._log("info","WebSocket is connected at "+(new Date).toISOString()),this._log("info","Creating Act1 message");const e=this.noise.initiatorAct1(ol.Buffer.from(this.remoteNodePublicKey,"hex"));this.socket&&(this._log("info","Sending Act1 message"),this.socket.send(e),this._handshakeState=Xf.AWAITING_RESPONDER_REPLY)},this.socket.onclose=async()=>{this._log("error","WebSocket is closed at "+(new Date).toISOString()),this.connectionStatus$.next("disconnected"),this.connected$.next(!1),this._attemptReconnect&&this._attemptedReconnects<5&&(this._log("info","Waiting to reconnect"),this._log("info",`Attempted reconnects: ${this._attemptedReconnects}`),this.connectionStatus$.next("waiting_reconnect"),this.connecting=!0,await new Promise((e=>setTimeout(e,1e3*(this._attemptedReconnects||1)))),this.connect(),this._attemptedReconnects+=1)},this.socket.onerror=e=>{this._log("error",`WebSocket error: ${JSON.stringify(e)}`)},this.socket.onmessage=this.queueMessage.bind(this)),Qu(this.connectionStatus$.pipe(il((e=>"connected"===e||"disconnected"===e)),rl((e=>"connected"===e)))))}queueMessage(e){const{data:t}=e,n=ol.Buffer.from(t),r=this._messageBuffer&&!this._messageBuffer.eof&&this._messageBuffer.readBytes();this._messageBuffer=new Wf(r?ol.Buffer.concat([r,n]):n),this._processingBuffer||(this._processingBuffer=!0,this._processBuffer())}disconnect(){this._log("info","Manually disconnecting from WebSocket"),this.noise=new qf({ls:this._ls,es:this._es}),this._attemptReconnect=!1,this.socket&&this.socket.close()}async _processBuffer(){try{let e=!0;do{if(this._handshakeState!==Xf.READY)switch(this._handshakeState){case Xf.INITIATOR_INITIATING:throw new Error("Received data before intialised");case Xf.AWAITING_RESPONDER_REPLY:e=this._processResponderReply()}else switch(this._readState){case Jf.READY_FOR_LEN:e=this._processPacketLength();break;case Jf.READY_FOR_BODY:e=this._processPacketBody();break;case Jf.BLOCKED:e=!1;break;default:throw new Error("Unknown read state")}}while(e)}catch(e){this._log("error",`Noise state has rotated nonce: ${e}`),this.disconnect()}this._processingBuffer=!1}_processResponderReply(){const e=this._messageBuffer.readBytes(50);if(50!==e.byteLength)throw new Error("Invalid message received from remote node");this._log("info","Validating message as part of Act2"),this.noise.initiatorAct2(e),this._log("info","Creating reply for Act3");const t=this.noise.initiatorAct3();return this.socket&&(this._log("info","Sending reply for act3"),this.socket.send(t),this._handshakeState=Xf.READY),!0}_processPacketLength(){try{const e=this._messageBuffer.readBytes(18);if(!e)return!1;const t=this.noise.decryptLength(e);return this._l=t,this._readState=Jf.READY_FOR_BODY,!0}catch(e){return!1}}_processPacketBody(){if(!this._l)return!1;try{const e=this._messageBuffer.readBytes(this._l+16);if(!e)return!1;const t=this.noise.decryptMessage(e);return this._l=null,this._decryptedMsgs$.next(t),this._readState=Jf.READY_FOR_LEN,!0}catch(e){return!1}}async handleDecryptedMessage(e){try{const t=new Wf(e),n=t.readUInt16BE(),[r]=Object.entries(Zf).find((([e,t])=>t===n))||[],i=t.readBytes(8).toString("hex"),o=t.readBytes();if(this._log("info",`Received message type is: ${r||"unknown"}`),n===Zf.CommandoResponseContinues)return this._log("info","Received a partial commando message, caching it to join with other parts"),void(this._partialCommandoMsgs[i]=this._partialCommandoMsgs[i]?ol.Buffer.concat([this._partialCommandoMsgs[i],o.subarray(0,o.byteLength-16)]):e.subarray(0,e.length-16));n===Zf.CommandoResponse&&this._partialCommandoMsgs[i]&&(this._log("info","Received a final commando msg and we have a partial message to join it to. Joining now"),e=ol.Buffer.concat([this._partialCommandoMsgs[i],o]),delete this._partialCommandoMsgs[i]),this._log("info","Deserialising payload");const a=function(buffer){const e=buffer.readUInt16BE(0);switch(e){case Zf.Init:return Qf.deserialize(buffer);case Zf.Ping:return ed.deserialize(buffer);case Zf.Pong:return td.deserialize(buffer);case Zf.CommandoResponse:case Zf.CommandoResponseContinues:return nd.deserialize(buffer)}return{type:e}}(e);switch(a.type){case Zf.Init:{this._log("info","Constructing Init message reply");const e=this.noise.encryptMessage(a.serialize());this.socket&&(this._log("info","Sending Init message reply"),this.socket.send(e),this._log("info","Connected and ready to send messages!"),this.connectionStatus$.next("connected"),this.connected$.next(!0),this.connecting=!1,this._attemptedReconnects=0);break}case Zf.Ping:{this._log("info","Received a Ping message"),this._log("info","Creating a Pong message");const e=new td(a.numPongBytes).serialize(),t=this.noise.encryptMessage(e);this.socket&&(this._log("info","Sending a Pong message"),this.socket.send(t));break}case Zf.CommandoResponse:this._commandoMsgs$.next(a)}}catch(e){this._log("error",`Error handling incoming message: ${e.message}`)}}async commando({method:e,params:t=[],rune:n,reqId:r}){if(this._log("info",`Commando request method: ${e} params: ${JSON.stringify(t)}`),"disconnected"===this.connectionStatus$.value){this._log("info","No socket connection, so creating one now");if(!await this.connect())throw{code:2,message:"Could not establish a connection to node"}}else this._log("info","Ensuring we have a connection before making request"),await Qu(this.connectionStatus$.pipe(il((e=>"connected"===e))));const i=new Gf;if(!r){const e=pl(8);r=ll(e)}i.writeUInt16BE(Zf.CommandoRequest),i.writeBytes(ol.Buffer.from(r,"hex"));const o=`lnmessage:${e}#${r}`;i.writeBytes(ol.Buffer.from(JSON.stringify({id:o,rune:n,method:e,params:t}))),this._log("info","Creating message to send");const a=this.noise.encryptMessage(i.toBuffer());if(this.socket){this._log("info","Sending commando message"),this.socket.send(a),this._log("info",`Message sent with id ${o} and awaiting response`);const{response:e}=await Qu(this._commandoMsgs$.pipe(il((e=>e.id===r)))),{result:t}=e,{error:n}=e;if(this._log("info",t?`Successful response received for ID: ${e.id}`:`Error response received: ${n.message}`),n)throw n;return t}throw new Error("No socket initialised and connected")}_log(e,t){this._logger&&this._logger[e]&&this._logger[e](`[${e.toUpperCase()} - ${(new Date).toISOString()}]: ${t}`)}},id={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let od;const ad=new Uint8Array(16);function sd(){if(!od&&(od="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!od))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return od(ad)}const cd=[];for(let e=0;e<256;++e)cd.push((e+256).toString(16).slice(1));function ud(e,t=0){return(cd[e[t+0]]+cd[e[t+1]]+cd[e[t+2]]+cd[e[t+3]]+"-"+cd[e[t+4]]+cd[e[t+5]]+"-"+cd[e[t+6]]+cd[e[t+7]]+"-"+cd[e[t+8]]+cd[e[t+9]]+"-"+cd[e[t+10]]+cd[e[t+11]]+cd[e[t+12]]+cd[e[t+13]]+cd[e[t+14]]+cd[e[t+15]]).toLowerCase()}const ld=function(e,t,n){if(id.randomUUID&&!t&&!e)return id.randomUUID();const r=(e=e||{}).random||(e.rng||sd)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return ud(r)};var fd=a(27715),dd=a(48764).Buffer;function hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pd(e){return function(e){if(Array.isArray(e))return hd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8",n=fd.bech32.decode(e,2e3).words,r=fd.bech32.fromWords(n);return dd.from(r).toString(t)}function gd(e){return e.origin?new URL(e.origin).host:e.url?new URL(e.url).host:null}function bd(e,t){var n=pd(e).concat(pd(t)).sort((function(e,t){return t.settleDate-e.settleDate}));return n}function md(e){return e.map((function(e){return"request.".concat(e)}))}function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wd(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function _d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){wd(o,r,i,a,s,"next",e)}function s(e){wd(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ed(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kd(e){return function(e){if(Array.isArray(e))return vd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ad(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Od=["bkpr-listbalances","checkmessage","connect","decode","decodepay","disconnect","feerates","fundchannel","getinfo","getroute","invoice","keysend","listforwards","listfunds","listinvoices","listnodes","listoffers","listpays","listpeers","listsendpays","listtransactions","multifundchannel","offer","pay","sendpay","setchannel","signmessage"],Pd=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sd(this,"account",void 0),Sd(this,"config",void 0),Sd(this,"ln",void 0),this.account=t,this.config=n,this.ln=new rd({remoteNodePublicKey:this.config.pubkey,wsProxy:this.config.wsProxy,ip:this.config.host,port:this.config.port||9735,privateKey:this.config.privateKey})}var t,n,r;return t=e,n=[{key:"init",value:function(){var e=this;return _d((function(){return Ad(this,(function(t){switch(t.label){case 0:return[4,e.ln.connect()];case 1:return t.sent(),[2]}}))}))()}},{key:"unload",value:function(){var e=this;return _d((function(){return Ad(this,(function(t){switch(t.label){case 0:return[4,e.ln.disconnect()];case 1:return t.sent(),[2]}}))}))()}},{key:"supportedMethods",get:function(){return["getInfo","keysend","makeInvoice","sendPayment","sendPaymentAsync","signMessage","getBalance"].concat(kd(md(Od)))}},{key:"requestMethod",value:function(e,t){var n=this;return _d((function(){return Ad(this,(function(r){switch(r.label){case 0:if(!n.supportedMethods.includes(e))throw new Error("".concat(e," is not supported"));return[4,n.ln.commando({method:e,params:t,rune:n.config.rune})];case 1:return[2,{data:r.sent()}]}}))}))()}},{key:"connectPeer",value:function(e){var t=this;return _d((function(){return Ad(this,(function(n){return[2,t.ln.commando({method:"connect",params:{id:e.pubkey,host:e.host},rune:t.config.rune}).then((function(e){return{data:!0}}))]}))}))()}},{key:"getInvoices",value:function(){var e=this;return _d((function(){return Ad(this,(function(t){return[2,e.ln.commando({method:"listinvoices",params:{},rune:e.config.rune}).then((function(e){return e.invoices.map((function(e,t){return{id:e.label,memo:e.description,settled:"paid"===e.status,preimage:e.payment_preimage,payment_hash:e.payment_hash,settleDate:1e3*e.paid_at,type:"received",totalAmount:Math.floor(e.amount_msat/1e3)}})).filter((function(e){return e.settled}))}))]}))}))()}},{key:"getTransactions",value:function(){var e=this;return _d((function(){var t,n;return Ad(this,(function(r){switch(r.label){case 0:return[4,e.getInvoices()];case 1:return t=r.sent(),[4,e.getPayments()];case 2:return n=r.sent(),[2,{data:{transactions:bd(t,n)}}]}}))}))()}},{key:"getPayments",value:function(){var e=this;return _d((function(){return Ad(this,(function(t){switch(t.label){case 0:return[4,e.ln.commando({method:"listsendpays",params:{},rune:e.config.rune}).then((function(e){return e.payments.map((function(e,t){var n;return{id:"".concat(e.id),memo:null!==(n=e.description)&&void 0!==n?n:"",settled:"complete"===e.status,preimage:e.payment_preimage,payment_hash:e.payment_hash,settleDate:1e3*e.created_at,type:"sent",totalAmount:e.amount_sent_msat/1e3}})).filter((function(e){return e.settled}))}))];case 1:return[2,t.sent()]}}))}))()}},{key:"getInfo",value:function(){var e=this;return _d((function(){var t;return Ad(this,(function(n){switch(n.label){case 0:return[4,e.ln.commando({method:"getinfo",params:{},rune:e.config.rune})];case 1:return[2,{data:{alias:(t=n.sent()).alias,pubkey:t.id,color:t.color}}]}}))}))()}},{key:"getBalance",value:function(){var e=this;return _d((function(){var t,n;return Ad(this,(function(r){switch(r.label){case 0:return[4,e.ln.commando({method:"listfunds",params:{},rune:e.config.rune})];case 1:return t=r.sent(),n=t.channels.filter((function(e){return e.connected&&"CHANNELD_NORMAL"==e.state})).reduce((function(e,t){return e+Math.floor(t.channel_sat||(t.our_amount_msat||0)/1e3)}),0),[2,{data:{balance:n}}]}}))}))()}},{key:"sendPayment",value:function(e){var t=this;return _d((function(){return Ad(this,(function(n){return[2,t.ln.commando({method:"pay",params:{bolt11:e.paymentRequest},rune:t.config.rune}).then((function(e){var t=e;return{data:{paymentHash:t.payment_hash,preimage:t.payment_preimage,route:{total_amt:Math.floor(t.msatoshi_sent/1e3),total_fees:Math.floor((t.msatoshi_sent-t.msatoshi)/1e3)}}}}))]}))}))()}},{key:"keysend",value:function(e){var t=this;return _d((function(){var n,r;return Ad(this,(function(i){for(var o in n={},e.customRecords)n[o]=pu().parse(e.customRecords[o]).toString(aa());for(var a in r={},e.customRecords)r[a]=pu().parse(e.customRecords[a]).toString(aa());return[2,t.ln.commando({method:"keysend",params:{destination:e.pubkey,msatoshi:1e3*e.amount,extratlvs:r},rune:t.config.rune}).then((function(e){var t=e;return{data:{paymentHash:t.payment_hash,preimage:t.payment_preimage,route:{total_amt:Math.floor(t.msatoshi_sent/1e3),total_fees:Math.floor((t.msatoshi_sent-t.msatoshi)/1e3)}}}}))]}))}))()}},{key:"checkPayment",value:function(e){var t=this;return _d((function(){return Ad(this,(function(n){return[2,t.ln.commando({method:"listinvoices",params:{payment_hash:e.paymentHash},rune:t.config.rune}).then((function(e){var t;return{data:{paid:"paid"===(null===(t=e.invoices[0])||void 0===t?void 0:t.status)}}}))]}))}))()}},{key:"signMessage",value:function(e){return this.ln.commando({method:"signmessage",params:{message:e.message},rune:this.config.rune}).then((function(t){var n=t;return{data:{message:e.message,signature:n.zbase}}}))}},{key:"makeInvoice",value:function(e){var t=this;return _d((function(){var n,r;return Ad(this,(function(i){switch(i.label){case 0:return n=ld(),[4,t.ln.commando({method:"invoice",params:{amount_msat:1e3*e.amount,label:n,description:e.memo},rune:t.config.rune})];case 1:return[2,{data:{paymentRequest:(r=i.sent()).bolt11,rHash:r.payment_hash}}]}}))}))()}}],n&&Ed(t.prototype,n),r&&Ed(t,r),e}(),Id=a(98269),Td=a.n(Id);function Nd(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function xd(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Nd(o,r,i,a,s,"next",e)}function s(e){Nd(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Ld=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cd(this,"account",void 0),Cd(this,"config",void 0),this.account=t,this.config=n}var t,n,r;return t=e,n=[{key:"init",value:function(){return Promise.resolve()}},{key:"unload",value:function(){return Promise.resolve()}},{key:"supportedMethods",get:function(){return["getInfo","keysend","makeInvoice","sendPayment","sendPaymentAsync","signMessage","getBalance"]}},{key:"getInfo",value:function(){return this.request("/getinfo",void 0).then((function(e){return{data:{alias:e.alias,pubkey:e.nodeId,color:e.color}}}))}},{key:"connectPeer",value:function(){var e=this;return xd((function(){return Bd(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the getInvoices call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"getTransactions",value:function(){var e=this;return xd((function(){return Bd(this,(function(t){return console.error("getTransactions() is not yet supported with the currently used account: ".concat(e.constructor.name)),[2,{data:{transactions:[]}}]}))}))()}},{key:"getBalance",value:function(){var e=this;return xd((function(){var t,n;return Bd(this,(function(r){switch(r.label){case 0:return[4,e.request("/usablebalances")];case 1:return t=r.sent(),n=t.map((function(e){return e.canSend||0})).reduce((function(e,t){return e+t}),0),[2,{data:{balance:Math.floor(n/1e3)}}]}}))}))()}},{key:"sendPayment",value:function(e){var t=this;return xd((function(){var n,r,i,o,a,s,c;return Bd(this,(function(u){switch(u.label){case 0:return[4,t.request("/payinvoice",{invoice:e.paymentRequest,blocking:!0})];case 1:return n=u.sent(),r=n.paymentHash,i=n.paymentPreimage,[4,t.request("/getsentinfo",{paymentHash:r})];case 2:return o=u.sent(),a=o[o.length-1],s=a.status,c=a.recipientAmount,[2,{data:{preimage:i,paymentHash:r,route:{total_amt:Math.floor(c/1e3),total_fees:Math.floor(s.feesPaid/1e3)}}}]}}))}))()}},{key:"keysend",value:function(e){return xd((function(){return Bd(this,(function(e){throw new Error("not supported")}))}))()}},{key:"checkPayment",value:function(e){var t=this;return xd((function(){var n;return Bd(this,(function(r){switch(r.label){case 0:return[4,t.request("/getreceivedinfo",{paymentHash:e.paymentHash})];case 1:return[2,{data:{paid:(n=r.sent())&&"received"===n.status.type}}]}}))}))()}},{key:"signMessage",value:function(e){var t=this;return xd((function(){var n;return Bd(this,(function(r){switch(r.label){case 0:return[4,t.request("/signmessage",{msg:Td().stringify(pu().parse(e.message))})];case 1:return n=r.sent().signature,[2,{data:{message:e.message,signature:n}}]}}))}))()}},{key:"makeInvoice",value:function(e){var t=this;return xd((function(){var n;return Bd(this,(function(r){switch(r.label){case 0:return[4,t.request("/createinvoice",{description:e.memo,amountMsat:1e3*+e.amount})];case 1:return[2,{data:{paymentRequest:(n=r.sent()).serialized,rHash:n.paymentHash}}]}}))}))()}},{key:"request",value:function(e,t){var n=this;return xd((function(){var r,i,o,a,s,c,u;return Bd(this,(function(l){switch(l.label){case 0:if((r=new URL(n.config.url.startsWith("http")?n.config.url:"http://"+n.config.url)).pathname=e,(i=new Headers).append("Accept","application/json"),o=Td().stringify(pu().parse(":"+n.config.password)),i.append("Authorization","Basic "+o),a=new FormData,t)for(var f in t)a.append(f,t[f]);return[4,fetch(r.toString(),{method:"POST",headers:i,body:a})];case 1:if((s=l.sent()).ok)return[3,6];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.text()];case 3:u=l.sent();try{if(!(c=JSON.parse(u)).error)throw new Error("error response: "+u.slice(0,200))}catch(e){throw new Error("got a non-JSON response: "+u.slice(0,200))}return[3,5];case 4:throw l.sent(),new Error(s.statusText);case 5:throw console.error("eclair error",c.error),new Error(c.error);case 6:return[4,s.json()];case 7:return[2,l.sent()]}}))}))()}}],n&&Rd(t.prototype,n),r&&Rd(t,r),e}();const jd=Ld;var Dd=a(9669),Ud=a.n(Dd),Md=a(36026),Hd=a.n(Md),zd=a(15327),Fd=a.n(zd),Kd=a(94097),qd=a.n(Kd),Vd=a(64867);async function Wd(e){const t=function(e){const t=new Headers(e.headers);if(e.auth){const n=e.auth.username||"",r=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";t.set("Authorization",`Basic ${btoa(n+":"+r)}`)}const n=e.method.toUpperCase(),r={headers:t,method:n};"GET"!==n&&"HEAD"!==n&&(r.body=e.data,(0,Vd.isFormData)(r.body)&&(0,Vd.isStandardBrowserEnv)()&&t.delete("Content-Type"));e.mode&&(r.mode=e.mode);e.cache&&(r.cache=e.cache);e.integrity&&(r.integrity=e.integrity);e.redirect&&(r.redirect=e.redirect);e.referrer&&(r.referrer=e.referrer);(0,Vd.isUndefined)(e.withCredentials)||(r.credentials=e.withCredentials?"include":"omit");const i=qd()(e.baseURL,e.url),o=Fd()(i,e.params,e.paramsSerializer);return new Request(o,r)}(e),n=[Gd(t,e)];e.timeout&&e.timeout>0&&n.push(new Promise((n=>{setTimeout((()=>{const r=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of "+e.timeout+"ms exceeded";n(Yd(r,e,"ECONNABORTED",t))}),e.timeout)})));const r=await Promise.race(n);return new Promise(((t,n)=>{r instanceof Error?n(r):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,n,r):Hd()(t,n,r)}))}async function Gd(e,t){let n;try{n=await fetch(e)}catch(n){return Yd("Network Error",t,"ERR_NETWORK",e)}const r={ok:n.ok,status:n.status,statusText:n.statusText,headers:new Headers(n.headers),config:t,request:e};if(n.status>=200&&204!==n.status)switch(t.responseType){case"arraybuffer":r.data=await n.arrayBuffer();break;case"blob":r.data=await n.blob();break;case"json":r.data=await n.json();break;case"formData":r.data=await n.formData();break;default:r.data=await n.text()}return r}function Yd(e,t,n,r,i){return Ud().AxiosError&&"function"==typeof Ud().AxiosError?new(Ud().AxiosError)(e,Ud().AxiosError[n],t,r,i):function(e,t,n,r,i){e.config=t,n&&(e.code=n);return e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}(new Error(e),t,n,r,i)}var $d=a(28805),Zd=a.n($d);function Xd(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Jd(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Xd(o,r,i,a,s,"next",e)}function s(e){Xd(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function th(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function nh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var rh=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eh(this,"account",void 0),eh(this,"config",void 0),this.account=t;var r=n.accessToken;this.config=th(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){eh(e,t,n[t])}))}return e}({},n),{headers:n.headers||this.getLegacyHeaders(r||""),apiCompatibilityMode:void 0===n.apiCompatibilityMode||n.apiCompatibilityMode})}var t,n,r;return t=e,n=[{key:"getLegacyHeaders",value:function(e){return{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}},{key:"init",value:function(){return Promise.resolve()}},{key:"unload",value:function(){return Promise.resolve()}},{key:"supportedMethods",get:function(){return["getInfo","makeInvoice","sendPayment","sendPaymentAsync","signMessage","getBalance"]}},{key:"getInfo",value:function(){var e=this;return Jd((function(){var t;return nh(this,(function(n){return t={query:"\n        query getinfo {\n          me {\n              id\n              username\n          }\n        }\n      "},[2,e.request(t).then((function(e){var t=e.data,n=e.errors||t.me.errors;if(n&&n.length)throw new Error(n[0].message||JSON.stringify(n));return{data:{alias:t.me.username?t.me.username.substr(0,10):t.me.id.substr(0,8)}}}))]}))}))()}},{key:"connectPeer",value:function(){var e=this;return Jd((function(){return nh(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the getInvoices call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"getTransactions",value:function(){var e=this;return Jd((function(){var t,n,r,i,o,a,s,c,u,l,f,d;return nh(this,(function(h){switch(h.label){case 0:t=20,n=0,r=null,i=!0,o=[],h.label=1;case 1:return i&&n<5?(s={first:t},null!==r&&(s.after=r),c={query:"\n          query transactionsList($first: Int, $after: String) {\n            me {\n              defaultAccount {\n                wallets {\n                  id\n                  walletCurrency\n                  transactions(first: $first, after: $after) {\n                    pageInfo {\n                      hasNextPage\n                    }\n                    edges {\n                      cursor\n                      node {\n                        status\n                        createdAt\n                        settlementAmount\n                        memo\n                        direction\n                        initiationVia {\n                          ... on InitiationViaLn {\n                            paymentHash\n                          }\n                        }\n                        settlementVia {\n                          ... on SettlementViaLn {\n                            ".concat(e.config.apiCompatibilityMode?"paymentSecret":"preImage","\n                          }\n                          ... on SettlementViaIntraLedger {\n                            __typename\n                            counterPartyWalletId\n                            counterPartyUsername\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        "),variables:s},[4,e.request(c)]):[3,3];case 2:if(u=h.sent(),(l=u.errors||u.data.me.errors)&&l.length)throw new Error(l[0].message||JSON.stringify(l));if(f=u.data.me.defaultAccount.wallets,d=f.find((function(t){return t.id===e.config.walletId})),d){if("USD"===d.walletCurrency)throw new Error("USD currency support is not yet implemented.");d.transactions.edges.forEach((function(e){var t=e.node,n="RECEIVE"===t.direction?"received":"sent",r=Math.abs(t.settlementAmount),i=new Date(1e3*t.createdAt);o.push({id:e.cursor,memo:t.memo,preimage:t.settlementVia.preImage||"",payment_hash:t.initiationVia.paymentHash||"",settled:"SUCCESS"===t.status,settleDate:i.getTime(),totalAmount:r,type:n})}))}return i=(null==d?void 0:d.transactions.pageInfo.hasNextPage)||!1,r=(null==d||null===(a=d.transactions.edges.slice(-1)[0])||void 0===a?void 0:a.cursor)||null,n++,[3,1];case 3:return[2,{data:{transactions:o}}]}}))}))()}},{key:"getBalance",value:function(){var e=this;return Jd((function(){var t;return nh(this,(function(n){return t={query:"\n        query getinfo {\n          me {\n            defaultAccount {\n              wallets {\n                id\n                balance\n                walletCurrency\n              }\n            }\n          }\n        }\n      "},[2,e.request(t).then((function(t){var n=t.data,r=t.errors||n.me.errors;if(r&&r.length)throw new Error(r[0].message||JSON.stringify(r));var i=n.me.defaultAccount.wallets.find((function(t){return t.id===e.config.walletId}));if(i){if("USD"===i.walletCurrency)throw new Error("USD currency support is not yet implemented.");return{data:{balance:i.balance}}}throw new Error("Valid wallet not found")}))]}))}))()}},{key:"sendPayment",value:function(e){var t=this;return Jd((function(){var n,r,i,o;return nh(this,(function(a){return n={query:"\n        mutation lnInvoicePaymentSend($input: LnInvoicePaymentInput!) {\n          lnInvoicePaymentSend(input:$input) {\n            status\n            errors {\n              message\n            }\n            transaction {\n              settlementVia {\n                ... on SettlementViaLn {\n                  ".concat(t.config.apiCompatibilityMode?"paymentSecret":"preImage","\n                }\n                ... on SettlementViaIntraLedger {\n                  counterPartyUsername\n                  counterPartyWalletId\n                }\n              }\n            }\n          }\n        }\n      "),variables:{input:{walletId:t.config.walletId,paymentRequest:e.paymentRequest,memo:"Sent via Alby"}}},r=Zd().decode(e.paymentRequest),i=r.satoshis||0,o=r.tagsObject.payment_hash||"",[2,t.request(n).then((function(e){var t=e.data,n=e.errors||t.lnInvoicePaymentSend.errors;if(n&&n.length)throw new Error(n[0].message||JSON.stringify(n));var r=t.lnInvoicePaymentSend.transaction,a="No preimage received";switch(r&&r.settlementVia&&("preImage"in r.settlementVia||"paymentSecret"in r.settlementVia?a=r.settlementVia.preImage||r.settlementVia.paymentSecret:("counterPartyUsername"in r.settlementVia||"counterPartyWalletId"in r.settlementVia)&&(a="No preimage, the payment was settled intraledger")),t.lnInvoicePaymentSend.status){case"ALREADY_PAID":throw new Error("Invoice was already paid.");case"FAILURE":throw new Error("Payment failed.");case"PENDING":return{data:{preimage:"No preimage, payment still pending",paymentHash:o,route:{total_amt:i,total_fees:0}}};default:return{data:{preimage:a,paymentHash:o,route:{total_amt:i,total_fees:0}}}}}))]}))}))()}},{key:"checkPayment",value:function(e){var t=this;return Jd((function(){var n,r;return nh(this,(function(i){switch(i.label){case 0:n={query:"\n        query transactionsList($first: Int, $after: String) {\n          me {\n            defaultAccount {\n              wallets {\n                id\n                walletCurrency\n                transactions(first: $first, after: $after) {\n                  edges {\n                    cursor\n                    node {\n                      status\n                      initiationVia {\n                        ... on InitiationViaLn {\n                            paymentHash\n                        }\n                      }\n                      settlementVia {\n                        ... on SettlementViaLn {\n                          ".concat(t.config.apiCompatibilityMode?"paymentSecret":"preImage","\n                        }\n                        ... on SettlementViaIntraLedger {\n                          __typename\n                          counterPartyWalletId\n                          counterPartyUsername\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      ")},r=!0,i.label=1;case 1:return!0!==r?[3,3]:[4,t.request(n).then((function(n){var r=n.data,i=n.errors||r.me.errors;if(i&&i.length)throw new Error(i[0].message||JSON.stringify(i));var o=r.me.defaultAccount.wallets.find((function(e){return e.id===t.config.walletId}));if(void 0===o)throw new Error("Bad data received.");if("USD"===o.walletCurrency)throw new Error("USD currency support is not yet implemented.");var a=o.transactions.edges.find((function(t){return t.node.initiationVia.paymentHash===e.paymentHash}));return void 0===a||{data:{paid:"SUCCESS"===a.node.status,preimage:a.node.settlementVia.__typename?"Payment executed internally":a.node.settlementVia.preImage||"No preimage received"}}}))];case 2:return r=i.sent(),[3,1];case 3:return[2,r]}}))}))()}},{key:"keysend",value:function(e){return Jd((function(){return nh(this,(function(e){throw new Error("not supported")}))}))()}},{key:"signMessage",value:function(e){return Promise.reject(new Error("Not yet supported with Galoy."))}},{key:"makeInvoice",value:function(e){var t=this;return Jd((function(){var n;return nh(this,(function(r){return n={query:"\n        mutation lnInvoiceCreate($input: LnInvoiceCreateInput!) {\n          lnInvoiceCreate(input: $input) {\n            invoice {\n              paymentRequest\n              paymentHash\n              paymentSecret\n              satoshis\n            }\n            errors {\n              message\n            }\n          }\n        }\n            ",variables:{input:{walletId:t.config.walletId,amount:e.amount,memo:e.memo}}},[2,t.request(n).then((function(e){var t=e.data,n=e.errors||t.lnInvoiceCreate.errors;if(n&&n.length)throw new Error(n[0].message||JSON.stringify(n));return{data:{paymentRequest:t.lnInvoiceCreate.invoice.paymentRequest,rHash:t.lnInvoiceCreate.invoice.paymentHash}}}))]}))}))()}},{key:"request",value:function(e){var t=this;return Jd((function(){var n,r,i,o;return nh(this,(function(a){switch(a.label){case 0:(n={method:"POST",url:t.config.url,responseType:"json",headers:t.config.headers,adapter:Wd}).data=e,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Ud()(n)];case 2:return i=a.sent(),r=i.data,[3,4];case 3:if(o=a.sent(),console.error(o),s=o,null!=(c=Error)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](s):s instanceof c)throw new Error(o.message);return[3,4];case 4:return[2,r]}var s,c}))}))()}}],n&&Qd(t.prototype,n),r&&Qd(t,r),e}();const ih=rh;function oh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ah(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var sh=1e8,ch=function(e){return Number(e)*sh},uh=function(e){var t=Number(e.amount)*e.rate;return function(e){var t=(e.locale||"en").toLowerCase().replace("_","-");return new Intl.NumberFormat(t||"en",{style:"currency",currency:e.currency}).format(Number(e.amount))}(ah(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oh(e,t,n[t])}))}return e}({},e),{amount:t}))},lh=function(e){var t=function(e){var t=(e.locale||"en").toLowerCase().replace("_","-");return new Intl.NumberFormat(t||"en").format(Number(e.amount))}(e);return"".concat(t," ").concat(Dt.t("common:sats",{count:Number(e.amount)}))},fh=a(86266),dh=a.n(fh),hh=a(48764).Buffer;function ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gh=new(dh().ec)("secp256k1"),bh=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yh(this,"sk",void 0),yh(this,"keyHex",void 0),this.keyHex=t,!t)throw new Error("Invalid key");this.sk=gh.keyFromPrivate(hh.from(t,"hex"))}var t,n,r;return t=e,n=[{key:"pk",get:function(){return this.sk.getPublic()}},{key:"pkHex",get:function(){return this.pk.encodeCompressed("hex")}},{key:"sign",value:function(e){if(!e)throw new Error("Invalid message");return this.sk.sign(e,{canonical:!0})}},{key:"verify",value:function(e,t){try{return this.sk.verify(e,t)}catch(e){return console.error(e),!1}}}],n&&ph(t.prototype,n),r&&ph(t,r),e}();const mh=bh;function vh(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function wh(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){vh(o,r,i,a,s,"next",e)}function s(e){vh(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Eh(e,t,n[t])}))}return e}function kh(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ah(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Oh="https://kollider.me/api",Ph={Accept:"application/json","Content-Type":"application/json"},Ih=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Eh(this,"account",void 0),Eh(this,"config",void 0),Eh(this,"access_token",void 0),Eh(this,"access_token_created",void 0),Eh(this,"refresh_token",void 0),Eh(this,"refresh_token_created",void 0),Eh(this,"noRetry",void 0),Eh(this,"accounts",void 0),Eh(this,"currency",void 0),Eh(this,"currentAccountId",void 0),this.account=t,this.config=n,this.currency=n.currency,this.currentAccountId=null}var t,n,r;return t=e,n=[{key:"init",value:function(){var e=this;return wh((function(){return Ah(this,(function(t){switch(t.label){case 0:return[4,e.authorize()];case 1:return t.sent(),[4,e.loadAccounts()];case 2:return t.sent(),[4,e.findAccountId(e.config.currency)];case 3:return e.currentAccountId=t.sent(),[2]}}))}))()}},{key:"unload",value:function(){return Promise.resolve()}},{key:"connectPeer",value:function(){var e=this;return wh((function(){return Ah(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the connectPeer call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"getTransactions",value:function(){var e=this;return wh((function(){return Ah(this,(function(t){return console.error("getTransactions() is not yet supported with the currently used account: ".concat(e.constructor.name)),[2,{data:{transactions:[]}}]}))}))()}},{key:"getInfo",value:function(){var e=this;return wh((function(){return Ah(this,(function(t){return[2,{data:{alias:"Kollider (".concat(e.currency,")")}}]}))}))()}},{key:"getBalance",value:function(){var e=this;return wh((function(){var t,n;return Ah(this,(function(r){switch(r.label){case 0:return[4,e.loadAccounts()];case 1:return r.sent(),[4,e.findAccount(e.currency)];case 2:if(!(t=r.sent()))throw new Error("Account not found");return n=t.balance,"BTC"===t.currency&&(n=Math.round(ch(t.balance)).toString()),[2,{data:{balance:parseFloat(n),currency:t.currency}}]}}))}))()}},{key:"sendPayment",value:function(e){var t=this;return wh((function(){var n,r,i,o,a,s;return Ah(this,(function(c){switch(c.label){case 0:return[4,t.request("POST","/payinvoice",{payment_request:e.paymentRequest,currency:t.config.currency})];case 1:if((i=c.sent()).error)throw new Error(i.error);return o=ch((null===(n=i.amount)||void 0===n?void 0:n.value)||0).toString(),a=ch((null===(r=i.fees)||void 0===r?void 0:r.value)||0).toString(),s={total_amt:parseFloat(o),total_fees:parseFloat(a)},[2,{data:{preimage:i.payment_preimage||"",paymentHash:i.payment_hash,route:s}}]}}))}))()}},{key:"keysend",value:function(e){return wh((function(){return Ah(this,(function(e){throw new Error("Keysend is not supported with the currently used account.")}))}))()}},{key:"checkPayment",value:function(e){var t=this;return wh((function(){var n;return Ah(this,(function(r){switch(r.label){case 0:return[4,t.request("GET","/checkpayment",{payment_hash:e.paymentHash})];case 1:return[2,{data:{paid:!!(null==(n=r.sent())?void 0:n.paid)}}]}}))}))()}},{key:"signMessage",value:function(e){if(!this.config.username||!this.config.password)return Promise.reject(new Error("Missing config"));if(!e.message)return Promise.reject(new Error("Invalid message"));var t=ca()(e.message).toString(aa()),n=ca()("kollider://".concat(this.config.username,":").concat(this.config.password)).toString(aa());if(!n)return Promise.reject(new Error("Could not create key"));var r=new mh(n).sign(t).toDER("hex");return r?Promise.resolve({data:{message:e.message,signature:r}}):Promise.reject(new Error("Signing failed"))}},{key:"makeInvoice",value:function(e){var t=this;return wh((function(){var n,r;return Ah(this,(function(i){switch(i.label){case 0:return o=e.amount,n=Number(o)/sh,[4,t.request("GET","/addinvoice",{amount:n,currency:"BTC",target_account_currency:t.currency,account_id:t.currentAccountId,meta:e.memo})];case 1:if((r=i.sent()).error)throw new Error(r.error);return[2,{data:{paymentRequest:r.payment_request,rHash:r.payment_hash}}]}var o}))}))()}},{key:"authorize",value:function(){var e=this;return wh((function(){var t,n,r,i,o,a,s;return Ah(this,(function(c){switch(c.label){case 0:return[4,Ud().post("".concat(Oh,"/auth"),{username:e.config.username,password:e.config.password},{headers:Ph,adapter:Wd})];case 1:if(t=c.sent(),(n=t.data).error||n.errors)throw a=n.error||n.errors,s=(null==a||null===(i=a.errors)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.message)||(null==a||null===(o=a[0])||void 0===o?void 0:o.message),console.error(s),new Error("Kollider API error: "+s);return e.refresh_token=n.refresh,e.access_token=n.token,e.refresh_token_created=+new Date,e.access_token_created=+new Date,[2,n]}}))}))()}},{key:"loadAccounts",value:function(){var e=this;return wh((function(){var t;return Ah(this,(function(n){switch(n.label){case 0:return[4,e.request("GET","/balance",void 0)];case 1:return t=n.sent(),e.accounts=t.accounts,[2]}}))}))()}},{key:"findAccount",value:function(e){var t=this;return wh((function(){var n;return Ah(this,(function(r){switch(r.label){case 0:return[4,t.findAccountId(e)];case 1:return(n=r.sent())&&t.accounts?[2,t.accounts[n]]:[2,null]}}))}))()}},{key:"findAccountId",value:function(e){var t=this;return wh((function(){var n;return Ah(this,(function(r){switch(r.label){case 0:return t.accounts?[3,2]:[4,t.loadAccounts()];case 1:r.sent(),r.label=2;case 2:return t.accounts?(n=t.accounts,[2,Object.keys(t.accounts).find((function(t){return n[t].currency===e}))||null]):[2,null]}}))}))()}},{key:"request",value:function(e,t,n){var r=this;return wh((function(){var i,o,a,s,c,u,l,f;return Ah(this,(function(d){switch(d.label){case 0:return r.access_token?[3,2]:[4,r.authorize()];case 1:d.sent(),d.label=2;case 2:i={method:e,url:"".concat(Oh).concat(t),responseType:"json",adapter:Wd,headers:kh(Sh({},Ph),{Authorization:"".concat(r.access_token)})},"POST"===e?i.data=n:void 0!==n&&(i.params=n),d.label=3;case 3:return d.trys.push([3,5,,12]),[4,Ud()(i)];case 4:return a=d.sent(),o=a.data,[3,12];case 5:if(s=d.sent(),console.error(s),!Ud().isAxiosError(s))return[3,11];if(404===(null==(c=s.response)?void 0:c.status))throw u=t.replace("/",""),new Error("".concat(u," not supported by the connected account."));if(401!==(null==c?void 0:c.status))return[3,10];d.label=6;case 6:return d.trys.push([6,8,,9]),[4,r.authorize()];case 7:return d.sent(),[3,9];case 8:if(l=d.sent(),console.error(l),h=l,null!=(p=Error)&&"undefined"!=typeof Symbol&&p[Symbol.hasInstance]?p[Symbol.hasInstance](h):h instanceof p)throw new Error(l.message);return[3,9];case 9:return[2,r.request(e,t,n)];case 10:throw f="".concat(null==c?void 0:c.data.error,"\n(").concat(s.message,")"),new Error(f);case 11:return[3,12];case 12:return[2,o]}var h,p}))}))()}}],n&&_h(t.prototype,n),r&&_h(t,r),e}();function Th(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Nh(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Th(o,r,i,a,s,"next",e)}function s(e){Th(o,r,i,a,s,"throw",e)}a(void 0)}))}}function xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Rh(e,t,n[t])}))}return e}function Bh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Lh=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rh(this,"account",void 0),Rh(this,"config",void 0),this.account=t,this.config=n}var t,n,r;return t=e,n=[{key:"init",value:function(){return Promise.resolve()}},{key:"unload",value:function(){return Promise.resolve()}},{key:"supportedMethods",get:function(){return["getInfo","makeInvoice","sendPayment","sendPaymentAsync","signMessage","getBalance"]}},{key:"getInfo",value:function(){return this.request("GET","/api/v1/wallet",this.config.adminkey,void 0).then((function(e){return{data:{alias:e.name}}}))}},{key:"connectPeer",value:function(){var e=this;return Nh((function(){return Bh(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the getInvoices call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"getTransactions",value:function(){return this.request("GET","/api/v1/payments",this.config.adminkey,void 0).then((function(e){return{data:{transactions:e.map((function(e,t){return{id:"".concat(e.checking_id,"-").concat(t),memo:e.memo,preimage:"0000000000000000000000000000000000000000000000000000000000000000"!=e.preimage?e.preimage:"",payment_hash:e.payment_hash,settled:!e.pending,settleDate:1e3*e.time,totalAmount:Math.abs(Math.floor(e.amount/1e3)),type:e.amount>0?"received":"sent"}}))}}}))}},{key:"getBalance",value:function(){return this.request("GET","/api/v1/wallet",this.config.adminkey,void 0).then((function(e){return{data:{balance:Math.floor(e.balance/1e3)}}}))}},{key:"sendPayment",value:function(e){var t=this,n=Zd().decode(e.paymentRequest).satoshis||0;return this.request("POST","/api/v1/payments",this.config.adminkey,{bolt11:e.paymentRequest,out:!0}).then((function(e){return t.checkPayment({paymentHash:e.payment_hash}).then((function(t){var r=t.data;return{data:{preimage:(null==r?void 0:r.preimage)||"",paymentHash:e.payment_hash,route:{total_amt:n,total_fees:0}}}}))}))}},{key:"keysend",value:function(e){return Nh((function(){return Bh(this,(function(e){throw new Error("not supported")}))}))()}},{key:"checkPayment",value:function(e){var t=this;return Nh((function(){var n;return Bh(this,(function(r){switch(r.label){case 0:return[4,t.request("GET","/api/v1/payments/".concat(e.paymentHash),t.config.adminkey)];case 1:return[2,{data:Ch({paid:(n=r.sent()).isPaid},n)}]}}))}))()}},{key:"signMessage",value:function(e){if(!this.config.url||!this.config.adminkey)return Promise.reject(new Error("Missing config"));if(!e.message)return Promise.reject(new Error("Invalid message"));var t;t=ca()(e.message).toString(aa());var n=ca()("lnbits://".concat(this.config.adminkey)).toString(aa());if(Bg.getState().settings.legacyLnurlAuth&&(t=_.stringToUint8Array(e.message),n=ca()("LBE-LNBITS-".concat(this.config.url,"-").concat(this.config.adminkey)).toString(aa())),!n)return Promise.reject(new Error("Could not create key"));var r=new mh(n).sign(t).toDER("hex");return r?Promise.resolve({data:{message:e.message,signature:r}}):Promise.reject(new Error("Signing failed"))}},{key:"makeInvoice",value:function(e){return this.request("POST","/api/v1/payments",this.config.adminkey,{amount:e.amount,memo:e.memo,out:!1}).then((function(e){return{data:{paymentRequest:e.payment_request,rHash:e.payment_hash}}}))}},{key:"request",value:function(e,t,n,r){var i=this;return Nh((function(){var o,a,s,c,u;return Bh(this,(function(l){switch(l.label){case 0:return o=null,a="",(s=new Headers).append("Accept","application/json"),s.append("Content-Type","application/json"),s.append("X-Api-Key",n),"POST"===e?o=JSON.stringify(r):void 0!==r&&(a="?"),[4,fetch(i.config.url+t+a,{method:e,headers:s,body:o})];case 1:return(c=l.sent()).ok?[3,3]:[4,c.json()];case 2:throw u=l.sent(),console.error("errBody",u),new Error(u.detail);case 3:return[4,c.json()];case 4:return[2,l.sent()]}}))}))()}}],n&&xh(t.prototype,n),r&&xh(t,r),e}();const jh=Lh;var Dh=a(34503),Uh=a.n(Dh),Mh=a(4433),Hh=a.n(Mh),zh=a(47044),Fh=a.n(zh);function Kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qh(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Vh(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qh(o,r,i,a,s,"next",e)}function s(e){qh(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yh(e,t,n){return t&&Gh(e.prototype,t),n&&Gh(e,n),e}function $h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zh(e){return function(e){if(Array.isArray(e))return Kh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Kh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Jh={addinvoice:"lnd.lightning.AddInvoice",addholdinvoice:"lnd.invoices.AddHoldInvoice",settleinvoice:"lnd.invoices.SettleInvoice",channelbalance:"lnd.lightning.ChannelBalance",connectpeer:"lnd.lightning.ConnectPeer",decodepayreq:"lnd.lightning.DecodePayReq",disconnectpeer:"lnd.lightning.DisconnectPeer",estimatefee:"lnd.lightning.EstimateFee",getchaninfo:"lnd.lightning.GetChanInfo",getinfo:"lnd.lightning.GetInfo",getnetworkinfo:"lnd.lightning.GetNetworkInfo",getnodeinfo:"lnd.lightning.GetNodeInfo",gettransactions:"lnd.lightning.GetTransactions",listchannels:"lnd.lightning.ListChannels",listinvoices:"lnd.lightning.ListInvoices",listpayments:"lnd.lightning.ListPayments",listpeers:"lnd.lightning.ListPeers",lookupinvoice:"lnd.lightning.LookupInvoice",openchannel:"lnd.lightning.OpenChannelSync",queryroutes:"lnd.lightning.QueryRoutes",routermc:"lnd.router.QueryMissionControl",sendtoroute:"lnd.lightning.SendToRouteSync",verifymessage:"lnd.lightning.VerifyMessage",walletbalance:"lnd.lightning.WalletBalance",newaddress:"lnd.lightning.NewAddress",nextaddr:"lnd.walletKit.nextAddr",listaddresses:"lnd.walletKit.ListAddresses",listunspent:"lnd.walletKit.ListUnspent"},Qh=function(e){if(Array.isArray(e))return e.map(Qh);if(e&&"object"==typeof e&&e.constructor===Object){for(var t={},n=Object.keys(e),r=n.length,i=0;i<r;i+=1)t[Fh()(n[i])]=Qh(e[n[i]]);return t}return e},ep=function(){function e(t,n){Wh(this,e),$h(this,"account",void 0),$h(this,"config",void 0),this.account=t,this.config=n}return Yh(e,[{key:"password",get:function(){return""}},{key:"localKey",get:function(){return this.config.localKey||""},set:function(e){this.config.localKey=e,this._save()}},{key:"remoteKey",get:function(){return this.config.remoteKey||""},set:function(e){this.config.remoteKey=e,this._save()}},{key:"pairingPhrase",get:function(){return this.config.pairingPhrase}},{key:"serverHost",get:function(){return this.config.serverHost||"mailbox.terminal.lightning.today:443"},set:function(e){this.config.serverHost=e,this._save()}},{key:"isPaired",get:function(){return!0}},{key:"clear",value:function(){var e=this;return Vh((function(){return Xh(this,(function(t){return e.config.localKey="",e.config.remoteKey="",e._save(),[2]}))}))()}},{key:"_save",value:function(){var e=this;return Vh((function(){var t,n;return Xh(this,(function(r){switch(r.label){case 0:return t=Bg.getState().accounts,[4,Bg.getState().password()];case 1:return n=r.sent(),t[e.account.id].config=B(e.config,n),Bg.setState({accounts:t}),[4,Bg.getState().saveToStorage()];case 2:return r.sent(),[2,!0]}}))}))()}}]),e}(),tp=function(){function e(t,n){Wh(this,e),$h(this,"account",void 0),$h(this,"config",void 0),$h(this,"lnc",void 0),this.account=t,this.config=n,this.lnc=new(Uh())({credentialStore:new ep(t,n),namespace:this.account.id})}return Yh(e,[{key:"init",value:function(){var e=this;return Vh((function(){var t;return Xh(this,(function(n){switch(n.label){case 0:console.info("init LNC"),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,e.lnc.connect()];case 2:return n.sent(),[3,5];case 3:return t=n.sent(),console.error("Init LNC failed",t),[4,e.unload()];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))()}},{key:"unload",value:function(){var e=this;return Vh((function(){var t;return Xh(this,(function(n){switch(n.label){case 0:if(!e.lnc)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),console.info("LNC disconnect"),[4,e.lnc.disconnect()];case 2:return n.sent(),delete e.lnc,[3,4];case 3:return t=n.sent(),console.error("Unload LNC failed",t),[3,4];case 4:return[2]}}))}))()}},{key:"supportedMethods",get:function(){return["getInfo","keysend","makeInvoice","sendPayment","sendPaymentAsync","signMessage","getBalance"].concat(Zh(md(Object.keys(Jh))))}},{key:"requestMethod",value:function(e,t){var n=this;return Vh((function(){var r;return Xh(this,(function(i){if(!(r=Jh[e]))throw new Error("".concat(e," is not supported"));return[2,r.split(".").reduce((function(e,t){return e[t]}),n.lnc)(t).then((function(e){return{data:Qh(e)}}))]}))}))()}},{key:"getInfo",value:function(){return this.checkConnection(),this.lnc.lnd.lightning.GetInfo().then((function(e){return{data:{alias:e.alias,pubkey:e.identityPubkey,color:e.color}}}))}},{key:"getBalance",value:function(){return this.checkConnection(),this.lnc.lnd.lightning.ChannelBalance().then((function(e){return{data:{balance:e.balance}}}))}},{key:"getInvoices",value:function(){var e=this;return Vh((function(){var t;return Xh(this,(function(n){switch(n.label){case 0:return e.checkConnection(),[4,e.lnc.lnd.lightning.ListInvoices({reversed:!0})];case 1:return t=n.sent(),[2,t.invoices.map((function(e,t){return{custom_records:e.htlcs[0]&&e.htlcs[0].customRecords,id:"".concat(e.paymentRequest,"-").concat(t),memo:e.memo,preimage:e.rPreimage,settled:e.settled,settleDate:1e3*parseInt(e.settleDate),totalAmount:e.value,type:"received"}})).reverse()]}}))}))()}},{key:"getTransactions",value:function(){var e=this;return Vh((function(){var t,n;return Xh(this,(function(r){switch(r.label){case 0:return[4,e.getInvoices()];case 1:return t=r.sent(),[4,e.getPayments()];case 2:return n=r.sent(),[2,{data:{transactions:bd(t,n)}}]}}))}))()}},{key:"getPayments",value:function(){var e=this;return Vh((function(){var t;return Xh(this,(function(n){switch(n.label){case 0:return[4,e.lnc.lnd.lightning.ListPayments({reversed:!0,max_payments:100,include_incomplete:!1})];case 1:return t=n.sent(),[2,t.payments.map((function(e,t){var n,r="Sent";e.payment_request&&(r=((null===(n=Zd().decode(e.payment_request).tags.find((function(e){return"description"===e.tagName})))||void 0===n?void 0:n.data)||"Sent").toString());return{id:"".concat(e.payment_request,"-").concat(t),memo:r,preimage:e.payment_preimage,settled:!0,settleDate:1e3*parseInt(e.creation_date),totalAmount:e.value_sat,type:"sent"}}))]}}))}))()}},{key:"connectPeer",value:function(){var e=this;return Vh((function(){return Xh(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the getInvoices call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"checkPayment",value:function(e){var t=this;return Vh((function(){return Xh(this,(function(n){return t.checkConnection(),[2,t.lnc.lnd.lightning.LookupInvoice({r_hash_str:e.paymentHash}).then((function(e){return{data:{paid:e.settled}}}))]}))}))()}},{key:"sendPayment",value:function(e){return this.checkConnection(),this.lnc.lnd.lightning.SendPaymentSync({payment_request:e.paymentRequest}).then((function(e){if(e.paymentError)throw new Error(e.paymentError);return{data:{preimage:_.base64ToHex(e.paymentPreimage),paymentHash:_.base64ToHex(e.paymentHash),route:{total_amt:e.paymentRoute.totalAmt,total_fees:e.paymentRoute.totalFees}}}}))}},{key:"keysend",value:function(e){var t=this;return Vh((function(){var n,r,i,o,a,s;return Xh(this,(function(c){for(var u in t.checkConnection(),n=e.pubkey,r=aa().parse(n).toString(Td()),i=Hh().random(32),o=i.toString(Td()),a=ca()(i).toString(Td()),s={},e.customRecords)s[parseInt(u)]=pu().parse(e.customRecords[u]).toString(Td());return s[5482373484]=o,[2,t.lnc.lnd.lightning.SendPaymentSync({dest:r,amt:e.amount,payment_hash:a,dest_custom_records:s}).then((function(e){if(e.paymentError)throw new Error(e.paymentError);return{data:{preimage:_.base64ToHex(e.paymentPreimage),paymentHash:_.base64ToHex(e.paymentHash),route:{total_amt:e.paymentRoute.totalAmt,total_fees:e.paymentRoute.totalFees}}}}))]}))}))()}},{key:"signMessage",value:function(e){return this.checkConnection(),this.lnc.lnd.lightning.SignMessage({msg:Td().stringify(pu().parse(e.message))}).then((function(t){return{data:{message:e.message,signature:t.signature}}}))}},{key:"makeInvoice",value:function(e){return this.checkConnection(),this.lnc.lnd.lightning.AddInvoice({memo:e.memo,value:e.amount}).then((function(e){return{data:{paymentRequest:e.paymentRequest,rHash:_.base64ToHex(e.rHash)}}}))}},{key:"checkConnection",value:function(){if(!this.lnc)throw new Error("Account failed to load");if(!this.lnc.isConnected)throw new Error("Account is still loading")}}]),e}();const np=tp;function rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ip(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function op(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ip(o,r,i,a,s,"next",e)}function s(e){ip(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cp(e){return function(e){if(Array.isArray(e))return rp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function up(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var lp={getinfo:{path:"/v1/getinfo",httpMethod:"GET"},listchannels:{path:"/v1/channels",httpMethod:"GET"},listinvoices:{path:"/v1/invoices",httpMethod:"GET"},channelbalance:{path:"/v1/balance/channels",httpMethod:"GET"},walletbalance:{path:"/v1/balance/blockchain",httpMethod:"GET"},openchannel:{path:"/v1/channels",httpMethod:"POST"},connectpeer:{path:"/v1/peers",httpMethod:"POST"},disconnectpeer:{path:"/v1/peers/{{pub_key}}",httpMethod:"DELETE"},estimatefee:{path:"/v1/transactions/fee",httpMethod:"GET"},getchaninfo:{path:"/v1/graph/edge/{{chan_id}}",httpMethod:"GET"},getnetworkinfo:{path:"/v1/graph/info",httpMethod:"GET"},getnodeinfo:{path:"/v1/graph/node/{{pub_key}}",httpMethod:"GET"},gettransactions:{path:"/v1/transactions",httpMethod:"GET"},listpayments:{path:"/v1/payments",httpMethod:"GET"},listpeers:{path:"/v1/peers",httpMethod:"GET"},lookupinvoice:{path:"/v1/invoice/{{r_hash_str}}",httpMethod:"GET"},queryroutes:{path:"/v1/graph/routes/{{pub_key}}/{{amt}}",httpMethod:"GET"},verifymessage:{path:"/v1/verifymessage",httpMethod:"POST"},sendtoroute:{path:"/v1/channels/transactions/route",httpMethod:"POST"},decodepayreq:{path:"/v1/payreq/{{pay_req}}",httpMethod:"GET"},routermc:{path:"/v2/router/mc",httpMethod:"GET"},addinvoice:{path:"/v1/invoices",httpMethod:"POST"},addholdinvoice:{path:"/v2/invoices/hodl",httpMethod:"POST"},settleinvoice:{path:"/v2/invoices/settle",httpMethod:"POST"},newaddress:{path:"/v1/newaddress",httpMethod:"GET"},nextaddr:{path:"/v2/wallet/address/next",httpMethod:"POST"},listaddresses:{path:"/v2/wallet/addresses",httpMethod:"GET"},listunspent:{path:"/v2/wallet/utxos",httpMethod:"POST"}},fp=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sp(this,"account",void 0),sp(this,"config",void 0),sp(this,"getBlockchainBalance",(function(){return r.request("GET","/v1/balance/blockchain",void 0,{unconfirmed_balance:"0",confirmed_balance:"0",total_balance:"0"})})),sp(this,"getChannelsBalance",(function(){return r.request("GET","/v1/balance/channels",void 0,{balance:0}).then((function(e){return{data:{balance:+e.balance}}}))})),this.account=t,this.config=n}var t,n,r;return t=e,n=[{key:"init",value:function(){return Promise.resolve()}},{key:"unload",value:function(){return Promise.resolve()}},{key:"supportedMethods",get:function(){return["getInfo","keysend","makeInvoice","sendPayment","sendPaymentAsync","signMessage","getBalance"].concat(cp(md(Object.keys(lp))))}},{key:"requestMethod",value:function(e,t){var n=this;return op((function(){var r,i,o;return up(this,(function(a){switch(a.label){case 0:if(!(r=lp[e]))throw new Error("".concat(e," is not supported"));return i=r.httpMethod,o=r.path,s=t,o=o.replace(/{{(.*?)}}/g,(function(e){var t=e.split(/{{|}}/).filter(Boolean)[0],n=s[t];if(void 0===n)throw new Error("Missing parameter ".concat(t));return delete s[t],String(n)})),[4,n.request(i,o,t)];case 1:return[2,{data:a.sent()}]}var s}))}))()}},{key:"getInfo",value:function(){return this.request("GET","/v1/getinfo",void 0,{}).then((function(e){return{data:{alias:e.alias,pubkey:e.identity_pubkey,color:e.color}}}))}},{key:"getBalance",value:function(){return this.getChannelsBalance()}},{key:"connectPeer",value:function(e){var t=e.pubkey,n=e.host;return this.request("POST","/v1/peers",{addr:{pubkey:t,host:n},perm:!0}).then((function(e){return{data:!0}})).catch((function(e){if(e.message.match(/already connected/))return{data:!0};throw new Error(e.message)}))}},{key:"sendPayment",value:function(e){return this.request("POST","/v1/channels/transactions",{payment_request:e.paymentRequest},{}).then((function(e){if(e.payment_error)throw new Error(e.payment_error);return{data:{preimage:_.base64ToHex(e.payment_preimage),paymentHash:_.base64ToHex(e.payment_hash),route:e.payment_route}}}))}},{key:"keysend",value:function(e){var t=this;return op((function(){var n,r,i,o,a,s;return up(this,(function(c){for(var u in n=e.pubkey,r=aa().parse(n).toString(Td()),i=Hh().random(32),o=i.toString(Td()),a=ca()(i).toString(Td()),s={},e.customRecords)s[u]=pu().parse(e.customRecords[u]).toString(Td());return s[5482373484]=o,[2,t.request("POST","/v1/channels/transactions",{dest:r,amt:e.amount,payment_hash:a,dest_custom_records:s},{}).then((function(e){if(e.payment_error)throw new Error(e.payment_error);return{data:{preimage:_.base64ToHex(e.payment_preimage),paymentHash:_.base64ToHex(e.payment_hash),route:e.payment_route}}}))]}))}))()}},{key:"checkPayment",value:function(e){var t=this;return op((function(){return up(this,(function(n){switch(n.label){case 0:return[4,t.request("GET","/v1/invoice/".concat(e.paymentHash))];case 1:return[2,{data:{paid:n.sent().settled}}]}}))}))()}},{key:"signMessage",value:function(e){return this.request("POST","/v1/signmessage",{msg:Td().stringify(pu().parse(e.message))}).then((function(t){return{data:{message:e.message,signature:t.signature}}}))}},{key:"makeInvoice",value:function(e){return this.request("POST","/v1/invoices",{memo:e.memo,value:e.amount}).then((function(e){return{data:{paymentRequest:e.payment_request,rHash:_.base64ToHex(e.r_hash)}}}))}},{key:"getAddress",value:function(){return this.request("POST","/v2/wallet/address/next",void 0,{})}},{key:"getInvoices",value:function(){var e=this;return op((function(){return up(this,(function(t){switch(t.label){case 0:return[4,e.request("GET","/v1/invoices",{reversed:!0})];case 1:return[2,t.sent().invoices.map((function(e,t){var n=e.htlcs[0]&&e.htlcs[0].custom_records;return{id:"".concat(e.payment_request,"-").concat(t),memo:e.memo,preimage:_.base64ToHex(e.r_preimage),payment_hash:_.base64ToHex(e.r_hash),settled:e.settled,settleDate:1e3*parseInt(e.settle_date),totalAmount:parseInt(e.value),type:"received",custom_records:n}}))]}}))}))()}},{key:"getTransactions",value:function(){var e=this;return op((function(){var t,n;return up(this,(function(r){switch(r.label){case 0:return[4,e.getInvoices()];case 1:return t=r.sent(),[4,e.getPayments()];case 2:return n=r.sent(),[2,{data:{transactions:bd(t,n)}}]}}))}))()}},{key:"getPayments",value:function(){var e=this;return op((function(){return up(this,(function(t){switch(t.label){case 0:return[4,e.request("GET","/v1/payments",{reversed:!0,max_payments:100,include_incomplete:!1})];case 1:return[2,t.sent().payments.map((function(e,t){var n,r;return e.payment_request&&(n=null===(r=Zd().decode(e.payment_request).tags.find((function(e){return"description"===e.tagName})))||void 0===r?void 0:r.data.toString()),{id:"".concat(e.payment_request,"-").concat(t++),memo:n,preimage:e.payment_preimage,payment_hash:e.payment_hash,settled:!0,settleDate:1e3*parseInt(e.creation_date),totalAmount:e.value_sat,type:"sent"}}))]}}))}))()}},{key:"request",value:function(e,t,n,r){var i=this;return op((function(){var o,a,s,c,u,l;return up(this,(function(f){switch(f.label){case 0:return(o=new URL(i.config.url)).pathname="".concat(o.pathname.replace(/\/$/,"")).concat(t),a=null,(s=new Headers).append("Accept","application/json"),"POST"===e?(a=JSON.stringify(n),s.append("Content-Type","application/json")):void 0!==n&&(o.search=new URLSearchParams(n).toString()),i.config.macaroon&&s.append("Grpc-Metadata-macaroon",i.config.macaroon),[4,fetch(o.toString(),{method:e,headers:s,body:a})];case 1:if((c=f.sent()).ok)return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,c.json()];case 3:if((u=f.sent()).message&&!u.error&&(u.error=u.message,delete u.message),!u.error)throw new Error("Something went wrong");return[3,5];case 4:throw f.sent(),new Error(c.statusText);case 5:throw console.error(u),new Error(u.error);case 6:return[4,c.json()];case 7:return l=f.sent(),r&&(l=Object.assign(Object.assign({},r),l)),[2,l]}}))}))()}}],n&&ap(t.prototype,n),r&&ap(t,r),e}();const dp=fp;var hp=a(88010),pp=a.n(hp),yp=a(48764).Buffer;function gp(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function bp(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){gp(o,r,i,a,s,"next",e)}function s(e){gp(o,r,i,a,s,"throw",e)}a(void 0)}))}}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wp(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){vp(e,t,n[t])}))}return e}function Ep(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Sp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var kp={Accept:"application/json","Content-Type":"application/json","X-User-Agent":"alby-extension"},Ap=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vp(this,"account",void 0),vp(this,"config",void 0),vp(this,"access_token",void 0),vp(this,"access_token_created",void 0),vp(this,"refresh_token",void 0),vp(this,"refresh_token_created",void 0),vp(this,"noRetry",void 0),this.account=t,this.config=n}var t,n,r;return t=e,n=[{key:"init",value:function(){var e=this;return bp((function(){return Sp(this,(function(t){return[2,e.authorize()]}))}))()}},{key:"unload",value:function(){return Promise.resolve()}},{key:"supportedMethods",get:function(){return["getInfo","keysend","makeInvoice","sendPayment","sendPaymentAsync","signMessage","getBalance"]}},{key:"connectPeer",value:function(){var e=this;return bp((function(){return Sp(this,(function(t){throw console.error("".concat(e.constructor.name," does not implement the getInvoices call")),new Error("Not yet supported with the currently used account.")}))}))()}},{key:"getInvoices",value:function(){var e=this;return bp((function(){var t,n;return Sp(this,(function(r){switch(r.label){case 0:return[4,e.request("GET","/getuserinvoices",void 0)];case 1:return t=r.sent(),n=t.map((function(e,t){return{custom_records:e.custom_records,id:"".concat(e.payment_request,"-").concat(t),memo:e.description,preimage:"",payment_hash:e.payment_hash,settled:e.ispaid,settleDate:1e3*e.timestamp,totalAmount:e.amt,type:"received"}})).sort((function(e,t){return t.settleDate-e.settleDate})),[2,n]}}))}))()}},{key:"getTransactions",value:function(){var e=this;return bp((function(){var t,n;return Sp(this,(function(r){switch(r.label){case 0:return[4,e.getInvoices()];case 1:return t=r.sent(),[4,e.getPayments()];case 2:return n=r.sent(),[2,{data:{transactions:bd(t,n)}}]}}))}))()}},{key:"getPayments",value:function(){var e=this;return bp((function(){return Sp(this,(function(t){switch(t.label){case 0:return[4,e.request("GET","/gettxs",{limit:100})];case 1:return[2,t.sent().map((function(e,t){return{id:"".concat(t),memo:e.memo,preimage:e.payment_preimage,payment_hash:yp.from(e.payment_hash.data).toString("hex"),settled:!0,settleDate:1e3*e.timestamp,totalAmount:e.value,type:"sent"}}))]}}))}))()}},{key:"getInfo",value:function(){var e=this;return bp((function(){return Sp(this,(function(t){switch(t.label){case 0:return[4,e.request("GET","/getinfo",void 0)];case 1:return[2,{data:{alias:t.sent().alias}}]}}))}))()}},{key:"getBalance",value:function(){var e=this;return bp((function(){return Sp(this,(function(t){switch(t.label){case 0:return[4,e.request("GET","/balance",void 0)];case 1:return[2,{data:{balance:t.sent().BTC.AvailableBalance}}]}}))}))()}},{key:"sendPayment",value:function(e){var t=this;return bp((function(){var n,r,i;return Sp(this,(function(o){switch(o.label){case 0:return[4,t.request("POST","/payinvoice",{invoice:e.paymentRequest})];case 1:if((n=o.sent()).error)throw new Error(n.message);if(n.payment_error)throw new Error(n.payment_error);return"object"==typeof n.payment_hash&&"Buffer"===n.payment_hash.type&&(n.payment_hash=yp.from(n.payment_hash.data).toString("hex")),"object"==typeof n.payment_preimage&&"Buffer"===n.payment_preimage.type&&(n.payment_preimage=yp.from(n.payment_preimage.data).toString("hex")),n.payment_route||(r=Zd().decode(e.paymentRequest),i=r.satoshis||0,n.payment_route={total_amt:i,total_fees:0}),[2,{data:{preimage:n.payment_preimage,paymentHash:n.payment_hash,route:n.payment_route}}]}}))}))()}},{key:"keysend",value:function(e){var t=this;return bp((function(){var n;return Sp(this,(function(r){switch(r.label){case 0:return[4,t.request("POST","/keysend",{destination:e.pubkey,amount:e.amount,customRecords:e.customRecords})];case 1:if((n=r.sent()).error)throw new Error(n.message);if(n.payment_error)throw new Error(n.payment_error);return"object"==typeof n.payment_hash&&"Buffer"===n.payment_hash.type&&(n.payment_hash=yp.from(n.payment_hash.data).toString("hex")),"object"==typeof n.payment_preimage&&"Buffer"===n.payment_preimage.type&&(n.payment_preimage=yp.from(n.payment_preimage.data).toString("hex")),[2,{data:{preimage:n.payment_preimage,paymentHash:n.payment_hash,route:n.payment_route}}]}}))}))()}},{key:"checkPayment",value:function(e){var t=this;return bp((function(){return Sp(this,(function(n){switch(n.label){case 0:return[4,t.request("GET","/checkpayment/".concat(e.paymentHash),void 0)];case 1:return[2,{data:{paid:n.sent().paid}}]}}))}))()}},{key:"signMessage",value:function(e){if(!this.config.url||!this.config.login||!this.config.password)return Promise.reject(new Error("Missing config"));if(!e.message)return Promise.reject(new Error("Invalid message"));var t;t=ca()(e.message).toString(aa());var n=ca()("lndhub://".concat(this.config.login,":").concat(this.config.password)).toString(aa());if(Bg.getState().settings.legacyLnurlAuth&&(t=_.stringToUint8Array(e.message),n=ca()("LBE-LNDHUB-".concat(this.config.url,"-").concat(this.config.login,"-").concat(this.config.password)).toString(aa())),!n)return Promise.reject(new Error("Could not create key"));var r=new mh(n).sign(t).toDER("hex");return r?Promise.resolve({data:{message:e.message,signature:r}}):Promise.reject(new Error("Signing failed"))}},{key:"makeInvoice",value:function(e){var t=this;return bp((function(){var n;return Sp(this,(function(r){switch(r.label){case 0:return[4,t.request("POST","/addinvoice",{amt:e.amount,memo:e.memo})];case 1:return"object"==typeof(n=r.sent()).r_hash&&"Buffer"===n.r_hash.type&&(n.r_hash=yp.from(n.r_hash.data).toString("hex")),[2,{data:{paymentRequest:n.payment_request,rHash:n.r_hash}}]}}))}))()}},{key:"authorize",value:function(){var e=this;return bp((function(){var t,n,r,i,o,a,s,c,u;return Sp(this,(function(l){switch(l.label){case 0:t="".concat(e.config.url,"/auth?type=auth"),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Ud().post(t,{login:e.config.login,password:e.config.password},{headers:Ep(_p({},kp),{"X-TS":Math.floor(Date.now()/1e3),"X-VERIFY":e.generateHmacVerification(t)}),adapter:Wd})];case 2:if(n=l.sent(),(r=n.data).error||r.errors)throw s=r.error||r.errors,c=(null==s||null===(o=s.errors)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.message)||(null==s||null===(a=s[0])||void 0===a?void 0:a.message),new Error(c);return e.refresh_token=r.refresh_token,e.access_token=r.access_token,e.refresh_token_created=+new Date,e.access_token_created=+new Date,[2,r];case 3:throw u=l.sent(),new Error("API error (".concat(e.config.url,")").concat(wp(u,Error)?": ".concat(u.message):""));case 4:return[2]}}))}))()}},{key:"generateHmacVerification",value:function(e){var t=pp()(e,"alby-extension").toString(Td());return encodeURIComponent(t)}},{key:"request",value:function(e,t,n){var r=this;return bp((function(){var i,o,a,s,c,u,l,f,d,h;return Sp(this,(function(p){switch(p.label){case 0:return r.access_token?[3,2]:[4,r.authorize()];case 1:p.sent(),p.label=2;case 2:i="".concat(r.config.url).concat(t),o={method:e,url:i,responseType:"json",headers:Ep(_p({},kp),{Authorization:"Bearer ".concat(r.access_token),"X-TS":Math.floor(Date.now()/1e3),"X-VERIFY":r.generateHmacVerification(i)}),adapter:Wd},"POST"===e?o.data=n:void 0!==n&&(o.params=n),p.label=3;case 3:return p.trys.push([3,5,,12]),[4,Ud()(o)];case 4:return s=p.sent(),a=s.data,[3,12];case 5:if(c=p.sent(),console.error(c),!Ud().isAxiosError(c))return[3,11];if(404===(null==(u=c.response)?void 0:u.status))throw l=t.replace("/",""),new Error("".concat(l," not supported by the connected account."));if(401!==(null==u?void 0:u.status))return[3,10];p.label=6;case 6:return p.trys.push([6,8,,9]),[4,r.authorize()];case 7:return p.sent(),[3,9];case 8:if(f=p.sent(),console.error(f),wp(f,Error))throw new Error(f.message);return[3,9];case 9:return[2,r.request(e,t,n)];case 10:throw d="".concat(null==u?void 0:u.data.message,"\n(").concat(c.message,")"),new Error(d);case 11:return[3,12];case 12:if(!(null==a?void 0:a.error))return[3,18];if(1*a.code!=1||r.noRetry)return[3,17];p.label=13;case 13:return p.trys.push([13,15,,16]),[4,r.authorize()];case 14:return p.sent(),[3,16];case 15:if(h=p.sent(),console.error(h),wp(h,Error))throw new Error(h.message);return[3,16];case 16:return r.noRetry=!0,[2,r.request(e,t,n)];case 17:throw new Error(a.message);case 18:return[2,a]}}))}))()}}],n&&mp(t.prototype,n),r&&mp(t,r),e}();function Op(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pp(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(e)}function Np(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?Op(e):t;var n}function xp(e,t){return xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xp(e,t)}function Rp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tp(e);if(t){var i=Tp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Np(this,n)}}function Cp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Bp(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xp(e,t)}(a,e);var t,n,r,i=Rp(a);function a(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.apply(this,arguments),t=Op(e),r=void 0,(n="_port")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=a,n=[{key:"port",get:function(){return this._port||this.connectNativeCompanion(),this._port}},{key:"connectNativeCompanion",value:function(){var e=this;this._port=o().runtime.connectNative("alby"),this._port.onMessage.addListener((function(t){"status"===t.id&&502===t.status&&t.header["X-Alby-Internal"]&&(console.error("Error in the native companion. Shutting it down"),console.error(t),e.unload())})),this._port.onDisconnect.addListener((function(t){console.error("Native companion disconnected"),t.error&&console.error("Native companion error: ".concat(t.error.message)),e._port=null}))}},{key:"init",value:function(){var e=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Pp(o,r,i,a,s,"next",e)}function s(e){Pp(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){return Cp(this,(function(t){return e._port||e.connectNativeCompanion(),[2]}))}))()}},{key:"unload",value:function(){var e=this;return new Promise((function(t,n){e._port?(e._port.disconnect(),e._port=null,setTimeout(t,5e3)):t()}))}}],n&&Ip(t.prototype,n),r&&Ip(t,r),a}(e)}function Lp(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Up(e)}function Mp(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Hp(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function zp(e,t){return zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zp(e,t)}function Fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Up(e);if(t){var i=Up(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hp(this,n)}}function Kp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zp(e,t)}(o,e);var t,n,r,i=Fp(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n=[{key:"_nativeRequest",value:function(e){var t=this;return new Promise((function(n,r){var i=function(o){o.id===e.id&&(t.port.onMessage.removeListener(i),o.status>299?r(new Error(o.body)):n(o))};t.port.onMessage.addListener(i),t.port.postMessage(e)}))}},{key:"request",value:function(e,t,n){var r=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Lp(o,r,i,a,s,"next",e)}function s(e){Lp(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){var i,o,a,s,c;return Kp(this,(function(u){switch(u.label){case 0:return o={},t=r.config.url+(r.config.url.endsWith("/")?"":"/")+t,"GET"!==e&&(o={"Content-type":"application/json"}),r.jwt&&(o=Mp(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Dp(e,t,n[t])}))}return e}({},o),{Authorization:"JWT ".concat(r.jwt)})),"POST"===e&&(i=JSON.stringify(n)),[4,r._nativeRequest({headers:o,url:t,method:e||"GET",id:t+Math.floor(1e3*Math.random()+1).toString(),body:i})];case 1:if(200!==(a=u.sent()).status)throw new Error(a.body);s=a.body;try{c=JSON.parse(s)}catch(e){throw new Error("Received invalid data: ".concat(s))}if("string"==typeof c)throw new Error(c);return[2,c]}}))}))()}}],n&&jp(t.prototype,n),r&&jp(t,r),o}(Bp(du));function Vp(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gp(e){return Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gp(e)}function Yp(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function $p(e,t){return $p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$p(e,t)}function Zp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gp(e);if(t){var i=Gp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yp(this,n)}}function Xp(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Jp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$p(e,t)}(o,e);var t,n,r,i=Zp(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n=[{key:"_nativeRequest",value:function(e){var t=this;return new Promise((function(n,r){var i=function(o){o.id===e.id&&(t.port.onMessage.removeListener(i),o.status>299?r(new Error(o.body)):n(o))};t.port.onMessage.addListener(i),t.port.postMessage(e)}))}},{key:"request",value:function(e,t,n,r){var i=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Vp(o,r,i,a,s,"next",e)}function s(e){Vp(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){var o,a,s,c,u,l,f;return Xp(this,(function(d){switch(d.label){case 0:a={Accept:"application/json","Content-Type":"application/json","X-Api-Key":n},"POST"===e&&(o=JSON.stringify(r)),(s=new URL(i.config.url)).pathname=t,c={id:t,method:e,url:s.toString(),headers:a,body:o},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,i._nativeRequest(c)];case 2:return l=d.sent(),u=JSON.parse(l.body),[3,4];case 3:if(f=d.sent(),console.error(f),h=f,null!=(p=Error)&&"undefined"!=typeof Symbol&&p[Symbol.hasInstance]?p[Symbol.hasInstance](h):h instanceof p)throw new Error(f.message);return[3,4];case 4:return[2,u]}var h,p}))}))()}}],n&&Wp(t.prototype,n),r&&Wp(t,r),o}(Bp(jh));function Qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ey(e)}function ty(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function ny(e,t){return ny=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ny(e,t)}function ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ey(e);if(t){var i=ey(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ty(this,n)}}var iy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ny(e,t)}(o,e);var t,n,r,i=ry(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n=[{key:"request",value:function(e,t,n){var r=this,i=new URL(this.config.url);i.pathname=t;var o="",a={Accept:"application/json"};return"POST"===e?(o=JSON.stringify(n),a["Content-Type"]="application/json"):void 0!==n&&(i.search=new URLSearchParams(n).toString()),this.config.macaroon&&(a["Grpc-Metadata-macaroon"]=this.config.macaroon),new Promise((function(n,s){var c=function(e){if(e.id===t)if(r.port.onMessage.removeListener(c),e.status>299)s(new Error(e.body));else{var i=JSON.parse(e.body);n(i)}};r.port.onMessage.addListener(c),r.port.postMessage({id:t,method:e,url:i.toString(),body:o,headers:a})}))}}],n&&Qp(t.prototype,n),r&&Qp(t,r),o}(Bp(dp));function oy(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ay(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){oy(o,r,i,a,s,"next",e)}function s(e){oy(o,r,i,a,s,"throw",e)}a(void 0)}))}}function sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cy(e)}function uy(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function ly(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function fy(e,t){return fy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fy(e,t)}function dy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cy(e);if(t){var i=cy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ly(this,n)}}function hy(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var py=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fy(e,t)}(o,e);var t,n,r,i=dy(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,n=[{key:"_nativeRequest",value:function(e){var t=this;return new Promise((function(n,r){var i=function(o){o.id===e.id&&(t.port.onMessage.removeListener(i),o.status>299?r(new Error(o.body)):n(o))};t.port.onMessage.addListener(i),t.port.postMessage(e)}))}},{key:"authorize",value:function(){var e=this;return ay((function(){var t,n,r,i;return hy(this,(function(o){return t={Accept:"application/json","Content-Type":"application/json"},(n=new URL(e.config.url)).pathname="/auth",r={type:"auth"},i=JSON.stringify({login:e.config.login,password:e.config.password}),[2,e._nativeRequest({id:"auth",method:"POST",url:n.toString(),body:i,params:r,headers:t}).then((function(t){var n=JSON.parse(t.body);if(n&&n.error)throw new Error("API error: "+n.message+" (code "+n.code+")");if(!n.access_token||!n.refresh_token)throw new Error("API unexpected response: "+JSON.stringify(n));return e.refresh_token=n.refresh_token,e.access_token=n.access_token,e.refresh_token_created=+new Date,e.access_token_created=+new Date,n}))]}))}))()}},{key:"request",value:function(e,t,n){var r=this;return ay((function(){var i,o,a,s,c,u,l,f,d;return hy(this,(function(h){switch(h.label){case 0:return r.access_token?[3,2]:[4,r.authorize()];case 1:h.sent(),h.label=2;case 2:i={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r.access_token)},(o=new URL(r.config.url)).pathname=t,"POST"===e?a=JSON.stringify(n):s=n,c={id:t,method:e,url:o.toString(),headers:i,body:a,params:s},h.label=3;case 3:return h.trys.push([3,5,,6]),[4,r._nativeRequest(c)];case 4:return l=h.sent(),u=JSON.parse(l.body),[3,6];case 5:if(f=h.sent(),console.error(f),uy(f,Error))throw new Error(f.message);return[3,6];case 6:if(!u||!u.error)return[3,12];if(1*u.code!=1||r.noRetry)return[3,11];h.label=7;case 7:return h.trys.push([7,9,,10]),[4,r.authorize()];case 8:return h.sent(),[3,10];case 9:if(d=h.sent(),console.error(d),uy(d,Error))throw new Error(d.message);return[3,10];case 10:return r.noRetry=!0,[2,r.request(e,t,n)];case 11:throw new Error(u.message);case 12:return[2,u]}}))}))()}}],n&&sy(t.prototype,n),r&&sy(t,r),o}(Bp(Ap));function yy(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function gy(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){yy(o,r,i,a,s,"next",e)}function s(e){yy(o,r,i,a,s,"throw",e)}a(void 0)}))}}function by(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function my(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vy(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var wy=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),my(this,"config",void 0),my(this,"nwc",void 0),this.config=n,this.nwc=new Zc.NostrWebLNProvider({nostrWalletConnectUrl:this.config.nostrWalletConnectUrl})}var t,n,r;return t=e,(n=[{key:"supportedMethods",get:function(){return["getInfo","makeInvoice","sendPayment","sendPaymentAsync","getBalance","keysend","getTransactions"]}},{key:"init",value:function(){var e=this;return gy((function(){return vy(this,(function(t){return[2,e.nwc.enable()]}))}))()}},{key:"unload",value:function(){var e=this;return gy((function(){return vy(this,(function(t){return e.nwc.close(),[2]}))}))()}},{key:"getInfo",value:function(){var e=this;return gy((function(){return vy(this,(function(t){switch(t.label){case 0:return[4,e.nwc.getInfo()];case 1:return[2,{data:t.sent().node}]}}))}))()}},{key:"getBalance",value:function(){var e=this;return gy((function(){return vy(this,(function(t){switch(t.label){case 0:return[4,e.nwc.getBalance()];case 1:return[2,{data:{balance:t.sent().balance,currency:"BTC"}}]}}))}))()}},{key:"getTransactions",value:function(){var e=this;return gy((function(){return vy(this,(function(t){switch(t.label){case 0:return[4,e.nwc.listTransactions({unpaid:!1,limit:50})];case 1:return[2,{data:{transactions:t.sent().transactions.map((function(e,t){return{id:"".concat(t),memo:e.description,preimage:e.preimage,payment_hash:e.payment_hash,settled:!0,settleDate:new Date(e.settled_at).getTime(),totalAmount:e.amount,type:"incoming"==e.type?"received":"sent"}}))}}]}}))}))()}},{key:"makeInvoice",value:function(e){var t=this;return gy((function(){var n,r,i,o;return vy(this,(function(a){switch(a.label){case 0:return[4,t.nwc.makeInvoice({amount:e.amount,defaultMemo:e.memo})];case 1:if(r=a.sent(),i=Zd().decode(r.paymentRequest),!(o=null===(n=i.tags.find((function(e){return"payment_hash"===e.tagName})))||void 0===n?void 0:n.data))throw new Error("Could not find payment hash in invoice");return[2,{data:{paymentRequest:r.paymentRequest,rHash:o}}]}}))}))()}},{key:"sendPayment",value:function(e){var t=this;return gy((function(){var n,r,i;return vy(this,(function(o){switch(o.label){case 0:if(r=Zd().decode(e.paymentRequest),!(i=null===(n=r.tags.find((function(e){return"payment_hash"===e.tagName})))||void 0===n?void 0:n.data))throw new Error("Could not find payment hash in invoice");return[4,t.nwc.sendPayment(e.paymentRequest)];case 1:return[2,{data:{preimage:o.sent().preimage,paymentHash:i,route:{total_amt:parseInt(r.millisatoshis||"0")/1e3,total_fees:0}}}]}}))}))()}},{key:"keysend",value:function(e){var t=this;return gy((function(){var n,r;return vy(this,(function(i){switch(i.label){case 0:return[4,t.nwc.keysend({destination:e.pubkey,amount:e.amount,customRecords:e.customRecords})];case 1:return n=i.sent(),r=ca()(n.preimage).toString(aa()),[2,{data:{preimage:n.preimage,paymentHash:r,route:{total_amt:e.amount,total_fees:0}}}]}}))}))()}},{key:"checkPayment",value:function(e){var t=this;return gy((function(){var n;return vy(this,(function(r){switch(r.label){case 0:return[4,t.nwc.lookupInvoice({paymentHash:e.paymentHash})];case 1:return[2,{data:{paid:(n=r.sent()).paid,preimage:n.preimage}}]}}))}))()}},{key:"signMessage",value:function(e){throw new Error("Method not implemented.")}},{key:"connectPeer",value:function(e){throw new Error("Method not implemented.")}}])&&by(t.prototype,n),r&&by(t,r),e}();const _y={lnd:dp,nativelnd:iy,lndhub:Ap,nativelndhub:py,kollider:Ih,lnbits:jh,lnc:np,nativelnbits:Jp,galoy:ih,eclair:jd,citadel:du,nativecitadel:qp,commando:Pd,alby:iu,nwc:wy};var Ey=a(84434),Sy=a(432);function ky(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Ay(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ky(o,r,i,a,s,"next",e)}function s(e){ky(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Py(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Iy=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=void 0,(r="httpClient")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.httpClient=Ud().create({baseURL:t,adapter:Wd})}var t,n,r;return t=e,r=[{key:"fromNetwork",value:function(t){switch(t){case"liquid":return new e("https://blockstream.info/liquid/api");case"testnet":return new e("https://blockstream.info/liquidtestnet/api");default:throw new Error("Unsupported network: ".concat(t))}}}],(n=[{key:"getAsset",value:function(e){var t=this;return Ay((function(){var n;return Py(this,(function(r){switch(r.label){case 0:return Ty.includes(e)?[2,Ny(e)]:[4,t.httpClient.get("/asset/".concat(e))];case 1:if(n=r.sent(),!("object"==typeof(o=n.data)&&null!==o&&"asset_id"in o&&"string"==typeof o.asset_id&&"ticker"in o&&"string"==typeof o.ticker&&"name"in o&&"string"==typeof o.name&&"precision"in o&&"number"==typeof o.precision))throw new Error("Invalid response");return[2,(i=n.data,{assetHash:i.asset_id,ticker:i.ticker,name:i.name,precision:i.precision})]}var i,o}))}))()}}])&&Oy(t.prototype,n),r&&Oy(t,r),e}();var Ty=[Ey.networks.liquid.assetHash,Ey.networks.testnet.assetHash,Ey.networks.regtest.assetHash],Ny=function(e){return{assetHash:e,ticker:"LBTC",name:"Liquid Bitcoin",precision:8}};function xy(){return xy=Ay((function(e,t,n){var r,i,o,a,s,c,u,l,f,d,h,p,y,g,b,m,v,w,_,E,S;return Py(this,(function(k){switch(k.label){case 0:r=new Set,i=!0,o=!1,a=void 0;try{for(s=t.inputs[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)u=c.value,r.add(u.asset)}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}l=!0,f=!1,d=void 0;try{for(h=t.outputs[Symbol.iterator]();!(l=(p=h.next()).done);l=!0)y=p.value,r.add(y.asset)}catch(e){f=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}return g={},[4,Promise.allSettled(Array.from(r).map((function(t){return e.getAsset(t)})))];case 1:b=k.sent(),m=!0,v=!1,w=void 0;try{for(_=b[Symbol.iterator]();!(m=(E=_.next()).done);m=!0)"fulfilled"!==(S=E.value).status?"rejected"===S.status&&n(S.reason):g[S.value.assetHash]=S.value}catch(e){v=!0,w=e}finally{try{m||null==_.return||_.return()}finally{if(v)throw w}}return[2,g]}}))})),xy.apply(this,arguments)}function Ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function By(e,t){var n=e.inputs[t];return n.explicitValue?n.explicitValue:n.witnessUtxo&&!Ey.ElementsValue.fromBytes(n.witnessUtxo.value).isConfidential?Ey.ElementsValue.fromBytes(n.witnessUtxo.value).number:void 0}function Ly(e,t){var n=e.inputs[t];return n.explicitAsset?Ey.AssetHash.fromBytes(n.explicitAsset).hex:!n.witnessUtxo||n.witnessUtxo.rangeProof||n.witnessUtxo.surjectionProof?void 0:Ey.AssetHash.fromBytes(n.witnessUtxo.asset).hex}var jy=a(48764).Buffer;var Dy=$i.CURVE.n;function Uy(e,t,n){if(t.length!==n)throw new Error("(".concat(e,") Expected ").concat(n," bytes, got ").concat(t.length))}function My(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t));var t;return BigInt("0x".concat(e))}var Hy=function(e){return My(jy.from(e).toString("hex"))},zy=function(e){return e.toString(16).padStart(64,"0")};function Fy(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return $i.ProjectivePoint.fromPrivateKey(e).toRawBytes(t)}function Ky(e,t){var n=$i.ProjectivePoint.fromPrivateKey(e),r=$i.ProjectivePoint.fromHex(t);return n.subtract(r).toRawBytes(!0)}function qy(e,t,n){return po.sign(e,t,n)}function Vy(e,t,n){return po.verify(n,e,t)}function Wy(e){try{return $i.ProjectivePoint.fromHex(e),!0}catch(e){return!1}}function Gy(e,t){return $i.ProjectivePoint.fromHex(e).toRawBytes(t)}function Yy(e){try{return $i.ProjectivePoint.fromPrivateKey(e),!0}catch(e){return!1}}function $y(e,t){e=jy.concat([jy.from([2]),e]);var n=$i.ProjectivePoint.fromHex(e),r=$i.ProjectivePoint.fromPrivateKey(t),i=null;try{i=n.add(r)}catch(e){return null}return{parity:i.hasEvenY()?0:1,xOnlyPubkey:i.toRawBytes(!0).slice(1)}}function Zy(e,t){Uy("privateKey",e,32),Uy("tweak",t,32);var n=Hy(t);if(n===BigInt(0))throw new Error("Tweak must not be zero");if(n>=Dy)throw new Error("Tweak bigger than curve order");if((n+=Hy(e))>=Dy&&(n-=Dy),n===BigInt(0))throw new Error("The tweak was out of range or the resulted private key is invalid");return jy.from(zy(n),"hex")}function Xy(e){Uy("privateKey",e,32);var t=Si(-Hy(e),Dy);return jy.from(zy(t),"hex")}function Jy(e,t,n){throw new Error("sign not implemented")}function Qy(e,t,n,r){throw new Error("verify not implemented")}var eg=a(48764).Buffer;function tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ig(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function og(e,t){var n=e,r=eg.from(_n(n,!0));3===r[0]&&(n=eg.from(Xy(e)));var i=Zy(n,function(e,t){return Ey.crypto.taggedHash("TapTweak/elements",eg.concat(t?[e,t]:[e]))}(r.subarray(1),t));if(!i)throw new Error("Invalid tweaked private key");return eg.from(i)}var ag=function(){function e(n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rg(this,"slip77",void 0),rg(this,"network",void 0),rg(this,"mnemonic",void 0),rg(this,"networkType",void 0),rg(this,"privateKey",void 0),this.mnemonic=n,this.privateKey=this.deriveLiquidPrivateKeyHex(r),this.networkType=r,this.network=Ey.networks[r],!this.network)throw new Error('Invalid network: "'.concat(r,'"'));var i=this.deriveLiquidMasterBlindingKey();this.slip77=(0,Sy.e)(t).fromMasterBlindingKey(i)}var n,r,i;return n=e,r=[{key:"getPublicKey",value:function(){var e=_n(eg.from(this.privateKey,"hex"),!0);return eg.from(e).toString("hex")}},{key:"getPsetPreview",value:function(e){return function(e,t){var n=t?Ey.networks[t]:void 0,r=Ey.Pset.fromBase64(e),i={inputs:[],outputs:[]},o=!0,a=!1,s=void 0;try{for(var c,u=r.inputs.entries()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=Cy(c.value,2),f=l[0],d=l[1].witnessUtxo;if(!d)throw new Error("No witnessUtxo in input #".concat(f));var h=void 0;try{h=Ey.address.fromOutputScript(d.script,n)}catch(e){h=Ey.script.toASM(d.script)}var p=Ly(r,f);if(p){var y=By(r,f);y&&i.inputs.push({address:h,asset:p,amount:y})}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var g=!0,b=!1,m=void 0;try{for(var v,w=r.outputs.entries()[Symbol.iterator]();!(g=(v=w.next()).done);g=!0){var _=Cy(v.value,2),E=_[0],S=_[1];if(S.script&&0!==S.script.length){var k=void 0;try{k=Ey.address.fromOutputScript(S.script,n)}catch(e){k=Ey.script.toASM(S.script)}var A=S.asset;if(!A)throw new Error("No asset in output #".concat(E));var O=S.value;if(!O)throw new Error("No value in output #".concat(E));i.outputs.push({address:k,asset:Ey.AssetHash.fromBytes(A).hex,amount:O})}}}catch(e){b=!0,m=e}finally{try{g||null==w.return||w.return()}finally{if(b)throw m}}return i}(e,this.networkType)}},{key:"fetchAssetRegistry",value:function(e){return function(e,t,n){return xy.apply(this,arguments)}(Iy.fromNetwork(this.networkType),e,console.error)}},{key:"getAddress",value:function(){var e=Ey.bip341.BIP341Factory(t).taprootOutputScript(eg.from(this.getPublicKey(),"hex")),n=Ey.address.fromOutputScript(e,this.network),r=this.slip77.derive(e);if(!r.publicKey||!r.privateKey)throw new Error("Invalid blinding keys");return{address:Ey.address.toConfidential(n,r.publicKey),blindingPrivateKey:r.privateKey.toString("hex")}}},{key:"signSchnorr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=eg.from(this.privateKey,"hex");t&&(n=og(n));var r=qy(eg.from(e,"hex"),n,eg.alloc(32));return eg.from(r).toString("hex")}},{key:"signPset",value:function(e){var n=eg.from(eg.from(this.getPublicKey(),"hex")).subarray(1),r=new Ey.Signer(e),i=!0,o=!1,a=void 0;try{for(var s,c=e.inputs.entries()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=ig(s.value,2),l=u[0],f=u[1];if(f.tapInternalKey&&f.tapInternalKey.equals(n)){var d=f.sighashType||Ey.Transaction.SIGHASH_DEFAULT,h=e.getInputPreimage(l,d,this.network.genesisBlockHash),p=this.signSchnorr(eg.from(h).toString("hex"),!0),y={tapKeySig:cg(eg.from(p,"hex"),d),genesisBlockHash:this.network.genesisBlockHash};r.addSignature(l,y,Ey.Pset.SchnorrSigValidator(t))}else if(f.tapLeafScript&&f.tapLeafScript.length>0){var g=!0,b=!1,m=void 0;try{for(var v,w=f.tapLeafScript[Symbol.iterator]();!(g=(v=w.next()).done);g=!0){var _=v.value,E=_.script.toString("hex");if(E.includes(n.subarray(1).toString("hex"))){var S=Ey.bip341.tapLeafHash({scriptHex:E,version:_.leafVersion}),k=f.sighashType||Ey.Transaction.SIGHASH_DEFAULT,A=e.getInputPreimage(l,k,this.network.genesisBlockHash,S),O=this.signSchnorr(A.toString("hex")),P={tapScriptSigs:[{leafHash:S,pubkey:n,signature:cg(eg.from(O,"hex"),k)}],genesisBlockHash:this.network.genesisBlockHash};r.addSignature(l,P,Ey.Pset.SchnorrSigValidator(t))}}}catch(e){b=!0,m=e}finally{try{g||null==w.return||w.return()}finally{if(b)throw m}}}}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return r.pset}},{key:"deriveLiquidPrivateKeyHex",value:function(e){var t="liquid"===e?"m/84'/1776'/0'/0/0":"m/84'/1'/0'/0/0";return Bn.bytesToHex(this.mnemonic.deriveKey(t).privateKey)}},{key:"deriveLiquidMasterBlindingKey",value:function(){return(0,Sy.e)(t).fromSeed(eg.from(ia(this.mnemonic.mnemonic))).masterKey.toString("hex")}}],r&&ng(n.prototype,r),i&&ng(n,i),e}();const sg=ag;var cg=function(e,t){return eg.concat([e,0!==t?eg.of(t):eg.alloc(0)])};function ug(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function lg(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function fg(e){if(t=e,!(null!=(n=Object)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n))return!1;var t,n;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if(!Array.isArray(e.tags))return!1;for(var r=0;r<e.tags.length;r++){var i=e.tags[r];if(!Array.isArray(i))return!1;for(var o=0;o<i.length;o++)if("object"==typeof i[o])return!1}return!0}function dg(e,t){return hg.apply(this,arguments)}function hg(){return hg=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ug(o,r,i,a,s,"next",e)}function s(e){ug(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n;return lg(this,(function(r){switch(r.label){case 0:return[4,po.sign(pg(e),t)];case 1:return n=r.sent(),[2,Bn.bytesToHex(n)]}}))})),hg.apply(this,arguments)}function pg(e){return ca()(function(e){if(!fg(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e)).toString(aa())}function yg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gg(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function bg(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){gg(o,r,i,a,s,"next",e)}function s(e){gg(o,r,i,a,s,"throw",e)}a(void 0)}))}}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wg(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var _g=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=void 0,(r="privateKey")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.privateKey=t}var t,n,r;return t=e,(n=[{key:"getPublicKey",value:function(){var e=po.getPublicKey(Bn.hexToBytes(this.privateKey));return Bn.bytesToHex(e)}},{key:"signEvent",value:function(e){var t=this;return bg((function(){var n;return wg(this,(function(r){switch(r.label){case 0:return[4,dg(e,t.privateKey)];case 1:return n=r.sent(),e.sig=n,[2,e]}}))}))()}},{key:"signSchnorr",value:function(e){var t=this;return bg((function(){var n;return wg(this,(function(r){switch(r.label){case 0:return[4,po.sign(ol.Buffer.from(Bn.hexToBytes(e)),Bn.hexToBytes(t.privateKey))];case 1:return n=r.sent(),[2,Bn.bytesToHex(n)]}}))}))()}},{key:"encrypt",value:function(e,t){var n=Rn(this.privateKey,"02"+e),r=ol.Buffer.from(n.slice(1,33)),i=Bn.bytesToHex(r),o=aa().parse(i),a=C.AES.encrypt(t,o,{iv:C.lib.WordArray.random(16)});return"".concat(a.toString(),"?iv=").concat(a.iv.toString(C.enc.Base64))}},{key:"decrypt",value:function(e,t){var n=this;return bg((function(){var r,i,o,a,s,c,u,l;return wg(this,(function(f){return r=vg(t.split("?iv="),2),i=r[0],o=r[1],a=Rn(n.privateKey,"02"+e),s=ol.Buffer.from(a.slice(1,33)),c=Bn.bytesToHex(s),u=aa().parse(c),l=C.AES.decrypt(i,u,{iv:Td().parse(o)}),[2,pu().stringify(l)]}))}))()}},{key:"getEventHash",value:function(e){return pg(e)}}])&&mg(t.prototype,n),r&&mg(t,r),e}();const Eg=_g;function Sg(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function kg(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Sg(o,r,i,a,s,"next",e)}function s(e){Sg(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ag(e,t,n[t])}))}return e}function Pg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ig(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Tg={settings:Og({},Mt),accounts:{},currentAccountId:null,migrations:[],nostrPrivateKey:null},Ng=Object.keys(Tg),xg="sync",Rg=function(){return{connector:null,account:null,settings:Og({},Mt),migrations:[],accounts:{},currentAccountId:null,liquid:null,nostr:null,nostrPrivateKey:null,mnemonic:null,bitcoin:null,mv2Password:null}},Cg=function(e){const t="function"==typeof e?x(e):e,n=(e=t.getState,n=Object.is)=>{const[,r]=(0,N.useReducer)((e=>e+1),0),i=t.getState(),o=(0,N.useRef)(i),a=(0,N.useRef)(e),s=(0,N.useRef)(n),c=(0,N.useRef)(!1),u=(0,N.useRef)();let l;void 0===u.current&&(u.current=e(i));let f=!1;(o.current!==i||a.current!==e||s.current!==n||c.current)&&(l=e(i),f=!n(u.current,l)),R((()=>{f&&(u.current=l),o.current=i,a.current=e,s.current=n,c.current=!1}));const d=(0,N.useRef)(i);R((()=>{const e=()=>{try{const e=t.getState(),n=a.current(e);s.current(u.current,n)||(o.current=e,u.current=n,r())}catch(e){c.current=!0,r()}},n=t.subscribe(e);return t.getState()!==d.current&&e(),n}),[]);const h=f?l:u.current;return(0,N.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}((function(e,t){return Pg(Og({},Rg()),{password:function(){var n=kg((function(n){return Ig(this,(function(r){switch(r.label){case 0:return E?n?[4,o().storage.session.set({password:n})]:[3,2]:[3,4];case 1:r.sent(),r.label=2;case 2:return[4,o().storage.session.get("password")];case 3:return[2,r.sent().password];case 4:return n&&e({mv2Password:n}),[2,t().mv2Password];case 5:return[2]}}))}));return function(e){return n.apply(this,arguments)}}(),getAccount:function(){var e=t().currentAccountId,n=null;return e&&(n=t().accounts[e]),n},getConnector:kg((function(){var n;return Ig(this,(function(r){switch(r.label){case 0:return t().connector?[4,t().connector]:[3,2];case 1:return[2,r.sent()];case 2:return n=kg((function(){var e,n,r,i,o;return Ig(this,(function(a){switch(a.label){case 0:return e=t().currentAccountId,n=t().accounts[e],[4,t().password()];case 1:if(!(r=a.sent()))throw new Error("Password is not set");return i=L(n.config,r),[4,(o=new _y[n.connector](n,i)).init()];case 2:return a.sent(),[2,o]}}))}))(),e({connector:n}),[4,n];case 3:return[2,r.sent()]}}))})),getLiquid:kg((function(){var n,r,i,o,a,s;return Ig(this,(function(c){switch(c.label){case 0:return(n=t().liquid)?[2,n]:[4,t().getMnemonic()];case 1:return r=c.sent(),i=t().currentAccountId,o=t().accounts[i],a=o.bitcoinNetwork||"bitcoin",s=new sg(r,"bitcoin"===a?"liquid":a),e({liquid:s}),[2,s]}}))})),getNostr:kg((function(){var n,r,i,o,a,s;return Ig(this,(function(c){switch(c.label){case 0:return(n=t().nostr)?[2,n]:(r=t().currentAccountId,i=t().accounts[r],[4,t().password()]);case 1:if(!(o=c.sent()))throw new Error("Password is not set");return a=L(i.nostrPrivateKey,o),s=new Eg(a),e({nostr:s}),[2,s]}}))})),getMnemonic:kg((function(){var n,r,i,o,a,s;return Ig(this,(function(c){switch(c.label){case 0:return(n=t().mnemonic)?[2,n]:(r=t().currentAccountId,i=t().accounts[r],[4,t().password()]);case 1:if(!(o=c.sent()))throw new Error("Password is not set");return a=L(i.mnemonic,o),s=new pa(a),e({mnemonic:s}),[2,s]}}))})),getBitcoin:kg((function(){var n,r,i,o,a,s;return Ig(this,(function(c){switch(c.label){case 0:return(n=t().bitcoin)?[2,n]:[4,t().getMnemonic()];case 1:return r=c.sent(),i=t().currentAccountId,o=t().accounts[i],a=o.bitcoinNetwork||"bitcoin",s=new Vn(r,a),e({bitcoin:s}),[2,s]}}))})),lock:kg((function(){var n,r;return Ig(this,(function(i){switch(i.label){case 0:return E?[4,o().storage.session.set({password:null})]:[3,2];case 1:return i.sent(),[3,3];case 2:e({mv2Password:null}),i.label=3;case 3:return[4,o().tabs.query({title:"Alby"})];case 4:return n=i.sent(),r=Array.from(n,(function(e){return e.id})).filter((function(e){return"number"==typeof e})),o().tabs.remove(r),t().connector?[4,t().connector]:[3,7];case 5:return[4,i.sent().unload()];case 6:i.sent(),i.label=7;case 7:return e({connector:null,account:null,liquid:null,nostr:null,mnemonic:null,bitcoin:null}),[2]}}))})),isUnlocked:kg((function(){return Ig(this,(function(e){switch(e.label){case 0:return[4,t().password()];case 1:return[4,e.sent()];case 2:return[2,!!e.sent()]}}))})),init:function(){return o().storage.sync.get(Ng).then((function(t){var n=P()(Tg,t);e(n)})).catch((function(t){return console.info("storage.sync is not available. using storage.local"),xg="local",o().storage.local.get("__sync").then((function(t){var n=P()(Tg,t.mockSync);e(n)}))}))},reset:kg((function(){var n;return Ig(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o().storage.session.clear()];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),console.error("Failed to clear session storage",n),[3,3];case 3:return"sync"!==xg?[3,5]:[4,o().storage.sync.clear()];case 4:return r.sent(),[3,7];case 5:return[4,o().storage.local.clear()];case 6:r.sent(),r.label=7;case 7:return e(Og({},Rg())),[4,t().saveToStorage()];case 8:return r.sent(),[2]}}))})),saveToStorage:function(){var e=t(),n=Og({},Tg,T()(e,Ng));return"sync"===xg?o().storage.sync.set(n):o().storage.local.set({__sync:n})}})}));const Bg=Cg;function Lg(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function jg(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Lg(o,r,i,a,s,"next",e)}function s(e){Lg(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Dg(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Ug,Mg=new Map;!function(e){e.Default="alby_icon_yellow",e.Tipping="alby_icon_blue",e.Active="alby_icon_green"}(Ug||(Ug={}));var Hg=function(){var e=jg((function(e,t){var n;return Dg(this,(function(r){switch(r.label){case 0:return(null===(n=t.tab)||void 0===n?void 0:n.id)?[4,zg(e.args.icon,t.tab.id)]:[2,Promise.resolve({data:!1})];case 1:return r.sent(),[2,Promise.resolve({data:!0})]}}))}));return function(t,n){return e.apply(this,arguments)}}(),zg=function(){var e=jg((function(e,t){var n,r,i;return Dg(this,(function(a){return(n=Mg.get(t))&&"alby_icon_green"===n&&"alby_icon_blue"===e?[2,Promise.resolve()]:(Mg.set(t,e),r="dark"==Bg.getState().settings.theme?"_dark":"",i={path:{16:"../assets/icons/".concat(e).concat(r,"_16x16.png"),32:"../assets/icons/".concat(e).concat(r,"_32x32.png"),48:"../assets/icons/".concat(e).concat(r,"_48x48.png"),128:"../assets/icons/".concat(e).concat(r,"_128x128.png")},tabId:t},[2,E?o().action.setIcon(i):o().browserAction.setIcon(i)])}))}));return function(t,n){return e.apply(this,arguments)}}();const Fg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Kg=Object.keys,qg=Array.isArray;function Vg(e,t){return"object"!=typeof t||Kg(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||Fg.Promise||(Fg.Promise=Promise);const Wg=Object.getPrototypeOf,Gg={}.hasOwnProperty;function Yg(e,t){return Gg.call(e,t)}function $g(e,t){"function"==typeof t&&(t=t(Wg(e))),("undefined"==typeof Reflect?Kg:Reflect.ownKeys)(t).forEach((n=>{Xg(e,n,t[n])}))}const Zg=Object.defineProperty;function Xg(e,t,n,r){Zg(e,t,Vg(n&&Yg(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Jg(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Xg(e.prototype,"constructor",e),{extend:$g.bind(null,e.prototype)}}}}const Qg=Object.getOwnPropertyDescriptor;function eb(e,t){let n;return Qg(e,t)||(n=Wg(e))&&eb(n,t)}const tb=[].slice;function nb(e,t,n){return tb.call(e,t,n)}function rb(e,t){return t(e)}function ib(e){if(!e)throw new Error("Assertion Failed")}function ob(e){Fg.setImmediate?setImmediate(e):setTimeout(e,0)}function ab(e,t){return e.reduce(((e,n,r)=>{var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function sb(e,t){if(Yg(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=sb(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:sb(s,t.substr(a+1))}}function cb(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){ib("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)cb(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var a=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===n?qg(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var c=e[a];c&&Yg(e,a)||(c=e[a]={}),cb(c,s,n)}}else void 0===n?qg(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ub(e){var t={};for(var n in e)Yg(e,n)&&(t[n]=e[n]);return t}const lb=[].concat;function fb(e){return lb.apply([],e)}const db="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fb([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Fg[e])),hb=db.map((e=>Fg[e]));ab(db,(e=>[e,!0]));let pb=null;function yb(e){pb="undefined"!=typeof WeakMap&&new WeakMap;const t=gb(e);return pb=null,t}function gb(e){if(!e||"object"!=typeof e)return e;let t=pb&&pb.get(e);if(t)return t;if(qg(e)){t=[],pb&&pb.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(gb(e[n]))}else if(hb.indexOf(e.constructor)>=0)t=e;else{const n=Wg(e);for(var i in t=n===Object.prototype?{}:Object.create(n),pb&&pb.set(e,t),e)Yg(e,i)&&(t[i]=gb(e[i]))}return t}const{toString:bb}={};function mb(e){return bb.call(e).slice(8,-1)}const vb="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",wb="symbol"==typeof vb?function(e){var t;return null!=e&&(t=e[vb])&&t.apply(e)}:function(){return null},_b={};function Eb(e){var t,n,r,i;if(1===arguments.length){if(qg(e))return e.slice();if(this===_b&&"string"==typeof e)return[e];if(i=wb(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Sb="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var kb="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ab(e,t){kb=e,Ob=t}var Ob=()=>!0;const Pb=!new Error("").stack;function Ib(){if(Pb)try{throw Ib.arguments,new Error}catch(e){return e}return new Error}function Tb(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Ob).map((e=>"\n"+e)).join("")):""}var Nb=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],xb=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Nb),Rb={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Cb(e,t){this._e=Ib(),this.name=e,this.message=t}function Bb(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Lb(e,t,n,r){this._e=Ib(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Bb(e,t)}function jb(e,t){this._e=Ib(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Bb(e,t)}Jg(Cb).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Tb(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Jg(Lb).from(Cb),Jg(jb).from(Cb);var Db=xb.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Ub=Cb;var Mb=xb.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=Ib(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Rb[t]||n,this.inner=null)}return Jg(r).from(Ub),e[t]=r,e}),{});Mb.Syntax=SyntaxError,Mb.Type=TypeError,Mb.Range=RangeError;var Hb=Nb.reduce(((e,t)=>(e[t+"Error"]=Mb[t],e)),{}),zb=xb.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Mb[t]),e)),{});function Fb(){}function Kb(e){return e}function qb(e,t){return null==e||e===Kb?t:function(n){return t(e(n))}}function Vb(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Wb(e,t){return e===Fb?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Vb(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Vb(i,this.onerror):i),void 0!==o?o:n}}function Gb(e,t){return e===Fb?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Vb(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Vb(r,this.onerror):r)}}function Yb(e,t){return e===Fb?t:function(n){var r=e.apply(this,arguments);Vg(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Vb(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Vb(o,this.onerror):o),void 0===r?void 0===a?void 0:a:Vg(r,a)}}function $b(e,t){return e===Fb?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Zb(e,t){return e===Fb?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}zb.ModifyError=Lb,zb.DexieError=Cb,zb.BulkError=jb;var Xb={};const Jb=100,[Qb,em,tm]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Wg(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Wg(t),e]})(),nm=em&&em.then,rm=Qb&&Qb.constructor,im=!!tm;var om=!1,am=tm?()=>{tm.then(Tm)}:Fg.setImmediate?setImmediate.bind(null,Tm):Fg.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Tm(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Tm,0)},sm=function(e,t){gm.push([e,t]),um&&(am(),um=!1)},cm=!0,um=!0,lm=[],fm=[],dm=null,hm=Kb,pm={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ev,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{ev(e[0],e[1])}catch(e){}}))}},ym=pm,gm=[],bm=0,mm=[];function vm(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Fb,this._lib=!1;var t=this._PSD=ym;if(kb&&(this._stackHolder=Ib(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Xb)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Sm(this,this._value))}this._state=null,this._value=null,++t.ref,Em(this,e)}const wm={get:function(){var e=ym,t=Mm;function n(n,r){var i=!e.global&&(e!==ym||t!==Mm);const o=i&&!Km();var a=new vm(((t,a)=>{Am(this,new _m(Xm(n,e,i,o),Xm(r,e,i,o),t,a,e))}));return kb&&Im(a,this),a}return n.prototype=Xb,n},set:function(e){Xg(this,"then",e&&e.prototype===Xb?wm:{get:function(){return e},set:wm.set})}};function _m(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Em(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Nm();t&&"function"==typeof t.then?Em(e,((e,n)=>{t instanceof vm?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,km(e)),n&&xm()}}),Sm.bind(null,e))}catch(t){Sm(e,t)}}function Sm(e,t){if(fm.push(t),null===e._state){var n=e._lib&&Nm();t=hm(t),e._state=!1,e._value=t,kb&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=eb(t,"stack");t._promise=e,Xg(t,"stack",{get:()=>om?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){lm.some((t=>t._value===e._value))||lm.push(e)}(e),km(e),n&&xm()}}function km(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Am(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===bm&&(++bm,sm((()=>{0==--bm&&Rm()}),[]))}function Am(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++bm,sm(Om,[n,e,t])}else e._listeners.push(t)}function Om(e,t,n){try{dm=t;var r,i=t._value;t._state?r=e(i):(fm.length&&(fm=[]),r=e(i),-1===fm.indexOf(i)&&function(e){for(var t=lm.length;t;)if(lm[--t]._value===e._value)return void lm.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{dm=null,0==--bm&&Rm(),--n.psd.ref||n.psd.finalize()}}function Pm(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,a=e._value;null!=a?(i=a.name||"Error",o=a.message||a,r=Tb(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+r)}return kb&&((r=Tb(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Pm(e._prev,t,n)),t}function Im(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Tm(){Nm()&&xm()}function Nm(){var e=cm;return cm=!1,um=!1,e}function xm(){var e,t,n;do{for(;gm.length>0;)for(e=gm,gm=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(gm.length>0);cm=!0,um=!0}function Rm(){var e=lm;lm=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=mm.slice(0),n=t.length;n;)t[--n]()}function Cm(e){return new vm(Xb,!1,e)}function Bm(e,t){var n=ym;return function(){var r=Nm(),i=ym;try{return Gm(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Gm(i,!1),r&&xm()}}}$g(vm.prototype,{then:wm,_then:function(e,t){Am(this,new _m(null,null,e,t,ym))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Cm(e))):this.then(null,(e=>e&&e.name===t?n(e):Cm(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Cm(t))))},stack:{get:function(){if(this._stack)return this._stack;try{om=!0;var e=Pm(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{om=!1}}},timeout:function(e,t){return e<1/0?new vm(((n,r)=>{var i=setTimeout((()=>r(new Mb.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Xg(vm.prototype,Symbol.toStringTag,"Dexie.Promise"),pm.env=Ym(),$g(vm,{all:function(){var e=Eb.apply(null,arguments).map(qm);return new vm((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((i,o)=>vm.resolve(i).then((n=>{e[o]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof vm)return e;if(e&&"function"==typeof e.then)return new vm(((t,n)=>{e.then(t,n)}));var t=new vm(Xb,!0,e);return Im(t,dm),t},reject:Cm,race:function(){var e=Eb.apply(null,arguments).map(qm);return new vm(((t,n)=>{e.map((e=>vm.resolve(e).then(t,n)))}))},PSD:{get:()=>ym,set:e=>ym=e},totalEchoes:{get:()=>Mm},newPSD:zm,usePSD:$m,scheduler:{get:()=>sm,set:e=>{sm=e}},rejectionMapper:{get:()=>hm,set:e=>{hm=e}},follow:(e,t)=>new vm(((n,r)=>zm(((t,n)=>{var r=ym;r.unhandleds=[],r.onunhandled=n,r.finalize=Vb((function(){!function(e){mm.push((function t(){e(),mm.splice(mm.indexOf(t),1)})),++bm,sm((()=>{0==--bm&&Rm()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),rm&&(rm.allSettled&&Xg(vm,"allSettled",(function(){const e=Eb.apply(null,arguments).map(qm);return new vm((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,i)=>vm.resolve(e).then((e=>r[i]={status:"fulfilled",value:e}),(e=>r[i]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),rm.any&&"undefined"!=typeof AggregateError&&Xg(vm,"any",(function(){const e=Eb.apply(null,arguments).map(qm);return new vm(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach(((e,o)=>vm.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--r||n(new AggregateError(i))}))))}))})));const Lm={awaits:0,echoes:0,id:0};var jm=0,Dm=[],Um=0,Mm=0,Hm=0;function zm(e,t,n,r){var i=ym,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Hm;var a=pm.env;o.env=im?{Promise:vm,PromiseProp:{value:vm,configurable:!0,writable:!0},all:vm.all,race:vm.race,allSettled:vm.allSettled,any:vm.any,resolve:vm.resolve,reject:vm.reject,nthen:Jm(a.nthen,o),gthen:Jm(a.gthen,o)}:{},t&&Vg(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=$m(o,e,n,r);return 0===o.ref&&o.finalize(),s}function Fm(){return Lm.id||(Lm.id=++jm),++Lm.awaits,Lm.echoes+=Jb,Lm.id}function Km(){return!!Lm.awaits&&(0==--Lm.awaits&&(Lm.id=0),Lm.echoes=Lm.awaits*Jb,!0)}function qm(e){return Lm.echoes&&e&&e.constructor===rm?(Fm(),e.then((e=>(Km(),e)),(e=>(Km(),tv(e))))):e}function Vm(e){++Mm,Lm.echoes&&0!=--Lm.echoes||(Lm.echoes=Lm.id=0),Dm.push(ym),Gm(e,!0)}function Wm(){var e=Dm[Dm.length-1];Dm.pop(),Gm(e,!1)}function Gm(e,t){var n=ym;if((t?!Lm.echoes||Um++&&e===ym:!Um||--Um&&e===ym)||Zm(t?Vm.bind(null,e):Wm),e!==ym&&(ym=e,n===pm&&(pm.env=Ym()),im)){var r=pm.env.Promise,i=e.env;em.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Fg,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Ym(){var e=Fg.Promise;return im?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Fg,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:em.then,gthen:e.prototype.then}:{}}function $m(e,t,n,r,i){var o=ym;try{return Gm(e,!0),t(n,r,i)}finally{Gm(o,!1)}}function Zm(e){nm.call(Qb,e)}function Xm(e,t,n,r){return"function"!=typeof e?e:function(){var i=ym;n&&Fm(),Gm(t,!0);try{return e.apply(this,arguments)}finally{Gm(i,!1),r&&Zm(Km)}}}function Jm(e,t){return function(n,r){return e.call(this,Xm(n,t),Xm(r,t))}}-1===(""+nm).indexOf("[native code]")&&(Fm=Km=Fb);const Qm="unhandledrejection";function ev(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(Fg.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Qm,!0,!0),Vg(r,i)):Fg.CustomEvent&&Vg(r=new CustomEvent(Qm,{detail:i}),i),r&&Fg.dispatchEvent&&(dispatchEvent(r),!Fg.PromiseRejectionEvent&&Fg.onunhandledrejection))try{Fg.onunhandledrejection(r)}catch(e){}kb&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var tv=vm.reject;function nv(e,t,n,r){if(e.idbdb&&(e._state.openComplete||ym.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Db.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>nv(e,t,n,r)))):tv(i)}return i._promise(t,((e,t)=>zm((()=>(ym.trans=i,r(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return tv(new Mb.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return tv(new Mb.DatabaseClosed);e.open().catch(Fb)}return e._state.dbReadyPromise.then((()=>nv(e,t,n,r)))}const rv="3.2.4",iv=String.fromCharCode(65535),ov=-1/0,av="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sv="String expected.",cv=[],uv="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),lv=uv,fv=uv,dv=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),hv="__dbnames",pv="readonly",yv="readwrite";function gv(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const bv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mv(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=yb(t))[e],t)}class vv{_trans(e,t,n){const r=this._tx||ym.trans,i=this.name;function o(e,n,r){if(!r.schema[i])throw new Mb.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}const a=Nm();try{return r&&r.db===this.db?r===ym.trans?r._promise(e,o,n):zm((()=>r._promise(e,o,n)),{trans:r,transless:ym.transless||ym}):nv(this.db,e,[this.name],o)}finally{a&&xm()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(qg(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=Kg(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==iv)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&kb&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,i=this.db._deps.indexedDB;function o(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}const[a,s]=t.reduce((([t,n],i)=>{const a=r[i],s=e[i];return[t||a,t||!a?gv(n,a&&a.multi?e=>{const t=sb(e,i);return qg(t)&&t.some((e=>o(s,e)))}:e=>o(s,sb(e,i))):n]}),[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(s):n?this.filter(s):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,qg(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(Yg(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){Vg(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=mv(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?vm.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{cb(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||qg(e))return this.where(":id").equals(e).modify(t);{const n=sb(e,this.schema.primKey.keyPath);if(void 0===n)return tv(new Mb.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Kg(t).forEach((n=>{cb(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=mv(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?vm.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{cb(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?vm.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:bv}))).then((e=>e.numFailures?vm.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Mb.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Mb.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let s=o&&n?e.map(mv(o)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new jb(`${this.name}.bulkAdd(): ${e} of ${a} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new Mb.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Mb.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let s=o&&n?e.map(mv(o)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new jb(`${this.name}.bulkPut(): ${e} of ${a} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new jb(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function wv(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(e,r,i){if("object"!=typeof e){var a;r||(r=$b),i||(i=Fb);var s={subscribers:[],fire:i,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=r(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter((function(t){return t!==e})),s.fire=s.subscribers.reduce(r,i)}};return t[e]=n[e]=s,s}Kg(a=e).forEach((function(e){var t=a[e];if(qg(t))o(e,a[e][0],a[e][1]);else{if("asap"!==t)throw new Mb.InvalidArgument("Invalid event config");var n=o(e,Kb,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){ob((function(){e.apply(null,t)}))}))}))}}))}}function _v(e,t){return Jg(t).from({prototype:e}),t}function Ev(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Sv(e,t){e.filter=gv(e.filter,t)}function kv(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>gv(r(),t()):t,e.justLimit=n&&!r}function Av(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Mb.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Ov(e,t,n){const r=Av(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Pv(e,t,n,r){const i=e.replayFilter?gv(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},a=(e,n,r)=>{if(!i||i(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),Yg(o,s)||(o[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Iv(Ov(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Iv(Ov(e,r,n),gv(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Iv(e,t,n,r){var i=Bm(r?(e,t,i)=>n(r(e),t,i):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=Fb}),(t=>{e.fail(t),n=Fb}))||i(e.value,e,(e=>n=e)),n()}))}))}function Tv(e,t){try{const n=Nv(e),r=Nv(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(xv(e),xv(t));case"Array":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n){const r=Tv(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Nv(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=mb(e);return"ArrayBuffer"===n?"binary":n}function xv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Rv{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,tv.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,tv.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=gv(t.algorithm,e)}_iterate(e,t){return Pv(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Vg(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Pv(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Ev(t,!0))return n.count({trans:e,query:{index:Av(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Pv(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var n=o(e,i),r=o(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(s)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Ev(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Av(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return Pv(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Ev(t)?kv(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):kv(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),kv(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Sv(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Sv(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=gv(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Ev(t,!0)&&t.limit>0)return this._read((e=>{var n=Av(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Sv(this._ctx,(function(e){var t=e.primaryKey.toString(),r=Yg(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var i=Kg(e),o=i.length;r=function(t){for(var n=!1,r=0;r<o;++r){var a=i[r],s=e[a];sb(t,a)!==s&&(cb(t,a,s),n=!0)}return n}}const a=t.table.core,{outbound:s,extractKey:c}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,l=[];let f=0;const d=[],h=(e,t)=>{const{failures:n,numFailures:r}=t;f+=e-r;for(let e of Kg(n))l.push(n[e])};return this.clone().primaryKeys().then((i=>{const o=l=>{const f=Math.min(u,i.length-l);return a.getMany({trans:n,keys:i.slice(l,l+f),cache:"immutable"}).then((d=>{const p=[],y=[],g=s?[]:null,b=[];for(let e=0;e<f;++e){const t=d[e],n={value:yb(t),primKey:i[l+e]};!1!==r.call(n,n.value,n)&&(null==n.value?b.push(i[l+e]):s||0===Tv(c(t),c(n.value))?(y.push(n.value),s&&g.push(i[l+e])):(b.push(i[l+e]),p.push(n.value)))}const m=Ev(t)&&t.limit===1/0&&("function"!=typeof e||e===Cv)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&a.mutate({trans:n,type:"add",values:p}).then((e=>{for(let t in e.failures)b.splice(parseInt(t),1);h(p.length,e)}))).then((()=>(y.length>0||m&&"object"==typeof e)&&a.mutate({trans:n,type:"put",keys:g,values:y,criteria:m,changeSpec:"function"!=typeof e&&e}).then((e=>h(y.length,e))))).then((()=>(b.length>0||m&&e===Cv)&&a.mutate({trans:n,type:"delete",keys:b,criteria:m}).then((e=>h(b.length,e))))).then((()=>i.length>l+f&&o(l+u)))}))};return o(0).then((()=>{if(l.length>0)throw new Lb("Error modifying one or more objects",l,f,d);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Ev(e)&&(e.isPrimKey&&!fv||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((({failures:e,lastResult:n,results:r,numFailures:i})=>{if(i)throw new Lb("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(Cv)}}const Cv=(e,t)=>t.value=null;function Bv(e,t){return e<t?-1:e===t?0:1}function Lv(e,t){return e>t?-1:e===t?0:1}function jv(e,t,n){var r=e instanceof Fv?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Dv(e){return new e.Collection(e,(()=>zv(""))).limit(0)}function Uv(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,c=0;c<a;++c){var u=t[c];if(u!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[c],u)<0&&(s=c)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function Mv(e,t,n,r){var i,o,a,s,c,u,l,f=n.length;if(!n.every((e=>"string"==typeof e)))return jv(e,sv);function d(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),a="next"===e?Bv:Lv;var t=n.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),u=e,l="next"===e?"":r}d("next");var h=new e.Collection(e,(()=>Hv(s[0],c[f-1]+r)));h._ondirectionchange=function(e){d(e)};var p=0;return h._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var d=o(i);if(t(d,c,p))return!0;for(var h=null,y=p;y<f;++y){var g=Uv(i,d,s[y],c[y],a,u);null===g&&null===h?p=y+1:(null===h||a(h,g)>0)&&(h=g)}return n(null!==h?function(){e.continue(h+l)}:r),!1})),h}function Hv(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function zv(e){return{type:1,lower:e,upper:e}}class Fv{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Dv(this):new this.Collection(this,(()=>Hv(e,t,!n,!r)))}catch(e){return jv(this,av)}}equals(e){return null==e?jv(this,av):new this.Collection(this,(()=>zv(e)))}above(e){return null==e?jv(this,av):new this.Collection(this,(()=>Hv(e,void 0,!0)))}aboveOrEqual(e){return null==e?jv(this,av):new this.Collection(this,(()=>Hv(e,void 0,!1)))}below(e){return null==e?jv(this,av):new this.Collection(this,(()=>Hv(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?jv(this,av):new this.Collection(this,(()=>Hv(void 0,e)))}startsWith(e){return"string"!=typeof e?jv(this,sv):this.between(e,e+iv,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Mv(this,((e,t)=>0===e.indexOf(t[0])),[e],iv)}equalsIgnoreCase(e){return Mv(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=Eb.apply(_b,arguments);return 0===e.length?Dv(this):Mv(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=Eb.apply(_b,arguments);return 0===e.length?Dv(this):Mv(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,iv)}anyOf(){const e=Eb.apply(_b,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return jv(this,av)}if(0===e.length)return Dv(this);const n=new this.Collection(this,(()=>Hv(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,i,o)=>{const a=n.key;for(;t(a,e[r])>0;)if(++r,r===e.length)return i(o),!1;return 0===t(a,e[r])||(i((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[ov,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Eb.apply(_b,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return jv(this,av)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[ov,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,i=this._descending,o=this._min,a=this._max;if(0===e.length)return Dv(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return jv(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Mb.InvalidArgument);const s=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;let u,l=r;function f(e,t){return l(e[0],t[0])}try{u=e.reduce((function(e,t){let r=0,i=e.length;for(;r<i;++r){const i=e[r];if(n(t[0],i[1])<0&&n(t[1],i[0])>0){i[0]=o(i[0],t[0]),i[1]=a(i[1],t[1]);break}}return r===i&&e.push(t),e}),[]),u.sort(f)}catch(e){return jv(this,av)}let d=0;const h=c?e=>r(e,u[d][1])>0:e=>r(e,u[d][1])>=0,p=s?e=>i(e,u[d][0])>0:e=>i(e,u[d][0])>=0;let y=h;const g=new this.Collection(this,(()=>Hv(u[0][0],u[u.length-1][1],!s,!c)));return g._ondirectionchange=e=>{"next"===e?(y=h,l=r):(y=p,l=i),u.sort(f)},g._addAlgorithm(((e,t,n)=>{for(var i=e.key;y(i);)if(++d,d===u.length)return t(n),!1;return!!function(e){return!h(e)&&!p(e)}(i)||(0===this._cmp(i,u[d][1])||0===this._cmp(i,u[d][0])||t((()=>{l===r?e.continue(u[d][0]):e.continue(u[d][1])})),!1)})),g}startsWithAnyOf(){const e=Eb.apply(_b,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Dv(this):this.inAnyRange(e.map((e=>[e,e+iv]))):jv(this,"startsWithAnyOf() only works with strings")}}function Kv(e){return Bm((function(t){return qv(t),e(t.target.error),!1}))}function qv(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Vv="storagemutated",Wv="x-storagemutated-1",Gv=wv(null,Vv);class Yv{_lock(){return ib(!ym.global),++this._reculock,1!==this._reculock||ym.global||(ym.lockOwnerFor=this),this}_unlock(){if(ib(!ym.global),0==--this._reculock)for(ym.global||(ym.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{$m(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&ym.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(ib(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new Mb.DatabaseClosed(n);case"MissingAPIError":throw new Mb.MissingAPI(n.message,n);default:throw new Mb.OpenFailed(n)}if(!this.active)throw new Mb.TransactionInactive;return ib(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Bm((t=>{qv(t),this._reject(e.error)})),e.onabort=Bm((t=>{qv(t),this.active&&this._reject(new Mb.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Bm((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Gv.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return tv(new Mb.ReadOnly("Transaction is readonly"));if(!this.active)return tv(new Mb.TransactionInactive);if(this._locked())return new vm(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},ym])}));if(n)return zm((()=>{var e=new vm(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new vm(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=vm.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new vm(((e,r)=>{n.then((n=>t._waitingQueue.push(Bm(e.bind(null,n)))),(e=>t._waitingQueue.push(Bm(r.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Mb.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(Yg(t,e))return t[e];const n=this.schema[e];if(!n)throw new Mb.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function $v(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Zv(t)}}function Zv(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Xv(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:ab(n,(e=>[e.name,e]))}}let Jv=e=>{try{return e.only([[]]),Jv=()=>[[]],[[]]}catch(e){return Jv=()=>iv,iv}};function Qv(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>sb(t,e)}(e):t=>sb(t,e)}function ew(e){return[].slice.call(e)}let tw=0;function nw(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function rw({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},i){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:o}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!o):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!o)}const{schema:i,hasGetAll:o}=function(e,t){const n=ew(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=qg(t),i=null==t,o={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Qv(t)},indexes:ew(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:i}=e,a={name:t,compound:qg(i),keyPath:i,unique:n,multiEntry:r,extractKey:Qv(i)};return o[nw(i)]=a,a})),getIndexByKeyPath:e=>o[nw(e)]};return o[":id"]=a.primaryKey,null!=t&&(o[nw(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:i,values:o,range:a}){return new Promise(((s,c)=>{s=Bm(s);const u=e.objectStore(t),l=null==u.keyPath,f="put"===n||"add"===n;if(!f&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:d}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let h;const p=[],y=[];let g=0;const b=e=>{++g,qv(e)};if("deleteRange"===n){if(4===a.type)return s({numFailures:g,failures:y,results:[],lastResult:void 0});3===a.type?p.push(h=u.clear()):p.push(h=u.delete(r(a)))}else{const[e,t]=f?l?[o,i]:[o,null]:[i,null];if(f)for(let r=0;r<d;++r)p.push(h=t&&void 0!==t[r]?u[n](e[r],t[r]):u[n](e[r])),h.onerror=b;else for(let t=0;t<d;++t)p.push(h=u[n](e[t])),h.onerror=b}const m=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(y[t]=e.error))),s({numFailures:g,failures:y,results:"delete"===n?i:p.map((e=>e.result)),lastResult:t})};h.onerror=e=>{b(e),m(e)},h.onsuccess=m}))},getMany:({trans:e,keys:n})=>new Promise(((r,i)=>{r=Bm(r);const o=e.objectStore(t),a=n.length,s=new Array(a);let c,u=0,l=0;const f=e=>{const t=e.target;s[t._pos]=t.result,++l===u&&r(s)},d=Kv(i);for(let e=0;e<a;++e)null!=n[e]&&(c=o.get(n[e]),c._pos=e,c.onsuccess=f,c.onerror=d,++u);0===u&&r(s)})),get:({trans:e,key:n})=>new Promise(((r,i)=>{r=Bm(r);const o=e.objectStore(t).get(n);o.onsuccess=e=>r(e.target.result),o.onerror=Kv(i)})),query:function(e){return n=>new Promise(((i,o)=>{i=Bm(i);const{trans:a,values:s,limit:c,query:u}=n,l=c===1/0?void 0:c,{index:f,range:d}=u,h=a.objectStore(t),p=f.isPrimaryKey?h:h.index(f.name),y=r(d);if(0===c)return i({result:[]});if(e){const e=s?p.getAll(y,l):p.getAllKeys(y,l);e.onsuccess=e=>i({result:e.target.result}),e.onerror=Kv(o)}else{let e=0;const t=s||!("openKeyCursor"in p)?p.openCursor(y):p.openKeyCursor(y),n=[];t.onsuccess=r=>{const o=t.result;return o?(n.push(s?o.value:o.primaryKey),++e===c?i({result:n}):void o.continue()):i({result:n})},t.onerror=Kv(o)}}))}(o),openCursor:function({trans:e,values:n,query:i,reverse:o,unique:a}){return new Promise(((s,c)=>{s=Bm(s);const{index:u,range:l}=i,f=e.objectStore(t),d=u.isPrimaryKey?f:f.index(u.name),h=o?a?"prevunique":"prev":a?"nextunique":"next",p=n||!("openKeyCursor"in d)?d.openCursor(r(l),h):d.openKeyCursor(r(l),h);p.onerror=Kv(c),p.onsuccess=Bm((t=>{const n=p.result;if(!n)return void s(null);n.___id=++tw,n.done=!1;const r=n.continue.bind(n);let i=n.continuePrimaryKey;i&&(i=i.bind(n));const o=n.advance.bind(n),a=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Bm(c),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Bm(e),p.onerror=Kv(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=a,e(t)}})),s=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=Bm((e=>{p.onsuccess=s,s()})),n.continue=r,n.continuePrimaryKey=i,n.advance=o,s(),t},s(n)}),c)}))},count({query:e,trans:n}){const{index:i,range:o}=e;return new Promise(((e,a)=>{const s=n.objectStore(t),c=i.isPrimaryKey?s:s.index(i.name),u=r(o),l=u?c.count(u):c.count();l.onsuccess=Bm((t=>e(t.target.result))),l.onerror=Kv(a)}))}}}(e))),s={};return a.forEach((e=>s[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!s[e])throw new Error(`Table '${e}' not found`);return s[e]},MIN_KEY:-1/0,MAX_KEY:Jv(t),schema:i}}(t,n,i),e.dbcore);return{dbcore:o}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function iw({_novip:e},t,n,r){n.forEach((n=>{const i=r[n];t.forEach((t=>{const r=eb(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Xg(t,n,{get(){return this.table(n)},set(e){Zg(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function ow({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function aw(e,t){return e._cfg.version-t._cfg.version}function sw(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const e={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!uv)e.recreate=!0,n.change.push(e);else{const t=i.idxByName,r=o.idxByName;let a;for(a in t)r[a]||e.del.push(a);for(a in r){const n=t[a],i=r[a];n?n.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,o])}return n}function cw(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>uw(i,e))),i}function uw(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function lw(e,t,n){const r={};return nb(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let i=t.keyPath;const o=$v(Zv(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),a=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);i=n.keyPath;var s=$v(n.name,i,!!n.unique,!!n.multiEntry,!1,i&&"string"!=typeof i,!1);a.push(s)}r[e]=Xv(e,o,a)})),r}function fw({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(let e=0;e<a.indexNames.length;++e){const n=a.indexNames[e],r=a.index(n).keyPath,i="string"==typeof r?r:"["+nb(r).join("+")+"]";if(t[o]){const e=t[o].idxByName[i];e&&(e.name=n,delete t[o].idxByName[i],t[o].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Fg.WorkerGlobalScope&&Fg instanceof Fg.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class dw{_parseStoresSpec(e,t){Kg(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return $v(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),qg(r),0===t)})),i=r.shift();if(i.multi)throw new Mb.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new Mb.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Mb.Schema("Index must have a name and cannot be an empty string")})),t[n]=Xv(n,i,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?Vg(this._cfg.storesSource,e):e;const n=t._versions,r={};let i={};return n.forEach((e=>{Vg(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,ow(t,[t._allTables,t,t.Transaction.prototype]),iw(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Kg(i),i),t._storeNames=Kg(i),this}upgrade(e){return this._cfg.contentUpgrade=Zb(this._cfg.contentUpgrade||Fb,e),this}}function hw(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Lw(hv,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function pw(e){return e&&"function"==typeof e.databases}function yw(e){return zm((function(){return ym.letThrough=!0,e()}))}function gw(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function bw(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?tv(t.dbOpenError):e));kb&&(t.openCanceller._stackHolder=Ib()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new Mb.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return vm.race([r,("undefined"==typeof navigator?vm.resolve():gw()).then((()=>new vm(((r,o)=>{if(i(),!n)throw new Mb.MissingAPI;const c=e.name,u=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!u)throw new Mb.MissingAPI;u.onerror=Kv(o),u.onblocked=Bm(e._fireOnBlocked),u.onupgradeneeded=Bm((r=>{if(a=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=qv,a.abort(),u.result.close();const e=n.deleteDatabase(c);e.onsuccess=e.onerror=Bm((()=>{o(new Mb.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{a.onerror=Kv(o);var i=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;s=i<1,e._novip.idbdb=u.result,function(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const a=o._reject.bind(o),s=ym.transless||ym;zm((()=>{ym.trans=o,ym.transless=s,0===t?(Kg(i).forEach((e=>{cw(n,e,i[e].primKey,i[e].indexes)})),rw(e,n),vm.follow((()=>e.on.populate.fire(o))).catch(a)):function({_novip:e},t,n,r){const i=[],o=e._versions;let a=e._dbSchema=lw(0,e.idbdb,r),s=!1;const c=o.filter((e=>e._cfg.version>=t));return c.forEach((o=>{i.push((()=>{const i=a,c=o._cfg.dbschema;fw(e,i,r),fw(e,c,r),a=e._dbSchema=c;const u=sw(i,c);u.add.forEach((e=>{cw(r,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new Mb.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>uw(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),uw(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const l=o._cfg.contentUpgrade;if(l&&o._cfg.version>t){rw(e,r),n._memoizedTables={},s=!0;let t=ub(c);u.del.forEach((e=>{t[e]=i[e]})),ow(e,[e.Transaction.prototype]),iw(e,[e.Transaction.prototype],Kg(t),t),n.schema=t;const o=Sb(l);let a;o&&Fm();const f=vm.follow((()=>{if(a=l(n),a&&o){var e=Km.bind(null,null);a.then(e,e)}}));return a&&"function"==typeof a.then?vm.resolve(a):f.then((()=>a))}})),i.push((t=>{s&&lv||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t),ow(e,[e.Transaction.prototype]),iw(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return i.length?vm.resolve(i.shift()(n.idbtrans)).then(e):vm.resolve()}().then((()=>{var e,t;t=r,Kg(e=a).forEach((n=>{t.db.objectStoreNames.contains(n)||cw(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(a)}))}(e,i/10,a,o)}}),o),u.onsuccess=Bm((()=>{a=null;const n=e._novip.idbdb=u.result,i=nb(n.objectStoreNames);if(i.length>0)try{const r=n.transaction(1===(o=i).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=lw(0,t,n);e._storeNames=nb(t.objectStoreNames,0),iw(e,[e._allTables],Kg(r),r)}(e,n,r):(fw(e,e._dbSchema,r),function(e,t){const n=sw(lw(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),rw(e,r)}catch(e){}var o;cv.push(e),n.onversionchange=Bm((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Bm((t=>{e.on("close").fire(t)})),s&&function({indexedDB:e,IDBKeyRange:t},n){!pw(e)&&n!==hv&&hw(e,t).put({name:n}).catch(Fb)}(e._deps,c),r()}),o)}))))]).then((()=>(i(),t.onReadyBeingFired=[],vm.resolve(yw((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(Zb,Fb);return t.onReadyBeingFired=[],vm.resolve(yw((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{a&&a.abort()}catch(e){}return r===t.openCanceller&&e._close(),tv(n)})).finally((()=>{t.openComplete=!0,o()}))}function mw(e){var t=t=>e.next(t),n=i(t),r=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(n,r):qg(o)?Promise.all(o).then(n,r):n(o)}}return i(t)()}function vw(e,t,n){var r=arguments.length;if(r<2)throw new Mb.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,fb(i),n]}function ww(e,t,n,r,i){return vm.resolve().then((()=>{const o=ym.transless||ym,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Db.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>ww(e,t,n,null,i)))):tv(r)}const c=Sb(i);let u;c&&Fm();const l=vm.follow((()=>{if(u=i.call(a,a),u)if(c){var e=Km.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=mw(u))}),s);return(u&&"function"==typeof u.then?vm.resolve(u).then((e=>a.active?e:tv(new Mb.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>u))).then((e=>(r&&a._resolve(),a._completion.then((()=>e))))).catch((e=>(a._reject(e),tv(e))))}))}function _w(e,t,n){const r=qg(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const Ew={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function a(e,t,n){const r=nw(e),s=i[r]=i[r]||[],c=null==e?0:"string"==typeof e?1:e.length,u=t>0,l={...n,isVirtual:u,keyTail:t,keyLength:c,extractKey:Qv(e),unique:!u&&n.unique};return s.push(l),l.isPrimaryKey||o.push(l),c>1&&a(2===c?e[0]:e.slice(0,c-1),t+1,n),s.sort(((e,t)=>e.keyTail-t.keyTail)),l}const s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(const e of r.indexes)a(e.keyPath,0,e);function c(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:_w(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:_w(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var r,i}const u={...n,schema:{...r,primaryKey:s,indexes:o,getIndexByKeyPath:function(e){const t=i[nw(e)];return t&&t[0]}},count:e=>n.count(c(e)),query:e=>n.query(c(e)),openCursor(t){const{keyTail:r,isVirtual:i,keyLength:o}=t.query.index;return i?n.openCursor(c(t)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(_w(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,i){n.continuePrimaryKey(_w(t,e.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(t)}};return u}}}};function Sw(e,t,n,r){return n=n||{},r=r||"",Kg(e).forEach((i=>{if(Yg(t,i)){var o=e[i],a=t[i];if("object"==typeof o&&"object"==typeof a&&o&&a){const e=mb(o);e!==mb(a)?n[r+i]=t[i]:"Object"===e?Sw(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}else n[r+i]=void 0})),Kg(t).forEach((i=>{Yg(e,i)||(n[r+i]=t[i])})),n}const kw={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,i={...n,mutate(e){const i=ym.trans,{deleting:o,creating:a,updating:s}=i.table(t).hook;switch(e.type){case"add":if(a.fire===Fb)break;return i._promise("readwrite",(()=>c(e)),!0);case"put":if(a.fire===Fb&&s.fire===Fb)break;return i._promise("readwrite",(()=>c(e)),!0);case"delete":if(o.fire===Fb)break;return i._promise("readwrite",(()=>c(e)),!0);case"deleteRange":if(o.fire===Fb)break;return i._promise("readwrite",(()=>function(e){return u(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function c(e){const t=ym.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((c=>{const u=i.map(((n,i)=>{const u=c[i],l={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(l,n,u,t);else if("add"===e.type||void 0===u){const o=a.fire.call(l,n,e.values[i],t);null==n&&null!=o&&(n=o,e.keys[i]=n,r.outbound||cb(e.values[i],r.keyPath,n))}else{const r=Sw(u,e.values[i]),o=s.fire.call(l,r,n,u,t);if(o){const t=e.values[i];Object.keys(o).forEach((e=>{Yg(t,e)?t[e]=o[e]:cb(t,e,o[e])}))}}return l}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:o})=>{for(let r=0;r<i.length;++r){const o=n?n[r]:i[r],a=u[r];null==o?a.onerror&&a.onerror(t[r]):a.onsuccess&&a.onsuccess("put"===e.type&&c[r]?e.values[r]:o)}return{failures:t,results:n,numFailures:r,lastResult:o}})).catch((e=>(u.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function u(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((({result:n})=>c({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:u(e,{...t,lower:n[n.length-1],lowerOpen:!0},i)))))}}};return i}})};function Aw(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===Tv(t.keys[i],e[o])&&(r.push(n?yb(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(e){return null}}const Ow={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Aw(e.keys,e.trans._cache,"clone"===e.cache);return t?vm.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?yb(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Pw(e){return!("from"in e)}const Iw=function(e,t){if(!this){const t=new Iw;return e&&"d"in e&&Vg(t,e),t}Vg(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Tw(e,t,n){const r=Tv(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Pw(e))return Vg(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(Tv(n,e.from)<0)return i?Tw(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Rw(e);if(Tv(t,e.to)>0)return o?Tw(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Rw(e);Tv(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Tv(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Nw(e,i),o&&a&&Nw(e,o)}function Nw(e,t){Pw(t)||function e(t,{from:n,to:r,l:i,r:o}){Tw(t,n,r),i&&e(t,i),o&&e(t,o)}(e,t)}function xw(e){let t=Pw(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Tv(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Tv(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Rw(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const t="r"===i?"l":"r",n={...e},r=e[i];e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],e[t]=n,n.d=Cw(n)}e.d=Cw(e)}function Cw({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}$g(Iw.prototype,{add(e){return Nw(this,e),this},addKey(e){return Tw(this,e,e),this},addKeys(e){return e.forEach((e=>Tw(this,e,e))),this},[vb](){return xw(this)}});const Bw={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Iw(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:c}=a,u={...i,mutate:e=>{const a=e.trans,s=a.mutatedParts||(a.mutatedParts={}),c=e=>{const n=`idb://${t}/${r}/${e}`;return s[n]||(s[n]=new Iw)},u=c(""),l=c(":dels"),{type:f}=e;let[d,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return i.mutate(e).then((e=>{if(qg(d)){"delete"!==f&&(d=e.results),u.addKeys(d);const t=Aw(d,p);t||"add"===f||l.addKeys(d),(t||h)&&function(e,t,n,r){t.indexes.forEach((function(t){const i=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&qg(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(n||r).forEach(((e,t)=>{const i=n&&o(n[t]),s=r&&o(r[t]);0!==Tv(i,s)&&(null!=i&&a(i),null!=s&&a(s))}))}))}(c,o,t,h)}else if(d){const e={from:d.lower,to:d.upper};l.add(e),u.add(e)}else u.add(n),l.add(n),o.indexes.forEach((e=>c(e.name).add(n)));return e}))}},l=({query:{index:t,range:n}})=>{var r,i;return[t,new Iw(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:e.MAX_KEY)]},f={get:e=>[a,new Iw(e.key)],getMany:e=>[a,(new Iw).addKeys(e.keys)],count:l,query:l,openCursor:l};return Kg(f).forEach((e=>{u[e]=function(o){const{subscr:a}=ym;if(a){const u=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new Iw)},l=u(""),d=u(":dels"),[h,p]=f[e](o);if(u(h.name||"").add(p),!h.isPrimaryKey){if("count"!==e){const t="query"===e&&c&&o.values&&i.query({...o,values:!1});return i[e].apply(this,arguments).then((n=>{if("query"===e){if(c&&o.values)return t.then((({result:e})=>(l.addKeys(e),n)));const e=o.values?n.result.map(s):n.result;o.values?l.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=n,t=o.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&l.addKey(e.primaryKey),e.value)}})}return n}))}d.add(n)}}return i[e].apply(this,arguments)}})),u}}}};class Lw{constructor(e,t){this._middlewares={},this.verno=0;const n=Lw.dependencies;this._options=t={addons:Lw.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fb,dbReadyPromise:null,cancelOpen:Fb,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new vm((e=>{i.dbReadyResolve=e})),i.openCanceller=new vm(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=wv(this,"populate","blocked","versionchange","close",{ready:[Zb,Fb]}),this.on.ready.subscribe=rb(this.on.ready.subscribe,(e=>(t,n)=>{Lw.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||vm.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,_v(Rv.prototype,(function(e,t){this.db=o;let n=bv,r=null;if(t)try{n=t()}catch(e){r=e}const i=e._ctx,a=i.table,s=a.hook.reading.fire;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:s!==Kb?s:null}}))),this.Table=function(e){return _v(vv.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:wv(null,{creating:[Wb,Fb],reading:[qb,Kb],updating:[Yb,Fb],deleting:[Gb,Fb]})}))}(this),this.Transaction=function(e){return _v(Yv.prototype,(function(t,n,r,i,o){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=wv(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new vm(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),tv(e)}))}))}(this),this.Version=function(e){return _v(dw.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return _v(Fv.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new Mb.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Jv(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),cv.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Ew),this.use(kw),this.use(Bw),this.use(Ow),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Mb.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Mb.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(aw),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||ym.letThrough||this._vip)?e():new vm(((e,t)=>{if(this._state.openComplete)return t(new Mb.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Mb.DatabaseClosed);this.open().catch(Fb)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==n?10:n,name:r}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return bw(this)}_close(){const e=this._state,t=cv.indexOf(this);if(t>=0&&cv.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new vm((t=>{e.dbReadyResolve=t})),e.openCanceller=new vm(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Mb.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new vm(((n,r)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Bm((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!pw(e)&&n!==hv&&hw(e,t).delete(n).catch(Fb)}(this._deps,this.name),n()})),e.onerror=Kv(r),e.onblocked=this._fireOnBlocked};if(e)throw new Mb.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Kg(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=vw.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=ym.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const i=-1!==e.indexOf("?");let o,a;e=e.replace("!","").replace("?","");try{if(a=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===pv)o=pv;else{if("rw"!=e&&e!=yv)throw new Mb.InvalidArgument("Invalid transaction mode: "+e);o=yv}if(r){if(r.mode===pv&&o===yv){if(!i)throw new Mb.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&a.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new Mb.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):tv(e)}const s=ww.bind(null,this,o,a,r,n);return r?r._promise(o,s,"lock"):ym.trans?$m(ym.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(e){if(!Yg(this._allTables,e))throw new Mb.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const jw="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Dw{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[jw](){return this}}function Uw(e,t){return Kg(t).forEach((n=>{Nw(e[n]||(e[n]=new Iw),t[n])})),e}let Mw;try{Mw={indexedDB:Fg.indexedDB||Fg.mozIndexedDB||Fg.webkitIndexedDB||Fg.msIndexedDB,IDBKeyRange:Fg.IDBKeyRange||Fg.webkitIDBKeyRange}}catch(Fg){Mw={indexedDB:null,IDBKeyRange:null}}const Hw=Lw;function zw(e){let t=Fw;try{Fw=!0,Gv.storagemutated.fire(e)}finally{Fw=t}}$g(Hw,{...zb,delete:e=>new Hw(e,{addons:[]}).delete(),exists:e=>new Hw(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return pw(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==hv)))):hw(e,t).toCollection().primaryKeys()}(Hw.dependencies).then(e)}catch(e){return tv(new Mb.MissingAPI)}},defineClass:()=>function(e){Vg(this,e)},ignoreTransaction:e=>ym.trans?$m(ym.transless,e):e(),vip:yw,async:function(e){return function(){try{var t=mw(e.apply(this,arguments));return t&&"function"==typeof t.then?t:vm.resolve(t)}catch(e){return tv(e)}}},spawn:function(e,t,n){try{var r=mw(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:vm.resolve(r)}catch(e){return tv(e)}},currentTransaction:{get:()=>ym.trans||null},waitFor:function(e,t){const n=vm.resolve("function"==typeof e?Hw.ignoreTransaction(e):e).timeout(t||6e4);return ym.trans?ym.trans.waitFor(n):n},Promise:vm,debug:{get:()=>kb,set:e=>{Ab(e,"dexie"===e?()=>!0:dv)}},derive:Jg,extend:Vg,props:$g,override:rb,Events:wv,on:Gv,liveQuery:function(e){let t,n=!1;const r=new Dw((r=>{const i=Sb(e);let o=!1,a={},s={};const c={get closed(){return o},unsubscribe:()=>{o=!0,Gv.storagemutated.unsubscribe(d)}};r.start&&r.start(c);let u=!1,l=!1;function f(){return Kg(s).some((e=>a[e]&&function(e,t){const n=xw(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=xw(e);let a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(Tv(s.from,i.to)<=0&&Tv(s.to,i.from)>=0)return!0;Tv(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}(a[e],s[e])))}const d=e=>{Uw(a,e),f()&&h()},h=()=>{if(u||o)return;a={};const p={},y=function(t){i&&Fm();const n=()=>zm(e,{subscr:t,trans:null}),r=ym.trans?$m(ym.transless,n):n();return i&&r.then(Km,Km),r}(p);l||(Gv(Vv,d),l=!0),u=!0,Promise.resolve(y).then((e=>{n=!0,t=e,u=!1,o||(f()?h():(a={},s=p,r.next&&r.next(e)))}),(e=>{u=!1,n=!1,r.error&&r.error(e),c.unsubscribe()}))};return h(),c}));return r.hasValue=()=>n,r.getValue=()=>t,r},extendObservabilitySet:Uw,getByKeyPath:sb,setByKeyPath:cb,delByKeyPath:function(e,t){"string"==typeof t?cb(e,t,void 0):"length"in t&&[].map.call(t,(function(t){cb(e,t,void 0)}))},shallowClone:ub,deepClone:yb,getObjectDiff:Sw,cmp:Tv,asap:ob,minKey:ov,addons:[],connections:cv,errnames:Db,dependencies:Mw,semVer:rv,version:rv.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Hw.maxKey=Jv(Hw.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Gv(Vv,(e=>{if(!Fw){let t;uv?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Wv,!0,!0,e)):t=new CustomEvent(Wv,{detail:e}),Fw=!0,dispatchEvent(t),Fw=!1}})),addEventListener(Wv,(({detail:e})=>{Fw||zw(e)})));let Fw=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(Wv);"function"==typeof e.unref&&e.unref(),Gv(Vv,(t=>{Fw||e.postMessage(t)})),e.onmessage=e=>{e.data&&zw(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Gv(Vv,(e=>{try{Fw||("undefined"!=typeof localStorage&&localStorage.setItem(Wv,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:Wv,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===Wv){const t=JSON.parse(e.newValue);t&&zw(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===Wv&&zw(e.changedParts)}))}vm.rejectionMapper=function(e,t){if(!e||e instanceof Cb||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Hb[e.name])return e;var n=new Hb[e.name](t||e.message,e);return"stack"in e&&Xg(n,"stack",{get:function(){return this.inner.stack}}),n},Ab(kb,dv);const Kw="A request was aborted, for example through a call to IDBTransaction.abort.",qw="A mutation operation in the transaction failed because a constraint was not satisfied. For example, an object such as an object store or index already exists and a request attempted to create a new one.",Vw="The data being stored could not be cloned by the internal structured cloning algorithm.",Ww="Data provided to an operation does not meet requirements.",Gw="An invalid operation was performed on an object. For example transaction creation attempt was made, but an empty scope was provided.",Yw="An operation was called on an object on which it is not allowed or at a time when it is not allowed. Also occurs if a request is made on a source object that has been deleted or removed. Use TransactionInactiveError or ReadOnlyError when possible, as they are more specific variations of InvalidStateError.",$w="The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",Zw='The mutating operation was attempted in a "readonly" transaction.',Xw="A request was placed against a transaction which is currently not active, or which is finished.",Jw="An attempt was made to open a database using a lower version than the existing version.";class Qw extends Error{constructor(e=Kw){super(),this.name="AbortError",this.message=e}}class e_ extends Error{constructor(e=qw){super(),this.name="ConstraintError",this.message=e}}class t_ extends Error{constructor(e=Vw){super(),this.name="DataCloneError",this.message=e}}class n_ extends Error{constructor(e=Ww){super(),this.name="DataError",this.message=e}}class r_ extends Error{constructor(e=Gw){super(),this.name="InvalidAccessError",this.message=e}}class i_ extends Error{constructor(e=Yw){super(),this.name="InvalidStateError",this.message=e}}class o_ extends Error{constructor(e=$w){super(),this.name="NotFoundError",this.message=e}}class a_ extends Error{constructor(e=Zw){super(),this.name="ReadOnlyError",this.message=e}}class s_ extends Error{constructor(e=Xw){super(),this.name="TransactionInactiveError",this.message=e}}class c_ extends Error{constructor(e=Jw){super(),this.name="VersionError",this.message=e}}const u_=(e,t)=>{if("number"==typeof e){if(isNaN(e))throw new n_;return e}if(e instanceof Date){const t=e.valueOf();if(isNaN(t))throw new n_;return new Date(t)}if("string"==typeof e)return e;if(e instanceof ArrayBuffer||"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))return e instanceof ArrayBuffer?new Uint8Array(e).buffer:new Uint8Array(e.buffer).buffer;if(Array.isArray(e)){if(void 0===t)t=new Set;else if(t.has(e))throw new n_;t.add(e);const n=[];for(let r=0;r<e.length;r++){if(!e.hasOwnProperty(r))throw new n_;const i=e[r],o=u_(i,t);n.push(o)}return n}throw new n_},l_=u_,f_=e=>{if("number"==typeof e)return"Number";if(e instanceof Date)return"Date";if(Array.isArray(e))return"Array";if("string"==typeof e)return"String";if(e instanceof ArrayBuffer)return"Binary";throw new n_},d_=(e,t)=>{if(void 0===t)throw new TypeError;e=l_(e),t=l_(t);const n=f_(e),r=f_(t);if(n!==r)return"Array"===n?1:("Binary"!==n||"String"!==r&&"Date"!==r&&"Number"!==r)&&("String"!==n||"Date"!==r&&"Number"!==r)?"Date"===n&&"Number"===r?1:-1:1;if("Binary"===n&&(e=new Uint8Array(e),t=new Uint8Array(t)),"Array"===n||"Binary"===n){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=d_(e[r],t[r]);if(0!==n)return n}return e.length>t.length?1:e.length<t.length?-1:0}if("Date"===n){if(e.getTime()===t.getTime())return 0}else if(e===t)return 0;return e>t?1:-1},h_=d_;class p_{static only(e){if(0===arguments.length)throw new TypeError;return e=l_(e),new p_(e,e,!1,!1)}static lowerBound(e,t=!1){if(0===arguments.length)throw new TypeError;return e=l_(e),new p_(e,void 0,t,!0)}static upperBound(e,t=!1){if(0===arguments.length)throw new TypeError;return e=l_(e),new p_(void 0,e,!0,t)}static bound(e,t,n=!1,r=!1){if(arguments.length<2)throw new TypeError;const i=h_(e,t);if(1===i||0===i&&(n||r))throw new n_;return e=l_(e),t=l_(t),new p_(e,t,n,r)}constructor(e,t,n,r){this.lower=e,this.upper=t,this.lowerOpen=n,this.upperOpen=r}includes(e){if(0===arguments.length)throw new TypeError;if(e=l_(e),void 0!==this.lower){const t=h_(this.lower,e);if(1===t||0===t&&this.lowerOpen)return!1}if(void 0!==this.upper){const t=h_(this.upper,e);if(-1===t||0===t&&this.upperOpen)return!1}return!0}toString(){return"[object IDBKeyRange]"}}const y_=p_,g_=(e,t)=>{if(Array.isArray(e)){const n=[];for(let r of e)null!=r&&"string"!=typeof r&&r.toString&&(r=r.toString()),n.push(l_(g_(r,t)));return n}if(""===e)return t;let n=e,r=t;for(;null!==n;){let e;const t=n.indexOf(".");if(t>=0?(e=n.slice(0,t),n=n.slice(t+1)):(e=n,n=null),null==r||!r.hasOwnProperty(e))return;r=r[e]}return r},b_=g_;var m_=a(63694);const v_=e=>{if("undefined"!=typeof structuredClone)return structuredClone(e);try{return m_(e)}catch(e){throw new t_}},w_=e=>e.source instanceof K_?e.source:e.source.objectStore,__=(e,t,n)=>{let r=void 0!==e?e.lower:void 0,i=void 0!==e?e.upper:void 0;for(const e of t)void 0!==e&&(void 0!==r&&1!==h_(r,e)||(r=e));for(const e of n)void 0!==e&&(void 0!==i&&-1!==h_(i,e)||(i=e));return void 0!==r&&void 0!==i?y_.bound(r,i):void 0!==r?y_.lowerBound(r):void 0!==i?y_.upperBound(i):void 0};const E_=class{_gotValue=!1;_position=void 0;_objectStorePosition=void 0;_keyOnly=!1;_key=void 0;_primaryKey=void 0;constructor(e,t,n="next",r,i=!1){this._range=t,this._source=e,this._direction=n,this._request=r,this._keyOnly=i}get source(){return this._source}set source(e){}get request(){return this._request}set request(e){}get direction(){return this._direction}set direction(e){}get key(){return this._key}set key(e){}get primaryKey(){return this._primaryKey}set primaryKey(e){}_iterate(e,t){const n=this.source instanceof K_,r=this.source instanceof K_?this.source._rawObjectStore.records:this.source._rawIndex.records;let i,o;if("next"===this.direction){const o=__(this._range,[e,this._position],[]);for(const a of r.values(o)){const r=void 0!==e?h_(a.key,e):void 0,o=void 0!==this._position?h_(a.key,this._position):void 0;if(void 0===e||-1!==r){if(void 0!==t){if(-1===r)continue;const e=h_(a.value,t);if(0===r&&-1===e)continue}if(void 0===this._position||!n||1===o){if(void 0!==this._position&&!n){if(-1===o)continue;if(0===o&&1!==h_(a.value,this._objectStorePosition))continue}if(void 0===this._range||this._range.includes(a.key)){i=a;break}}}}}else if("nextunique"===this.direction){const t=__(this._range,[e,this._position],[]);for(const n of r.values(t))if((void 0===e||-1!==h_(n.key,e))&&(void 0===this._position||1===h_(n.key,this._position))&&(void 0===this._range||this._range.includes(n.key))){i=n;break}}else if("prev"===this.direction){const o=__(this._range,[],[e,this._position]);for(const a of r.values(o,"prev")){const r=void 0!==e?h_(a.key,e):void 0,o=void 0!==this._position?h_(a.key,this._position):void 0;if(void 0===e||1!==r){if(void 0!==t){if(1===r)continue;const e=h_(a.value,t);if(0===r&&1===e)continue}if(void 0===this._position||!n||-1===o){if(void 0!==this._position&&!n){if(1===o)continue;if(0===o&&-1!==h_(a.value,this._objectStorePosition))continue}if(void 0===this._range||this._range.includes(a.key)){i=a;break}}}}}else if("prevunique"===this.direction){let t;const n=__(this._range,[],[e,this._position]);for(const i of r.values(n,"prev"))if((void 0===e||1!==h_(i.key,e))&&(void 0===this._position||-1===h_(i.key,this._position))&&(void 0===this._range||this._range.includes(i.key))){t=i;break}t&&(i=r.get(t.key))}if(i){if(this._position=i.key,n||(this._objectStorePosition=i.value),this._key=i.key,n)this._primaryKey=v_(i.key),this._keyOnly||"[object IDBCursorWithValue]"!==this.toString()||(this.value=v_(i.value));else if(this._primaryKey=v_(i.value),!this._keyOnly&&"[object IDBCursorWithValue]"===this.toString()){if(this.source instanceof K_)throw new Error("This should never happen");const e=this.source.objectStore._rawObjectStore.getValue(i.value);this.value=v_(e)}this._gotValue=!0,o=this}else this._key=void 0,n||(this._objectStorePosition=void 0),this._keyOnly||"[object IDBCursorWithValue]"!==this.toString()||(this.value=void 0),o=null;return o}update(e){if(void 0===e)throw new TypeError;const t=w_(this),n=this.source.hasOwnProperty("_rawIndex")?this.primaryKey:this._position,r=t.transaction;if("active"!==r._state)throw new s_;if("readonly"===r.mode)throw new a_;if(t._rawObjectStore.deleted)throw new i_;if(!(this.source instanceof K_)&&this.source._rawIndex.deleted)throw new i_;if(!this._gotValue||!this.hasOwnProperty("value"))throw new i_;const i=v_(e);if(null!==t.keyPath){let e;try{e=b_(t.keyPath,i)}catch(e){}if(0!==h_(e,n))throw new n_}const o={key:n,value:i};return r._execRequestAsync({operation:t._rawObjectStore.storeRecord.bind(t._rawObjectStore,o,!1,r._rollbackLog),source:this})}advance(e){if(!Number.isInteger(e)||e<=0)throw new TypeError;const t=w_(this),n=t.transaction;if("active"!==n._state)throw new s_;if(t._rawObjectStore.deleted)throw new i_;if(!(this.source instanceof K_)&&this.source._rawIndex.deleted)throw new i_;if(!this._gotValue)throw new i_;this._request&&(this._request.readyState="pending"),n._execRequestAsync({operation:()=>{let t;for(let n=0;n<e&&(t=this._iterate(),t);n++);return t},request:this._request,source:this.source}),this._gotValue=!1}continue(e){const t=w_(this),n=t.transaction;if("active"!==n._state)throw new s_;if(t._rawObjectStore.deleted)throw new i_;if(!(this.source instanceof K_)&&this.source._rawIndex.deleted)throw new i_;if(!this._gotValue)throw new i_;if(void 0!==e){e=l_(e);const t=h_(e,this._position);if(t<=0&&("next"===this.direction||"nextunique"===this.direction)||t>=0&&("prev"===this.direction||"prevunique"===this.direction))throw new n_}this._request&&(this._request.readyState="pending"),n._execRequestAsync({operation:this._iterate.bind(this,e),request:this._request,source:this.source}),this._gotValue=!1}continuePrimaryKey(e,t){const n=w_(this),r=n.transaction;if("active"!==r._state)throw new s_;if(n._rawObjectStore.deleted)throw new i_;if(!(this.source instanceof K_)&&this.source._rawIndex.deleted)throw new i_;if(this.source instanceof K_||"next"!==this.direction&&"prev"!==this.direction)throw new r_;if(!this._gotValue)throw new i_;if(void 0===e||void 0===t)throw new n_;e=l_(e);const i=h_(e,this._position);if(-1===i&&"next"===this.direction||1===i&&"prev"===this.direction)throw new n_;const o=h_(t,this._objectStorePosition);if(0===i&&(o<=0&&"next"===this.direction||o>=0&&"prev"===this.direction))throw new n_;this._request&&(this._request.readyState="pending"),r._execRequestAsync({operation:this._iterate.bind(this,e,t),request:this._request,source:this.source}),this._gotValue=!1}delete(){const e=w_(this),t=this.source.hasOwnProperty("_rawIndex")?this.primaryKey:this._position,n=e.transaction;if("active"!==n._state)throw new s_;if("readonly"===n.mode)throw new a_;if(e._rawObjectStore.deleted)throw new i_;if(!(this.source instanceof K_)&&this.source._rawIndex.deleted)throw new i_;if(!this._gotValue||!this.hasOwnProperty("value"))throw new i_;return n._execRequestAsync({operation:e._rawObjectStore.deleteRecord.bind(e._rawObjectStore,t,n._rollbackLog),source:this})}toString(){return"[object IDBCursor]"}};const S_=class extends E_{value=void 0;constructor(e,t,n,r){super(e,t,n,r)}toString(){return"[object IDBCursorWithValue]"}},k_=(e,t)=>e.immediatePropagationStopped||e.eventPhase===e.CAPTURING_PHASE&&!1===t.capture||e.eventPhase===e.BUBBLING_PHASE&&!0===t.capture,A_=(e,t)=>{e.currentTarget=t;for(const n of t.listeners.slice())e.type!==n.type||k_(e,n)||n.callback.call(e.currentTarget,e);const n={abort:"onabort",blocked:"onblocked",complete:"oncomplete",error:"onerror",success:"onsuccess",upgradeneeded:"onupgradeneeded",versionchange:"onversionchange"}[e.type];if(void 0===n)throw new Error(`Unknown event type: "${e.type}"`);const r=e.currentTarget[n];if(r){const t={callback:r,capture:!1,type:e.type};k_(e,t)||t.callback.call(e.currentTarget,e)}};const O_=class{listeners=[];addEventListener(e,t,n=!1){this.listeners.push({callback:t,capture:n,type:e})}removeEventListener(e,t,n=!1){const r=this.listeners.findIndex((r=>r.type===e&&r.callback===t&&r.capture===n));this.listeners.splice(r,1)}dispatchEvent(e){if(e.dispatched||!e.initialized)throw new i_("The object is in an invalid state.");e.isTrusted=!1,e.dispatched=!0,e.target=this,e.eventPhase=e.CAPTURING_PHASE;for(const t of e.eventPath)e.propagationStopped||A_(e,t);if(e.eventPhase=e.AT_TARGET,e.propagationStopped||A_(e,e.target),e.bubbles){e.eventPath.reverse(),e.eventPhase=e.BUBBLING_PHASE;for(const t of e.eventPath)e.propagationStopped||A_(e,t)}return e.dispatched=!1,e.eventPhase=e.NONE,e.currentTarget=null,!e.canceled}};const P_=class extends O_{_result=null;_error=null;source=null;transaction=null;readyState="pending";onsuccess=null;onerror=null;get error(){if("pending"===this.readyState)throw new i_;return this._error}set error(e){this._error=e}get result(){if("pending"===this.readyState)throw new i_;return this._result}set result(e){this._result=e}toString(){return"[object IDBRequest]"}},I_=(e,t)=>{const n="unsigned long"===t?4294967295:9007199254740991;if(isNaN(e)||e<0||e>n)throw new TypeError;if(e>=0)return Math.floor(e)};const T_=class extends Array{contains(e){for(const t of this)if(e===t)return!0;return!1}item(e){return e<0||e>=this.length?null:this[e]}_push(...e){return Array.prototype.push.call(this,...e)}_sort(...e){return Array.prototype.sort.call(this,...e)}},N_=(e,t=!1)=>{if(e instanceof y_)return e;if(null==e){if(t)throw new n_;return new y_(void 0,void 0,!1,!1)}const n=l_(e);return y_.only(n)},x_=e=>{if(e._rawIndex.deleted||e.objectStore._rawObjectStore.deleted)throw new i_;if("active"!==e.objectStore.transaction._state)throw new s_};const R_=class{constructor(e,t){this._rawIndex=t,this._name=t.name,this.objectStore=e,this.keyPath=t.keyPath,this.multiEntry=t.multiEntry,this.unique=t.unique}get name(){return this._name}set name(e){const t=this.objectStore.transaction;if(!t.db._runningVersionchangeTransaction)throw new i_;if("active"!==t._state)throw new s_;if(this._rawIndex.deleted||this.objectStore._rawObjectStore.deleted)throw new i_;if((e=String(e))===this._name)return;if(this.objectStore.indexNames.contains(e))throw new e_;const n=this._name,r=[...this.objectStore.indexNames];this._name=e,this._rawIndex.name=e,this.objectStore._indexesCache.delete(n),this.objectStore._indexesCache.set(e,this),this.objectStore._rawObjectStore.rawIndexes.delete(n),this.objectStore._rawObjectStore.rawIndexes.set(e,this._rawIndex),this.objectStore.indexNames=new T_(...Array.from(this.objectStore._rawObjectStore.rawIndexes.keys()).filter((e=>{const t=this.objectStore._rawObjectStore.rawIndexes.get(e);return t&&!t.deleted})).sort()),t._rollbackLog.push((()=>{this._name=n,this._rawIndex.name=n,this.objectStore._indexesCache.delete(e),this.objectStore._indexesCache.set(n,this),this.objectStore._rawObjectStore.rawIndexes.delete(e),this.objectStore._rawObjectStore.rawIndexes.set(n,this._rawIndex),this.objectStore.indexNames=new T_(...r)}))}openCursor(e,t){x_(this),null===e&&(e=void 0),void 0===e||e instanceof y_||(e=y_.only(l_(e)));const n=new P_;n.source=this,n.transaction=this.objectStore.transaction;const r=new S_(this,e,t,n);return this.objectStore.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})}openKeyCursor(e,t){x_(this),null===e&&(e=void 0),void 0===e||e instanceof y_||(e=y_.only(l_(e)));const n=new P_;n.source=this,n.transaction=this.objectStore.transaction;const r=new E_(this,e,t,n,!0);return this.objectStore.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})}get(e){return x_(this),e instanceof y_||(e=l_(e)),this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getValue.bind(this._rawIndex,e),source:this})}getAll(e,t){arguments.length>1&&void 0!==t&&(t=I_(t,"unsigned long")),x_(this);const n=N_(e);return this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getAllValues.bind(this._rawIndex,n,t),source:this})}getKey(e){return x_(this),e instanceof y_||(e=l_(e)),this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getKey.bind(this._rawIndex,e),source:this})}getAllKeys(e,t){arguments.length>1&&void 0!==t&&(t=I_(t,"unsigned long")),x_(this);const n=N_(e);return this.objectStore.transaction._execRequestAsync({operation:this._rawIndex.getAllKeys.bind(this._rawIndex,n,t),source:this})}count(e){return x_(this),null===e&&(e=void 0),void 0===e||e instanceof y_||(e=y_.only(l_(e))),this.objectStore.transaction._execRequestAsync({operation:()=>{let t=0;const n=new E_(this,e);for(;null!==n._iterate();)t+=1;return t},source:this})}toString(){return"[object IDBIndex]"}},C_=(e,t)=>{if(Array.isArray(e))throw new Error("The key paths used in this section are always strings and never sequences, since it is not possible to create a object store which has a key generator and also has a key path that is a sequence.");const n=e.split(".");if(0===n.length)throw new Error("Assert: identifiers is not empty");n.pop();for(const e of n){if("object"!=typeof t&&!Array.isArray(t))return!1;if(!t.hasOwnProperty(e))return!0;t=t[e]}return"object"==typeof t||Array.isArray(t)};function B_(e,t){let n,r=0,i=e.length;for(;r<i;)n=r+i>>>1,h_(e[n].key,t)<0?r=n+1:i=n;return r}function L_(e,t){const n=B_(e,t),r=e[n];return r&&0===h_(r.key,t)?n:-1}function j_(e,t){const n=void 0===t.lower?0:B_(e,t.lower),r=void 0===t.upper?e.length-1:B_(e,t.upper);for(let i=n;i<=r;i++){const n=e[i];if(n&&t.includes(n.key))return i}return-1}const D_=class{records=[];get(e){return e instanceof y_?(t=this.records)[j_(t,e)]:function(e,t){return e[L_(e,t)]}(this.records,e);var t}add(e){let t;if(0===this.records.length)t=0;else if(t=function(e,t){const n=B_(e,t),r=e[n];return r&&h_(r.key,t)>=0?n:-1}(this.records,e.key),-1===t)t=this.records.length;else for(;t<this.records.length&&0===h_(this.records[t].key,e.key)&&-1===h_(this.records[t].value,e.value);)t+=1;this.records.splice(t,0,e)}delete(e){const t=[],n=e instanceof y_;for(;;){const r=n?j_(this.records,e):L_(this.records,e);if(-1===r)break;t.push(this.records[r]),this.records.splice(r,1)}return t}deleteByValue(e){const t=e instanceof y_?e:y_.only(e),n=[];return this.records=this.records.filter((e=>{const r=t.includes(e.value);return r&&n.push(e),!r})),n}clear(){const e=this.records.slice();return this.records=[],e}values(e,t="next"){return{[Symbol.iterator]:()=>{let n;if("next"===t){if(n=0,void 0!==e&&void 0!==e.lower)for(;void 0!==this.records[n];){const t=h_(this.records[n].key,e.lower);if(1===t||0===t&&!e.lowerOpen)break;n+=1}}else if(n=this.records.length-1,void 0!==e&&void 0!==e.upper)for(;void 0!==this.records[n];){const t=h_(this.records[n].key,e.upper);if(-1===t||0===t&&!e.upperOpen)break;n-=1}return{next:()=>{let r,i;if("next"===t){if(i=this.records[n],r=n>=this.records.length,n+=1,!r&&void 0!==e&&void 0!==e.upper){const t=h_(i.key,e.upper);r=1===t||0===t&&e.upperOpen,r&&(i=void 0)}}else if(i=this.records[n],r=n<0,n-=1,!r&&void 0!==e&&void 0!==e.lower){const t=h_(i.key,e.lower);r=-1===t||0===t&&e.lowerOpen,r&&(i=void 0)}return{done:r,value:i}}}}}}};const U_=class{deleted=!1;initialized=!1;records=new D_;constructor(e,t,n,r,i){this.rawObjectStore=e,this.name=t,this.keyPath=n,this.multiEntry=r,this.unique=i}getKey(e){const t=this.records.get(e);return void 0!==t?t.value:void 0}getAllKeys(e,t){void 0!==t&&0!==t||(t=1/0);const n=[];for(const r of this.records.values(e))if(n.push(v_(r.value)),n.length>=t)break;return n}getValue(e){const t=this.records.get(e);return void 0!==t?this.rawObjectStore.getValue(t.value):void 0}getAllValues(e,t){void 0!==t&&0!==t||(t=1/0);const n=[];for(const r of this.records.values(e))if(n.push(this.rawObjectStore.getValue(r.value)),n.length>=t)break;return n}storeRecord(e){let t;try{t=b_(this.keyPath,e.value)}catch(e){if("DataError"===e.name)return;throw e}if(this.multiEntry&&Array.isArray(t)){const e=[];for(const n of t)if(e.indexOf(n)<0)try{e.push(l_(n))}catch(e){}t=e}else try{l_(t)}catch(e){return}if(this.multiEntry&&Array.isArray(t)){if(this.unique)for(const e of t){if(this.records.get(e))throw new e_}}else if(this.unique){if(this.records.get(t))throw new e_}if(this.multiEntry&&Array.isArray(t))for(const n of t)this.records.add({key:n,value:e.key});else this.records.add({key:t,value:e.key})}initialize(e){if(this.initialized)throw new Error("Index already initialized");e._execRequestAsync({operation:()=>{try{for(const e of this.rawObjectStore.records.values())this.storeRecord(e);this.initialized=!0}catch(t){e._abort(t.name)}},source:null})}},M_=(e,t)=>{if(null==e||"string"==typeof e||!e.toString||"array"!==t&&Array.isArray(e)||(e=e.toString()),"string"==typeof e){if(""===e&&"string"!==t)return;try{const t=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])(?:[\$0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])*$/;if(e.length>=1&&t.test(e))return}catch(e){throw new SyntaxError(e.message)}if(e.indexOf(" ")>=0)throw new SyntaxError("The keypath argument contains an invalid key path (no spaces allowed).")}if(Array.isArray(e)&&e.length>0){if(t)throw new SyntaxError("The keypath argument contains an invalid key path (nested arrays).");for(const t of e)M_(t,"array")}else{if(!("string"==typeof e&&e.indexOf(".")>=0))throw new SyntaxError;e=e.split(".");for(const t of e)M_(t,"string")}},H_=M_,z_=e=>{if(e._rawObjectStore.deleted)throw new i_;if("active"!==e.transaction._state)throw new s_},F_=(e,t,n)=>{if(z_(e),"readonly"===e.transaction.mode)throw new a_;if(null!==e.keyPath&&void 0!==n)throw new n_;const r=v_(t);if(null!==e.keyPath){const t=b_(e.keyPath,r);if(void 0!==t)l_(t);else{if(!e._rawObjectStore.keyGenerator)throw new n_;if(!C_(e.keyPath,r))throw new n_}}if(null===e.keyPath&&null===e._rawObjectStore.keyGenerator&&void 0===n)throw new n_;return void 0!==n&&(n=l_(n)),{key:n,value:r}};const K_=class{_indexesCache=new Map;constructor(e,t){this._rawObjectStore=t,this._name=t.name,this.keyPath=t.keyPath,this.autoIncrement=t.autoIncrement,this.transaction=e,this.indexNames=new T_(...Array.from(t.rawIndexes.keys()).sort())}get name(){return this._name}set name(e){const t=this.transaction;if(!t.db._runningVersionchangeTransaction)throw new i_;if(z_(this),(e=String(e))===this._name)return;if(this._rawObjectStore.rawDatabase.rawObjectStores.has(e))throw new e_;const n=this._name,r=[...t.db.objectStoreNames];this._name=e,this._rawObjectStore.name=e,this.transaction._objectStoresCache.delete(n),this.transaction._objectStoresCache.set(e,this),this._rawObjectStore.rawDatabase.rawObjectStores.delete(n),this._rawObjectStore.rawDatabase.rawObjectStores.set(e,this._rawObjectStore),t.db.objectStoreNames=new T_(...Array.from(this._rawObjectStore.rawDatabase.rawObjectStores.keys()).filter((e=>{const t=this._rawObjectStore.rawDatabase.rawObjectStores.get(e);return t&&!t.deleted})).sort());const i=new Set(t._scope),o=[...t.objectStoreNames];this.transaction._scope.delete(n),t._scope.add(e),t.objectStoreNames=new T_(...Array.from(t._scope).sort()),t._rollbackLog.push((()=>{this._name=n,this._rawObjectStore.name=n,this.transaction._objectStoresCache.delete(e),this.transaction._objectStoresCache.set(n,this),this._rawObjectStore.rawDatabase.rawObjectStores.delete(e),this._rawObjectStore.rawDatabase.rawObjectStores.set(n,this._rawObjectStore),t.db.objectStoreNames=new T_(...r),t._scope=i,t.objectStoreNames=new T_(...o)}))}put(e,t){if(0===arguments.length)throw new TypeError;const n=F_(this,e,t);return this.transaction._execRequestAsync({operation:this._rawObjectStore.storeRecord.bind(this._rawObjectStore,n,!1,this.transaction._rollbackLog),source:this})}add(e,t){if(0===arguments.length)throw new TypeError;const n=F_(this,e,t);return this.transaction._execRequestAsync({operation:this._rawObjectStore.storeRecord.bind(this._rawObjectStore,n,!0,this.transaction._rollbackLog),source:this})}delete(e){if(0===arguments.length)throw new TypeError;if(z_(this),"readonly"===this.transaction.mode)throw new a_;return e instanceof y_||(e=l_(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.deleteRecord.bind(this._rawObjectStore,e,this.transaction._rollbackLog),source:this})}get(e){if(0===arguments.length)throw new TypeError;return z_(this),e instanceof y_||(e=l_(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.getValue.bind(this._rawObjectStore,e),source:this})}getAll(e,t){arguments.length>1&&void 0!==t&&(t=I_(t,"unsigned long")),z_(this);const n=N_(e);return this.transaction._execRequestAsync({operation:this._rawObjectStore.getAllValues.bind(this._rawObjectStore,n,t),source:this})}getKey(e){if(0===arguments.length)throw new TypeError;return z_(this),e instanceof y_||(e=l_(e)),this.transaction._execRequestAsync({operation:this._rawObjectStore.getKey.bind(this._rawObjectStore,e),source:this})}getAllKeys(e,t){arguments.length>1&&void 0!==t&&(t=I_(t,"unsigned long")),z_(this);const n=N_(e);return this.transaction._execRequestAsync({operation:this._rawObjectStore.getAllKeys.bind(this._rawObjectStore,n,t),source:this})}clear(){if(z_(this),"readonly"===this.transaction.mode)throw new a_;return this.transaction._execRequestAsync({operation:this._rawObjectStore.clear.bind(this._rawObjectStore,this.transaction._rollbackLog),source:this})}openCursor(e,t){z_(this),null===e&&(e=void 0),void 0===e||e instanceof y_||(e=y_.only(l_(e)));const n=new P_;n.source=this,n.transaction=this.transaction;const r=new S_(this,e,t,n);return this.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})}openKeyCursor(e,t){z_(this),null===e&&(e=void 0),void 0===e||e instanceof y_||(e=y_.only(l_(e)));const n=new P_;n.source=this,n.transaction=this.transaction;const r=new E_(this,e,t,n,!0);return this.transaction._execRequestAsync({operation:r._iterate.bind(r),request:n,source:this})}createIndex(e,t,n={}){if(arguments.length<2)throw new TypeError;const r=void 0!==n.multiEntry&&n.multiEntry,i=void 0!==n.unique&&n.unique;if("versionchange"!==this.transaction.mode)throw new i_;if(z_(this),this.indexNames.contains(e))throw new e_;if(H_(t),Array.isArray(t)&&r)throw new r_;const o=[...this.indexNames];this.transaction._rollbackLog.push((()=>{const t=this._rawObjectStore.rawIndexes.get(e);t&&(t.deleted=!0),this.indexNames=new T_(...o),this._rawObjectStore.rawIndexes.delete(e)}));const a=new U_(this._rawObjectStore,e,t,r,i);return this.indexNames._push(e),this.indexNames._sort(),this._rawObjectStore.rawIndexes.set(e,a),a.initialize(this.transaction),new R_(this,a)}index(e){if(0===arguments.length)throw new TypeError;if(this._rawObjectStore.deleted||"finished"===this.transaction._state)throw new i_;const t=this._indexesCache.get(e);if(void 0!==t)return t;const n=this._rawObjectStore.rawIndexes.get(e);if(!this.indexNames.contains(e)||void 0===n)throw new o_;const r=new R_(this,n);return this._indexesCache.set(e,r),r}deleteIndex(e){if(0===arguments.length)throw new TypeError;if("versionchange"!==this.transaction.mode)throw new i_;z_(this);const t=this._rawObjectStore.rawIndexes.get(e);if(void 0===t)throw new o_;this.transaction._rollbackLog.push((()=>{t.deleted=!1,this._rawObjectStore.rawIndexes.set(e,t),this.indexNames._push(e),this.indexNames._sort()})),this.indexNames=new T_(...Array.from(this.indexNames).filter((t=>t!==e))),t.deleted=!0,this.transaction._execRequestAsync({operation:()=>{const n=this._rawObjectStore.rawIndexes.get(e);t===n&&this._rawObjectStore.rawIndexes.delete(e)},source:this})}count(e){return z_(this),null===e&&(e=void 0),void 0===e||e instanceof y_||(e=y_.only(l_(e))),this.transaction._execRequestAsync({operation:()=>{let t=0;const n=new E_(this,e);for(;null!==n._iterate();)t+=1;return t},source:this})}toString(){return"[object IDBObjectStore]"}};const q_=class{eventPath=[];NONE=0;CAPTURING_PHASE=1;AT_TARGET=2;BUBBLING_PHASE=3;propagationStopped=!1;immediatePropagationStopped=!1;canceled=!1;initialized=!0;dispatched=!1;target=null;currentTarget=null;eventPhase=0;defaultPrevented=!1;isTrusted=!1;timeStamp=Date.now();constructor(e,t={}){this.type=e,this.bubbles=void 0!==t.bubbles&&t.bubbles,this.cancelable=void 0!==t.cancelable&&t.cancelable}preventDefault(){this.cancelable&&(this.canceled=!0)}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.propagationStopped=!0,this.immediatePropagationStopped=!0}};const V_=globalThis.setImmediate||function(){if("undefined"!=typeof navigator&&/jsdom/.test(navigator.userAgent)){return new(0,Node.constructor)("return setImmediate")()}}()||(e=>setTimeout(e,0));const W_=class extends O_{_state="active";_started=!1;_rollbackLog=[];_objectStoresCache=new Map;error=null;onabort=null;oncomplete=null;onerror=null;_requests=[];constructor(e,t,n){super(),this._scope=new Set(e),this.mode=t,this.db=n,this.objectStoreNames=new T_(...Array.from(this._scope).sort())}_abort(e){for(const e of this._rollbackLog.reverse())e();if(null!==e){const t=new Error;t.name=e,this.error=t}for(const{request:e}of this._requests)if("done"!==e.readyState&&(e.readyState="done",e.source)){e.result=void 0,e.error=new Qw;const t=new q_("error",{bubbles:!0,cancelable:!0});t.eventPath=[this.db,this],e.dispatchEvent(t)}V_((()=>{const e=new q_("abort",{bubbles:!0,cancelable:!1});e.eventPath=[this.db],this.dispatchEvent(e)})),this._state="finished"}abort(){if("committing"===this._state||"finished"===this._state)throw new i_;this._state="active",this._abort(null)}objectStore(e){if("active"!==this._state)throw new i_;const t=this._objectStoresCache.get(e);if(void 0!==t)return t;const n=this.db._rawDatabase.rawObjectStores.get(e);if(!this._scope.has(e)||void 0===n)throw new o_;const r=new K_(this,n);return this._objectStoresCache.set(e,r),r}_execRequestAsync(e){const t=e.source,n=e.operation;let r=e.hasOwnProperty("request")?e.request:null;if("active"!==this._state)throw new s_;return r||(t?(r=new P_,r.source=t,r.transaction=t.transaction):r=new P_),this._requests.push({operation:n,request:r}),r}_start(){let e,t;for(this._started=!0;this._requests.length>0;){const n=this._requests.shift();if(n&&"done"!==n.request.readyState){t=n.request,e=n.operation;break}}if(t&&e){if(t.source){let n,r;try{const n=e();t.readyState="done",t.result=n,t.error=void 0,"inactive"===this._state&&(this._state="active"),r=new q_("success",{bubbles:!1,cancelable:!1})}catch(e){t.readyState="done",t.result=void 0,t.error=e,"inactive"===this._state&&(this._state="active"),r=new q_("error",{bubbles:!0,cancelable:!0}),n=this._abort.bind(this,e.name)}try{r.eventPath=[this.db,this],t.dispatchEvent(r)}catch(e){throw"committing"!==this._state&&this._abort("AbortError"),e}r.canceled||n&&n()}else e();V_(this._start.bind(this))}else if("finished"!==this._state&&(this._state="finished",!this.error)){const e=new q_("complete");this.dispatchEvent(e)}}commit(){if("active"!==this._state)throw new i_;this._state="committing"}toString(){return"[object IDBRequest]"}},G_=9007199254740992;const Y_=class{num=0;next(){if(this.num>=G_)throw new e_;return this.num+=1,this.num}setIfLarger(e){const t=Math.floor(Math.min(e,G_))-1;t>=this.num&&(this.num=t+1)}};const $_=class{deleted=!1;records=new D_;rawIndexes=new Map;constructor(e,t,n,r){this.rawDatabase=e,this.keyGenerator=!0===r?new Y_:null,this.deleted=!1,this.name=t,this.keyPath=n,this.autoIncrement=r}getKey(e){const t=this.records.get(e);return void 0!==t?v_(t.key):void 0}getAllKeys(e,t){void 0!==t&&0!==t||(t=1/0);const n=[];for(const r of this.records.values(e))if(n.push(v_(r.key)),n.length>=t)break;return n}getValue(e){const t=this.records.get(e);return void 0!==t?v_(t.value):void 0}getAllValues(e,t){void 0!==t&&0!==t||(t=1/0);const n=[];for(const r of this.records.values(e))if(n.push(v_(r.value)),n.length>=t)break;return n}storeRecord(e,t,n){if(null!==this.keyPath){const t=b_(this.keyPath,e.value);void 0!==t&&(e.key=t)}if(null!==this.keyGenerator&&void 0===e.key){if(n){const e=this.keyGenerator.num;n.push((()=>{this.keyGenerator&&(this.keyGenerator.num=e)}))}if(e.key=this.keyGenerator.next(),null!==this.keyPath){if(Array.isArray(this.keyPath))throw new Error("Cannot have an array key path in an object store with a key generator");let t,n=this.keyPath,r=e.value,i=0;for(;i>=0;){if("object"!=typeof r)throw new n_;i=n.indexOf("."),i>=0&&(t=n.slice(0,i),n=n.slice(i+1),r.hasOwnProperty(t)||(r[t]={}),r=r[t])}t=n,r[t]=e.key}}else null!==this.keyGenerator&&"number"==typeof e.key&&this.keyGenerator.setIfLarger(e.key);if(this.records.get(e.key)){if(t)throw new e_;this.deleteRecord(e.key,n)}this.records.add(e),n&&n.push((()=>{this.deleteRecord(e.key)}));for(const t of this.rawIndexes.values())t.initialized&&t.storeRecord(e);return e.key}deleteRecord(e,t){const n=this.records.delete(e);if(t)for(const e of n)t.push((()=>{this.storeRecord(e,!0)}));for(const t of this.rawIndexes.values())t.records.deleteByValue(e)}clear(e){const t=this.records.clear();if(e)for(const n of t)e.push((()=>{this.storeRecord(n,!0)}));for(const e of this.rawIndexes.values())e.records.clear()}},Z_=e=>{if(!e._runningVersionchangeTransaction)throw new i_;const t=e._rawDatabase.transactions.filter((e=>"versionchange"===e.mode)),n=t[t.length-1];if(!n||"finished"===n._state)throw new i_;if("active"!==n._state)throw new s_;return n},X_=e=>{e._closePending=!0;e._rawDatabase.transactions.every((e=>"finished"===e._state))?(e._closed=!0,e._rawDatabase.connections=e._rawDatabase.connections.filter((t=>e!==t))):V_((()=>{X_(e)}))};const J_=class extends O_{_closePending=!1;_closed=!1;_runningVersionchangeTransaction=!1;constructor(e){super(),this._rawDatabase=e,this._rawDatabase.connections.push(this),this.name=e.name,this.version=e.version,this.objectStoreNames=new T_(...Array.from(e.rawObjectStores.keys()).sort())}createObjectStore(e,t={}){if(void 0===e)throw new TypeError;const n=Z_(this),r=null!==t&&void 0!==t.keyPath?t.keyPath:null,i=null!==t&&void 0!==t.autoIncrement&&t.autoIncrement;if(null!==r&&H_(r),this._rawDatabase.rawObjectStores.has(e))throw new e_;if(i&&(""===r||Array.isArray(r)))throw new r_;const o=[...this.objectStoreNames];n._rollbackLog.push((()=>{const t=this._rawDatabase.rawObjectStores.get(e);t&&(t.deleted=!0),this.objectStoreNames=new T_(...o),n._scope.delete(e),this._rawDatabase.rawObjectStores.delete(e)}));const a=new $_(this._rawDatabase,e,r,i);return this.objectStoreNames._push(e),this.objectStoreNames._sort(),n._scope.add(e),this._rawDatabase.rawObjectStores.set(e,a),n.objectStoreNames=new T_(...this.objectStoreNames),n.objectStore(e)}deleteObjectStore(e){if(void 0===e)throw new TypeError;const t=Z_(this),n=this._rawDatabase.rawObjectStores.get(e);if(void 0===n)throw new o_;this.objectStoreNames=new T_(...Array.from(this.objectStoreNames).filter((t=>t!==e))),t.objectStoreNames=new T_(...this.objectStoreNames),t._rollbackLog.push((()=>{n.deleted=!1,this._rawDatabase.rawObjectStores.set(e,n),this.objectStoreNames._push(e),this.objectStoreNames._sort()})),n.deleted=!0,this._rawDatabase.rawObjectStores.delete(e),t._objectStoresCache.delete(e)}transaction(e,t){if("readonly"!==(t=void 0!==t?t:"readonly")&&"readwrite"!==t&&"versionchange"!==t)throw new TypeError("Invalid mode: "+t);if(this._rawDatabase.transactions.some((e=>"active"===e._state&&"versionchange"===e.mode&&e.db===this)))throw new i_;if(this._closePending)throw new i_;if(Array.isArray(e)||(e=[e]),0===e.length&&"versionchange"!==t)throw new r_;for(const t of e)if(!this.objectStoreNames.contains(t))throw new o_("No objectStore named "+t+" in this database");const n=new W_(e,t,this);return this._rawDatabase.transactions.push(n),this._rawDatabase.processTransactions(),n}close(){X_(this)}toString(){return"[object IDBDatabase]"}};const Q_=class extends P_{onupgradeneeded=null;onblocked=null;toString(){return"[object IDBOpenDBRequest]"}};const eE=class extends q_{constructor(e,t={}){super(e),this.newVersion=void 0!==t.newVersion?t.newVersion:null,this.oldVersion=void 0!==t.oldVersion?t.oldVersion:0}toString(){return"[object IDBVersionChangeEvent]"}};const tE=class{deletePending=!1;transactions=[];rawObjectStores=new Map;connections=[];constructor(e,t){this.name=e,this.version=t,this.processTransactions=this.processTransactions.bind(this)}processTransactions(){V_((()=>{if(!this.transactions.some((e=>e._started&&"finished"!==e._state))){const e=this.transactions.find((e=>!e._started&&"finished"!==e._state));e&&(e.addEventListener("complete",this.processTransactions),e.addEventListener("abort",this.processTransactions),e._start())}}))}},nE=(e,t,n,r)=>{n.some((e=>!e._closed&&!e._closePending))?V_((()=>nE(e,t,n,r))):(e.delete(t),r(null))},rE=(e,t,n,r,i)=>{let o=e.get(t);if(void 0===o&&(o=new tE(t,0),e.set(t,o)),void 0===n&&(n=0!==o.version?o.version:1),o.version>n)return i(new c_);const a=new J_(o);o.version<n?((e,t,n,r)=>{e._runningVersionchangeTransaction=!0;const i=e.version,o=e._rawDatabase.connections.filter((t=>e!==t));for(const e of o)if(!e._closed&&!e._closePending){const n=new eE("versionchange",{newVersion:t,oldVersion:i});e.dispatchEvent(n)}if(o.some((e=>!e._closed&&!e._closePending))){const e=new eE("blocked",{newVersion:t,oldVersion:i});n.dispatchEvent(e)}const a=()=>{if(o.some((e=>!e._closed&&!e._closePending)))return void V_(a);e._rawDatabase.version=t,e.version=t;const s=e.transaction(e.objectStoreNames,"versionchange");n.result=e,n.readyState="done",n.transaction=s,s._rollbackLog.push((()=>{e._rawDatabase.version=i,e.version=i}));const c=new eE("upgradeneeded",{newVersion:t,oldVersion:i});n.dispatchEvent(c),s.addEventListener("error",(()=>{e._runningVersionchangeTransaction=!1})),s.addEventListener("abort",(()=>{e._runningVersionchangeTransaction=!1,n.transaction=null,V_((()=>{r(new Qw)}))})),s.addEventListener("complete",(()=>{e._runningVersionchangeTransaction=!1,n.transaction=null,V_((()=>{e._closePending?r(new Qw):r(null)}))}))};a()})(a,n,r,(e=>{if(e)return i(e);i(null,a)})):i(null,a)};const iE=class{cmp=h_;_databases=new Map;deleteDatabase(e){const t=new Q_;return t.source=null,V_((()=>{const n=this._databases.get(e),r=void 0!==n?n.version:0;((e,t,n,r)=>{try{const i=e.get(t);if(void 0===i)return void r(null);i.deletePending=!0;const o=i.connections.filter((e=>!e._closed&&!e._closePending));for(const e of o)if(!e._closePending){const t=new eE("versionchange",{newVersion:null,oldVersion:i.version});e.dispatchEvent(t)}const a=o.some((e=>!e._closed&&!e._closePending));if(n&&a){const e=new eE("blocked",{newVersion:null,oldVersion:i.version});n.dispatchEvent(e)}nE(e,t,o,r)}catch(e){r(e)}})(this._databases,e,t,(e=>{if(e){t.error=new Error,t.error.name=e.name,t.readyState="done";const n=new q_("error",{bubbles:!0,cancelable:!0});return n.eventPath=[],void t.dispatchEvent(n)}t.result=void 0,t.readyState="done";const n=new eE("success",{newVersion:null,oldVersion:r});t.dispatchEvent(n)}))})),t}open(e,t){if(arguments.length>1&&void 0!==t&&(t=I_(t,"MAX_SAFE_INTEGER")),0===t)throw new TypeError;const n=new Q_;return n.source=null,V_((()=>{rE(this._databases,e,t,n,((e,t)=>{if(e){n.result=void 0,n.readyState="done",n.error=new Error,n.error.name=e.name;const t=new q_("error",{bubbles:!0,cancelable:!0});return t.eventPath=[],void n.dispatchEvent(t)}n.result=t,n.readyState="done";const r=new q_("success");r.eventPath=[],n.dispatchEvent(r)}))})),n}databases(){return new Promise((e=>{const t=[];for(const[e,n]of this._databases)t.push({name:e,version:n.version});e(t)}))}toString(){return"[object IDBFactory]"}},oE=new iE;function aE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sE(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function cE(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){sE(o,r,i,a,s,"next",e)}function s(e){sE(o,r,i,a,s,"throw",e)}a(void 0)}))}}function uE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fE(e){return fE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fE(e)}function dE(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?aE(e):t;var n}function hE(e,t){return hE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hE(e,t)}function pE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fE(e);if(t){var i=fE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dE(this,n)}}function yE(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var gE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hE(e,t)}(a,e);var t,n,r,i=pE(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),lE(aE(e=i.call(this,"LBE")),"allowances",void 0),lE(aE(e),"payments",void 0),lE(aE(e),"blocklist",void 0),lE(aE(e),"permissions",void 0),e.version(1).stores({allowances:"++id,&host,name,imageURL,tag,enabled,totalBudget,remainingBudget,lastPaymentAt,lnurlAuth,createdAt",payments:"++id,allowanceId,host,location,name,description,totalAmount,totalFees,preimage,paymentRequest,paymentHash,destination,createdAt"}),e.version(2).stores({blocklist:"++id,host,name,imageURL,isBlocked,createdAt"}),e.version(3).stores({permissions:"++id,allowanceId,host,method,enabled,blocked,createdAt"}),e.version(4).stores({permissions:"++id,accountId,allowanceId,host,method,enabled,blocked,createdAt"}),e.version(5).stores({payments:"++id,accountId,allowanceId,host,location,name,description,totalAmount,totalFees,preimage,paymentRequest,paymentHash,destination,createdAt"}),e.version(6).stores({allowances:"++id,&host,name,imageURL,tag,enabled,*enabledFor,totalBudget,remainingBudget,lastPaymentAt,lnurlAuth,createdAt"}),e.on("ready",e.loadFromStorage.bind(aE(e))),e.allowances=e.table("allowances"),e.payments=e.table("payments"),e.blocklist=e.table("blocklist"),e.permissions=e.table("permissions"),e}return t=a,n=[{key:"openWithInMemoryDB",value:function(){var e=this;return cE((function(){return yE(this,(function(t){return console.info("Opening DB using fake indexedDB"),e._options.indexedDB=oE,e._options.IDBKeyRange=y_,e._deps.indexedDB=oE,e._deps.IDBKeyRange=y_,[2,e.open()]}))}))()}},{key:"saveToStorage",value:function(){var e=this;return cE((function(){var t,n,r,i;return yE(this,(function(a){switch(a.label){case 0:return[4,e.allowances.toArray()];case 1:return t=a.sent(),[4,e.payments.toArray()];case 2:return n=a.sent(),[4,e.blocklist.toArray()];case 3:return r=a.sent(),[4,e.permissions.toArray()];case 4:return i=a.sent(),[4,o().storage.local.set({allowances:t,payments:n,blocklist:r,permissions:i})];case 5:return a.sent(),[2,!0]}}))}))()}},{key:"clearAllTables",value:function(){var e=this;return cE((function(){return yE(this,(function(t){return[2,Promise.all(e.tables.map((function(e){return e.clear()})))]}))}))()}},{key:"loadFromStorage",value:function(){var e=this;return cE((function(){return yE(this,(function(t){return console.info("Current DB version: ".concat(e.verno)),console.info("Loading DB data from storage"),[2,o().storage.local.get(["allowances","payments","blocklist","permissions"]).then((function(t){var n=e.allowances.count().then((function(n){if(!(n>0))return t.allowances&&t.allowances.length>0?e.allowances.bulkAdd(t.allowances).catch(Lw.BulkError,(function(e){console.error("Failed to add allowances; ignoring",e)})):void 0;console.info("Found ".concat(n," allowances already in the DB"))})),r=e.payments.count().then((function(n){if(!(n>0))return t.payments&&t.payments.length>0?e.payments.bulkAdd(t.payments).catch(Lw.BulkError,(function(e){console.error("Failed to add payments; ignoring",e)})):void 0;console.info("Found ".concat(n," payments already in the DB"))})),i=e.blocklist.count().then((function(n){if(!(n>0))return t.blocklist&&t.blocklist.length>0?e.blocklist.bulkAdd(t.blocklist).catch(Lw.BulkError,(function(e){console.error("Failed to add blocklist; ignoring",e)})):void 0;console.info("Found ".concat(n," blocklist already in the DB"))})),o=e.permissions.count().then((function(n){if(!(n>0))return t.permissions&&t.permissions.length>0?e.permissions.bulkAdd(t.permissions).catch(Lw.BulkError,(function(e){console.error("Failed to add permissions; ignoring",e)})):void 0;console.info("Found ".concat(n," permissions already in the DB"))}));return Promise.all([n,r,i,o])})).catch((function(e){console.error("Failed to load DB data from storage",e)}))]}))}))()}}],n&&uE(t.prototype,n),r&&uE(t,r),a}(Lw),bE=new gE;const mE=bE;var vE=a(1798),wE=a.n(vE);function _E(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function EE(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var SE=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_E(o,r,i,a,s,"next",e)}function s(e){_E(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s,c;return EE(this,(function(e){switch(e.label){case 0:return t.origin&&t.origin.host?(n=t.origin.host,"error"in(r=t.response)?[2]:(i=r.data.route,o=i.total_amt,[4,mE.allowances.where("host").equalsIgnoreCase(n).first()])):[2];case 1:return(a=e.sent())&&a.id?(s=a.remainingBudget||0,c=Math.max(s-o,0),[4,mE.allowances.update(a.id,{remainingBudget:c,lastPaymentAt:Date.now()})]):[2];case 2:return e.sent(),[4,mE.saveToStorage()];case 3:return e.sent(),[2,!0]}}))}));return function(t,n){return e.apply(this,arguments)}}(),kE=a(27484),AE=a.n(kE),OE=a(37412),PE=a.n(OE);function IE(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function TE(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){IE(o,r,i,a,s,"next",e)}function s(e){IE(o,r,i,a,s,"throw",e)}a(void 0)}))}}function NE(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}AE().extend(PE());var xE=function(){var e=TE((function(e){var t,n,r;return NE(this,(function(i){switch(i.label){case 0:return t=e.rate,n=e.currency,r={currency:n,rate:t,timestamp:Date.now()},[4,o().storage.local.set({currencyRate:JSON.stringify(r)})];case 1:return i.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),RE=function(){var e=TE((function(e){var t,n,r;return NE(this,(function(i){switch(i.label){case 0:return t=Bg.getState().settings,"yadio"!==(n=t.exchange)?[3,3]:[4,Ud().get("https://api.yadio.io/exrates/".concat(e.toLowerCase()),{adapter:Wd})];case 1:case 4:case 7:return[4,null==(r=i.sent())?void 0:r.data];case 2:return[2,i.sent().BTC/sh];case 3:return"coindesk"!==n?[3,6]:[4,Ud().get("https://api.coindesk.com/v1/bpi/currentprice/".concat(e.toLowerCase(),".json"),{adapter:Wd})];case 5:return[2,i.sent().bpi[e].rate_float/sh];case 6:return[4,Ud().get("https://getalby.com/api/rates/".concat(e.toLowerCase(),".json"),{adapter:Wd})];case 8:return[2,i.sent()[e].rate_float/sh]}}))}));return function(t){return e.apply(this,arguments)}}(),CE=function(){var e=TE((function(e){var t,n,r,i;return NE(this,(function(a){switch(a.label){case 0:return t={},[4,o().storage.local.get(["currencyRate"])];case 1:return(n=a.sent()).currencyRate?(t=JSON.parse(n.currencyRate)).currency!==e?[3,4]:AE()().isSameOrBefore(AE()(null==t?void 0:t.timestamp).add(10,"minute"))&&t.rate?[2,t.rate]:[4,RE(e)]:[3,4];case 2:return r=a.sent(),[4,xE({rate:r,currency:e})];case 3:return a.sent(),[2,r];case 4:return[4,RE(e)];case 5:return i=a.sent(),[4,xE({currency:e,rate:i})];case 6:return a.sent(),[2,i]}}))}));return function(t){return e.apply(this,arguments)}}(),BE=function(){var e=TE((function(e){var t;return NE(this,(function(e){switch(e.label){case 0:return t=Bg.getState().settings.currency,[4,CE(t)];case 1:return[2,{data:{rate:e.sent()}}]}}))}));return function(t){return e.apply(this,arguments)}}();const LE=BE;function jE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DE=function(e){if(Bg.getState().settings.browserNotifications){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jE(e,t,n[t])}))}return e}({type:"basic",iconUrl:"../assets/icons/alby_icon_yellow_48x48.png"},e);return o().notifications.create(t)}};function UE(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ME(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var HE=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){UE(o,r,i,a,s,"next",e)}function s(e){UE(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s,c,u,l,f,d,h,p,y,g;return ME(this,(function(e){switch(e.label){case 0:return r=null==t||null===(n=t.origin)||void 0===n?void 0:n.name,"error"in(i=t.response)?[2]:(a=null==i?void 0:i.data.route,s=a.total_amt,c=a.total_fees,u=s-c,l=Bg.getState().settings,f=l.showFiat,d=l.currency,h=l.locale,f?[4,CE(d)]:[3,2]);case 1:p=e.sent(),o=uh({amount:u,rate:p,currency:d,locale:h}),e.label=2;case 2:return y="✅ Successfully paid",r&&(y="".concat(y," to »").concat(r,"«")),g="Amount: ".concat(lh({amount:u,locale:h})),f&&(g="".concat(g," (").concat(o,")")),g="".concat(g,"\nFee: ").concat(lh({amount:c,locale:h})),[2,DE({title:y,message:g})]}}))}));return function(t,n){return e.apply(this,arguments)}}(),zE=function(e,t){var n,r=t.response;return"error"in r&&(n=r.error),DE({title:"⚠️ Payment failed",message:"Error: ".concat(n)})},FE=function(e,t){var n,r="✅ Login";return(null==t||null===(n=t.origin)||void 0===n?void 0:n.name)&&(r="".concat(r," to ").concat(t.origin.name)),DE({title:r,message:"Successfully logged in to ".concat(t.lnurlDetails.domain)})},KE=function(e,t){return DE({title:"⚠️ Login failed",message:"".concat(t.error)})};function qE(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function VE(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var WE=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qE(o,r,i,a,s,"next",e)}function s(e){qE(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s,c,u,l,f,d,h,p;return VE(this,(function(e){switch(e.label){case 0:return o=null==t||null===(n=t.origin)||void 0===n?void 0:n.name,a=(null==t||null===(r=t.origin)||void 0===r?void 0:r.host)||"",s=null==t||null===(i=t.origin)||void 0===i?void 0:i.location,c=t.accountId,"error"in(u=t.response)?[2]:[4,mE.allowances.where("host").equalsIgnoreCase(a).first()];case 1:return l=e.sent(),f=u.data.route,d=f.total_amt,h=f.total_fees,[4,mE.payments.add({accountId:c,host:a,location:s,name:o,description:t.details.description,preimage:u.data.preimage,paymentHash:u.data.paymentHash,destination:t.details.destination,totalAmount:d,totalFees:h,createdAt:Date.now().toString(),allowanceId:l?(null!==(p=l.id)&&void 0!==p?p:"").toString():"",paymentRequest:""})];case 2:return e.sent(),[4,mE.saveToStorage()];case 3:return e.sent(),console.info("Persisted payment ".concat(u.data.paymentHash)),[2,!0]}}))}));return function(t,n){return e.apply(this,arguments)}}(),GE=function(){["sendPayment","keysend"].forEach((function(e){wE().subscribe("ln.".concat(e,".success"),HE),wE().subscribe("ln.".concat(e,".failed"),zE),wE().subscribe("ln.".concat(e,".success"),WE),wE().subscribe("ln.".concat(e,".success"),SE)})),wE().subscribe("lnurl.auth.success",FE),wE().subscribe("lnurl.auth.failed",KE),console.info("Event subscriptions registered")};function YE(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function $E(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ZE=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){YE(o,r,i,a,s,"next",e)}function s(e){YE(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){return $E(this,(function(e){return[2]}))}));return function(){return e.apply(this,arguments)}}();const XE=ZE;function JE(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function QE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){QE(e,t,n[t])}))}return e}function tS(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function nS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var rS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){JE(o,r,i,a,s,"next",e)}function s(e){JE(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s;return nS(this,(function(c){switch(c.label){case 0:return t=e.args,n=Bg.getState().accounts,r=function(e,t){for(var n=Object.values(t).map((function(e){return e.name})),r=1,i=e;n.includes(i);){var o=i.match(/\((\d+)\)$/);o?(r=parseInt(o[1])+1,i=i.replace(/\(\d+\)$/,"(".concat(r,")"))):i="".concat(e," (").concat(r,")")}return i}(t.name,n),i=eS({},n),[4,Bg.getState().password()];case 1:return(o=c.sent())?(a=Bg.getState().currentAccountId,s=ld(),t.config=B(t.config,o),i[s]=tS(eS({},t),{id:s,name:r}),Bg.setState({accounts:i}),a||Bg.setState({currentAccountId:s}),[4,Bg.getState().saveToStorage()]):[2,{error:"Password is missing"}];case 2:return c.sent(),[2,{data:{accountId:s}}]}}))}));return function(t){return e.apply(this,arguments)}}();const iS=rS;function oS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function aS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var sS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){oS(o,r,i,a,s,"next",e)}function s(e){oS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){return aS(this,(function(e){switch(e.label){case 0:return[4,Bg.getState().accounts];case 1:return[2,{data:e.sent()}]}}))}));return function(t){return e.apply(this,arguments)}}();const cS=sS;function uS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function lS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var fS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){uS(o,r,i,a,s,"next",e)}function s(e){uS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r;return lS(this,(function(i){switch(i.label){case 0:return t=Bg.getState().accounts,[4,Bg.getState().password()];case 1:return(n=i.sent())?(r=e.args.id)in t?[2,{data:L(t[r].config,n)}]:[2,{error:"Account not found: ".concat(r)}]:[2,{error:"Password is missing"}]}}))}));return function(t){return e.apply(this,arguments)}}();const dS=fS;function hS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function pS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var yS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){hS(o,r,i,a,s,"next",e)}function s(e){hS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return pS(this,(function(r){switch(r.label){case 0:return t=Bg.getState().accounts,(n=e.args.id)in t?(e.args.name&&(t[n].name=e.args.name),e.args.bitcoinNetwork&&(t[n].bitcoinNetwork=e.args.bitcoinNetwork,Bg.setState({bitcoin:null,liquid:null})),void 0!==e.args.useMnemonicForLnurlAuth&&(t[n].useMnemonicForLnurlAuth=e.args.useMnemonicForLnurlAuth),Bg.setState({accounts:t}),[4,Bg.getState().saveToStorage()]):[3,2];case 1:return r.sent(),[2,{}];case 2:return[2,{error:"Account not found: ".concat(n)}];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const gS=yS;function bS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function mS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var vS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){bS(o,r,i,a,s,"next",e)}function s(e){bS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return mS(this,(function(o){return(n=(null==e||null===(t=e.args)||void 0===t?void 0:t.id)||Bg.getState().currentAccountId)?(r=Bg.getState().accounts,(i=r[n])?[2,{data:{id:i.id,connectorType:i.connector,name:i.name,liquidEnabled:!!i.mnemonic,nostrEnabled:!!i.nostrPrivateKey,hasMnemonic:!!i.mnemonic,hasImportedNostrKey:!1!==i.hasImportedNostrKey,bitcoinNetwork:i.bitcoinNetwork||"bitcoin",useMnemonicForLnurlAuth:i.useMnemonicForLnurlAuth||!1}}]:[2]):[2,{error:"No account selected."}]}))}));return function(t){return e.apply(this,arguments)}}();const wS=vS;function _S(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ES(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var SS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_S(o,r,i,a,s,"next",e)}function s(e){_S(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o;return ES(this,(function(e){switch(e.label){case 0:return[4,Bg.getState().getConnector()];case 1:return t=e.sent(),n=Bg.getState().currentAccountId,r=Bg.getState().getAccount(),[4,t.getInfo()];case 2:return i=e.sent(),[4,t.getBalance()];case 3:return o=e.sent(),r&&n?[2,{data:{currentAccountId:n,name:r.name,avatarUrl:r.avatarUrl,info:i.data,connectorType:r.connector,balance:{balance:o.data.balance,currency:o.data.currency||"BTC"}}}]:[2,{error:"No current account set"}]}}))}));return function(t){return e.apply(this,arguments)}}();const kS=SS;function AS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function OS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var PS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){AS(o,r,i,a,s,"next",e)}function s(e){AS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){return OS(this,(function(e){switch(e.label){case 0:return[4,Bg.getState().lock()];case 1:return e.sent(),[2,{data:{unlocked:!1}}]}}))}));return function(t){return e.apply(this,arguments)}}();const IS=PS;function TS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function NS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){NS(e,t,n[t])}))}return e}function RS(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function CS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function BS(){return BS=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){TS(o,r,i,a,s,"next",e)}function s(e){TS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return CS(this,(function(n){switch(n.label){case 0:if("string"!=typeof e.args.name)return[2,{error:"Name missing."}];if("string"!=typeof e.args.connector)return[2,{error:"Connector missing."}];if("object"!=typeof e.args.config)return[2,{error:"Config missing."}];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,_.openPrompt(RS(xS({},e),{action:"confirmAddAccount"}))];case 2:return n.sent(),[2,{data:{success:!0}}];case 3:return t=n.sent(),console.error("Adding account cancelled",t),r=t,(null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?[2,{success:!1,error:t.message}]:[2,{success:!1}];case 4:return[2]}var r,i}))})),BS.apply(this,arguments)}function LS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function jS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var DS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){LS(o,r,i,a,s,"next",e)}function s(e){LS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a;return jS(this,(function(s){switch(s.label){case 0:return n=Bg.getState().accounts,r=Bg.getState().currentAccountId,(i=null==e||null===(t=e.args)||void 0===t?void 0:t.id)||null===r||(i=r),"string"!=typeof i&&"number"!=typeof i?[3,2]:(delete n[i],Bg.setState({accounts:n}),o=Bg.getState().accounts,a=Object.keys(o),i===r&&a.length>0&&(r=a[0],Bg.setState({currentAccountId:r})),[4,Bg.getState().saveToStorage()]);case 1:return s.sent(),[2,{data:{removed:i}}];case 2:return[2,{error:"Account not found: ".concat(i)}];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const US=DS;function MS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function HS(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){MS(o,r,i,a,s,"next",e)}function s(e){MS(o,r,i,a,s,"throw",e)}a(void 0)}))}}function zS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var FS=function(){var e=HS((function(e){var t,n,r;return zS(this,(function(i){switch(i.label){case 0:return t=Bg.getState(),n=e.args.id,(r=t.accounts[n])?t.connector?(console.info("Unloading connector"),[4,t.connector]):[3,3]:[3,7];case 1:return[4,i.sent().unload()];case 2:i.sent(),i.label=3;case 3:return Bg.setState({account:r,nostr:null,liquid:null,mnemonic:null,bitcoin:null,connector:null,currentAccountId:n}),[4,Bg.getState().getConnector()];case 4:return i.sent(),[4,Bg.getState().saveToStorage()];case 5:return i.sent(),[4,qS()];case 6:return i.sent(),[2,{data:{unlocked:!0}}];case 7:return console.error("Account not found: ".concat(n)),[2,{error:"Account not found: ".concat(n)}];case 8:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const KS=FS;function qS(){return VS.apply(this,arguments)}function VS(){return VS=HS((function(){var e,t,n,r,i,a,s,c,u,l;return zS(this,(function(f){switch(f.label){case 0:return[4,o().tabs.query({})];case 1:if(!(e=f.sent()))return[3,12];t=e.filter((function(e){var t=e.url||"";return t.startsWith("http")||t.startsWith("https")})),n=!0,r=!1,i=void 0,f.label=2;case 2:f.trys.push([2,10,11,12]),a=t[Symbol.iterator](),f.label=3;case 3:if(n=(s=a.next()).done)return[3,9];c=s.value,f.label=4;case 4:return f.trys.push([4,7,,8]),c.id?[4,o().tabs.sendMessage(c.id,{action:"accountChanged"})]:[3,6];case 5:f.sent(),f.label=6;case 6:return[3,8];case 7:return u=f.sent(),console.error("Failed to notify account changed",u),[3,8];case 8:return n=!0,[3,3];case 9:return[3,12];case 10:return l=f.sent(),r=!0,i=l,[3,12];case 11:try{n||null==a.return||a.return()}finally{if(r)throw i}return[7];case 12:return[2]}}))})),VS.apply(this,arguments)}function WS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function GS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var YS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){WS(o,r,i,a,s,"next",e)}function s(e){WS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o;return GS(this,(function(a){switch(a.label){case 0:if(t=e.args.password,n="number"==typeof t?"".concat(t):t,r=Bg.getState().getAccount(),i=Bg.getState().currentAccountId,!r)return console.error("No account configured"),[2,Promise.resolve({error:"No account configured"})];if("string"!=typeof r.config)return console.error("Config must be a string"),[2,Promise.resolve({error:"Config must be a string"})];try{L(r.config,n)}catch(e){return console.error("Invalid password"),[2,Promise.resolve({error:Dt.t("translation:unlock.errors.invalid_password")})]}return[4,Bg.getState().password(n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,Bg.getState().getConnector()];case 3:return a.sent(),[3,5];case 4:return o=a.sent(),console.error(o),[3,5];case 5:return[2,{data:{unlocked:!0,currentAccountId:i}}]}}))}));return function(t){return e.apply(this,arguments)}}();const $S=YS;function ZS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function XS(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var JS=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ZS(o,r,i,a,s,"next",e)}function s(e){ZS(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s;return XS(this,(function(c){switch(c.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=c.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 2:return i=c.sent(),o=new Set(null==i?void 0:i.enabledFor),r&&i&&i.enabled&&o.has("alby")?[2,{data:{enabled:!0}}]:[3,3];case 3:return c.trys.push([3,13,,14]),[4,_.openPrompt(e)];case 4:return(a=c.sent()).data.enabled&&t.tab?[4,zg(Ug.Active,t.tab.id)]:[3,6];case 5:c.sent(),c.label=6;case 6:return a.data.enabled&&a.data.remember?i?i.id?(o.add("alby"),[4,mE.allowances.update(i.id,{enabled:!0,enabledFor:o,name:e.origin.name,imageURL:e.origin.icon})]):[2,{data:{error:"id is missing"}}]:[3,8]:[3,12];case 7:return c.sent(),[3,10];case 8:return[4,mE.allowances.add({host:n,name:e.origin.name,imageURL:e.origin.icon,enabled:!0,enabledFor:["alby"],lastPaymentAt:0,totalBudget:0,remainingBudget:0,createdAt:Date.now().toString(),lnurlAuth:!1,tag:""})];case 9:c.sent(),c.label=10;case 10:return[4,mE.saveToStorage()];case 11:c.sent(),c.label=12;case 12:return[2,{data:{enabled:a.data.enabled,remember:a.data.remember}}];case 13:return s=c.sent(),console.error(s),u=s,(null!=(l=Error)&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](u):u instanceof l)?[2,{error:s.message}]:[3,14];case 14:return[2]}var u,l}))}));return function(t,n){return e.apply(this,arguments)}}();const QS=JS;function ek(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function tk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var nk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ek(o,r,i,a,s,"next",e)}function s(e){ek(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return tk(this,(function(e){switch(e.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=e.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 2:return i=e.sent(),o=new Set(null==i?void 0:i.enabledFor),r&&i&&i.enabled&&o.has("alby")?[2,{data:{isEnabled:!0}}]:[2,{data:{isEnabled:!1}}]}}))}));return function(t,n){return e.apply(this,arguments)}}();const rk=nk;function ik(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ok(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ak=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ik(o,r,i,a,s,"next",e)}function s(e){ik(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a;return ok(this,(function(s){switch(s.label){case 0:return t=e.args.host,n=e.args.name,r=e.args.imageURL,i=e.args.totalBudget,[4,mE.allowances.where("host").equalsIgnoreCase(t).first()];case 1:return(o=s.sent())?o.id?[4,mE.allowances.update(o.id,{enabled:!0,imageURL:r,name:n,remainingBudget:i,totalBudget:i})]:[2,{error:"id is missing"}]:[3,3];case 2:return s.sent(),[3,5];case 3:return a={createdAt:Date.now().toString(),enabled:!0,host:t,imageURL:r,lastPaymentAt:0,lnurlAuth:!1,name:n,remainingBudget:i,tag:"",totalBudget:i},[4,mE.allowances.add(a)];case 4:s.sent(),s.label=5;case 5:return[4,mE.saveToStorage()];case 6:return s.sent(),[2,{data:{allowance:o}}]}}))}));return function(t){return e.apply(this,arguments)}}();const sk=ak;function ck(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function uk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var lk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ck(o,r,i,a,s,"next",e)}function s(e){ck(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return uk(this,(function(n){switch(n.label){case 0:return(t=e.args.id)?[4,mE.allowances.delete(t)]:[2,{error:"id is missing"}];case 1:return n.sent(),[4,mE.permissions.where({allowanceId:t}).delete()];case 2:return n.sent(),[4,mE.saveToStorage()];case 3:return n.sent(),[2,{data:!0}]}}))}));return function(t){return e.apply(this,arguments)}}();const fk=lk;function dk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function hk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hk(e,t,n[t])}))}return e}function yk(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function gk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var bk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){dk(o,r,i,a,s,"next",e)}function s(e){dk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o;return gk(this,(function(a){switch(a.label){case 0:return t=e.args.host,[4,mE.allowances.where("host").equalsIgnoreCase(t).first()];case 1:return(n=a.sent())&&n.id?(r=n.id,(i=yk(pk({},n),{id:r,payments:[],paymentsAmount:0,paymentsCount:0,percentage:0,usedBudget:0})).usedBudget=n.totalBudget-n.remainingBudget,i.percentage=n.totalBudget?i.usedBudget/n.totalBudget*100:0,[4,mE.payments.where("host").equalsIgnoreCase(n.host).count()]):[3,4];case 2:return i.paymentsCount=a.sent(),[4,mE.payments.where("host").equalsIgnoreCase(n.host).reverse().toArray()];case 3:return o=a.sent(),i.payments=o.reduce((function(e,t){if(!(null==t?void 0:t.id))return e;var n=t.id;return e.push(yk(pk({},t),{id:n})),e}),[]),i.paymentsAmount=i.payments.map((function(e){return"string"==typeof e.totalAmount?parseInt(e.totalAmount):e.totalAmount})).reduce((function(e,t){return e+t}),0),[2,{data:i}];case 4:return[2,{data:{enabled:!1}}];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const mk=bk;function vk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function wk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wk(e,t,n[t])}))}return e}function Ek(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Sk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var kk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){vk(o,r,i,a,s,"next",e)}function s(e){vk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return Sk(this,(function(o){switch(o.label){case 0:return t=e.args.id,[4,mE.allowances.get({id:t})];case 1:return(n=o.sent())?((r=Ek(_k({},n),{id:t,payments:[],paymentsAmount:0,paymentsCount:0,percentage:0,usedBudget:0})).usedBudget=n.totalBudget-n.remainingBudget,r.percentage=n.totalBudget?r.usedBudget/n.totalBudget*100:0,[4,mE.payments.where("host").equalsIgnoreCase(n.host).count()]):[3,4];case 2:return r.paymentsCount=o.sent(),[4,mE.payments.where("host").equalsIgnoreCase(n.host).reverse().toArray()];case 3:return i=o.sent(),r.payments=i.reduce((function(e,t){if(!(null==t?void 0:t.id))return e;var n=t.id;return e.push(Ek(_k({},t),{id:n})),e}),[]),r.paymentsAmount=r.payments.map((function(e){return"string"==typeof e.totalAmount?parseInt(e.totalAmount):e.totalAmount})).reduce((function(e,t){return e+t}),0),[2,{data:r}];case 4:return[2,{data:{enabled:!1}}];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const Ak=kk;function Ok(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Pk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ik(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Tk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Nk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ok(o,r,i,a,s,"next",e)}function s(e){Ok(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s,c,u,l,f,d;return Tk(this,(function(e){switch(e.label){case 0:return[4,mE.allowances.toCollection().reverse().sortBy("lastPaymentAt")];case 1:t=e.sent(),n=[],r=!0,i=!1,o=void 0,e.label=2;case 2:e.trys.push([2,8,9,10]),a=t[Symbol.iterator](),e.label=3;case 3:return(r=(s=a.next()).done)?[3,7]:(c=s.value).id?(u=c.id,l=Ik(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pk(e,t,n[t])}))}return e}({},c),{id:u,payments:[],paymentsAmount:0,paymentsCount:0,percentage:0,usedBudget:0}),l.usedBudget=l.totalBudget-l.remainingBudget,l.percentage=l.totalBudget?l.usedBudget/l.totalBudget*100:0,[4,mE.payments.where("host").equalsIgnoreCase(l.host).count()]):[3,6];case 4:return l.paymentsCount=e.sent(),[4,mE.payments.where("host").equalsIgnoreCase(l.host).reverse().toArray()];case 5:f=e.sent(),l.paymentsAmount=f.map((function(e){return"string"==typeof e.totalAmount?parseInt(e.totalAmount):e.totalAmount})).reduce((function(e,t){return e+t}),0),n.push(l),e.label=6;case 6:return r=!0,[3,3];case 7:return[3,10];case 8:return d=e.sent(),i=!0,o=d,[3,10];case 9:try{r||null==a.return||a.return()}finally{if(i)throw o}return[7];case 10:return[2,{data:{allowances:n}}]}}))}));return function(t){return e.apply(this,arguments)}}();const xk=Nk;function Rk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Ck(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Bk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Rk(o,r,i,a,s,"next",e)}function s(e){Rk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r;return Ck(this,(function(i){switch(i.label){case 0:return(t=e.args.id)?(n={},Object.prototype.hasOwnProperty.call(e.args,"totalBudget")&&(n.totalBudget=e.args.totalBudget,n.remainingBudget=e.args.totalBudget),Object.prototype.hasOwnProperty.call(e.args,"enabled")&&(n.enabled=e.args.enabled),Object.prototype.hasOwnProperty.call(e.args,"lnurlAuth")&&(n.lnurlAuth=e.args.lnurlAuth),[4,mE.allowances.update(t,n)]):[2,{error:"id is missing"}];case 1:return r=i.sent(),[4,mE.saveToStorage()];case 2:return i.sent(),[2,{data:r}]}}))}));return function(t){return e.apply(this,arguments)}}();const Lk=Bk;function jk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Dk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Uk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){jk(o,r,i,a,s,"next",e)}function s(e){jk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return Dk(this,(function(o){switch(o.label){case 0:return t=e.args,n=t.host,r=t.name,i=t.imageURL,[4,mE.blocklist.add({host:n,name:r,imageURL:i,isBlocked:!0})];case 1:return o.sent(),[4,mE.saveToStorage()];case 2:return o.sent(),[2,{data:!0}]}}))}));return function(t){return e.apply(this,arguments)}}();const Mk=Uk;function Hk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function zk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Fk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Hk(o,r,i,a,s,"next",e)}function s(e){Hk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return zk(this,(function(r){switch(r.label){case 0:return t=e.args.host,[4,mE.blocklist.where("host").equalsIgnoreCase(t).first()];case 1:return(null==(n=r.sent())?void 0:n.id)?[4,mE.blocklist.delete(n.id)]:[3,4];case 2:return r.sent(),[4,mE.saveToStorage()];case 3:r.sent(),r.label=4;case 4:return[2,{data:!0}]}}))}));return function(t){return e.apply(this,arguments)}}();const Kk=Fk;function qk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Vk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Wk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qk(o,r,i,a,s,"next",e)}function s(e){qk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return Vk(this,(function(n){switch(n.label){case 0:return t=e.args.host,[4,mE.blocklist.where("host").equalsIgnoreCase(t).first()];case 1:return n.sent()?[2,{data:{blocked:!0}}]:[2,{data:{blocked:!1}}]}}))}));return function(t){return e.apply(this,arguments)}}();const Gk=Wk;function Yk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function $k(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Zk=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Yk(o,r,i,a,s,"next",e)}function s(e){Yk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){return $k(this,(function(e){switch(e.label){case 0:return[4,mE.blocklist.toArray()];case 1:return[2,{data:{blocklist:e.sent()}}]}}))}));return function(t){return e.apply(this,arguments)}}();const Xk=Zk;function Jk(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Qk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var eA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Jk(o,r,i,a,s,"next",e)}function s(e){Jk(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s,c;return Qk(this,(function(u){switch(u.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=u.sent(),[4,Bg.getState().getAccount()];case 2:return i=u.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 3:return o=u.sent(),a=new Set(null==o?void 0:o.enabledFor),r&&o&&o.enabled&&(null==i?void 0:i.mnemonic)&&a.has("liquid")?[2,{data:{enabled:!0}}]:[3,4];case 4:return u.trys.push([4,14,,15]),[4,_.openPrompt(e)];case 5:return(s=u.sent()).data.enabled&&t.tab?[4,zg(Ug.Active,t.tab.id)]:[3,7];case 6:u.sent(),u.label=7;case 7:return s.data.enabled&&s.data.remember?o?o.id?(a.add("liquid"),[4,mE.allowances.update(o.id,{enabled:!0,enabledFor:a,name:e.origin.name,imageURL:e.origin.icon})]):[2,{data:{error:"id is missing"}}]:[3,9]:[3,13];case 8:return u.sent(),[3,11];case 9:return[4,mE.allowances.add({host:n,name:e.origin.name,imageURL:e.origin.icon,enabled:!0,enabledFor:["liquid"],lastPaymentAt:0,totalBudget:0,remainingBudget:0,createdAt:Date.now().toString(),lnurlAuth:!1,tag:""})];case 10:u.sent(),u.label=11;case 11:return[4,mE.saveToStorage()];case 12:u.sent(),u.label=13;case 13:return[2,{data:{enabled:s.data.enabled,remember:s.data.remember}}];case 14:return c=u.sent(),console.error(c),l=c,(null!=(f=Error)&&"undefined"!=typeof Symbol&&f[Symbol.hasInstance]?f[Symbol.hasInstance](l):l instanceof f)?[2,{error:c.message}]:[3,15];case 15:return[2]}var l,f}))}));return function(t,n){return e.apply(this,arguments)}}();const tA=eA;function nA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function rA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var iA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){nA(o,r,i,a,s,"next",e)}function s(e){nA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return rA(this,(function(r){switch(r.label){case 0:t=e.args.psetPreview,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,Bg.getState().getLiquid()];case 2:return[4,r.sent().fetchAssetRegistry(t)];case 3:return[2,{data:r.sent()}];case 4:return n=r.sent(),console.error(n),[2,{error:"fetchAssetRegistry failed: "+n}];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const oA=iA;function aA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function sA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function cA(e,t){return uA.apply(this,arguments)}function uA(){return uA=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){aA(o,r,i,a,s,"next",e)}function s(e){aA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return sA(this,(function(a){switch(a.label){case 0:return n=Bg.getState().currentAccountId,[4,mE.allowances.get({host:t})];case 1:return(null==(r=a.sent())?void 0:r.id)&&n?[4,mE.permissions.add({createdAt:Date.now().toString(),accountId:n,allowanceId:r.id,host:t,method:e,enabled:!0,blocked:!1})]:[2,!1];case 2:return i=a.sent(),(o=!!i)?[4,mE.saveToStorage()]:[3,4];case 3:o=a.sent(),a.label=4;case 4:return[2,o]}}))})),uA.apply(this,arguments)}function lA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function fA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function dA(e,t){return hA.apply(this,arguments)}function hA(){return hA=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){lA(o,r,i,a,s,"next",e)}function s(e){lA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i;return fA(this,(function(o){switch(o.label){case 0:return t?[4,mE.allowances.where("host").equalsIgnoreCase(t).first()]:[2,!1];case 1:if(!(null==(n=o.sent())?void 0:n.id))throw new Error("Could not find an allowance for this host");if(!(r=Bg.getState().currentAccountId))throw new Error("Account doesn't exist");return[4,mE.permissions.get({host:t,method:e,accountId:r})];case 2:return[2,!!(null==(i=o.sent())?void 0:i.enabled)]}}))})),hA.apply(this,arguments)}var pA,yA,gA;function bA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function mA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mA(e,t,n[t])}))}return e}function wA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _A(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(e){e.BITCOIN_GETADDRESS="bitcoin/getAddress"}(pA||(pA={})),function(e){e.LIQUID_GETADDRESS="liquid/getAddress"}(yA||(yA={})),function(e){e.NOSTR_SIGNMESSAGE="nostr/signMessage",e.NOSTR_SIGNSCHNORR="nostr/signSchnorr",e.NOSTR_GETPUBLICKEY="nostr/getPublicKey",e.NOSTR_NIP04DECRYPT="nostr/nip04decrypt",e.NOSTR_NIP04ENCRYPT="nostr/nip04encrypt"}(gA||(gA={}));var EA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){bA(o,r,i,a,s,"next",e)}function s(e){bA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a;return _A(this,(function(s){switch(s.label){case 0:if(!("host"in e.origin))return console.error("error",e.origin),[2];s.label=1;case 1:return s.trys.push([1,9,,10]),[4,dA(yA.LIQUID_GETADDRESS,e.origin.host)];case 2:return t=s.sent(),[4,Bg.getState().getLiquid()];case 3:return n=s.sent(),t?(r=n.getPublicKey(),[2,{data:wA(vA({},n.getAddress()),{publicKey:r})}]):[3,4];case 4:return[4,_.openPrompt(wA(vA({args:{}},e),{action:"public/liquid/confirmGetAddress"}))];case 5:return(i=s.sent()).data.rememberPermission?[4,cA(yA.LIQUID_GETADDRESS,e.origin.host)]:[3,7];case 6:s.sent(),s.label=7;case 7:return i.data.confirm?(o=n.getPublicKey(),[2,{data:wA(vA({},n.getAddress()),{publicKey:o})}]):[2,{error:"User rejected"}];case 8:return[3,10];case 9:return a=s.sent(),console.error("getAddress failed",a),c=a,(null!=(u=Error)&&"undefined"!=typeof Symbol&&u[Symbol.hasInstance]?u[Symbol.hasInstance](c):c instanceof u)?[2,{error:a.message}]:[3,10];case 10:return[2]}var c,u}))}));return function(t){return e.apply(this,arguments)}}();const SA=EA;function kA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function AA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var OA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){kA(o,r,i,a,s,"next",e)}function s(e){kA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r;return AA(this,(function(i){switch(i.label){case 0:t=e.args.pset,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Bg.getState().getLiquid()];case 2:return n=i.sent(),[2,{data:n.getPsetPreview(t)}];case 3:return r=i.sent(),console.error(r),[2,{error:"getPsetPreview failed: "+r}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const PA=OA;function IA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function TA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var NA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){IA(o,r,i,a,s,"next",e)}function s(e){IA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return TA(this,(function(e){switch(e.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=e.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 2:return i=e.sent(),o=new Set(null==i?void 0:i.enabledFor),r&&i&&i.enabled&&o.has("liquid")?[2,{data:{isEnabled:!0}}]:[2,{data:{isEnabled:!1}}]}}))}));return function(t,n){return e.apply(this,arguments)}}();const xA=NA;function RA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function CA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var BA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){RA(o,r,i,a,s,"next",e)}function s(e){RA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return CA(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,2,,3]),!(t=e.args.pset)||"string"!=typeof t)throw new Error("PSET missing");return[4,Bg.getState().getLiquid()];case 1:return n=o.sent(),r=Ey.Pset.fromBase64(t),[2,{data:{signed:n.signPset(r).toBase64()}}];case 2:return i=o.sent(),console.error(i),[2,{error:"signPset failed: "+i}];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const LA=BA;function jA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function DA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){DA(e,t,n[t])}))}return e}function MA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function HA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var zA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){jA(o,r,i,a,s,"next",e)}function s(e){jA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return HA(this,(function(r){switch(r.label){case 0:if(!(t=e.args.pset)||"string"!=typeof t)return[2,{error:"PSET missing."}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,_.openPrompt(MA(UA({},e),{action:"public/liquid/confirmSignPset"}))];case 2:return[2,r.sent()];case 3:return n=r.sent(),console.error("signPset cancelled",n),i=n,(null!=(o=Error)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)?[2,{error:n.message}]:[3,4];case 4:return[2]}var i,o}))}));return function(t){return e.apply(this,arguments)}}();const FA=zA;function KA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function qA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var VA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){KA(o,r,i,a,s,"next",e)}function s(e){KA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return qA(this,(function(r){switch(r.label){case 0:return"string"==typeof e.args.paymentHash&&e.args.paymentHash?[4,Bg.getState().getConnector()]:[2,{error:"Payment hash missing."}];case 1:t=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t.checkPayment({paymentHash:e.args.paymentHash})];case 3:return[2,r.sent()];case 4:return n=r.sent(),i=n,(null!=(o=Error)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)?[2,{error:n.message}]:[3,5];case 5:return[2]}var i,o}))}));return function(t){return e.apply(this,arguments)}}();const WA=VA;function GA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function YA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var $A=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){GA(o,r,i,a,s,"next",e)}function s(e){GA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s;return YA(this,(function(c){switch(c.label){case 0:return t=e.args,n=t.pubkey,r=t.host,"string"!=typeof n||"string"!=typeof r?[2,{error:"Peer data missing."}]:[4,Bg.getState().getConnector()];case 1:i=c.sent(),o={pubkey:n,host:r},c.label=2;case 2:return c.trys.push([2,4,,5]),[4,i.connectPeer(o)];case 3:return a=c.sent(),[3,5];case 4:return s=c.sent(),console.error(s),a={error:(u=s,l=Error,(null!=l&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](u):u instanceof l)?s.message:"Something went wrong")},[3,5];case 5:return[2,a]}var u,l}))}));return function(t){return e.apply(this,arguments)}}();const ZA=$A;function XA(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function JA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var QA=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){XA(o,r,i,a,s,"next",e)}function s(e){XA(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return JA(this,(function(e){switch(e.label){case 0:return[4,Bg.getState().getConnector()];case 1:return[4,(t=e.sent()).getInfo()];case 2:return n=e.sent(),[2,{data:{version:"Alby",supports:["lightning"],methods:t.supportedMethods,node:{alias:n.data.alias,pubkey:n.data.pubkey,color:n.data.color}}}]}}))}));return function(t){return e.apply(this,arguments)}}();const eO=QA;function tO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function nO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rO(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function iO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var oO=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){tO(o,r,i,a,s,"next",e)}function s(e){tO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o;return iO(this,(function(a){switch(a.label){case 0:return t=e.args.limit,[4,Bg.getState().getConnector()];case 1:n=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,n.getTransactions()];case 3:return r=a.sent(),i=r.data.transactions.filter((function(e){return e.settled})).map((function(e){var t=_.getBoostagramFromInvoiceCustomRecords(e.custom_records);return rO(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nO(e,t,n[t])}))}return e}({},e),{boostagram:t,paymentHash:e.payment_hash})})),t&&(i=i.slice(0,t)),[2,{data:{transactions:i}}];case 4:return o=a.sent(),console.error(o),s=o,(null!=(c=Error)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](s):s instanceof c)?[2,{error:o.message}]:[3,5];case 5:return[2]}var s,c}))}));return function(t){return e.apply(this,arguments)}}();const aO=oO;const sO={publishPaymentNotification:function(e,t,n){var r="success";"error"in n.response&&(r="failed"),wE().publish("ln.".concat(e,".").concat(r),{accountId:n.accountId,response:n.response,details:n.details,paymentRequestDetails:n.paymentRequestDetails,origin:t.origin})}};function cO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function uO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function lO(e){return fO.apply(this,arguments)}function fO(){return fO=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){cO(o,r,i,a,s,"next",e)}function s(e){cO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s,c;return uO(this,(function(u){switch(u.label){case 0:return wE().publish("ln.keysend.start",e),t=e.args,n=t.destination,r=t.amount,i=t.customRecords,[4,Bg.getState().currentAccountId];case 1:return(o=u.sent())?"string"!=typeof n||"string"!=typeof r&&"number"!=typeof r?[2,{error:"Destination or amount missing."}]:[4,Bg.getState().getConnector()]:[2,{error:"Select an account."}];case 2:a=u.sent(),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,a.keysend({pubkey:n,amount:parseInt(r),customRecords:i})];case 4:return s=u.sent(),[3,6];case 5:return c=u.sent(),s={error:(l=c,f=Error,(null!=f&&"undefined"!=typeof Symbol&&f[Symbol.hasInstance]?f[Symbol.hasInstance](l):l instanceof f)?c.message:"Something went wrong")},[3,6];case 6:return sO.publishPaymentNotification("keysend",e,{accountId:o,response:s,details:{destination:n}}),[2,s]}var l,f}))})),fO.apply(this,arguments)}function dO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function hO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hO(e,t,n[t])}))}return e}function yO(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function gO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var bO=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){dO(o,r,i,a,s,"next",e)}function s(e){dO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return gO(this,(function(o){switch(o.label){case 0:return wE().publish("ln.makeInvoice.start",e),n=e.args.memo||e.args.defaultMemo||"Alby invoice",e.args.amount?(t=parseInt(e.args.amount),[4,Bg.getState().getConnector()]):[3,6];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,r.makeInvoice({amount:t,memo:n})];case 3:return[2,o.sent()];case 4:return i=o.sent(),a=i,(null!=(s=Error)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s)?[2,{error:i.message}]:[3,5];case 5:return[3,8];case 6:return[4,_.openPrompt(yO(pO({},e),{action:"makeInvoice",args:{invoiceAttributes:pO({},e.args)}}))];case 7:return[2,o.sent()];case 8:return[2]}var a,s}))}));return function(t){return e.apply(this,arguments)}}();const mO=bO;function vO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function wO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var _O=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){vO(o,r,i,a,s,"next",e)}function s(e){vO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s,c,u,l,f,d,h;return wO(this,(function(p){switch(p.label){case 0:return[4,Bg.getState().getConnector()];case 1:t=p.sent(),n=Bg.getState().currentAccountId,r=e.origin,i=e.args,p.label=2;case 2:if(p.trys.push([2,12,,13]),!i.method||"string"!=typeof i.method)throw new Error("Request method is missing or not correct");if(o=i.method.toLowerCase(),a="request.".concat(o),s=t.supportedMethods||[],!t.requestMethod||!s.includes(a))throw new Error("".concat(o," is not supported by your account"));return[4,mE.allowances.where("host").equalsIgnoreCase(r.host).first()];case 3:if(!(null==(c=p.sent())?void 0:c.id))throw new Error("Could not find an allowance for this host");if(!n)throw new Error("Could not find a selected account");return u=t.constructor.name.toLowerCase(),[4,dA(l="".concat("webln/").concat(u,"/").concat(o),r.host)];case 4:return p.sent()?[4,t.requestMethod(o,i.params)]:[3,6];case 5:return[2,p.sent()];case 6:return[4,_.openPrompt({args:{requestPermission:{method:o,description:"".concat(u,".").concat(o)}},origin:r,action:"public/confirmRequestPermission"})];case 7:return f=p.sent(),[4,t.requestMethod(o,i.params)];case 8:return d=p.sent(),f.data.enabled?[4,cA(l,r.host)]:[3,10];case 9:p.sent(),p.label=10;case 10:return[2,d];case 11:return[3,13];case 12:return h=p.sent(),console.error(h),[2,{error:(y=h,g=Error,(null!=g&&"undefined"!=typeof Symbol&&g[Symbol.hasInstance]?g[Symbol.hasInstance](y):y instanceof g)?h.message:"Something went wrong with request ".concat(null==i?void 0:i.method))}];case 13:return[2]}var y,g}))}));return function(t){return e.apply(this,arguments)}}();const EO=_O;function SO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function kO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kO(e,t,n[t])}))}return e}function OO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function PO(e){return IO.apply(this,arguments)}function IO(){return IO=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){SO(o,r,i,a,s,"next",e)}function s(e){SO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s;return OO(this,(function(c){switch(c.label){case 0:return wE().publish("ln.sendPayment.start",e),[4,Bg.getState().currentAccountId];case 1:return(t=c.sent())?"string"!=typeof(n=e.args.paymentRequest)?[2,{error:"Payment request missing."}]:[4,Bg.getState().getConnector()]:[2,{error:"Select an account."}];case 2:r=c.sent(),c.label=3;case 3:return c.trys.push([3,5,,6]),o=Zd().decode(n),[4,r.sendPayment({paymentRequest:n})];case 4:return i=c.sent(),[3,6];case 5:return a=c.sent(),s="string"==typeof a?a:a.message?a.message:"Something went wrong",i={error:s},[3,6];case 6:return sO.publishPaymentNotification("sendPayment",e,{accountId:t,paymentRequestDetails:o,response:i,details:AO({},o&&{description:o.tagsObject.description,destination:o.payeeNodeKey})}),[2,i]}}))})),IO.apply(this,arguments)}function TO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function NO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function xO(){return xO=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){TO(o,r,i,a,s,"next",e)}function s(e){TO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return NO(this,(function(n){switch(n.label){case 0:return[4,Bg.getState().currentAccountId];case 1:return n.sent()?"string"!=typeof(t=e.args.paymentRequest)?[2,{error:"Payment request missing."}]:[4,Bg.getState().getConnector()]:[2,{error:"Select an account."}];case 2:return n.sent().sendPayment({paymentRequest:t}),[2,{data:{}}]}}))})),xO.apply(this,arguments)}function RO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function CO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var BO=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){RO(o,r,i,a,s,"next",e)}function s(e){RO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r;return CO(this,(function(i){switch(i.label){case 0:return wE().publish("ln.signMessage.start",e),"string"!=typeof(t=e.args.message)?[2,{error:"Message missing."}]:t.startsWith("DO NOT EVER SIGN THIS TEXT")?[2,{error:"forbidden"}]:[4,Bg.getState().getConnector()];case 1:n=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,n.signMessage({message:t,key_loc:{key_family:0,key_index:0}})];case 3:return[2,i.sent()];case 4:return r=i.sent(),console.error(r),o=r,(null!=(a=Error)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](o):o instanceof a)?(wE().publish("ln.signMessage.failed",{error:r.message,message:t,origin:e.origin}),[2,{error:r.message}]):[3,5];case 5:return[2]}var o,a}))}));return function(t){return e.apply(this,arguments)}}();const LO=BO;var jO=function(e){return"status"in e&&"ERROR"===e.status.toUpperCase()};function DO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function MO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HO(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function zO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var KO=function(e){if(e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-_0-9]+\.)+[a-zA-Z]{2,}))$/)){var t=zO(e.split("@"),2),n=t[0],r=t[1];return n=n.replace(/[^ -~]+/g,""),r=r.replace(/[^ -~]+/g,""),"https://".concat(r,"/.well-known/lnurlp/").concat(n)}return null},qO={isLightningAddress:function(e){return Boolean(KO(e))},findLnurl:function(e){var t,n=e.trim();return(t=n.match(/lnurl[pwc]:(\S+)/i))||(t=n.match(/(lnurl[a-zA-HJ-NP-Z0-9]+)/i))?t[1]:null},getDetails:function(e){return function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){UO(o,r,i,a,s,"next",e)}function s(e){UO(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){var t,n,r,i,o,a,s,c;return FO(this,(function(u){switch(u.label){case 0:return t=function(e){try{var t=yd(e);return new URL(t)}catch(e){console.info("ignoring bech32 parsing error",e)}var n=KO(e);return n?new URL(n):new URL("https://".concat(e.replace(/^lnurl[pwc]/i,"")))}(e),n=t.searchParams.get("tag"),r=t.searchParams.get("k1"),i=t.searchParams.get("action"),n&&"login"===n&&r?(o=HO(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){MO(e,t,n[t])}))}return e}({},i&&{action:i}),{domain:t.hostname,k1:r,tag:n,url:t.toString()}),[2,o]):[3,1];case 1:return u.trys.push([1,3,,4]),[4,Ud().get(t.toString(),{adapter:Wd})];case 2:if(a=u.sent().data,jO(s=a))throw new Error("LNURL Error: ".concat(s.reason));return s.domain=t.hostname,s.url=t.toString(),[2,s];case 3:throw c=u.sent(),new Error("Connection problem or invalid lnurl / lightning address: ".concat((l=c,(null!=(f=Error)&&"undefined"!=typeof Symbol&&f[Symbol.hasInstance]?f[Symbol.hasInstance](l):l instanceof f)?c.message:"")));case 4:return[2]}var l,f}))}))()},verifyInvoice:function(e){var t=e.paymentInfo,n=e.amount;switch(!0){case Zd().decode(t.pr).millisatoshis!==String(n):case t.successAction&&!["url","message","aes"].includes(t.successAction.tag):return!1;default:return!0}}};const VO=qO;function WO(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function GO(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){WO(o,r,i,a,s,"next",e)}function s(e){WO(o,r,i,a,s,"throw",e)}a(void 0)}))}}function YO(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var $O="DO NOT EVER SIGN THIS TEXT WITH YOUR PRIVATE KEYS! IT IS ONLY USED FOR DERIVATION OF LNURL-AUTH HASHING-KEY, DISCLOSING ITS SIGNATURE WILL COMPROMISE YOUR LNURL-AUTH IDENTITY AND MAY LEAD TO LOSS OF FUNDS!";function ZO(e){return XO.apply(this,arguments)}function XO(){return XO=GO((function(e){var t,n,r,i,o,a,s,c,u,l,f,d,h,p,y,g,b,m,v,w,E,S,k,A,O,P,I,T,N,x,R,C;return YO(this,(function(B){switch(B.label){case 0:if(t=e.lnurlDetails,n=e.origin,"login"!==t.tag)throw new Error("LNURL-AUTH FAIL: incorrect tag: ".concat(t.tag," was used"));return[4,Bg.getState().getAccount()];case 1:if(!(r=B.sent()))throw new Error("LNURL-AUTH FAIL: no account selected");if(!(i=new URL(t.url)).host)throw new Error("Invalid input");return r.mnemonic&&r.useMnemonicForLnurlAuth?[4,Bg.getState().getMnemonic()]:[3,3];case 2:a=B.sent(),s=a.deriveKey("m/138'/0"),c=s.privateKey,u=function(e,t){for(var n=pp()(pu().parse(e),aa().parse(t)).toString(aa()),r=ol.Buffer.from(n,"hex"),i=[],o=0;o<4;o++)i.push(r.readUint32BE(4*o));return i}(i.host,Bn.bytesToHex(c)),l=a.deriveKey("m/138'"),f=!0,d=!1,h=void 0;try{for(p=u[Symbol.iterator]();!(f=(y=p.next()).done);f=!0)g=y.value,l=l.deriveChild(g)}catch(e){d=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(d)throw h}}return o=Bn.bytesToHex(l.privateKey),[3,6];case 3:return[4,Bg.getState().getConnector()];case 4:return[4,B.sent().signMessage({message:$O,key_loc:{key_family:0,key_index:0}})];case 5:if(b=B.sent(),!(m=b.data.signature))throw new Error("Invalid Signature");v=ca()(m).toString(aa()),w=Bg.getState().settings,o=w.isUsingLegacyLnurlAuthKey?pp()(i.host,v).toString(aa()):pp()(i.host,aa().parse(v)).toString(aa()),B.label=6;case 6:if(!o)throw new Error("Invalid linkingKey");if(E=new mh(o),S=_.hexToUint8Array(t.k1),!t.k1||!S)throw new Error("Invalid K1");k=E.sign(S),A=k.toDER("hex"),(O=i).searchParams.set("sig",A),O.searchParams.set("key",E.pkHex),O.searchParams.set("t",Date.now().toString()),B.label=7;case 7:return B.trys.push([7,9,,10]),[4,Ud().get(O.toString(),{adapter:Wd})];case 8:if("OK"!==(null==(I=B.sent())||null===(P=I.data.status)||void 0===P?void 0:P.toUpperCase()))throw new Error((null==I||null===(T=I.data)||void 0===T?void 0:T.reason)||"Auth: Something went wrong");return wE().publish("lnurl.auth.success",{authResponse:I,lnurlDetails:t,origin:n}),[2,{success:!0,status:I.data.status,reason:I.data.reason,authResponseData:I.data}];case 9:if(N=B.sent(),Ud().isAxiosError(N))throw console.error("LNURL-AUTH FAIL:",N),C=(null===(x=null===(R=N.response)||void 0===R?void 0:R.data)||void 0===x?void 0:x.reason)||N.message,wE().publish("lnurl.auth.failed",{error:C,lnurlDetails:t,origin:n}),new Error(C);if(L=N,null!=(j=Error)&&"undefined"!=typeof Symbol&&j[Symbol.hasInstance]?j[Symbol.hasInstance](L):L instanceof j)throw wE().publish("lnurl.auth.failed",{error:N.message,lnurlDetails:t,origin:n}),N;return[3,10];case 10:return[2]}var L,j}))})),XO.apply(this,arguments)}var JO=function(){var e=GO((function(e){var t,n,r;return YO(this,(function(i){switch(i.label){case 0:return t=e.args,n=t.lnurlDetails,r=t.origin,[4,ZO({lnurlDetails:n,origin:r})];case 1:return[2,{data:i.sent()}]}}))}));return function(t){return e.apply(this,arguments)}}();const QO=JO;function eP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function tP(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){eP(o,r,i,a,s,"next",e)}function s(e){eP(o,r,i,a,s,"throw",e)}a(void 0)}))}}function nP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nP(e,t,n[t])}))}return e}function iP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function oP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function aP(){return aP=tP((function(e,t,n){var r,i,o,a;function s(){return c.apply(this,arguments)}function c(){return c=tP((function(){var t,r;return oP(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=iP(rP({},e),{action:"lnurlAuth",args:iP(rP({},e.args),{lnurlDetails:n})}),[4,_.openPrompt(t)];case 1:return[2,i.sent()];case 2:return r=i.sent(),[2,{error:(o=r,a=Error,(null!=a&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](o):o instanceof a)?r.message:r)}];case 3:return[2]}var o,a}))})),c.apply(this,arguments)}return oP(this,(function(c){switch(c.label){case 0:return(r=gd(t))&&"host"in e.origin?(wE().publish("lnurl.auth.start",{message:e,lnurlDetails:n}),[4,mE.allowances.where("host").equalsIgnoreCase(r).first()]):[2];case 1:return i=c.sent(),[4,Bg.getState().isUnlocked()];case 2:return o=c.sent(),[4,Bg.getState().getAccount()];case 3:return a=c.sent(),o&&i&&i.enabled&&i.lnurlAuth&&(!(null==a?void 0:a.useMnemonicForLnurlAuth)||(null==a?void 0:a.mnemonic))?[4,ZO({lnurlDetails:n,origin:e.origin})]:[3,5];case 4:case 6:return[2,c.sent()];case 5:return[4,s()]}}))})),aP.apply(this,arguments)}const sP=function(e,t,n){return aP.apply(this,arguments)};function cP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function uP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){uP(e,t,n[t])}))}return e}function fP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function dP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function hP(){return hP=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){cP(o,r,i,a,s,"next",e)}function s(e){cP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n;return dP(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_.openPrompt({origin:e.origin,action:"lnurlChannel",args:fP(lP({},e.args),{lnurlDetails:t})})];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,{error:(i=n,o=Error,(null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)?n.message:n)}];case 3:return[2]}var i,o}))})),hP.apply(this,arguments)}const pP=function(e,t){return hP.apply(this,arguments)};function yP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function gP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gP(e,t,n[t])}))}return e}function mP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function vP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function wP(){return wP=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){yP(o,r,i,a,s,"next",e)}function s(e){yP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n;return vP(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_.openPrompt({origin:e.origin,action:"lnurlPay",args:mP(bP({},e.args),{lnurlDetails:t})})];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,{error:(i=n,o=Error,(null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)?n.message:n)}];case 3:return[2]}var i,o}))})),wP.apply(this,arguments)}const _P=function(e,t){return wP.apply(this,arguments)};function EP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function SP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){SP(e,t,n[t])}))}return e}function AP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function OP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function PP(){return PP=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){EP(o,r,i,a,s,"next",e)}function s(e){EP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n;return OP(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_.openPrompt({origin:e.origin,action:"lnurlWithdraw",args:AP(kP({},e.args),{lnurlDetails:t})})];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,{error:(i=n,o=Error,(null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)?n.message:n)}];case 3:return[2]}var i,o}))})),PP.apply(this,arguments)}const IP=function(e,t){return PP.apply(this,arguments)};function TP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function NP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function xP(){return xP=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){TP(o,r,i,a,s,"next",e)}function s(e){TP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r;return NP(this,(function(i){switch(i.label){case 0:if("string"!=typeof e.args.lnurlEncoded)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,VO.getDetails(e.args.lnurlEncoded)];case 2:return n=i.sent(),jO(n)?[2,{error:n.reason}]:[3,4];case 3:return r=i.sent(),[2,{error:(o=r,a=Error,(null!=a&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](o):o instanceof a)?r.message:"Failed to parse LNURL")}];case 4:switch(n.tag){case"channelRequest":return[2,pP(e,n)];case"login":return[2,sP(e,t,n)];case"payRequest":return[2,_P(e,n)];case"withdrawRequest":return[2,IP(e,n)];default:return[2,{error:"not implemented"}]}return[2]}var o,a}))})),xP.apply(this,arguments)}const RP=function(e,t){return xP.apply(this,arguments)};function CP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function BP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var LP=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){CP(o,r,i,a,s,"next",e)}function s(e){CP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){return BP(this,(function(e){return[2,{data:Qo(ga,128)}]}))}));return function(t){return e.apply(this,arguments)}}();const jP=LP;function DP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function UP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var MP=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){DP(o,r,i,a,s,"next",e)}function s(e){DP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o;return UP(this,(function(a){switch(a.label){case 0:return n=(null===(t=e.args)||void 0===t?void 0:t.id)||Bg.getState().currentAccountId,r=Bg.getState().accounts,n&&Object.keys(r).includes(n)?[4,Bg.getState().password()]:[3,2];case 1:return(i=a.sent())?(o=r[n]).mnemonic?[2,{data:L(o.mnemonic,i)}]:[2,{data:null}]:[2,{error:"Password is missing."}];case 2:return[2,{error:"Account does not exist."}]}}))}));return function(t){return e.apply(this,arguments)}}();const HP=MP;function zP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function FP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var KP=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){zP(o,r,i,a,s,"next",e)}function s(e){zP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s;return FP(this,(function(c){switch(c.label){case 0:return n=(null===(t=e.args)||void 0===t?void 0:t.id)||Bg.getState().currentAccountId,[4,Bg.getState().password()];case 1:return(r=c.sent())?(i=e.args.mnemonic,o=Bg.getState().accounts,n&&Object.keys(o).includes(n)?((a=o[n]).mnemonic=i?B(i,r):null,i&&!a.nostrPrivateKey?(s=new pa(i).deriveNostrPrivateKeyHex(),a.nostrPrivateKey=B(s,r),a.hasImportedNostrKey=!1):a.hasImportedNostrKey=!0,o[n]=a,Bg.setState({accounts:o,mnemonic:null,bitcoin:null}),[4,Bg.getState().saveToStorage()]):[3,3]):[2,{error:"Password is missing."}];case 2:return c.sent(),[2,{data:{accountId:n}}];case 3:return[2,{error:"No account selected."}]}}))}));return function(t){return e.apply(this,arguments)}}();const qP=KP;function VP(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function WP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var GP=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){VP(o,r,i,a,s,"next",e)}function s(e){VP(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o;return WP(this,(function(a){switch(a.label){case 0:return t=e.args.id,n=Bg.getState().accounts,Object.keys(n).includes(t)?[4,Bg.getState().password()]:[3,2];case 1:return(r=a.sent())?(i=n[t]).nostrPrivateKey?(o=L(i.nostrPrivateKey,r),[2,{data:new Eg(o).getPublicKey()}]):[2,{data:null}]:[2,{error:"Password is missing."}];case 2:return[2,{error:"Account does not exist."}]}}))}));return function(t){return e.apply(this,arguments)}}();const YP=GP;function $P(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ZP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ZP(e,t,n[t])}))}return e}function JP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function QP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var eI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){$P(o,r,i,a,s,"next",e)}function s(e){$P(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i;return QP(this,(function(o){switch(o.label){case 0:if(!(n=gd(t)))return[2];o.label=1;case 1:return o.trys.push([1,13,,14]),[4,dA(gA.NOSTR_NIP04DECRYPT,n)];case 2:return o.sent()?[4,Bg.getState().getNostr()]:[3,5];case 3:return[4,o.sent().decrypt(e.args.peer,e.args.ciphertext)];case 4:return[2,{data:o.sent()}];case 5:return[4,_.openPrompt(JP(XP({},e),{action:"public/nostr/confirmEncryptOrDecrypt",args:{encryptOrDecrypt:{action:"decrypt",peer:e.args.peer,message:e.args.ciphertext}}}))];case 6:return(r=o.sent()).data.rememberPermission?[4,cA(gA.NOSTR_NIP04DECRYPT,n)]:[3,8];case 7:o.sent(),o.label=8;case 8:return r.data.confirm?[4,Bg.getState().getNostr()]:[3,11];case 9:return[4,o.sent().decrypt(e.args.peer,e.args.ciphertext)];case 10:return[2,{data:o.sent()}];case 11:return[2,{error:s}];case 12:return[3,14];case 13:return i=o.sent(),console.error("decrypt failed",i),a=i,(null!=(c=Error)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](a):a instanceof c)?[2,{error:i.message}]:[3,14];case 14:return[2]}var a,c}))}));return function(t,n){return e.apply(this,arguments)}}();const tI=eI;function nI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function rI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var iI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){nI(o,r,i,a,s,"next",e)}function s(e){nI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s,c;return rI(this,(function(u){switch(u.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=u.sent(),[4,Bg.getState().getAccount()];case 2:return i=u.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 3:return o=u.sent(),a=new Set(null==o?void 0:o.enabledFor),r&&o&&o.enabled&&(null==i?void 0:i.nostrPrivateKey)&&a.has("nostr")?[2,{data:{enabled:!0}}]:[3,4];case 4:return u.trys.push([4,14,,15]),[4,_.openPrompt(e)];case 5:return(s=u.sent()).data.enabled&&t.tab?[4,zg(Ug.Active,t.tab.id)]:[3,7];case 6:u.sent(),u.label=7;case 7:return s.data.enabled&&s.data.remember?o?o.id?(a.add("nostr"),[4,mE.allowances.update(o.id,{enabled:!0,enabledFor:a,name:e.origin.name,imageURL:e.origin.icon})]):[2,{data:{error:"id is missing"}}]:[3,9]:[3,13];case 8:return u.sent(),[3,11];case 9:return[4,mE.allowances.add({host:n,name:e.origin.name,imageURL:e.origin.icon,enabledFor:["nostr"],enabled:!0,lastPaymentAt:0,totalBudget:0,remainingBudget:0,createdAt:Date.now().toString(),lnurlAuth:!1,tag:""})];case 10:u.sent(),u.label=11;case 11:return[4,mE.saveToStorage()];case 12:u.sent(),u.label=13;case 13:return[2,{data:{enabled:s.data.enabled,remember:s.data.remember}}];case 14:return c=u.sent(),console.error(c),l=c,(null!=(f=Error)&&"undefined"!=typeof Symbol&&f[Symbol.hasInstance]?f[Symbol.hasInstance](l):l instanceof f)?[2,{error:c.message}]:[3,15];case 15:return[2]}var l,f}))}));return function(t,n){return e.apply(this,arguments)}}();const oI=iI;function aI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function sI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sI(e,t,n[t])}))}return e}function uI(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function lI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var fI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){aI(o,r,i,a,s,"next",e)}function s(e){aI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i;return lI(this,(function(o){switch(o.label){case 0:if(!(n=gd(t)))return[2];o.label=1;case 1:return o.trys.push([1,11,,12]),[4,dA(gA.NOSTR_NIP04ENCRYPT,n)];case 2:return o.sent()?[4,Bg.getState().getNostr()]:[3,4];case 3:return[2,{data:o.sent().encrypt(e.args.peer,e.args.plaintext)}];case 4:return[4,_.openPrompt(uI(cI({},e),{action:"public/nostr/confirmEncryptOrDecrypt",args:{encryptOrDecrypt:{action:"encrypt",peer:e.args.peer,message:e.args.plaintext}}}))];case 5:return(r=o.sent()).data.rememberPermission?[4,cA(gA.NOSTR_NIP04ENCRYPT,n)]:[3,7];case 6:o.sent(),o.label=7;case 7:return r.data.confirm?[4,Bg.getState().getNostr()]:[3,9];case 8:return[2,{data:o.sent().encrypt(e.args.peer,e.args.plaintext)}];case 9:return[2,{error:s}];case 10:return[3,12];case 11:return i=o.sent(),console.error("encrypt failed",i),a=i,(null!=(c=Error)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](a):a instanceof c)?[2,{error:i.message}]:[3,12];case 12:return[2]}var a,c}))}));return function(t,n){return e.apply(this,arguments)}}();const dI=fI;function hI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function pI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var yI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){hI(o,r,i,a,s,"next",e)}function s(e){hI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a;return pI(this,(function(s){switch(s.label){case 0:return n=(null===(t=e.args)||void 0===t?void 0:t.id)||Bg.getState().currentAccountId,[4,Bg.getState().password()];case 1:return(r=s.sent())?(i=Bg.getState().accounts,n&&Object.keys(i).includes(n)?(o=i[n]).mnemonic?(a=new pa(L(o.mnemonic,r)),[2,{data:a.deriveNostrPrivateKeyHex()}]):[2,{error:"Master Key is missing."}]:[2,{error:"Error generating private key."}]):[2,{error:"Password is missing."}]}}))}));return function(t){return e.apply(this,arguments)}}();const gI=yI;function bI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function mI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var vI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){bI(o,r,i,a,s,"next",e)}function s(e){bI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a;return mI(this,(function(s){switch(s.label){case 0:return(n=null==e||null===(t=e.args)||void 0===t?void 0:t.id)?[3,2]:(r={},[4,Bg.getState().getNostr()]);case 1:return[2,(r.data=s.sent().privateKey,r)];case 2:return i=Bg.getState().accounts,Object.keys(i).includes(n)?[4,Bg.getState().password()]:[3,4];case 3:return(o=s.sent())?(a=i[n]).nostrPrivateKey?[2,{data:L(a.nostrPrivateKey,o)}]:[2,{data:null}]:[2,{error:"Password is missing."}];case 4:return[2,{error:"Account does not exist."}]}}))}));return function(t){return e.apply(this,arguments)}}();const wI=vI;function _I(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function EI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){EI(e,t,n[t])}))}return e}function kI(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function AI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var OI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_I(o,r,i,a,s,"next",e)}function s(e){_I(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i;return AI(this,(function(o){switch(o.label){case 0:if(!(n=gd(t)))return[2];o.label=1;case 1:return o.trys.push([1,11,,12]),[4,dA(gA.NOSTR_GETPUBLICKEY,n)];case 2:return o.sent()?[4,Bg.getState().getNostr()]:[3,4];case 3:return[2,{data:o.sent().getPublicKey()}];case 4:return[4,_.openPrompt(kI(SI({args:{}},e),{action:"public/nostr/confirmGetPublicKey"}))];case 5:return(r=o.sent()).data.rememberPermission?[4,cA(gA.NOSTR_GETPUBLICKEY,n)]:[3,7];case 6:o.sent(),o.label=7;case 7:return r.data.confirm?[4,Bg.getState().getNostr()]:[3,9];case 8:return[2,{data:o.sent().getPublicKey()}];case 9:return[2,{error:"User rejected"}];case 10:return[3,12];case 11:return i=o.sent(),console.error("getPublicKey failed",i),a=i,(null!=(s=Error)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s)?[2,{error:i.message}]:[3,12];case 12:return[2]}var a,s}))}));return function(t,n){return e.apply(this,arguments)}}();const PI=OI;function II(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function TI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var NI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){II(o,r,i,a,s,"next",e)}function s(e){II(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r;return TI(this,(function(e){switch(e.label){case 0:return(n=gd(t))?[4,mE.allowances.get({host:n})]:[2];case 1:return(null==(r=e.sent())?void 0:r.id)?[2,{data:{"wss://relay.damus.io":{read:!0,write:!0},"wss://nostr1.tunnelsats.com":{read:!0,write:!0},"wss://nostr-pub.wellorder.net":{read:!0,write:!0},"wss://relay.nostr.info":{read:!0,write:!0},"wss://nostr-relay.wlvs.space":{read:!0,write:!0},"wss://nostr.bitcoiner.social":{read:!0,write:!0},"wss://nostr-01.bolt.observer":{read:!0,write:!0},"wss://relayer.fiatjaf.com":{read:!0,write:!0}}}]:[2,{error:"Could not find an allowance for this host"}]}}))}));return function(t,n){return e.apply(this,arguments)}}();const xI=NI;function RI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function CI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var BI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){RI(o,r,i,a,s,"next",e)}function s(e){RI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return CI(this,(function(e){switch(e.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=e.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 2:return i=e.sent(),o=new Set(null==i?void 0:i.enabledFor),r&&i&&i.enabled&&o.has("nostr")?[2,{data:{isEnabled:!0}}]:[2,{data:{isEnabled:!1}}]}}))}));return function(t,n){return e.apply(this,arguments)}}();const LI=BI;function jI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function DI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var UI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){jI(o,r,i,a,s,"next",e)}function s(e){jI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return DI(this,(function(o){switch(o.label){case 0:return n=(null===(t=e.args)||void 0===t?void 0:t.id)||Bg.getState().currentAccountId,r=Bg.getState().accounts,n&&Object.keys(r).includes(n)?((i=r[n]).nostrPrivateKey&&delete i.nostrPrivateKey,i.hasImportedNostrKey=!0,r[n]=i,Bg.setState({accounts:r,nostr:null}),[4,Bg.getState().saveToStorage()]):[3,2];case 1:return o.sent(),[2,{data:{accountId:n}}];case 2:return[2,{error:"No account selected."}]}}))}));return function(t){return e.apply(this,arguments)}}();const MI=UI;var HI={normalizeToHex:function(e){var t=e.substring(0,4);if(["npub","nsec","note"].includes(t))try{return yd(e,"hex")}catch(e){console.info("ignoring bech32 parsing error",e)}return e},hexToNip19:function(e){return function(e,t){var n=Bn.hexToBytes(t),r=fd.bech32.toWords(n);return fd.bech32.encode(e,r,1e3)}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nsec",e)},derivePublicKey:function(e){var t=po.getPublicKey(Bn.hexToBytes(e)),n=Bn.bytesToHex(t);return zI.hexToNip19(n,"npub")}};const zI=HI;function FI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function KI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var qI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){FI(o,r,i,a,s,"next",e)}function s(e){FI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a;return KI(this,(function(s){switch(s.label){case 0:return n=(null===(t=e.args)||void 0===t?void 0:t.id)||Bg.getState().currentAccountId,[4,Bg.getState().password()];case 1:if(!(r=s.sent()))return[2,{error:"Password is missing."}];try{i=zI.normalizeToHex(e.args.privateKey),zI.derivePublicKey(i),zI.hexToNip19(i,"nsec")}catch(e){return[2,{error:"Invalid private key"}]}return o=Bg.getState().accounts,n&&Object.keys(o).includes(n)?((a=o[n]).nostrPrivateKey=i?B(i,r):null,a.hasImportedNostrKey=!a.mnemonic||new pa(L(a.mnemonic,r)).deriveNostrPrivateKeyHex()!==i,o[n]=a,Bg.setState({accounts:o,nostr:null}),[4,Bg.getState().saveToStorage()]):[3,3];case 2:return s.sent(),[2,{data:{accountId:n}}];case 3:return[2,{error:"No account selected."}]}}))}));return function(t){return e.apply(this,arguments)}}();const VI=qI;function WI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function GI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){GI(e,t,n[t])}))}return e}function $I(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ZI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var XI=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){WI(o,r,i,a,s,"next",e)}function s(e){WI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return ZI(this,(function(a){switch(a.label){case 0:return(n=gd(t))?[4,Bg.getState().getNostr()]:[2];case 1:r=a.sent(),i=e.args.event,a.label=2;case 2:return a.trys.push([2,8,,9]),fg(i)?[4,dA(gA.NOSTR_SIGNMESSAGE,n)]:(console.error("Invalid event"),[2,{error:"Invalid event."}]);case 3:return a.sent()?[3,6]:[4,_.openPrompt($I(YI({},e),{action:"public/nostr/confirmSignMessage"}))];case 4:return a.sent().data.enabled?[4,cA(gA.NOSTR_SIGNMESSAGE,n)]:[3,6];case 5:a.sent(),a.label=6;case 6:return i.pubkey||(i.pubkey=r.getPublicKey()),i.id||(i.id=r.getEventHash(i)),[4,r.signEvent(i)];case 7:return[2,{data:a.sent()}];case 8:return o=a.sent(),console.error("signEvent cancelled",o),s=o,(null!=(c=Error)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](s):s instanceof c)?[2,{error:o.message}]:[3,9];case 9:return[2]}var s,c}))}));return function(t,n){return e.apply(this,arguments)}}();const JI=XI;function QI(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function eT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){eT(e,t,n[t])}))}return e}function nT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function rT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var iT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){QI(o,r,i,a,s,"next",e)}function s(e){QI(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return rT(this,(function(a){switch(a.label){case 0:return(n=gd(t))?[4,Bg.getState().getNostr()]:[2];case 1:r=a.sent(),i=e.args.sigHash,a.label=2;case 2:if(a.trys.push([2,8,,9]),!i||"string"!=typeof i)throw new Error("sigHash is missing or not correct");return[4,dA(gA.NOSTR_SIGNSCHNORR,n)];case 3:return a.sent()?[3,6]:[4,_.openPrompt(nT(tT({},e),{action:"public/nostr/confirmSignSchnorr"}))];case 4:return a.sent().data.enabled?[4,cA(gA.NOSTR_SIGNSCHNORR,n)]:[3,6];case 5:a.sent(),a.label=6;case 6:return[4,r.signSchnorr(i)];case 7:return[2,{data:a.sent()}];case 8:return o=a.sent(),console.error("signSchnorr cancelled",o),s=o,(null!=(c=Error)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](s):s instanceof c)?[2,{error:o.message}]:[3,9];case 9:return[2]}var s,c}))}));return function(t,n){return e.apply(this,arguments)}}();const oT=iT;function aT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function sT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var cT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){aT(o,r,i,a,s,"next",e)}function s(e){aT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return sT(this,(function(r){switch(r.label){case 0:return n=(null==e||null===(t=e.args)||void 0===t?void 0:t.limit)||2121,[4,mE.payments.toCollection().limit(n).reverse().sortBy("createdAt")];case 1:return[2,{data:{payments:r.sent()}}]}}))}));return function(t){return e.apply(this,arguments)}}();const uT=cT;function lT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function fT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var dT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){lT(o,r,i,a,s,"next",e)}function s(e){lT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r;return fT(this,(function(i){switch(i.label){case 0:return n=e.args.accountId,r=(null==e||null===(t=e.args)||void 0===t?void 0:t.limit)||2121,[4,mE.payments.toCollection().filter((function(e){return e.accountId===n})).limit(r).reverse().sortBy("createdAt")];case 1:return[2,{data:{payments:i.sent()}}]}}))}));return function(t){return e.apply(this,arguments)}}();const hT=dT;function pT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function yT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var gT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pT(o,r,i,a,s,"next",e)}function s(e){pT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s,c;return yT(this,(function(u){switch(u.label){case 0:return t=e.args,n=t.host,r=t.method,i=t.enabled,o=t.blocked,a=Bg.getState().currentAccountId,[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 1:return(null==(s=u.sent())?void 0:s.id)?a?[4,mE.permissions.add({createdAt:Date.now().toString(),allowanceId:s.id,accountId:a,host:n,method:r,enabled:i,blocked:o})]:[2,{error:"No Account selected"}]:[2,{error:"No Allowance set for this host"}];case 2:return c=u.sent(),[4,mE.saveToStorage()];case 3:return u.sent(),[2,{data:c}]}}))}));return function(t){return e.apply(this,arguments)}}();const bT=gT;function mT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function vT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var wT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){mT(o,r,i,a,s,"next",e)}function s(e){mT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o;return vT(this,(function(a){switch(a.label){case 0:return t=e.args,n=t.host,r=t.method,i=t.accountId,[4,mE.permissions.where("host").equalsIgnoreCase(n).and((function(e){return e.accountId===i&&e.method===r})).delete()];case 1:return o=a.sent(),[4,mE.saveToStorage()];case 2:return a.sent(),[2,{data:!!o}]}}))}));return function(t){return e.apply(this,arguments)}}();const _T=wT;function ET(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ST(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var kT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ET(o,r,i,a,s,"next",e)}function s(e){ET(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r;return ST(this,(function(i){switch(i.label){case 0:return t=e.args,n=t.ids,(r=t.accountId)?[4,mE.permissions.where("id").anyOf(n).and((function(e){return e.accountId===r})).delete()]:[2,{error:"Missing account id to delete permission(s)."}];case 1:return i.sent(),[4,mE.saveToStorage()];case 2:return i.sent(),[2,{data:!0}]}}))}));return function(t){return e.apply(this,arguments)}}();const AT=kT;function OT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function PT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){PT(e,t,n[t])}))}return e}function TT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function NT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var xT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){OT(o,r,i,a,s,"next",e)}function s(e){OT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s,c,u,l,f,d,h;return NT(this,(function(p){switch(p.label){case 0:return t=e.args,n=t.id,(r=t.accountId)?[4,mE.permissions.where({allowanceId:n,accountId:r}).toArray()]:[2,{error:"Missing account id to fetch permissions."}];case 1:i=p.sent(),o=[],a=!0,s=!1,c=void 0;try{for(u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)(f=l.value).id&&(d=f.id,h=TT(IT({},f),{id:d}),o.push(h))}catch(e){s=!0,c=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}return[2,{data:{permissions:o}}]}}))}));return function(t){return e.apply(this,arguments)}}();const RT=xT;function CT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function BT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var jT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){CT(o,r,i,a,s,"next",e)}function s(e){CT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s;return LT(this,(function(c){switch(c.label){case 0:return t=Bg.getState().accounts,[4,Bg.getState().password()];case 1:if(!(n=c.sent()))return[2,{error:"Password is missing"}];for(var u in r=e.args.password,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){BT(e,t,n[t])}))}return e}({},t),i)o=L(t[u].config,n),i[u].config=B(o,r),t[u].nostrPrivateKey&&(a=L(t[u].nostrPrivateKey,n),i[u].nostrPrivateKey=B(a,r)),t[u].mnemonic&&(s=L(t[u].mnemonic,n),i[u].mnemonic=B(s,r));return[4,Bg.getState().password(r)];case 2:return c.sent(),Bg.setState({accounts:i}),[4,Bg.getState().saveToStorage()];case 3:return c.sent(),[2,{}]}}))}));return function(t){return e.apply(this,arguments)}}();const DT=jT;function UT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function MT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var HT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){UT(o,r,i,a,s,"next",e)}function s(e){UT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(){return MT(this,(function(e){return[2,{data:Bg.getState().settings}]}))}));return function(){return e.apply(this,arguments)}}();const zT=HT;function FT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function KT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var VT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){FT(o,r,i,a,s,"next",e)}function s(e){FT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r;return qT(this,(function(i){switch(i.label){case 0:return t=Bg.getState().settings,"object"!=typeof(n=e.args.setting)?[3,2]:(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){KT(e,t,n[t])}))}return e}({},t,n),Bg.setState({settings:r}),[4,Bg.getState().saveToStorage()]);case 1:return i.sent(),[2,Promise.resolve({data:r})];case 2:return[2,Promise.reject(new Error("Incorrect setting"))];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const WT=VT;function GT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function YT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var $T=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){GT(o,r,i,a,s,"next",e)}function s(e){GT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){return YT(this,(function(e){switch(e.label){case 0:return[4,Bg.getState().reset()];case 1:return e.sent(),[4,mE.clearAllTables()];case 2:return e.sent(),[2,{data:{reset:!0}}]}}))}));return function(t){return e.apply(this,arguments)}}();const ZT=$T;function XT(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function JT(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var QT=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){XT(o,r,i,a,s,"next",e)}function s(e){XT(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return JT(this,(function(n){switch(n.label){case 0:return t=e.args.password,[4,Bg.getState().password(t)];case 1:return n.sent(),[2,Promise.resolve({data:{unlocked:!0}})]}}))}));return function(t){return e.apply(this,arguments)}}();const eN=QT;function tN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function nN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var rN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){tN(o,r,i,a,s,"next",e)}function s(e){tN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return nN(this,(function(e){switch(e.label){case 0:return[4,Bg.getState().isUnlocked()];case 1:return t=e.sent(),n=Bg.getState().getAccount(),r=Bg.getState().currentAccountId,i=null!=n,[2,Promise.resolve({data:{unlocked:t,configured:i,currentAccountId:r}})]}}))}));return function(t){return e.apply(this,arguments)}}();const iN=rN;function oN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function aN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var sN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){oN(o,r,i,a,s,"next",e)}function s(e){oN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a;return aN(this,(function(t){switch(t.label){case 0:return n=e.args,[4,(r=new _y[n.connector](n,n.config)).init()];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,6]),[4,r.getInfo()];case 3:return o=t.sent(),[4,r.unload()];case 4:return t.sent(),[2,{data:{valid:!0,info:o,oAuthToken:null===(i=r.getOAuthToken)||void 0===i?void 0:i.call(r)}}];case 5:return a=t.sent(),console.error(a),[2,{data:{valid:!1,error:a.message}}];case 6:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();const cN=sN;function uN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function lN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var fN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){uN(o,r,i,a,s,"next",e)}function s(e){uN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return lN(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Bg.getState().getConnector()];case 1:if(!(t=r.sent()).createSwap)throw new Error("This connector does not support createSwap");return[4,t.createSwap(e.args)];case 2:return[2,{data:r.sent()}];case 3:return n=r.sent(),console.error(n),[2,{error:"Creating swap failed: "+(i=n,o=Error,(null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)?n.message:"")}];case 4:return[2]}var i,o}))}));return function(t){return e.apply(this,arguments)}}();const dN=fN;function hN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function pN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var yN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){hN(o,r,i,a,s,"next",e)}function s(e){hN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return pN(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,Bg.getState().getConnector()];case 1:if(!(t=e.sent()).getSwapInfo)throw new Error("This connector does not support createSwap");return[4,t.getSwapInfo()];case 2:return[2,{data:e.sent()}];case 3:return n=e.sent(),console.error(n),[2,{error:"Getting swap info failed: "+(r=n,i=Error,(null!=i&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?n.message:"")}];case 4:return[2]}var r,i}))}));return function(t){return e.apply(this,arguments)}}();const gN=yN;function bN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function mN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var vN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){bN(o,r,i,a,s,"next",e)}function s(e){bN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s,c;return mN(this,(function(u){switch(u.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=u.sent(),[4,Bg.getState().getAccount()];case 2:return i=u.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 3:return o=u.sent(),a=new Set(null==o?void 0:o.enabledFor),r&&o&&o.enabled&&(null==i?void 0:i.mnemonic)&&a.has("webbtc")?[2,{data:{enabled:!0}}]:[3,4];case 4:return u.trys.push([4,14,,15]),[4,_.openPrompt(e)];case 5:return(s=u.sent()).data.enabled&&t.tab?[4,zg(Ug.Active,t.tab.id)]:[3,7];case 6:u.sent(),u.label=7;case 7:return s.data.enabled&&s.data.remember?o?o.id?(a.add("webbtc"),[4,mE.allowances.update(o.id,{enabled:!0,enabledFor:a,name:e.origin.name,imageURL:e.origin.icon})]):[2,{data:{error:"id is missing"}}]:[3,9]:[3,13];case 8:return u.sent(),[3,11];case 9:return[4,mE.allowances.add({host:n,name:e.origin.name,imageURL:e.origin.icon,enabled:!0,enabledFor:["webbtc"],lastPaymentAt:0,totalBudget:0,remainingBudget:0,createdAt:Date.now().toString(),lnurlAuth:!1,tag:""})];case 10:u.sent(),u.label=11;case 11:return[4,mE.saveToStorage()];case 12:u.sent(),u.label=13;case 13:return[2,{data:{enabled:s.data.enabled,remember:s.data.remember}}];case 14:return c=u.sent(),console.error(c),l=c,(null!=(f=Error)&&"undefined"!=typeof Symbol&&f[Symbol.hasInstance]?f[Symbol.hasInstance](l):l instanceof f)?[2,{error:c.message}]:[3,15];case 15:return[2]}var l,f}))}));return function(t,n){return e.apply(this,arguments)}}();const wN=vN;function _N(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function EN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var SN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_N(o,r,i,a,s,"next",e)}function s(e){_N(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return EN(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Bg.getState().getBitcoin()];case 1:return t=e.sent(),[2,{data:t.getTaprootAddress()}];case 2:return n=e.sent(),console.error("getAddress failed: ",n),[2,{error:"getAddress failed: "+n}];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const kN=SN;function AN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ON(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ON(e,t,n[t])}))}return e}function IN(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function TN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var NN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){AN(o,r,i,a,s,"next",e)}function s(e){AN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i;return TN(this,(function(o){switch(o.label){case 0:if(!("host"in e.origin))return console.error("error",e.origin),[2];o.label=1;case 1:return o.trys.push([1,9,,10]),[4,dA(pA.BITCOIN_GETADDRESS,e.origin.host)];case 2:return t=o.sent(),[4,Bg.getState().getBitcoin()];case 3:return n=o.sent(),t?[2,{data:n.getTaprootAddress()}]:[3,4];case 4:return[4,_.openPrompt(IN(PN({},e),{action:"public/webbtc/confirmGetAddress"}))];case 5:return(r=o.sent()).data.rememberPermission?[4,cA(pA.BITCOIN_GETADDRESS,e.origin.host)]:[3,7];case 6:o.sent(),o.label=7;case 7:return r.data.confirm?[2,{data:n.getTaprootAddress()}]:[2,{error:"User rejected"}];case 8:return[3,10];case 9:return i=o.sent(),console.error("getAddress failed",i),a=i,(null!=(s=Error)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s)?[2,{error:i.message}]:[3,10];case 10:return[2]}var a,s}))}));return function(t){return e.apply(this,arguments)}}();const xN=NN;function RN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function CN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var BN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){RN(o,r,i,a,s,"next",e)}function s(e){RN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){return CN(this,(function(e){return[2,{data:{version:"Alby",supports:["bitcoin"],methods:["getInfo","signPsbt","getAddress"]}}]}))}));return function(t){return e.apply(this,arguments)}}();const LN=BN;function jN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function DN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var UN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){jN(o,r,i,a,s,"next",e)}function s(e){jN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n;return DN(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Bg.getState().getBitcoin()];case 1:return t=r.sent(),[2,{data:t.getPsbtPreview(e.args.psbt)}];case 2:return n=r.sent(),console.error("getPsbtPreview failed: ",n),[2,{error:"getPsbtPreview failed: "+n}];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const MN=UN;function HN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function zN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var FN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){HN(o,r,i,a,s,"next",e)}function s(e){HN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return zN(this,(function(e){switch(e.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=e.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 2:return i=e.sent(),o=new Set(null==i?void 0:i.enabledFor),r&&i&&i.enabled&&o.has("webbtc")?[2,{data:{isEnabled:!0}}]:[2,{data:{isEnabled:!1}}]}}))}));return function(t,n){return e.apply(this,arguments)}}();const KN=FN;function qN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function VN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var WN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qN(o,r,i,a,s,"next",e)}function s(e){qN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return VN(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,Bg.getState().getBitcoin()];case 1:return[4,n.sent().signPsbt(e.args.psbt)];case 2:return[2,{data:{signed:n.sent()}}];case 3:return t=n.sent(),console.error("signPsbt failed: ",t),[2,{error:"signPsbt failed: "+t}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();const GN=WN;function YN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function $N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$N(e,t,n[t])}))}return e}function XN(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function JN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var QN=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){YN(o,r,i,a,s,"next",e)}function s(e){YN(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return JN(this,(function(n){switch(n.label){case 0:if("string"!=typeof e.args.psbt)return[2,{error:"PSBT missing."}];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,_.openPrompt(XN(ZN({},e),{action:"webbtc/confirmSignPsbt"}))];case 2:return[2,n.sent()];case 3:return t=n.sent(),console.error("signPsbt cancelled",t),r=t,(null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?[2,{error:t.message}]:[3,4];case 4:return[2]}var r,i}))}));return function(t){return e.apply(this,arguments)}}();const ex=QN;function tx(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function nx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var rx=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){tx(o,r,i,a,s,"next",e)}function s(e){tx(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o,a,s;return nx(this,(function(c){switch(c.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=c.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 2:return i=c.sent(),o=new Set(null==i?void 0:i.enabledFor),r&&i&&i.enabled&&o.has("webln")?[2,{data:{enabled:!0}}]:[3,3];case 3:return c.trys.push([3,13,,14]),[4,_.openPrompt(e)];case 4:return(a=c.sent()).data.enabled&&t.tab?[4,zg(Ug.Active,t.tab.id)]:[3,6];case 5:c.sent(),c.label=6;case 6:return a.data.enabled&&a.data.remember?i?i.id?(o.add("webln"),[4,mE.allowances.update(i.id,{enabled:!0,enabledFor:o,name:e.origin.name,imageURL:e.origin.icon})]):[2,{data:{error:"id is missing"}}]:[3,8]:[3,12];case 7:return c.sent(),[3,10];case 8:return[4,mE.allowances.add({host:n,name:e.origin.name,imageURL:e.origin.icon,enabled:!0,enabledFor:["webln"],lastPaymentAt:0,totalBudget:0,remainingBudget:0,createdAt:Date.now().toString(),lnurlAuth:!1,tag:""})];case 9:c.sent(),c.label=10;case 10:return[4,mE.saveToStorage()];case 11:c.sent(),c.label=12;case 12:return[2,{data:{enabled:a.data.enabled,remember:a.data.remember}}];case 13:return s=c.sent(),console.error(s),u=s,(null!=(l=Error)&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](u):u instanceof l)?[2,{error:s.message}]:[3,14];case 14:return[2]}var u,l}))}));return function(t,n){return e.apply(this,arguments)}}();const ix=rx;function ox(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ax(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var sx=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ox(o,r,i,a,s,"next",e)}function s(e){ox(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t,n,r,i,o,a,s,c;return ax(this,(function(u){switch(u.label){case 0:return"host"in e.origin?[4,Bg.getState().getConnector()]:[2];case 1:t=u.sent(),n=Bg.getState().currentAccountId,u.label=2;case 2:return u.trys.push([2,14,,15]),[4,mE.allowances.where("host").equalsIgnoreCase(e.origin.host).first()];case 3:if(!(null==(r=u.sent())?void 0:r.id))throw new Error("Could not find an allowance for this host");if(!n)throw new Error("Could not find a selected account");return[4,mE.permissions.where("host").equalsIgnoreCase(e.origin.host).and((function(e){return e.accountId===n&&"webln.getbalance"===e.method})).first()];case 4:return(i=u.sent())&&i.enabled?[4,t.getBalance()]:[3,6];case 5:return[2,u.sent()];case 6:return[4,_.openPrompt({args:{requestPermission:{method:"getBalance",description:"webln.getbalance"}},origin:e.origin,action:"public/confirmRequestPermission"})];case 7:return o=u.sent(),[4,t.getBalance()];case 8:return a=u.sent(),o.data.enabled?[4,mE.permissions.add({createdAt:Date.now().toString(),accountId:n,allowanceId:r.id,host:e.origin.host,method:"webln.getbalance",enabled:o.data.enabled,blocked:o.data.blocked})]:[3,12];case 9:return s=u.sent(),!!s?[4,mE.saveToStorage()]:[3,11];case 10:u.sent(),u.label=11;case 11:u.label=12;case 12:return[2,a];case 13:return[3,15];case 14:return c=u.sent(),console.error(c),[2,{error:(l=c,f=Error,(null!=f&&"undefined"!=typeof Symbol&&f[Symbol.hasInstance]?f[Symbol.hasInstance](l):l instanceof f)?c.message:"Something went wrong with during webln.getBalance()")}];case 15:return[2]}var l,f}))}));return function(t){return e.apply(this,arguments)}}();const cx=sx;function ux(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function lx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var fx=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ux(o,r,i,a,s,"next",e)}function s(e){ux(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e,t){var n,r,i,o;return lx(this,(function(e){switch(e.label){case 0:return(n=gd(t))?[4,Bg.getState().isUnlocked()]:[2];case 1:return r=e.sent(),[4,mE.allowances.where("host").equalsIgnoreCase(n).first()];case 2:return i=e.sent(),o=new Set(null==i?void 0:i.enabledFor),r&&i&&i.enabled&&o.has("webln")?[2,{data:{isEnabled:!0}}]:[2,{data:{isEnabled:!1}}]}}))}));return function(t,n){return e.apply(this,arguments)}}();const dx=fx;function hx(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function px(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){hx(o,r,i,a,s,"next",e)}function s(e){hx(o,r,i,a,s,"throw",e)}a(void 0)}))}}function yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gx(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function bx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yx(e,t,n[t])}))}return e}function mx(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function vx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var wx=function(){var e=px((function(e,t){var n,r,i;return vx(this,(function(o){switch(o.label){case 0:return(n=gd(t))?"string"!=typeof(r=e.args.paymentRequest)?[2,{error:"Payment request missing."}]:(i=Zd().decode(r),[4,_x(n,i.satoshis||0)]):[2];case 1:return o.sent()?[2,Sx(e)]:[2,Ax(e)]}}))}));return function(t,n){return e.apply(this,arguments)}}();function _x(e,t){return Ex.apply(this,arguments)}function Ex(){return(Ex=px((function(e,t){var n;return vx(this,(function(r){switch(r.label){case 0:return[4,mE.allowances.where("host").equalsIgnoreCase(e).first()];case 1:return[2,(n=r.sent())&&n.remainingBudget>t]}}))}))).apply(this,arguments)}function Sx(e){return kx.apply(this,arguments)}function kx(){return kx=px((function(e){var t;return vx(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,PO(e)];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error(t),gx(t,Error)?[2,{error:t.message}]:[3,3];case 3:return[2]}}))})),kx.apply(this,arguments)}function Ax(e){return Ox.apply(this,arguments)}function Ox(){return Ox=px((function(e){var t;return vx(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.openPrompt(mx(bx({},e),{action:"confirmPayment"}))];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("Payment cancelled",t),gx(t,Error)?[2,{error:t.message}]:[3,3];case 3:return[2]}}))})),Ox.apply(this,arguments)}function Px(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Ix(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Px(o,r,i,a,s,"next",e)}function s(e){Px(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Tx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nx(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function xx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Tx(e,t,n[t])}))}return e}function Rx(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Cx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Bx=function(){var e=Ix((function(e,t){var n,r,i;return Cx(this,(function(o){switch(o.label){case 0:return(n=gd(t))?(r=e.args.destination,i=e.args.amount,"string"!=typeof r||"string"!=typeof i&&"number"!=typeof i?[2,{error:"Destination or amount missing."}]:[4,_x(n,parseInt(i))]):[2];case 1:return o.sent()?[2,Lx(e)]:[2,Dx(e)]}}))}));return function(t,n){return e.apply(this,arguments)}}();function Lx(e){return jx.apply(this,arguments)}function jx(){return jx=Ix((function(e){var t;return Cx(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,lO(e)];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error(t),Nx(t,Error)?[2,{error:t.message}]:[3,3];case 3:return[2]}}))})),jx.apply(this,arguments)}function Dx(e){return Ux.apply(this,arguments)}function Ux(){return Ux=Ix((function(e){var t;return Cx(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.openPrompt(Rx(xx({},e),{action:"confirmKeysend"}))];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("Payment cancelled",t),Nx(t,Error)?[2,{error:t.message}]:[3,3];case 3:return[2]}}))})),Ux.apply(this,arguments)}const Mx=Bx,Hx=RP;function zx(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Fx(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){zx(o,r,i,a,s,"next",e)}function s(e){zx(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Kx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var qx=function(){var e=Fx((function(e){return Kx(this,(function(t){return[2,Vx(e)]}))}));return function(t){return e.apply(this,arguments)}}(),Vx=function(){var e=Fx((function(e){var t,n,r,i,o;return Kx(this,(function(a){switch(a.label){case 0:t=e.args.amount||e.args.defaultAmount,n=e.args.memo||e.args.defaultMemo,r=!e.args.amount,i=!e.args.memo||""===e.args.memo,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,_.openPrompt({origin:e.origin,action:"makeInvoice",args:{amountEditable:r,memoEditable:i,invoiceAttributes:{amount:t,memo:n,minimumAmount:e.args.minimumAmount,maximumAmount:e.args.maximumAmount}}})];case 2:return[2,a.sent()];case 3:return o=a.sent(),[2,{error:(s=o,c=Error,(null!=c&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](s):s instanceof c)?o.message:o)}];case 4:return[2]}var s,c}))}));return function(t){return e.apply(this,arguments)}}();const Wx=qx;function Gx(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yx(e,t,n[t])}))}return e}function Zx(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Xx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Jx(){return Jx=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Gx(o,r,i,a,s,"next",e)}function s(e){Gx(o,r,i,a,s,"throw",e)}a(void 0)}))}}((function(e){var t;return Xx(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.openPrompt(Zx($x({},e),{action:"confirmPaymentAsync"}))];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("Payment cancelled",t),r=t,(null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?[2,{error:t.message}]:[3,3];case 3:return[2]}var r,i}))})),Jx.apply(this,arguments)}function Qx(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function eR(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Qx(o,r,i,a,s,"next",e)}function s(e){Qx(o,r,i,a,s,"throw",e)}a(void 0)}))}}function tR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tR(e,t,n[t])}))}return e}function rR(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function iR(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var oR=function(){var e=eR((function(e){return iR(this,(function(t){return"string"!=typeof e.args.message?[2,{error:"Message missing."}]:[2,aR(e)]}))}));return function(t){return e.apply(this,arguments)}}();function aR(e){return sR.apply(this,arguments)}function sR(){return sR=eR((function(e){var t;return iR(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.openPrompt(rR(nR({},e),{action:"confirmSignMessage"}))];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("SignMessage cancelled",t),r=t,(null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)?[2,{error:t.message}]:[3,3];case 3:return[2]}var r,i}))})),sR.apply(this,arguments)}var cR={addAllowance:sk,getAllowance:mk,getAllowanceById:Ak,listAllowances:xk,deleteAllowance:fk,updateAllowance:Lk,addPermission:bT,deletePermission:_T,deletePermissionsById:AT,listPermissions:RT,lock:IS,unlock:$S,getInfo:eO,getTransactions:aO,sendPayment:PO,sendPaymentAsync:function(e){return xO.apply(this,arguments)},keysend:lO,checkPayment:WA,signMessage:LO,makeInvoice:mO,connectPeer:ZA,getPayments:uT,getPaymentsByAccount:hT,accountInfo:kS,accountDecryptedDetails:dS,addAccount:iS,editAccount:gS,getAccounts:cS,getAccount:wS,removeAccount:US,selectAccount:KS,setPassword:eN,reset:ZT,status:iN,validateAccount:cN,setIcon:Hg,changePassword:DT,setSetting:WT,getSettings:zT,addBlocklist:Mk,deleteBlocklist:Kk,getBlocklist:Gk,listBlocklist:Xk,lnurl:RP,lnurlAuth:QO,getCurrencyRate:LE,setMnemonic:qP,getMnemonic:HP,generateMnemonic:jP,getSwapInfo:gN,createSwap:dN,liquid:{signPset:LA,getPsetPreview:PA,fetchAssetRegistry:oA},nostr:{generatePrivateKey:gI,getPrivateKey:wI,getPublicKey:YP,removePrivateKey:MI,setPrivateKey:VI},webbtc:{getPsbtPreview:MN,signPsbt:GN,getAddress:kN},public:{webbtc:{isEnabled:KN,enable:wN,getInfo:LN,signPsbtWithPrompt:ex,getAddressOrPrompt:xN},alby:{isEnabled:rk,enable:QS,addAccount:function(e){return BS.apply(this,arguments)}},webln:{enable:ix,isEnabled:dx,getInfo:eO,sendPaymentOrPrompt:wx,sendPaymentAsyncWithPrompt:function(e){return Jx.apply(this,arguments)},keysendOrPrompt:Mx,signMessageOrPrompt:oR,lnurl:Hx,makeInvoice:Wx,getBalanceOrPrompt:cx,request:EO},liquid:{isEnabled:xA,enable:tA,getAddressOrPrompt:SA,signPsetWithPrompt:FA},nostr:{isEnabled:LI,enable:oI,getPublicKeyOrPrompt:PI,signEventOrPrompt:JI,signSchnorrOrPrompt:oT,getRelays:xI,encryptOrPrompt:dI,decryptOrPrompt:tI}}};function uR(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function lR(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){uR(o,r,i,a,s,"next",e)}function s(e){uR(o,r,i,a,s,"throw",e)}a(void 0)}))}}function fR(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var dR=!1,hR=!1,pR=_.deferredPromise(),yR=pR.promise,gR=pR.resolve,bR=pR.reject,mR=function(){var e=lR((function(e,t,n){var r,i,o;return fR(this,(function(a){switch(a.label){case 0:return"complete"===t.status&&(null===(r=n.url)||void 0===r?void 0:r.startsWith("http"))?(i=new URL(n.url),[4,bE.allowances.where("host").equalsIgnoreCase(i.host).first()]):[2];case 1:return o=a.sent(),[4,zg(o?Ug.Active:Ug.Default,e)];case 2:return a.sent(),[2]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),vR=function(){var e=lR((function(e,t){var n,r;return fR(this,(function(i){switch(i.label){case 0:return"LBE"===e.application&&e.prompt?(e.type&&console.error("Invalid message, using type: ",e),[4,yR]):[2];case 1:return i.sent(),n=e.action||e.type,console.info("Routing call: ".concat(n)),r=function(e){if(!e)throw new Error("No action path provided to router");var t=e.split("/").reduce((function(e,t){return e[t]}),cR);return t||(console.warn("Route not found: ".concat(e)),function(){return Promise.reject({error:"".concat(e," not found")})})}(n)(e,t),[4,r];case 2:return[2,i.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}();function wR(){return(wR=lR((function(){return fR(this,(function(e){switch(e.label){case 0:return console.info("Loading background script"),E&&A(),[4,Bg.getState().init()];case 1:return e.sent(),console.info("State loaded"),[4,"indexedDB"in globalThis?new Promise((function(e){var t=globalThis.indexedDB.open("LBE-AVAILABILITY-CHECK",1);t.onsuccess=function(){e(!0)},t.onerror=function(){e(!1)}})):Promise.resolve(!1)];case 2:return e.sent()?(console.info("Using indexedDB"),[4,bE.open()]):[3,4];case 3:return e.sent(),[3,6];case 4:return console.info("Using in memory DB"),[4,bE.openWithInMemoryDB()];case 5:e.sent(),e.label=6;case 6:return console.info("DB opened"),GE(),console.info("Events subscribed"),hR?(console.info("Running any pending migrations"),[4,XE()]):[3,8];case 7:e.sent(),e.label=8;case 8:return console.info("Loading completed"),[2]}}))}))).apply(this,arguments)}o().runtime.onMessage.addListener((function(e,t){false})),o().runtime.onMessage.addListener(vR),o().tabs.onUpdated.addListener(mR),o().tabs.onUpdated.addListener((function(e,t,n){var r;"complete"===t.status&&(null===(r=n.url)||void 0===r?void 0:r.startsWith("http"))&&setTimeout((function(){o().tabs.sendMessage(e,{action:"extractLightningData"})}),150)})),o().runtime.onInstalled.addListener((function(e){console.info("Handle installed: ".concat(e.reason)),"install"===e.reason&&(dR=!0),"update"===e.reason&&(console.info("Alby was recently updated"),hR=!0)})),console.info("Welcome to Alby"),function(){return wR.apply(this,arguments)}().then((function(){gR&&gR(),dR&&!Bg.getState().getAccount()&&_.openUrl("welcome.html")})).catch((function(e){console.error(e),bR&&bR()})),o().runtime.setUninstallURL("https://getalby.com/goodbye")})()})();