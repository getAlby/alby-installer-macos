/*! For license information please see background.bundle.js.LICENSE.txt */
(()=>{var e,t,r={8162:(e,t,r)=>{"use strict";var n=r(9509).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=i}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);var r=0;if(" "!==e[r]){for(var i=0,o=0;e[r]===c;)i++,r++;for(var a=(e.length-r)*u+1>>>0,l=new Uint8Array(a);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var d=0,h=a-1;(0!==f||d<o)&&-1!==h;h--,d++)f+=s*l[h]>>>0,l[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=d,r++}if(" "!==e[r]){for(var p=a-o;p!==a&&0===l[p];)p++;var g=n.allocUnsafe(i+(a-p));g.fill(0,0,i);for(var m=i;p!==a;)g[m++]=l[p++];return g}}}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,a=t.length;o!==a&&0===t[o];)o++,r++;for(var u=(a-o)*l+1>>>0,f=new Uint8Array(u);o!==a;){for(var d=t[o],h=0,p=u-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=256*f[p]>>>0,f[p]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,o++}for(var g=u-i;g!==u&&0===f[g];)g++;for(var m=c.repeat(r);g<u;++g)m+=e.charAt(f[g]);return m},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=c(e),a=o[0],s=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(u(e,s,s+a>c?c:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<r.length;e++){const t=r.charAt(e);n[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function a(e,t,r,n){let i=0,o=0;const a=(1<<r)-1,s=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],o+=t;o>=r;)o-=r,s.push(i>>o&a);if(n)o>0&&s.push(i<<r-o&a);else{if(o>=t)return"Excess padding";if(i<<r-o&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let f=o(u);if("string"==typeof f)return f;const d=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),r=n[t];if(void 0===r)return"Unknown character "+t;f=i(f)^r,e+6>=l.length||d.push(r)}return f!==t?"Invalid checksum for "+e:{prefix:u,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=a(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=a(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,n,a){if(a=a||90,e.length+7+n.length>a)throw new TypeError("Exceeds length limit");let s=o(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<n.length;++e){const t=n[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=i(s)^t,c+=r.charAt(t)}for(let e=0;e<6;++e)s=i(s);s^=t;for(let e=0;e<6;++e){c+=r.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},2190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6574);function i(e,t,r){return n=>{if(e.has(n))return;const i=r.filter((e=>e.key.toString("hex")===n))[0];t.push(i),e.add(n)}}function o(e){return e.globalMap.unsignedTx}function a(e){const t=new Set;return e.forEach((e=>{const r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}t.combine=function(e){const t=e[0],r=n.psbtToKeyVals(t),s=e.slice(1);if(0===s.length)throw new Error("Combine: Nothing to combine");const c=o(t);if(void 0===c)throw new Error("Combine: Self missing transaction");const u=a(r.globalKeyVals),l=r.inputKeyVals.map(a),f=r.outputKeyVals.map(a);for(const e of s){const t=o(e);if(void 0===t||!t.toBuffer().equals(c.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const s=n.psbtToKeyVals(e);a(s.globalKeyVals).forEach(i(u,r.globalKeyVals,s.globalKeyVals));s.inputKeyVals.map(a).forEach(((e,t)=>e.forEach(i(l[t],r.inputKeyVals[t],s.inputKeyVals[t]))));s.outputKeyVals.map(a).forEach(((e,t)=>e.forEach(i(f[t],r.outputKeyVals[t],s.outputKeyVals[t]))))}return n.psbtFromKeyVals(c,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}},4041:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const t of(n=e.value.length/4-1,[...Array(n).keys()])){const n=e.value.readUInt32LE(4*t+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}var n;return r},t.encode=function(e){const t=n.from([i.GlobalTypes.GLOBAL_XPUB]),r=n.concat([t,e.extendedPubkey]),o=e.path.split("/"),a=n.allocUnsafe(4*o.length);e.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4})),{key:r,value:a}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){const t=e.extendedPubkey,r=e.masterFingerprint,i=e.path;return n.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&n.isBuffer(r)&&4===r.length&&"string"==typeof i&&!!i.match(/^m(\/\d+'?)+$/)},t.canAddToArray=function(e,t,r){const n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)}},4480:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.encode=function(e){return{key:n.from([i.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}},1528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1847),i=r(4041),o=r(4480),a=r(859),s=r(8248),c=r(537),u=r(1511),l=r(5896),f=r(1243),d=r(2954),h=r(4799),p=r(9595),g=r(9705),m=r(6327),b={unsignedTx:o,globalXpub:i,checkPubkey:p.makeChecker([])};t.globals=b;const y={nonWitnessUtxo:c,partialSig:u,sighashType:f,finalScriptSig:a,finalScriptWitness:s,porCommitment:l,witnessUtxo:d,bip32Derivation:h.makeConverter(n.InputTypes.BIP32_DERIVATION),redeemScript:g.makeConverter(n.InputTypes.REDEEM_SCRIPT),witnessScript:m.makeConverter(n.InputTypes.WITNESS_SCRIPT),checkPubkey:p.makeChecker([n.InputTypes.PARTIAL_SIG,n.InputTypes.BIP32_DERIVATION])};t.inputs=y;const v={bip32Derivation:h.makeConverter(n.OutputTypes.BIP32_DERIVATION),redeemScript:g.makeConverter(n.OutputTypes.REDEEM_SCRIPT),witnessScript:m.makeConverter(n.OutputTypes.WITNESS_SCRIPT),checkPubkey:p.makeChecker([n.OutputTypes.BIP32_DERIVATION])};t.outputs=v},859:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}},8248:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}},537:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}},1511:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.PARTIAL_SIG]);return{key:n.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!n.isBuffer(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}},5896:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:n.from([i.InputTypes.POR_COMMITMENT]),value:n.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}},1243:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847);t.decode=function(e){if(e.key[0]!==i.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){const t=n.from([i.InputTypes.SIGHASH_TYPE]),r=n.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},t.expected="number",t.check=function(e){return"number"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}},2954:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1847),o=r(9254),a=r(3493);t.decode=function(e){if(e.key[0]!==i.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=o.readUInt64LE(e.value,0);let r=8;const n=a.decode(e.value,r);r+=a.encodingLength(n);const s=e.value.slice(r);if(s.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:s,value:t}},t.encode=function(e){const{script:t,value:r}=e,s=a.encodingLength(t.length),c=n.allocUnsafe(8+s+t.length);return o.writeUInt64LE(c,r,0),a.encode(t.length,c,8),t.copy(c,8+s),{key:n.from([i.InputTypes.WITNESS_UTXO]),value:c}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return n.isBuffer(e.script)&&"number"==typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}},4799:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const r=t.key.slice(1),n={masterFingerprint:t.value.slice(0,4),pubkey:r,path:"m"};for(const e of(i=t.value.length/4-1,[...Array(i).keys()])){const r=t.value.readUInt32LE(4*e+4),i=!!(2147483648&r),o=2147483647&r;n.path+="/"+o.toString(10)+(i?"'":"")}var i;return n},encode:function(t){const r=n.from([e]),i=n.concat([r,t.pubkey]),o=t.path.split("/"),a=n.allocUnsafe(4*o.length);t.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4})),{key:i,value:a}},check:function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}}},9595:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(r=t.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}},9705:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}},6327:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}},9254:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(3493);function o(e){const t=e.key.length,r=e.value.length,o=i.encodingLength(t),a=i.encodingLength(r),s=n.allocUnsafe(o+t+a+r);return i.encode(t,s,0),e.key.copy(s,o),i.encode(r,s,o+t),e.value.copy(s,o+t+a),s}function a(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}t.range=e=>[...Array(e).keys()],t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.keyValsToBuffer=function(e){const t=e.map(o);return t.push(n.from([0])),n.concat(t)},t.keyValToBuffer=o,t.readUInt64LE=function(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,a(n+r,9007199254740991),n+r},t.writeUInt64LE=function(e,t,r){return a(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}},3493:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});function i(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}t.encode=function e(t,r,a){if(i(t),r||(r=n.allocUnsafe(o(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return a||(a=0),t<253?(r.writeUInt8(t,a),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,a),r.writeUInt16LE(t,a+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,a),r.writeUInt32LE(t,a+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,a),r.writeUInt32LE(t>>>0,a+1),r.writeUInt32LE(t/4294967296|0,a+5),Object.assign(e,{bytes:9})),r},t.decode=function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const o=t.readUInt8(r);if(o<253)return Object.assign(e,{bytes:1}),o;if(253===o)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===o)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(e,{bytes:9});const n=t.readUInt32LE(r+1),o=4294967296*t.readUInt32LE(r+5)+n;return i(o),o}},t.encodingLength=o},2974:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1528),o=r(9254),a=r(3493),s=r(1847);function c(e,t,r){if(!t.equals(n.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function u(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const a={unsignedTx:e};let u=0;for(const e of t)switch(e.key[0]){case s.GlobalTypes.UNSIGNED_TX:if(c("global",e.key,s.GlobalTypes.UNSIGNED_TX),u>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");u++;break;case s.GlobalTypes.GLOBAL_XPUB:void 0===a.globalXpub&&(a.globalXpub=[]),a.globalXpub.push(i.globals.globalXpub.decode(e));break;default:a.unknownKeyVals||(a.unknownKeyVals=[]),a.unknownKeyVals.push(e)}const l=r.length,f=n.length,d=[],h=[];for(const e of o.range(l)){const t={};for(const n of r[e])switch(i.inputs.checkPubkey(n),n.key[0]){case s.InputTypes.NON_WITNESS_UTXO:if(c("input",n.key,s.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=i.inputs.nonWitnessUtxo.decode(n);break;case s.InputTypes.WITNESS_UTXO:if(c("input",n.key,s.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=i.inputs.witnessUtxo.decode(n);break;case s.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(i.inputs.partialSig.decode(n));break;case s.InputTypes.SIGHASH_TYPE:if(c("input",n.key,s.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=i.inputs.sighashType.decode(n);break;case s.InputTypes.REDEEM_SCRIPT:if(c("input",n.key,s.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=i.inputs.redeemScript.decode(n);break;case s.InputTypes.WITNESS_SCRIPT:if(c("input",n.key,s.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=i.inputs.witnessScript.decode(n);break;case s.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.inputs.bip32Derivation.decode(n));break;case s.InputTypes.FINAL_SCRIPTSIG:c("input",n.key,s.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=i.inputs.finalScriptSig.decode(n);break;case s.InputTypes.FINAL_SCRIPTWITNESS:c("input",n.key,s.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=i.inputs.finalScriptWitness.decode(n);break;case s.InputTypes.POR_COMMITMENT:c("input",n.key,s.InputTypes.POR_COMMITMENT),t.porCommitment=i.inputs.porCommitment.decode(n);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}d.push(t)}for(const e of o.range(f)){const t={};for(const r of n[e])switch(i.outputs.checkPubkey(r),r.key[0]){case s.OutputTypes.REDEEM_SCRIPT:if(c("output",r.key,s.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=i.outputs.redeemScript.decode(r);break;case s.OutputTypes.WITNESS_SCRIPT:if(c("output",r.key,s.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=i.outputs.witnessScript.decode(r);break;case s.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.outputs.bip32Derivation.decode(r));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(r)}h.push(t)}return{globalMap:a,inputs:d,outputs:h}}t.psbtFromBuffer=function(e,t){let r=0;function n(){const t=a.decode(e,r);r+=a.encodingLength(t);const n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function c(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){const t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const l=[],f={};for(;!c();){const e=i(),t=e.key.toString("hex");if(f[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);f[t]=1,l.push(e)}const d=l.filter((e=>e.key[0]===s.GlobalTypes.UNSIGNED_TX));if(1!==d.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const h=t(d[0].value),{inputCount:p,outputCount:g}=h.getInputOutputCounts(),m=[],b=[];for(const e of o.range(p)){const t={},r=[];for(;!c();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each input: input index "+e+" key "+o);t[o]=1,r.push(n)}m.push(r)}for(const e of o.range(g)){const t={},r=[];for(;!c();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each output: output index "+e+" key "+o);t[o]=1,r.push(n)}b.push(r)}return u(h,{globalMapKeyVals:l,inputKeyVals:m,outputKeyVals:b})},t.checkKeyBuffer=c,t.psbtFromKeyVals=u},6574:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(2974)),n(r(5312))},5312:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1528),o=r(9254);t.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:i,inputKeyVals:a,outputKeyVals:s}=c({globalMap:e,inputs:t,outputs:r}),u=o.keyValsToBuffer(i),l=e=>0===e.length?[n.from([0])]:e.map(o.keyValsToBuffer),f=l(a),d=l(s),h=n.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),n.concat([h,u].concat(f,d))};const a=(e,t)=>e.key.compare(t.key);function s(e,t){const r=new Set,n=Object.entries(e).reduce(((e,[n,i])=>{if("unknownKeyVals"===n)return e;const o=t[n];if(void 0===o)return e;const a=(Array.isArray(i)?i:[i]).map(o.encode);return a.map((e=>e.key.toString("hex"))).forEach((e=>{if(r.has(e))throw new Error("Serialize Error: Duplicate key: "+e);r.add(e)})),e.concat(a)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!r.has(e.key.toString("hex")))):[];return n.concat(i).sort(a)}function c({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:s(e,i.globals),inputKeyVals:t.map((e=>s(e,i.inputs))),outputKeyVals:r.map((e=>s(e,i.outputs)))}}t.psbtToKeyVals=c},5011:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(2190),o=r(6574),a=r(1847),s=r(6403);t.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=o.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(e){return s.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=s.checkForInput(this.inputs,e);return s.updateInput(t,r),this}updateOutput(e,t){const r=s.checkForOutput(this.outputs,e);return s.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return s.checkHasKey(e,this.globalMap.unknownKeyVals,s.getEnumLength(a.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=s.checkForInput(this.inputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=s.checkForOutput(this.outputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),s.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),s.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=s.checkForInput(this.inputs,e);s.inputCheckUncleanFinalized(e,t);for(const e of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(e)||delete t[e];return this}combine(...e){const t=i.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},1847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment"],function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation"]},6403:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(1528);function o(e,t){const r=e[t];if(void 0===r)throw new Error(`No input #${t}`);return r}function a(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function s(e){return(t,r)=>{for(const n of Object.keys(t)){const o=t[n],{canAdd:s,canAddToArray:c,check:u,expected:l}=i[e+"s"][n]||{},f=!!c;if(u)if(f){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(u)||a(e,n,l,o);const t=r[n]||[],i=new Set;if(!o.every((e=>c(t,e,i))))throw new Error("Can not add duplicate data to array");r[n]=t.concat(o)}else{if(u(o)||a(e,n,l,o),!s(r,o))throw new Error(`Can not add duplicate data to ${e}`);r[n]=o}}}}t.checkForInput=o,t.checkForOutput=function(e,t){const r=e[t];if(void 0===r)throw new Error(`No output #${t}`);return r},t.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},t.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,a=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&a}if(!1===r)throw new Error(`Input #${e} has too much or too little data to clean`)},t.updateGlobal=s("global"),t.updateInput=s("input"),t.updateOutput=s("output"),t.addInputAttributes=function(e,r){const n=o(e,e.length-1);t.updateInput(r,n)},t.addOutputAttributes=function(e,r){const n=o(e,e.length-1);t.updateOutput(r,n)},t.defaultVersionSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}},5488:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const i=r(4378),o=r(4972),a=r(3357),s=r(1838),c=r(7715),u=r(8334),{typeforce:l}=s,f="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function d(e){const t=u.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function h(e){let t,r;try{t=c.bech32.decode(e)}catch(e){}if(t){if(r=t.words[0],0!==r)throw new TypeError(e+" uses wrong encoding")}else if(t=c.bech32m.decode(e),r=t.words[0],0===r)throw new TypeError(e+" uses wrong encoding");const i=c.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:n.from(i)}}function p(e,t,r){const n=c.bech32.toWords(e);return n.unshift(t),0===t?c.bech32.encode(r,n):c.bech32m.encode(r,n)}t.fromBase58Check=d,t.fromBech32=h,t.toBase58Check=function(e,t){l(s.tuple(s.Hash160bit,s.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),u.encode(r)},t.toBech32=p,t.fromOutputScript=function(e,t){t=t||i.bitcoin;try{return o.p2pkh({output:e,network:t}).address}catch(e){}try{return o.p2sh({output:e,network:t}).address}catch(e){}try{return o.p2wpkh({output:e,network:t}).address}catch(e){}try{return o.p2wsh({output:e,network:t}).address}catch(e){}try{return function(e,t){const r=e.slice(2);if(r.length<2||r.length>40)throw new TypeError("Invalid program length for segwit address");const n=e[0]-80;if(n<1||n>16)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(f),p(r,n,t.bech32)}(e,t)}catch(e){}throw new Error(a.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let r,n;t=t||i.bitcoin;try{r=d(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return o.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return o.p2sh({hash:r.hash}).output}else{try{n=h(e)}catch(e){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return o.p2wpkh({hash:n.data}).output;if(32===n.data.length)return o.p2wsh({hash:n.data}).output}else if(n.version>=1&&n.version<=16&&n.data.length>=2&&n.data.length<=40)return console.warn(f),a.compile([n.version+80,n.data])}}throw new Error(e+" has no matching Script")}},7617:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;const t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;const r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},t.decode=function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");const t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");const r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},t.encode=function(e,t){const r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}},7949:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const i=r(9357),o=r(5525),a=r(5381),s=r(2737),c=r(1838),{typeforce:u}=c,l=new TypeError("Cannot compute merkle root for zero transactions"),f=new TypeError("Cannot compute witness commit for non-segwit block");class d{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const t=new i.BufferReader(e),r=new d;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;const n=()=>{const e=s.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},o=t.readVarInt();r.transactions=[];for(let e=0;e<o;++e){const e=n();r.transactions.push(e)}const a=r.getWitnessCommit();return a&&(r.witnessCommit=a),r}static fromHex(e){return d.fromBuffer(n.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,r=8388607&e,i=n.alloc(32,0);return i.writeUIntBE(r,29-t,3),i}static calculateMerkleRoot(e,t){if(u([{getHash:c.Function}],e),0===e.length)throw l;if(t&&!h(e))throw f;const r=e.map((e=>e.getHash(t))),i=(0,a.fastMerkleRoot)(r,o.hash256);return t?o.hash256(n.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!h(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(n.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof n&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof n&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+i.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,r)=>e+r.byteLength(t)),0)}getHash(){return o.hash256(this.toBuffer(!0))}getId(){return(0,i.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const t=n.allocUnsafe(this.byteLength(e)),r=new i.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(i.varuint.encode(this.transactions.length,t,r.offset),r.offset+=i.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit()))}checkProofOfWork(){const e=(0,i.reverseBuffer)(this.getHash()),t=d.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw l;const e=d.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw l;if(!this.hasWitnessCommit())throw f;const e=d.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function h(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=d},9357:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const i=r(1838),{typeforce:o}=i,a=r(7795);function s(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function c(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,s(n+r,9007199254740991),n+r}function u(e,t,r){return s(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}t.varuint=a,t.readUInt64LE=c,t.writeUInt64LE=u,t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.cloneBuffer=function(e){const t=n.allocUnsafe(e.length);return e.copy(t),t};class l{constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}static withCapacity(e){return new l(n.alloc(e))}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=u(this.buffer,e,this.offset)}writeVarInt(e){a.encode(e,this.buffer,this.offset),this.offset+=a.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=l;t.BufferReader=class{constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=c(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=a.decode(this.buffer,this.offset);return this.offset+=a.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}},5525:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const i=r(3482);function o(e){try{return i("rmd160").update(e).digest()}catch(t){return i("ripemd160").update(e).digest()}}function a(e){return i("sha256").update(e).digest()}t.ripemd160=o,t.sha1=function(e){return i("sha1").update(e).digest()},t.sha256=a,t.hash160=function(e){return o(a(e))},t.hash256=function(e){return a(a(e))};const s=Object.fromEntries(["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"].map((e=>{const t=a(n.from(e));return[e,n.concat([t,t])]})));t.taggedHash=function(e,t){return a(n.concat([s[e],t]))}},7656:(e,t,r)=>{"use strict";t.Lk=void 0;const n=r(5488);t.Lk=n;r(5525);r(4378);r(4972);r(3357);var i=r(7949);var o=r(9930);var a=r(7334);var s=r(2737)},5381:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let r=e.length;const i=e.concat();for(;r>1;){let e=0;for(let o=0;o<r;o+=2,++e){const a=i[o],s=o+1===r?a:i[o+1],c=n.concat([a,s]);i[e]=t(c)}r=e}return i[0]}},4378:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},7334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;const n={};t.REVERSE_OPS=n;for(const e of Object.keys(r)){n[r[e]]=e}},6648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const n=r(4378),i=r(3357),o=r(1838),a=r(2691),s=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const r={name:"embed",network:e.network||n.bitcoin};if(a.prop(r,"output",(()=>{if(e.data)return i.compile([s.OP_RETURN].concat(e.data))})),a.prop(r,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==s.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)}},4972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const n=r(6648);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return n.p2data}});const i=r(8793);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=r(7759);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const a=r(4483);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});const s=r(1160);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});const c=r(8810);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return c.p2wpkh}});const u=r(6924);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return u.p2wsh}})},2691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},8793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const n=r(4378),i=r(3357),o=r(1838),a=r(2691),s=i.OPS,c=s.OP_RESERVED;function u(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function r(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===s.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(r)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const l={network:e.network||n.bitcoin};let f=[],d=!1;function h(e){d||(d=!0,f=i.decompile(e),l.m=f[0]-c,l.n=f[f.length-2]-c,l.pubkeys=f.slice(1,-2))}if(a.prop(l,"output",(()=>{if(e.m&&l.n&&e.pubkeys)return i.compile([].concat(c+e.m,e.pubkeys,c+l.n,s.OP_CHECKMULTISIG))})),a.prop(l,"m",(()=>{if(l.output)return h(l.output),l.m})),a.prop(l,"n",(()=>{if(l.pubkeys)return l.pubkeys.length})),a.prop(l,"pubkeys",(()=>{if(e.output)return h(e.output),l.pubkeys})),a.prop(l,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),a.prop(l,"input",(()=>{if(e.signatures)return i.compile([s.OP_0].concat(e.signatures))})),a.prop(l,"witness",(()=>{if(l.input)return[]})),a.prop(l,"name",(()=>{if(l.m&&l.n)return`p2ms(${l.m} of ${l.n})`})),t.validate){if(e.output){if(h(e.output),!o.typeforce.Number(f[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(f[f.length-2]))throw new TypeError("Output is invalid");if(f[f.length-1]!==s.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(l.m<=0||l.n>16||l.m>l.n||l.n!==f.length-3)throw new TypeError("Output is invalid");if(!l.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==l.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==l.n)throw new TypeError("n mismatch");if(e.pubkeys&&!u(e.pubkeys,l.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(l.n=e.pubkeys.length,l.n<l.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<l.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>l.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==s.OP_0)throw new TypeError("Input is invalid");if(0===l.signatures.length||!l.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!u(e.signatures,l.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(l,e)}},7759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const n=r(4378),i=r(3357),o=r(1838),a=r(2691),s=i.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const r=a.value((()=>i.decompile(e.input))),c={name:"p2pk",network:e.network||n.bitcoin};if(a.prop(c,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,s.OP_CHECKSIG])})),a.prop(c,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),a.prop(c,"signature",(()=>{if(e.input)return r()[0]})),a.prop(c,"input",(()=>{if(e.signature)return i.compile([e.signature])})),a.prop(c,"witness",(()=>{if(c.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==s.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(c.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(c.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(c.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(c.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(c,e)}},4483:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const i=r(5525),o=r(4378),a=r(3357),s=r(1838),c=r(2691),u=r(8334),l=a.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),output:s.typeforce.maybe(s.typeforce.BufferN(25)),pubkey:s.typeforce.maybe(s.isPoint),signature:s.typeforce.maybe(a.isCanonicalScriptSignature),input:s.typeforce.maybe(s.typeforce.Buffer)},e);const r=c.value((()=>{const t=u.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),f=c.value((()=>a.decompile(e.input))),d=e.network||o.bitcoin,h={name:"p2pkh",network:d};if(c.prop(h,"address",(()=>{if(!h.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(d.pubKeyHash,0),h.hash.copy(e,1),u.encode(e)})),c.prop(h,"hash",(()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||h.pubkey?i.hash160(e.pubkey||h.pubkey):void 0)),c.prop(h,"output",(()=>{if(h.hash)return a.compile([l.OP_DUP,l.OP_HASH160,h.hash,l.OP_EQUALVERIFY,l.OP_CHECKSIG])})),c.prop(h,"pubkey",(()=>{if(e.input)return f()[1]})),c.prop(h,"signature",(()=>{if(e.input)return f()[0]})),c.prop(h,"input",(()=>{if(e.pubkey&&e.signature)return a.compile([e.signature,e.pubkey])})),c.prop(h,"witness",(()=>{if(h.input)return[]})),t.validate){let t=n.from([]);if(e.address){if(r().version!==d.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");t=r().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==l.OP_DUP||e.output[1]!==l.OP_HASH160||20!==e.output[2]||e.output[23]!==l.OP_EQUALVERIFY||e.output[24]!==l.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=e.output.slice(3,23);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const r=f();if(2!==r.length)throw new TypeError("Input is invalid");if(!a.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!(0,s.isPoint)(r[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=i.hash160(r[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(h,e)}},1160:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const i=r(5525),o=r(4378),a=r(3357),s=r(1838),c=r(2691),u=r(8334),l=a.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),output:s.typeforce.maybe(s.typeforce.BufferN(23)),redeem:s.typeforce.maybe({network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.Buffer),input:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),input:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||o.bitcoin);const f={network:r},d=c.value((()=>{const t=u.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),h=c.value((()=>a.decompile(e.input))),p=c.value((()=>{const t=h();return{network:r,output:t[t.length-1],input:a.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(c.prop(f,"address",(()=>{if(!f.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(f.network.scriptHash,0),f.hash.copy(e,1),u.encode(e)})),c.prop(f,"hash",(()=>e.output?e.output.slice(2,22):e.address?d().hash:f.redeem&&f.redeem.output?i.hash160(f.redeem.output):void 0)),c.prop(f,"output",(()=>{if(f.hash)return a.compile([l.OP_HASH160,f.hash,l.OP_EQUAL])})),c.prop(f,"redeem",(()=>{if(e.input)return p()})),c.prop(f,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return a.compile([].concat(a.decompile(e.redeem.input),e.redeem.output))})),c.prop(f,"witness",(()=>f.redeem&&f.redeem.witness?f.redeem.witness:f.input?[]:void 0)),c.prop(f,"name",(()=>{const e=["p2sh"];return void 0!==f.redeem&&void 0!==f.redeem.name&&e.push(f.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(d().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==d().hash.length)throw new TypeError("Invalid address");t=d().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==l.OP_HASH160||20!==e.output[1]||e.output[22]!==l.OP_EQUAL)throw new TypeError("Output is invalid");const r=e.output.slice(2,22);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}const o=e=>{if(e.output){const r=a.decompile(e.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");const n=i.hash160(e.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw new TypeError("Empty input");if(t&&r)throw new TypeError("Input and witness provided");if(t){const t=a.decompile(e.input);if(!a.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=h();if(!e||e.length<1)throw new TypeError("Input too short");if(!n.isBuffer(p().output))throw new TypeError("Input is invalid");o(p())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const t=p();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}o(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(f,e)}},8810:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const i=r(5525),o=r(4378),a=r(3357),s=r(1838),c=r(2691),u=r(7715),l=a.OPS,f=n.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),input:s.typeforce.maybe(s.typeforce.BufferN(0)),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.BufferN(22)),pubkey:s.typeforce.maybe(s.isPoint),signature:s.typeforce.maybe(a.isCanonicalScriptSignature),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);const r=c.value((()=>{const t=u.bech32.decode(e.address),r=t.words.shift(),i=u.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),d=e.network||o.bitcoin,h={name:"p2wpkh",network:d};if(c.prop(h,"address",(()=>{if(!h.hash)return;const e=u.bech32.toWords(h.hash);return e.unshift(0),u.bech32.encode(d.bech32,e)})),c.prop(h,"hash",(()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||h.pubkey?i.hash160(e.pubkey||h.pubkey):void 0)),c.prop(h,"output",(()=>{if(h.hash)return a.compile([l.OP_0,h.hash])})),c.prop(h,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),c.prop(h,"signature",(()=>{if(e.witness)return e.witness[0]})),c.prop(h,"input",(()=>{if(h.witness)return f})),c.prop(h,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=n.from([]);if(e.address){if(d&&d.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==l.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");if(t=r,!(0,s.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!a.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,s.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const r=i.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(h,e)}},6924:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const i=r(5525),o=r(4378),a=r(3357),s=r(1838),c=r(2691),u=r(7715),l=a.OPS,f=n.alloc(0);function d(e){return!(!n.isBuffer(e)||65!==e.length||4!==e[0]||!(0,s.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(32)),output:s.typeforce.maybe(s.typeforce.BufferN(34)),redeem:s.typeforce.maybe({input:s.typeforce.maybe(s.typeforce.Buffer),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),input:s.typeforce.maybe(s.typeforce.BufferN(0)),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);const r=c.value((()=>{const t=u.bech32.decode(e.address),r=t.words.shift(),i=u.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),h=c.value((()=>a.decompile(e.redeem.input)));let p=e.network;p||(p=e.redeem&&e.redeem.network||o.bitcoin);const g={network:p};if(c.prop(g,"address",(()=>{if(!g.hash)return;const e=u.bech32.toWords(g.hash);return e.unshift(0),u.bech32.encode(p.bech32,e)})),c.prop(g,"hash",(()=>e.output?e.output.slice(2):e.address?r().data:g.redeem&&g.redeem.output?i.sha256(g.redeem.output):void 0)),c.prop(g,"output",(()=>{if(g.hash)return a.compile([l.OP_0,g.hash])})),c.prop(g,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:f,witness:e.witness.slice(0,-1)}})),c.prop(g,"input",(()=>{if(g.witness)return f})),c.prop(g,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=a.toStack(h());return g.redeem=Object.assign({witness:t},e.redeem),g.redeem.input=f,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),c.prop(g,"name",(()=>{const e=["p2wsh"];return void 0!==g.redeem&&void 0!==g.redeem.name&&e.push(g.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(r().prefix!==p.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==l.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const r=e.output.slice(2);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem){if(e.redeem.network&&e.redeem.network!==p)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===a.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");const r=i.sha256(e.redeem.output);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem.input&&!a.isPushOnly(h()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&h().some(d)||e.redeem.output&&(a.decompile(e.redeem.output)||[]).some(d))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(d)||(a.decompile(t)||[]).some(d))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(g,e)}},9930:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const i=r(5011),o=r(3493),a=r(6403),s=r(5488),c=r(9357),u=r(5525),l=r(4378),f=r(4972),d=r(3357),h=r(2737),p={network:l.bitcoin,maximumFeeRate:5e3};class g{constructor(e={},t=new i.Psbt(new b)){this.data=t,this.opts=Object.assign({},p,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const r=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}static fromBase64(e,t={}){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){const r=i.Psbt.fromBuffer(e,m),n=new g(t,r);var o,a;return o=n.__CACHE.__TX,a=n.__CACHE,o.ins.forEach((e=>{B(a,e)})),n}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,c.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,s.fromOutputScript)(e.script,this.opts.network)}catch(e){}return{script:(0,c.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=g.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){P(e),this.opts.maximumFeeRate=e}setVersion(e){P(e),T(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){P(e),T(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){P(t),T(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");T(this.data.inputs,"addInput"),e.witnessScript&&Y(e.witnessScript);const t=this.__CACHE;this.data.addInput(e);B(t,t.__TX.ins[t.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&z(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");T(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:r}=this.opts,n=(0,s.toOutputScript)(t,r);e=Object.assign(e,{script:n})}const r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(w))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const r=t.__TX.clone();return K(this.data.inputs,r,t,!0),r}getFeeRate(){return L("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return L("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,a.checkForInput)(this.data.inputs,0),Z(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t=U){const r=(0,a.checkForInput)(this.data.inputs,e),{script:n,isP2SH:i,isP2WSH:o,isSegwit:s}=function(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=W(r,t,e),a=n.ins[e].index;i.script=o.outs[a].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);(t.witnessScript||A(i.script))&&(i.isSegwit=!0);return i}(e,r,this.__CACHE);if(!n)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach((e=>{const{hashType:t}=d.signature.decode(e.signature);if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}(r);const{finalScriptSig:c,finalScriptWitness:u}=t(e,r,n,s,i,o);if(c&&this.data.updateInput(e,{finalScriptSig:c}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!c&&!u)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,a.checkForInput)(this.data.inputs,e),r=G($(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=d.decompile(e);if(!t)return;const r=t[t.length-1];if(!n.isBuffer(r)||V(r)||(i=r,d.isCanonicalScriptSignature(i)))return;var i;if(!d.decompile(r))return;return r}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=q(e),r=t[t.length-1];if(V(r))return;if(!d.decompile(r))return;return r}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+J(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){const i=$(r,t,n),{meaningfulScript:o}=G(i,r,"input",t.redeemScript,t.witnessScript);return X(e,o)}(t,(0,a.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const r=(0,a.checkForInput)(this.data.inputs,e),n=O(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=G(i,r,"output",t.redeemScript,t.witnessScript);return X(e,o)}(t,(0,a.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const r=(0,a.checkForOutput)(this.data.outputs,e),n=O(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(e){(0,a.checkForInput)(this.data.inputs,0);return Z(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const o=r?i.filter((e=>e.pubkey.equals(r))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const a=[];let s,c,u;for(const r of o){const i=d.signature.decode(r.signature),{hash:o,script:l}=u!==i.hashType?D(e,Object.assign({},n,{sighashType:i.hashType}),this.__CACHE,!0):{hash:s,script:c};u=i.hashType,s=o,c=l,R(r.pubkey,l,"verify"),a.push(t(r.pubkey,o,i.signature))}return a.every((e=>!0===e))}signAllInputsHD(e,t=[h.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of Z(this.data.inputs.length))try{this.signInputHD(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[h.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const r of Z(this.data.inputs.length))o.push(this.signInputHDAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(e,t,r=[h.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return H(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,r))),this}signInputHDAsync(e,t,r=[h.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=H(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(e,t=[h.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of Z(this.data.inputs.length))try{this.signInput(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t=[h.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInput(e,t,r=[h.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const{hash:n,sighashType:i}=j(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:d.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}signInputAsync(e,t,r=[h.Transaction.SIGHASH_ALL]){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const{hash:n,sighashType:i}=j(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then((r=>{const n=[{pubkey:t.publicKey,signature:d.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})}))}))}toBuffer(){return y(this.__CACHE),this.data.toBuffer()}toHex(){return y(this.__CACHE),this.data.toHex()}toBase64(){return y(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&Y(t.witnessScript),this.data.updateInput(e,t),t.nonWitnessUtxo&&z(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){return this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=g;const m=e=>new b(e);class b{constructor(e=n.from([2,0,0,0,0,0,0,0,0,0])){this.tx=h.Transaction.fromBuffer(e),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!n.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?(0,c.reverseBuffer)(n.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!n.isBuffer(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function y(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function v(e,t,r){if(!t)return!1;let n;if(n=r?r.map((e=>{const r=function(e){if(65===e.length){const t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}(e);return t.find((e=>e.pubkey.equals(r)))})).filter((e=>!!e)):t,n.length>e)throw new Error("Too many signatures");return n.length===e}function w(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function _(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}const S=_(f.p2ms),E=_(f.p2pk),k=_(f.p2pkh),A=_(f.p2wpkh),x=_(f.p2wsh),I=_(f.p2sh);function O(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function P(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function T(e,t){e.forEach((e=>{let r=!1,i=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;i=function(e){const t=e.finalScriptSig&&d.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&d.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((e=>n.isBuffer(e)&&d.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else i=e.partialSig;if(i.forEach((e=>{const{hashType:n}=d.signature.decode(e.signature),i=[];n&h.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&n){case h.Transaction.SIGHASH_ALL:break;case h.Transaction.SIGHASH_SINGLE:case h.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}-1===i.indexOf(t)&&(r=!0)})),r)throw new Error("Can not modify transaction, signatures exist.")}))}function R(e,t,r){if(!X(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function B(e,t){const r=(0,c.reverseBuffer)(n.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function M(e,t){return(r,n,i,o)=>{const a=e({redeem:{output:i}}).output;if(!n.equals(a))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const N=M(f.p2sh,"Redeem script"),C=M(f.p2wsh,"Witness script");function L(e,t,r,n){if(!r.every(w))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),K(r,i,n,o),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function U(e,t,r,n,i,o){const a=J(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return v(1,e.partialSig);case"multisig":const r=f.p2ms({output:t});return v(r.m,e.partialSig,r.pubkeys);default:return!1}}(t,r,a))throw new Error(`Can not finalize input #${e}`);return function(e,t,r,n,i,o){let a,s;const c=function(e,t,r){let n;switch(t){case"multisig":const t=function(e,t){return f.p2ms({output:e}).pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,r);n=f.p2ms({output:e,signatures:t});break;case"pubkey":n=f.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=f.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=f.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r),u=o?f.p2wsh({redeem:c}):null,l=i?f.p2sh({redeem:u||c}):null;n?(s=F(u?u.witness:c.witness),l&&(a=l.input)):a=l?l.input:c.input;return{finalScriptSig:a,finalScriptWitness:s}}(r,a,t.partialSig,n,i,o)}function j(e,t,r,n,i){const o=(0,a.checkForInput)(e,t),{hash:s,sighashType:c,script:u}=D(t,o,n,!1,i);return R(r,u,"sign"),{hash:s,sighashType:c}}function D(e,t,r,n,i){const o=r.__TX,a=t.sighashType||h.Transaction.SIGHASH_ALL;if(i&&i.indexOf(a)<0){const e=function(e){let t=e&h.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case h.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case h.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case h.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(a);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${e}`)}let s,c;if(t.nonWitnessUtxo){const n=W(r,t,e),i=o.ins[e].hash,a=n.getHash();if(!i.equals(a))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const s=o.ins[e].index;c=n.outs[s]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");c=t.witnessUtxo}const{meaningfulScript:u,type:l}=G(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)s=o.hashForWitnessV0(e,u,c.value,a);else if(A(u)){const t=f.p2pkh({hash:u.slice(2)}).output;s=o.hashForWitnessV0(e,t,c.value,a)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),s=o.hashForSignature(e,u,a)}return{script:u,sighashType:a,hash:s}}function H(e,t,r){const n=(0,a.checkForInput)(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function q(e){let t=0;function r(){const r=o.decode(e,t);return t+=o.decode.bytes,r}function n(){return n=r(),t+=n,e.slice(t-n,t);var n}return function(){const e=r(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function F(e){let t=n.allocUnsafe(0);function r(e){const r=t.length,i=o.encodingLength(e);t=n.concat([t,n.allocUnsafe(i)]),o.encode(e,t,r)}function i(e){r(e.length),function(e){t=n.concat([t,n.from(e)])}(e)}var a;return r((a=e).length),a.forEach(i),t}function z(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=h.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function K(e,t,r,n){let i=0;e.forEach(((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=q(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const n=W(r,e,o),a=t.ins[o].index,s=n.outs[a];i+=s.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),a=i-o;if(a<0)throw new Error("Outputs are spending more than Inputs");const s=t.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(a/s)}function W(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||z(e,t,r),n[r]}function $(e,t,r){if(void 0!==t.witnessUtxo)return t.witnessUtxo.script;if(void 0!==t.nonWitnessUtxo){return W(r,t,e).outs[r.__TX.ins[e].index].script}throw new Error("Can't find pubkey in input without Utxo data")}function V(e){return 33===e.length&&d.isCanonicalPubKey(e)}function G(e,t,r,n,i){const o=I(e),a=o&&n&&x(n),s=x(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((s||a)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return a?(c=i,N(t,e,n,r),C(t,n,i,r),Y(c)):s?(c=i,C(t,e,i,r),Y(c)):o?(c=n,N(t,e,n,r)):c=e,{meaningfulScript:c,type:a?"p2sh-p2wsh":o?"p2sh":s?"p2wsh":"raw"}}function Y(e){if(A(e)||I(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function X(e,t){const r=(0,u.hash160)(e),n=d.decompile(t);if(null===n)throw new Error("Unknown script error");return n.some((t=>"number"!=typeof t&&(t.equals(e)||t.equals(r))))}function J(e){return A(e)?"witnesspubkeyhash":k(e)?"pubkeyhash":S(e)?"multisig":E(e)?"pubkey":"nonstandard"}function Z(e){return[...Array(e).keys()]}},9937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const n=r(7334);function i(e){return e<n.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(e,t,r){const o=i(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(n.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(n.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(n.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o},t.decode=function(e,t){const r=e.readUInt8(t);let i,o;if(r<n.OPS.OP_PUSHDATA1)i=r,o=1;else if(r===n.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;i=e.readUInt8(t+1),o=2}else if(r===n.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;i=e.readUInt16LE(t+1),o=3}else{if(t+5>e.length)return null;if(r!==n.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");i=e.readUInt32LE(t+1),o=5}return{opcode:r,number:i,size:o}}},3357:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.isPushOnly=t.OPS=void 0;const i=r(7617),o=r(7334);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}});const a=r(9937),s=r(5815),c=r(4362),u=r(1838),{typeforce:l}=u,f=o.OPS.OP_RESERVED;function d(e){return u.Buffer(e)||function(e){return u.Number(e)&&(e===o.OPS.OP_0||e>=o.OPS.OP_1&&e<=o.OPS.OP_16||e===o.OPS.OP_1NEGATE)}(e)}function h(e){return u.Array(e)&&e.every(d)}function p(e){return 0===e.length?o.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?f+e[0]:129===e[0]?o.OPS.OP_1NEGATE:void 0:void 0}function g(e){return n.isBuffer(e)}function m(e){return n.isBuffer(e)}function b(e){if(g(e))return e;l(u.Array,e);const t=e.reduce(((e,t)=>m(t)?1===t.length&&void 0!==p(t)?e+1:e+a.encodingLength(t.length)+t.length:e+1),0),r=n.allocUnsafe(t);let i=0;if(e.forEach((e=>{if(m(e)){const t=p(e);if(void 0!==t)return r.writeUInt8(t,i),void(i+=1);i+=a.encode(r,e.length,i),e.copy(r,i),i+=e.length}else r.writeUInt8(e,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function y(e){if(t=e,u.Array(t))return e;var t;l(u.Buffer,e);const r=[];let n=0;for(;n<e.length;){const t=e[n];if(t>o.OPS.OP_0&&t<=o.OPS.OP_PUSHDATA4){const t=a.decode(e,n);if(null===t)return null;if(n+=t.size,n+t.number>e.length)return null;const i=e.slice(n,n+t.number);n+=t.number;const o=p(i);void 0!==o?r.push(o):r.push(i)}else r.push(t),n+=1}return r}function v(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=h,t.compile=b,t.decompile=y,t.toASM=function(e){return g(e)&&(e=y(e)),e.map((e=>{if(m(e)){const t=p(e);if(void 0===t)return e.toString("hex");e=t}return o.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return l(u.String,e),b(e.split(" ").map((e=>void 0!==o.OPS[e]?o.OPS[e]:(l(u.Hex,e),n.from(e,"hex")))))},t.toStack=function(e){return e=y(e),l(h,e),e.map((e=>m(e)?e:e===o.OPS.OP_0?n.allocUnsafe(0):s.encode(e-f)))},t.isCanonicalPubKey=function(e){return u.isPoint(e)},t.isDefinedHashType=v,t.isCanonicalScriptSignature=function(e){return!!n.isBuffer(e)&&(!!v(e[e.length-1])&&i.check(e.slice(0,-1)))},t.number=s,t.signature=c},5815:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(e,t,r){t=t||4,r=void 0===r||r;const n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&0==(127&e[n-1])&&(n<=1||0==(128&e[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-(4294967296*(-129&r)+t):4294967296*r+t}let i=0;for(let t=0;t<n;++t)i|=e[t]<<8*t;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},t.encode=function(e){let t=Math.abs(e);const r=(i=t)>2147483647?5:i>8388607?4:i>32767?3:i>127?2:i>0?1:0;var i;const o=n.allocUnsafe(r),a=e<0;for(let e=0;e<r;++e)o.writeUInt8(255&t,e),t>>=8;return 128&o[r-1]?o.writeUInt8(a?128:0,r-1):a&&(o[r-1]|=128),o}},4362:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const i=r(7617),o=r(1838),{typeforce:a}=o,s=n.alloc(1,0);function c(e){let t=0;for(;0===e[t];)++t;return t===e.length?s:128&(e=e.slice(t))[0]?n.concat([s,e],1+e.length):e}function u(e){0===e[0]&&(e=e.slice(1));const t=n.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}t.decode=function(e){const t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const o=i.decode(e.slice(0,-1)),a=u(o.r),s=u(o.s);return{signature:n.concat([a,s],64),hashType:t}},t.encode=function(e,t){a({signature:o.BufferN(64),hashType:o.UInt8},{signature:e,hashType:t});const r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const s=n.allocUnsafe(1);s.writeUInt8(t,0);const u=c(e.slice(0,32)),l=c(e.slice(32,64));return n.concat([i.encode(u,l),s])}},2737:(e,t,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const i=r(9357),o=r(5525),a=r(3357),s=r(3357),c=r(1838),{typeforce:u}=c;function l(e){const t=e.length;return i.varuint.encodingLength(t)+t}const f=n.allocUnsafe(0),d=[],h=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),p=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),g=n.from("ffffffffffffffff","hex"),m={script:f,valueBuffer:g};class b{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){const r=new i.BufferReader(e),n=new b;n.version=r.readInt32();const o=r.readUInt8(),a=r.readUInt8();let s=!1;o===b.ADVANCED_TRANSACTION_MARKER&&a===b.ADVANCED_TRANSACTION_FLAG?s=!0:r.offset-=2;const c=r.readVarInt();for(let e=0;e<c;++e)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:d});const u=r.readVarInt();for(let e=0;e<u;++e)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(s){for(let e=0;e<c;++e)n.ins[e].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),t)return n;if(r.offset!==e.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return b.fromBuffer(n.from(e,"hex"),!1)}static isCoinbaseHash(e){u(c.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&b.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return u(c.tuple(c.Hash256bit,c.UInt32,c.maybe(c.UInt32),c.maybe(c.Buffer)),arguments),c.Null(r)&&(r=b.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||f,sequence:r,witness:d})-1}addOutput(e,t){return u(c.tuple(c.Buffer,c.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+i.varuint.encodingLength(this.ins.length)+i.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+l(t.script)),0)+this.outs.reduce(((e,t)=>e+8+l(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return i.varuint.encodingLength(t)+e.reduce(((e,t)=>e+l(t)),0)}(t.witness)),0):0)}clone(){const e=new b;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,r){if(u(c.tuple(c.UInt32,c.Buffer,c.Number),arguments),e>=this.ins.length)return p;const i=a.compile(a.decompile(t).filter((e=>e!==s.OPS.OP_CODESEPARATOR))),l=this.clone();if((31&r)===b.SIGHASH_NONE)l.outs=[],l.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}));else if((31&r)===b.SIGHASH_SINGLE){if(e>=this.outs.length)return p;l.outs.length=e+1;for(let t=0;t<e;t++)l.outs[t]=m;l.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}))}r&b.SIGHASH_ANYONECANPAY?(l.ins=[l.ins[e]],l.ins[0].script=i):(l.ins.forEach((e=>{e.script=f})),l.ins[e].script=i);const d=n.allocUnsafe(l.byteLength(!1)+4);return d.writeInt32LE(r,d.length-4),l.__toBuffer(d,0,!1),o.hash256(d)}hashForWitnessV1(e,t,r,a,s,d){if(u(c.tuple(c.UInt32,u.arrayOf(c.Buffer),u.arrayOf(c.Satoshi),c.UInt32),arguments),r.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const h=a===b.SIGHASH_DEFAULT?b.SIGHASH_ALL:a&b.SIGHASH_OUTPUT_MASK,p=(a&b.SIGHASH_INPUT_MASK)===b.SIGHASH_ANYONECANPAY,g=h===b.SIGHASH_NONE,m=h===b.SIGHASH_SINGLE;let y=f,v=f,w=f,_=f,S=f;if(!p){let e=i.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),y=o.sha256(e.end()),e=i.BufferWriter.withCapacity(8*this.ins.length),r.forEach((t=>e.writeUInt64(t))),v=o.sha256(e.end()),e=i.BufferWriter.withCapacity(t.map(l).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),w=o.sha256(e.end()),e=i.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),_=o.sha256(e.end())}if(g||m){if(m&&e<this.outs.length){const t=this.outs[e],r=i.BufferWriter.withCapacity(8+l(t.script));r.writeUInt64(t.value),r.writeVarSlice(t.script),S=o.sha256(r.end())}}else{const e=this.outs.map((e=>8+l(e.script))).reduce(((e,t)=>e+t)),t=i.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),S=o.sha256(t.end())}const E=(s?2:0)+(d?1:0),k=174-(p?49:0)-(g?32:0)+(d?32:0)+(s?37:0),A=i.BufferWriter.withCapacity(k);if(A.writeUInt8(a),A.writeInt32(this.version),A.writeUInt32(this.locktime),A.writeSlice(y),A.writeSlice(v),A.writeSlice(w),A.writeSlice(_),g||m||A.writeSlice(S),A.writeUInt8(E),p){const n=this.ins[e];A.writeSlice(n.hash),A.writeUInt32(n.index),A.writeUInt64(r[e]),A.writeVarSlice(t[e]),A.writeUInt32(n.sequence)}else A.writeUInt32(e);if(d){const e=i.BufferWriter.withCapacity(l(d));e.writeVarSlice(d),A.writeSlice(o.sha256(e.end()))}return m&&A.writeSlice(S),s&&(A.writeSlice(s),A.writeUInt8(0),A.writeUInt32(4294967295)),o.taggedHash("TapSighash",n.concat([n.of(0),A.end()]))}hashForWitnessV0(e,t,r,a){u(c.tuple(c.UInt32,c.Buffer,c.Satoshi,c.UInt32),arguments);let s,f=n.from([]),d=h,p=h,g=h;if(a&b.SIGHASH_ANYONECANPAY||(f=n.allocUnsafe(36*this.ins.length),s=new i.BufferWriter(f,0),this.ins.forEach((e=>{s.writeSlice(e.hash),s.writeUInt32(e.index)})),p=o.hash256(f)),a&b.SIGHASH_ANYONECANPAY||(31&a)===b.SIGHASH_SINGLE||(31&a)===b.SIGHASH_NONE||(f=n.allocUnsafe(4*this.ins.length),s=new i.BufferWriter(f,0),this.ins.forEach((e=>{s.writeUInt32(e.sequence)})),g=o.hash256(f)),(31&a)!==b.SIGHASH_SINGLE&&(31&a)!==b.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+l(t.script)),0);f=n.allocUnsafe(e),s=new i.BufferWriter(f,0),this.outs.forEach((e=>{s.writeUInt64(e.value),s.writeVarSlice(e.script)})),d=o.hash256(f)}else if((31&a)===b.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];f=n.allocUnsafe(8+l(t.script)),s=new i.BufferWriter(f,0),s.writeUInt64(t.value),s.writeVarSlice(t.script),d=o.hash256(f)}f=n.allocUnsafe(156+l(t)),s=new i.BufferWriter(f,0);const m=this.ins[e];return s.writeInt32(this.version),s.writeSlice(p),s.writeSlice(g),s.writeSlice(m.hash),s.writeUInt32(m.index),s.writeVarSlice(t),s.writeUInt64(r),s.writeUInt32(m.sequence),s.writeSlice(d),s.writeUInt32(this.locktime),s.writeUInt32(a),o.hash256(f)}getHash(e){return e&&this.isCoinbase()?n.alloc(32,0):o.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,i.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){u(c.tuple(c.Number,c.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){u(c.tuple(c.Number,[c.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=n.allocUnsafe(this.byteLength(r)));const o=new i.BufferWriter(e,t||0);o.writeInt32(this.version);const a=r&&this.hasWitnesses();return a&&(o.writeUInt8(b.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(b.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach((e=>{o.writeSlice(e.hash),o.writeUInt32(e.index),o.writeVarSlice(e.script),o.writeUInt32(e.sequence)})),o.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?o.writeUInt64(e.value):o.writeSlice(e.valueBuffer),o.writeVarSlice(e.script)})),a&&this.ins.forEach((e=>{o.writeVector(e.witness)})),o.writeUInt32(this.locktime),void 0!==t?e.slice(t,o.offset):e}}t.Transaction=b,b.DEFAULT_SEQUENCE=4294967295,b.SIGHASH_DEFAULT=0,b.SIGHASH_ALL=1,b.SIGHASH_NONE=2,b.SIGHASH_SINGLE=3,b.SIGHASH_ANYONECANPAY=128,b.SIGHASH_OUTPUT_MASK=3,b.SIGHASH_INPUT_MASK=128,b.ADVANCED_TRANSACTION_MARKER=0,b.ADVANCED_TRANSACTION_FLAG=1},1838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const n=r(8764);t.typeforce=r(2401);const i=n.Buffer.alloc(32,0),o=n.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.isPoint=function(e){if(!n.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(0===r.compare(i))return!1;if(r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const a=e.slice(33);return 0!==a.compare(i)&&(!(a.compare(o)>=0)&&(4===t&&65===e.length))};const a=Math.pow(2,31)-1;function s(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return t.typeforce.UInt32(e)&&e<=a},t.BIP32Path=s,s.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign};t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},3550:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var l=c>>>26,f=67108863&c,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}r.words[u]=0|f,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?l[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],h=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?g+r:l[u-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,g=h>>>13,m=0|a[2],b=8191&m,y=m>>>13,v=0|a[3],w=8191&v,_=v>>>13,S=0|a[4],E=8191&S,k=S>>>13,A=0|a[5],x=8191&A,I=A>>>13,O=0|a[6],P=8191&O,T=O>>>13,R=0|a[7],B=8191&R,M=R>>>13,N=0|a[8],C=8191&N,L=N>>>13,U=0|a[9],j=8191&U,D=U>>>13,H=0|s[0],q=8191&H,F=H>>>13,z=0|s[1],K=8191&z,W=z>>>13,$=0|s[2],V=8191&$,G=$>>>13,Y=0|s[3],X=8191&Y,J=Y>>>13,Z=0|s[4],Q=8191&Z,ee=Z>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ge=he>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(f,q))|0)+((8191&(i=(i=Math.imul(f,F))+Math.imul(d,q)|0))<<13)|0;u=((o=Math.imul(d,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,F))+Math.imul(g,q)|0,o=Math.imul(g,F);var be=(u+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,q),i=(i=Math.imul(b,F))+Math.imul(y,q)|0,o=Math.imul(y,F),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,W)|0;var ye=(u+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,V)|0))<<13)|0;u=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,F))+Math.imul(_,q)|0,o=Math.imul(_,F),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,G)|0;var ve=(u+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(d,X)|0))<<13)|0;u=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,q),i=(i=Math.imul(E,F))+Math.imul(k,q)|0,o=Math.imul(k,F),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,G)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,X)|0,o=o+Math.imul(g,J)|0;var we=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,F))+Math.imul(I,q)|0,o=Math.imul(I,F),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var _e=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;u=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,F))+Math.imul(T,q)|0,o=Math.imul(T,F),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var Se=(u+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,F))+Math.imul(M,q)|0,o=Math.imul(M,F),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(T,K)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0;var Ee=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,F))+Math.imul(L,q)|0,o=Math.imul(L,F),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(M,K)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,G)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,o=o+Math.imul(g,ue)|0;var ke=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,q),i=(i=Math.imul(j,F))+Math.imul(D,q)|0,o=Math.imul(D,F),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(T,X)|0,o=o+Math.imul(T,J)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,n=n+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,de)|0;var Ae=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,W))+Math.imul(D,K)|0,o=Math.imul(D,W),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(b,fe)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,V),i=(i=Math.imul(j,G))+Math.imul(D,V)|0,o=Math.imul(D,G),n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Ie=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ge)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,X),i=(i=Math.imul(j,J))+Math.imul(D,X)|0,o=Math.imul(D,J),n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,de)|0;var Oe=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,Q),i=(i=Math.imul(j,ee))+Math.imul(D,Q)|0,o=Math.imul(D,ee),n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Pe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(T,fe)|0,o=o+Math.imul(T,de)|0;var Te=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(D,oe)|0,o=Math.imul(D,ae),n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(M,fe)|0,o=o+Math.imul(M,de)|0;var Re=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ge)|0)+Math.imul(T,pe)|0))<<13)|0;u=((o=o+Math.imul(T,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),n=n+Math.imul(C,fe)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(L,fe)|0,o=o+Math.imul(L,de)|0;var Be=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ge)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,ge)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(j,fe),i=(i=Math.imul(j,de))+Math.imul(D,fe)|0,o=Math.imul(D,de);var Me=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ge)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Ne=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ge))+Math.imul(D,pe)|0))<<13)|0;return u=((o=Math.imul(D,ge))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=me,c[1]=be,c[2]=ye,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Se,c[7]=Ee,c[8]=ke,c[9]=Ae,c[10]=xe,c[11]=Ie,c[12]=Oe,c[13]=Pe,c[14]=Te,c[15]=Re,c[16]=Be,c[17]=Me,c[18]=Ne,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):g(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,d=u,h=0;h<a;h++){var p=r[l+h],g=n[l+h],m=r[l+h+a],b=n[l+h+a],y=f*m-d*b;b=f*b+d*m,m=y,r[l+h]=p+m,n[l+h]=g+b,r[l+h+a]=p-m,n[l+h+a]=g-b,h!==s&&(y=c*f-u*d,d=c*d+u*f,f=y)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,l,f,n,i);for(var h=0;h<n;h++){var p=s[h]*l[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(i,d,f);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(r.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(r.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(v,y),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,y),i(_,y),i(S,y),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return b[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var g=h,m=0;0!==g.cmp(s);m++)g=g.redSqr();n(m<p);var b=this.pow(f,new o(1).iushln(p-m-1));d=d.redMul(b),f=b.redSqr(),h=h.redMul(f),p=m}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var f=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,E),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},6683:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var i=t.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function a(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=o(t)^n>>5}for(t=o(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=o(t)^31&i}return t}function s(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var s=(e=n).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var c=e.slice(0,s),u=e.slice(s+1);if(u.length<6)return"Data too short";var l=a(c);if("string"==typeof l)return l;for(var f=[],d=0;d<u.length;++d){var h=u.charAt(d),p=r[h];if(void 0===p)return"Unknown character "+h;l=o(l)^p,d+6>=u.length||f.push(p)}return 1!==l?"Invalid checksum for "+e:{prefix:c,words:f}}function c(e,t,r,n){for(var i=0,o=0,a=(1<<r)-1,s=[],c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=r;)o-=r,s.push(i>>o&a);if(n)o>0&&s.push(i<<r-o&a);else{if(o>=t)return"Excess padding";if(i<<r-o&a)return"Non-zero padding"}return s}e.exports={decodeUnsafe:function(){var e=s.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=s.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=a(e=e.toLowerCase());if("string"==typeof i)throw new Error(i);for(var s=e+"1",c=0;c<r.length;++c){var u=r[c];if(u>>5!=0)throw new Error("Non 5-bit word");i=o(i)^u,s+=t.charAt(u)}for(c=0;c<6;++c)i=o(i);for(i^=1,c=0;c<6;++c){s+=t.charAt(i>>5*(5-c)&31)}return s},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},8805:(e,t,r)=>{"use strict";const n=r(3482),i=r(6683),o=r(7221),a=r(9509).Buffer,s=r(3550),c=r(7656).Lk,u=r(361),l={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0,1]},f={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},d={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},h={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0,1]},p={word_length:4,var_onion_optin:{required:!1,supported:!0},payment_secret:{required:!1,supported:!0}},g=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],m={m:new s(1e3,10),u:new s(1e6,10),n:new s(1e9,10),p:new s(1e12,10)},b=new s("2100000000000000000",10),y=new s(1e11,10),v=new s(1e8,10),w=new s(1e5,10),_=new s(100,10),S=new s(10,10),E={payment_hash:1,payment_secret:16,description:13,payee_node_key:19,purpose_commit_hash:23,expire_time:6,min_final_cltv_expiry:24,fallback_address:9,routing_info:3,feature_bits:5},k={};for(let e=0,t=Object.keys(E);e<t.length;e++){const r=t[e],n=E[t[e]].toString();k[n]=r}const A={payment_hash:C,payment_secret:C,description:function(e){const t=function(e){return a.from(e,"utf8")}(e);return i.toWords(t)},payee_node_key:C,purpose_commit_hash:function(e){let t;if(void 0===e||!("string"==typeof e||e instanceof String))throw new Error("purpose or purpose commit must be a string or hex string");t=e.match(/^([a-zA-Z0-9]{2})*$/)?a.from(e,"hex"):R(a.from(e,"utf8"));return i.toWords(t)},expire_time:T,min_final_cltv_expiry:T,fallback_address:function(e,t){return[e.code].concat(C(e.addressHash))},routing_info:function(e){let t=a.from([]);return e.forEach((e=>{t=a.concat([t,N(e.pubkey)]),t=a.concat([t,N(e.short_channel_id)]),t=a.concat([t,a.from([0,0,0].concat(T(e.fee_base_msat,8)).slice(-4))]),t=a.concat([t,a.from([0,0,0].concat(T(e.fee_proportional_millionths,8)).slice(-4))]),t=a.concat([t,a.from([0].concat(T(e.cltv_expiry_delta,8)).slice(-2))])})),C(t)},feature_bits:function(e){let t=e.word_length,r=[];g.forEach((t=>{r.push(!!(e[t]||{}).required),r.push(!!(e[t]||{}).supported)}));for(;!1===r[r.length-1];)r.pop();for(;r.length%5!=0;)r.push(!1);if(e.extra_bits&&Array.isArray(e.extra_bits.bits)&&e.extra_bits.bits.length>0){for(;r.length<e.extra_bits.start_bit;)r.push(!1);r=r.concat(e.extra_bits.bits)}if(void 0!==t&&r.length/5>t)throw new Error("word_length is too small to contain all featureBits");void 0===t&&(t=Math.ceil(r.length/5));return new Array(t).fill(0).map(((e,t)=>r[5*t+4]<<4|r[5*t+3]<<3|r[5*t+2]<<2|r[5*t+1]<<1|r[5*t]<<0)).reverse()}},x={1:e=>M(e,!0).toString("hex"),16:e=>M(e,!0).toString("hex"),13:e=>M(e,!0).toString("utf8"),19:e=>M(e,!0).toString("hex"),23:e=>M(e,!0).toString("hex"),6:P,24:P,9:function(e,t){const r=e[0],n=M(e=e.slice(1),!0);let i=null;switch(r){case 17:i=c.toBase58Check(n,t.pubKeyHash);break;case 18:i=c.toBase58Check(n,t.scriptHash);break;case 0:case 1:i=c.toBech32(n,r,t.bech32)}return{code:r,address:i,addressHash:n.toString("hex")}},3:function(e){const t=[];let r,n,i,o,a,s=M(e,!0);for(;s.length>0;)r=s.slice(0,33).toString("hex"),n=s.slice(33,41).toString("hex"),i=parseInt(s.slice(41,45).toString("hex"),16),o=parseInt(s.slice(45,49).toString("hex"),16),a=parseInt(s.slice(49,51).toString("hex"),16),s=s.slice(51),t.push({pubkey:r,short_channel_id:n,fee_base_msat:i,fee_proportional_millionths:o,cltv_expiry_delta:a});return t},5:function(e){const t=e.slice().reverse().map((e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)])).reduce(((e,t)=>e.concat(t)),[]);for(;t.length<2*g.length;)t.push(!1);const r={word_length:e.length};if(g.forEach(((e,n)=>{r[e]={required:t[2*n],supported:t[2*n+1]}})),t.length>2*g.length){const e=t.slice(2*g.length);r.extra_bits={start_bit:2*g.length,bits:e,has_required:e.reduce(((e,t,r)=>r%2!=0?e||!1:e||t),!1)}}else r.extra_bits={start_bit:2*g.length,bits:[],has_required:!1};return r}},I="unknownTag";function O(e){return t=>({tagCode:parseInt(e),words:i.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function P(e){return e.reverse().reduce(((e,t,r)=>e+t*Math.pow(32,r)),0)}function T(e,t){const r=[];if(void 0===t&&(t=5),0===(e=Math.floor(e)))return[0];for(;e>0;)r.push(e&Math.pow(2,t)-1),e=Math.floor(e/Math.pow(2,t));return r.reverse()}function R(e){return n("sha256").update(e).digest()}function B(e,t,r){let n=0,i=0;const o=(1<<r)-1,a=[];for(let s=0;s<e.length;++s)for(n=n<<t|e[s],i+=t;i>=r;)i-=r,a.push(n>>i&o);return i>0&&a.push(n<<r-i&o),a}function M(e,t){let r=a.from(B(e,5,8));return t&&5*e.length%8!=0&&(r=r.slice(0,-1)),r}function N(e){return void 0!==e&&("string"==typeof e||e instanceof String)&&e.match(/^([a-zA-Z0-9]{2})*$/)?a.from(e,"hex"):e}function C(e){const t=N(e);return i.toWords(t)}function L(e,t){const r=e.filter((e=>e.tagName===t));return r.length>0?r[0].data:null}function U(e,t){return null!==L(e,t)}function j(e,t){const r={};if(Object.keys(e).sort().forEach((t=>{r[t]=e[t]})),!0===t){const e="__tagsObject_cache";Object.defineProperty(r,"tagsObject",{get(){return this[e]||Object.defineProperty(this,e,{value:z(this.tags)}),this[e]}})}return r}function D(e){if(!e.toString().match(/^\d+$/))throw new Error("satoshis must be an integer");return H(new s(e,10).mul(new s(1e3,10)))}function H(e){if(!e.toString().match(/^\d+$/))throw new Error("millisatoshis must be an integer");const t=new s(e,10),r=t.toString(10),n=r.length;let i,o;return n>11&&/0{11}$/.test(r)?(i="",o=t.div(y).toString(10)):n>8&&/0{8}$/.test(r)?(i="m",o=t.div(v).toString(10)):n>5&&/0{5}$/.test(r)?(i="u",o=t.div(w).toString(10)):n>2&&/0{2}$/.test(r)?(i="n",o=t.div(_).toString(10)):(i="p",o=t.mul(S).toString(10)),o+i}function q(e,t){const r=F(e,!1);if(!r.mod(new s(1e3,10)).eq(new s(0,10)))throw new Error("Amount is outside of valid range");const n=r.div(new s(1e3,10));return t?n.toString():n}function F(e,t){let r,n;if(e.slice(-1).match(/^[munp]$/))r=e.slice(-1),n=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");n=e}if(!n.match(/^\d+$/))throw new Error("Not a valid human readable amount");const i=new s(n,10),o=r?i.mul(y).div(m[r]):i.mul(y);if("p"===r&&!i.mod(new s(10,10)).eq(new s(0,10))||o.gt(b))throw new Error("Amount is outside of valid range");return t?o.toString():o}function z(e){const t={};return e.forEach((e=>{e.tagName===I?(t.unknownTags||(t.unknownTags=[]),t.unknownTags.push(e.data)):t[e.tagName]=e.data})),t}e.exports={encode:function(e,t){const r=u(e);void 0===t&&(t=!0);const n=!(void 0===r.signature||void 0===r.recoveryFlag);let f,d,h,g,m,b;if(void 0!==r.network||n){if(void 0===r.network&&n)throw new Error("Need network for proper payment request reconstruction");if(!r.network.bech32||void 0===r.network.pubKeyHash||void 0===r.network.scriptHash||!Array.isArray(r.network.validWitnessVersions))throw new Error("Invalid network");f=r.network}else r.network=l,f=l;if(void 0!==r.timestamp||n){if(void 0===r.timestamp&&n)throw new Error("Need timestamp for proper payment request reconstruction")}else r.timestamp=Math.floor((new Date).getTime()/1e3);if(void 0===r.tags)throw new Error("Payment Requests need tags array");if(!U(r.tags,k[1]))throw new Error("Lightning Payment Request needs a payment hash");if(U(r.tags,k[16]))if(U(r.tags,k[5])){const e=L(r.tags,k[5]);if(!e.payment_secret||!e.payment_secret.supported&&!e.payment_secret.required)throw new Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included")}else{if(!t)throw new Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included");r.tags.push({tagName:k[5],data:p})}if(!U(r.tags,k[13])&&!U(r.tags,k[23])){if(!t)throw new Error("Payment request requires description or purpose commit hash");r.tags.push({tagName:k[13],data:""})}if(U(r.tags,k[13])&&a.from(L(r.tags,k[13]),"utf8").length>639)throw new Error("Description is too long: Max length 639 bytes");if(U(r.tags,k[6])||n||!t||r.tags.push({tagName:k[6],data:3600}),U(r.tags,k[24])||n||!t||r.tags.push({tagName:k[24],data:9}),U(r.tags,k[19])&&(h=N(L(r.tags,k[19]))),r.payeeNodeKey&&(d=N(r.payeeNodeKey)),d&&h&&!h.equals(d))throw new Error("payeeNodeKey and tag payee node key do not match");if(d=d||h,d&&(r.payeeNodeKey=d.toString("hex")),U(r.tags,k[9])){const e=L(r.tags,k[9]);if(b=e.address,m=e.addressHash,g=e.code,void 0===m||void 0===g){let t,r;try{t=c.fromBech32(b),m=t.data,g=t.version}catch(e){try{r=c.fromBase58Check(b),r.version===f.pubKeyHash?g=17:r.version===f.scriptHash&&(g=18),m=r.hash}catch(e){throw new Error("Fallback address type is unknown")}}if(t&&!(t.version in f.validWitnessVersions))throw new Error("Fallback address witness version is unknown");if(t&&t.prefix!==f.bech32)throw new Error("Fallback address network type does not match payment request network type");if(r&&r.version!==f.pubKeyHash&&r.version!==f.scriptHash)throw new Error("Fallback address version (base58) is unknown or the network type is incorrect");e.addressHash=m.toString("hex"),e.code=g}}if(U(r.tags,k[3])){L(r.tags,k[3]).forEach((e=>{if(void 0===e.pubkey||void 0===e.short_channel_id||void 0===e.fee_base_msat||void 0===e.fee_proportional_millionths||void 0===e.cltv_expiry_delta)throw new Error("Routing info is incomplete");if(!o.publicKeyVerify(N(e.pubkey)))throw new Error("Routing info pubkey is not a valid pubkey");const t=N(e.short_channel_id);if(!(t instanceof a)||8!==t.length)throw new Error("Routing info short channel id must be 8 bytes");if("number"!=typeof e.fee_base_msat||Math.floor(e.fee_base_msat)!==e.fee_base_msat)throw new Error("Routing info fee base msat is not an integer");if("number"!=typeof e.fee_proportional_millionths||Math.floor(e.fee_proportional_millionths)!==e.fee_proportional_millionths)throw new Error("Routing info fee proportional millionths is not an integer");if("number"!=typeof e.cltv_expiry_delta||Math.floor(e.cltv_expiry_delta)!==e.cltv_expiry_delta)throw new Error("Routing info cltv expiry delta is not an integer")}))}let y,v="ln";if(v+=f.bech32,r.millisatoshis&&r.satoshis){y=H(new s(r.millisatoshis,10));if(D(new s(r.satoshis,10))!==y)throw new Error("satoshis and millisatoshis do not match")}else y=r.millisatoshis?H(new s(r.millisatoshis,10)):r.satoshis?D(new s(r.satoshis,10)):"";v+=y;const w=T(r.timestamp),_=r.tags;let S=[];_.forEach((e=>{const t=Object.keys(A);if(n&&t.push(I),-1===t.indexOf(e.tagName))throw new Error("Unknown tag key: "+e.tagName);let r;if(e.tagName!==I){S.push(E[e.tagName]);r=(0,A[e.tagName])(e.data)}else{const t=function(e){return e.words=i.decode(e.words,Number.MAX_SAFE_INTEGER).words,e}(e.data);S.push(t.tagCode),r=t.words}S=S.concat([0].concat(T(r.length)).slice(-2)),S=S.concat(r)}));let x=w.concat(S);const O=R(a.concat([a.from(v,"utf8"),a.from(B(x,5,8))]));let P;if(n){if(!d)throw new Error("Reconstruction with signature and recoveryID requires payeeNodeKey to verify correctness of input data.");{const e=a.from(o.ecdsaRecover(a.from(r.signature,"hex"),r.recoveryFlag,O,!0));if(d&&!d.equals(e))throw new Error("Signature, message, and recoveryID did not produce the same pubkey as payeeNodeKey");P=C(r.signature+"0"+r.recoveryFlag)}}return P&&(x=x.concat(P)),U(r.tags,k[6])&&(r.timeExpireDate=r.timestamp+L(r.tags,k[6]),r.timeExpireDateString=new Date(1e3*r.timeExpireDate).toISOString()),r.timestampString=new Date(1e3*r.timestamp).toISOString(),r.complete=!!P,r.paymentRequest=r.complete?i.encode(v,x,Number.MAX_SAFE_INTEGER):"",r.prefix=v,r.wordsTemp=i.encode("temp",x,Number.MAX_SAFE_INTEGER),j(r)},decode:function(e,t){if("string"!=typeof e)throw new Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw new Error("Not a proper lightning payment request");const r=i.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const n=r.prefix;let s=r.words;const c=s.slice(-104),u=s.slice(0,-104);s=s.slice(0,-104);let p=M(c,!0);const g=p.slice(-1)[0];if(p=p.slice(0,-1),!(g in[0,1,2,3])||64!==p.length)throw new Error("Signature is missing or incorrect");let m=n.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(m&&!m[2]&&(m=n.match(/^ln(\S+)$/)),!m)throw new Error("Not a proper lightning payment request");const b=m[1];let y;if(t){if(void 0===t.bech32||void 0===t.pubKeyHash||void 0===t.scriptHash||!Array.isArray(t.validWitnessVersions))throw new Error("Invalid network");y=t}else switch(b){case l.bech32:y=l;break;case f.bech32:y=f;break;case d.bech32:y=d;break;case h.bech32:y=h}if(!y||y.bech32!==b)throw new Error("Unknown coin bech32 prefix");const v=m[2];let w,_,S;if(v){const e=m[3];try{w=parseInt(q(v+e,!0))}catch(e){w=null,S=!0}_=F(v+e,!0)}else w=null,_=null;const E=P(s.slice(0,7)),A=new Date(1e3*E).toISOString();s=s.slice(7);const T=[];let N,C,D,H,z,K;for(;s.length>0;){const e=s[0].toString();N=k[e]||I,C=x[e]||O(e),s=s.slice(1),D=P(s.slice(0,2)),s=s.slice(2),H=s.slice(0,D),s=s.slice(D),T.push({tagName:N,data:C(H,y)})}U(T,k[6])&&(z=E+L(T,k[6]),K=new Date(1e3*z).toISOString());const W=R(a.concat([a.from(n,"utf8"),a.from(B(u,5,8))])),$=a.from(o.ecdsaRecover(p,g,W,!0));if(U(T,k[19])&&L(T,k[19])!==$.toString("hex"))throw new Error("Lightning Payment Request signature pubkey does not match payee pubkey");let V={paymentRequest:e,complete:!0,prefix:n,wordsTemp:i.encode("temp",u.concat(c),Number.MAX_SAFE_INTEGER),network:y,satoshis:w,millisatoshis:_,timestamp:E,timestampString:A,payeeNodeKey:$.toString("hex"),signature:p.toString("hex"),recoveryFlag:g,tags:T};return S&&delete V.satoshis,z&&(V=Object.assign(V,{timeExpireDate:z,timeExpireDateString:K})),j(V,!0)},sign:function(e,t){const r=u(e),n=N(t);if(r.complete&&r.paymentRequest)return r;if(void 0===n||32!==n.length||!o.privateKeyVerify(n))throw new Error("privateKey must be a 32 byte Buffer and valid private key");let s,c;if(U(r.tags,k[19])&&(c=N(L(r.tags,k[19]))),r.payeeNodeKey&&(s=N(r.payeeNodeKey)),s&&c&&!c.equals(s))throw new Error("payee node key tag and payeeNodeKey attribute must match");s=c||s;const l=a.from(o.publicKeyCreate(n));if(s&&!l.equals(s))throw new Error("The private key given is not the private key of the node public key given");const f=i.decode(r.wordsTemp,Number.MAX_SAFE_INTEGER).words,d=R(a.concat([a.from(r.prefix,"utf8"),M(f)])),h=o.ecdsaSign(d,n);h.signature=a.from(h.signature);const p=C(h.signature.toString("hex")+"0"+h.recid);return r.payeeNodeKey=l.toString("hex"),r.signature=h.signature.toString("hex"),r.recoveryFlag=h.recid,r.wordsTemp=i.encode("temp",f.concat(p),Number.MAX_SAFE_INTEGER),r.complete=!0,r.paymentRequest=i.encode(r.prefix,f.concat(p),Number.MAX_SAFE_INTEGER),j(r)},satToHrp:D,millisatToHrp:H,hrpToSat:q,hrpToMillisat:F}},9931:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(9214);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},7191:(e,t,r)=>{var n=r(8162);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3310:(e,t,r)=>{"use strict";var n=r(7191),i=r(9509).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},8334:(e,t,r)=>{"use strict";var n=r(3482),i=r(3310);e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},8764:(e,t,r)=>{"use strict";const n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||X(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),s(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function _(e,t,r,n){return G($(t,e.length-r),e,r,n)}function S(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return G(V(t),e,r,n)}function k(e,t,r,n){return G(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==l[e]){o=u[e],a=l[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=J[e[n]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i){F(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function C(e,t,r,n,i){F(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const D={};function H(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||K(t,e.length-(r+1))}(n,i,o)}function z(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,r){if(Math.floor(e)!==e)throw z(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},1027:(e,t,r)=>{var n=r(9509).Buffer,i=r(2830).Transform,o=r(2553).s;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(a,i),a.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=a},3482:(e,t,r)=>{"use strict";var n=r(5717),i=r(2318),o=r(9785),a=r(9072),s=r(1027);function c(e){s.call(this,"digest"),this._hash=e}n(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},452:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],f=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var g=e[r],m=e[g],b=e[m],y=257*e[p]^16843008*p;a[r]=y<<24|y>>>8,s[r]=y<<16|y>>>16,c[r]=y<<8|y>>>24,u[r]=y,y=16843009*b^65537*m^257*g^16843008*r,l[p]=y<<24|y>>>8,f[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,h[p]=y,r?(r=g^e[e[e[b^g]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)a<r?o[a]=t[a]:(u=o[a-1],a%r?r>6&&a%r==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/r|0]<<24),o[a]=o[a-r]^u);for(var s=this._invKeySchedule=[],c=0;c<n;c++){if(a=n-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[i[u>>>24]]^f[i[u>>>16&255]]^d[i[u>>>8&255]]^h[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,h,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,a,s){for(var c=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],f=e[t+2]^r[2],d=e[t+3]^r[3],h=4,p=1;p<c;p++){var g=n[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&d]^r[h++],m=n[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&u]^r[h++],b=n[f>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^r[h++],y=n[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^r[h++];u=g,l=m,f=b,d=y}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^r[h++],m=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^r[h++],b=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[h++],y=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[h++],e[t]=g,e[t+1]=m,e[t+2]=b,e[t+3]=y},keySize:8});e.AES=t._createHelper(g)}(),n.AES)},5109:function(e,t,r){var n;e.exports=(n=r(8249),r(888),void(n.lib.Cipher||function(e){var t=n,r=t.lib,i=r.Base,o=r.WordArray,a=r.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),u=t.algo.EvpKDF,l=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:b}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),f=(r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var t=d.extend();function r(t,r,n){var i,o=this._iv;o?(i=o,this._iv=e):i=this._prevBlock;for(var a=0;a<n;a++)t[r+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),r.call(this,e,t,i),this._prevBlock=o}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(i);var c=o.create(a,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:h,padding:p}),reset:function(){var e;l.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?o.create([1398893684,1701076831]).concat(r).concat(t):t).toString(c)},parse:function(e){var t,r=c.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),g.create({ciphertext:r,salt:t})}},b=r.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),a=i.cfg;return g.create({ciphertext:o,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=o.random(8));var i=u.create({keySize:t+r}).compute(e,n),a=o.create(i.words.slice(t),4*r);return i.sigBytes=4*t,g.create({key:i,iv:a,salt:n})}},v=r.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:y}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,b.decrypt.call(this,e,t,i.key,n)}})}()))},8249:function(e,t,r){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(2480)}catch(e){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new u.init(t,e)}}),l=a.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=a)this._doProcessBlock(i,f);r=i.splice(0,c),n.sigBytes-=l}return new u.init(r,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),n)},8269:function(e,t,r){var n;e.exports=(n=r(8249),function(){var e=n,t=e.lib.WordArray;function r(e,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},3786:function(e,t,r){var n;e.exports=(n=r(8249),function(){var e=n,t=e.lib.WordArray;function r(e,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64url={stringify:function(e,t=!0){var r=e.words,n=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<n;a+=3)for(var s=(r[a>>>2]>>>24-a%4*8&255)<<16|(r[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|r[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<n;c++)o.push(i.charAt(s>>>6*(3-c)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e,t=!0){var n=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(n=c)}return r(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url)},3465:function(e,t,r){var n;e.exports=(n=r(8249),n.enc.Hex)},298:function(e,t,r){var n;e.exports=(n=r(8249),function(){var e=n,t=e.lib.WordArray,r=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(n,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var r=e.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(n,2*r)}}}(),n.enc.Utf16)},5743:function(e,t,r){var n;e.exports=(n=r(8249),n.enc.Utf8)},888:function(e,t,r){var n,i,o,a,s,c,u,l;e.exports=(l=r(8249),r(2783),r(9824),i=(n=l).lib,o=i.Base,a=i.WordArray,s=n.algo,c=s.MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),o=a.create(),s=o.words,c=n.keySize,u=n.iterations;s.length<c;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var l=1;l<u;l++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*c,o}}),n.EvpKDF=function(e,t,r){return u.create(r).compute(e,t)},l.EvpKDF)},2209:function(e,t,r){var n,i,o,a;e.exports=(a=r(8249),r(5109),i=(n=a).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},a.format.Hex)},8010:function(e,t,r){var n;e.exports=(n=r(8249),r(2153),r(9824),n.HmacSHA256)},9824:function(e,t,r){var n,i,o,a;e.exports=(n=r(8249),o=(i=n).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),s=i.words,c=o.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},1354:function(e,t,r){var n;e.exports=(n=r(8249),r(4938),r(4433),r(298),r(8269),r(3786),r(8214),r(2783),r(2153),r(7792),r(34),r(7460),r(3327),r(706),r(9824),r(2112),r(888),r(5109),r(8568),r(4242),r(9968),r(7660),r(1148),r(3615),r(2807),r(1077),r(6475),r(6991),r(2209),r(452),r(4253),r(1857),r(4454),r(3974),n)},4433:function(e,t,r){var n;e.exports=(n=r(8249),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=e[i]<<24-i%4*8;t.call(this,n,r)}else t.apply(this,arguments)};r.prototype=e}}(),n.lib.WordArray)},8214:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],g=e[t+4],m=e[t+5],b=e[t+6],y=e[t+7],v=e[t+8],w=e[t+9],_=e[t+10],S=e[t+11],E=e[t+12],k=e[t+13],A=e[t+14],x=e[t+15],I=o[0],O=o[1],P=o[2],T=o[3];I=u(I,O,P,T,a,7,s[0]),T=u(T,I,O,P,c,12,s[1]),P=u(P,T,I,O,h,17,s[2]),O=u(O,P,T,I,p,22,s[3]),I=u(I,O,P,T,g,7,s[4]),T=u(T,I,O,P,m,12,s[5]),P=u(P,T,I,O,b,17,s[6]),O=u(O,P,T,I,y,22,s[7]),I=u(I,O,P,T,v,7,s[8]),T=u(T,I,O,P,w,12,s[9]),P=u(P,T,I,O,_,17,s[10]),O=u(O,P,T,I,S,22,s[11]),I=u(I,O,P,T,E,7,s[12]),T=u(T,I,O,P,k,12,s[13]),P=u(P,T,I,O,A,17,s[14]),I=l(I,O=u(O,P,T,I,x,22,s[15]),P,T,c,5,s[16]),T=l(T,I,O,P,b,9,s[17]),P=l(P,T,I,O,S,14,s[18]),O=l(O,P,T,I,a,20,s[19]),I=l(I,O,P,T,m,5,s[20]),T=l(T,I,O,P,_,9,s[21]),P=l(P,T,I,O,x,14,s[22]),O=l(O,P,T,I,g,20,s[23]),I=l(I,O,P,T,w,5,s[24]),T=l(T,I,O,P,A,9,s[25]),P=l(P,T,I,O,p,14,s[26]),O=l(O,P,T,I,v,20,s[27]),I=l(I,O,P,T,k,5,s[28]),T=l(T,I,O,P,h,9,s[29]),P=l(P,T,I,O,y,14,s[30]),I=f(I,O=l(O,P,T,I,E,20,s[31]),P,T,m,4,s[32]),T=f(T,I,O,P,v,11,s[33]),P=f(P,T,I,O,S,16,s[34]),O=f(O,P,T,I,A,23,s[35]),I=f(I,O,P,T,c,4,s[36]),T=f(T,I,O,P,g,11,s[37]),P=f(P,T,I,O,y,16,s[38]),O=f(O,P,T,I,_,23,s[39]),I=f(I,O,P,T,k,4,s[40]),T=f(T,I,O,P,a,11,s[41]),P=f(P,T,I,O,p,16,s[42]),O=f(O,P,T,I,b,23,s[43]),I=f(I,O,P,T,w,4,s[44]),T=f(T,I,O,P,E,11,s[45]),P=f(P,T,I,O,x,16,s[46]),I=d(I,O=f(O,P,T,I,h,23,s[47]),P,T,a,6,s[48]),T=d(T,I,O,P,y,10,s[49]),P=d(P,T,I,O,A,15,s[50]),O=d(O,P,T,I,m,21,s[51]),I=d(I,O,P,T,E,6,s[52]),T=d(T,I,O,P,p,10,s[53]),P=d(P,T,I,O,_,15,s[54]),O=d(O,P,T,I,c,21,s[55]),I=d(I,O,P,T,v,6,s[56]),T=d(T,I,O,P,x,10,s[57]),P=d(P,T,I,O,b,15,s[58]),O=d(O,P,T,I,k,21,s[59]),I=d(I,O,P,T,g,6,s[60]),T=d(T,I,O,P,S,10,s[61]),P=d(P,T,I,O,h,15,s[62]),O=d(O,P,T,I,w,21,s[63]),o[0]=o[0]+I|0,o[1]=o[1]+O|0,o[2]=o[2]+P|0,o[3]=o[3]+T|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var o=e.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,r,n,i,o,a){var s=e+(t^r^n)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),n.MD5)},8568:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();function t(e,t,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var a=0;a<r;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i,n),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);t.call(this,e,r,i,n),this._prevBlock=o}}),e}(),n.mode.CFB)},9968:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}function r(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),r(a);var s=a.slice(0);n.encryptBlock(s,0);for(var c=0;c<i;c++)e[t+c]^=s[c]}});return e.Decryptor=i,e}(),n.mode.CTRGladman)},4242:function(e,t,r){var n,i,o;e.exports=(o=r(8249),r(5109),o.mode.CTR=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=a[s]}}),n.Decryptor=i,n),o.mode.CTR)},1148:function(e,t,r){var n,i;e.exports=(i=r(8249),r(5109),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),i.mode.ECB)},7660:function(e,t,r){var n,i,o;e.exports=(o=r(8249),r(5109),o.mode.OFB=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}}),n.Decryptor=i,n),o.mode.OFB)},3615:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Ansix923)},2807:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.Iso10126={pad:function(e,t){var r=4*t,i=r-e.sigBytes%r;e.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Iso10126)},1077:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971)},6991:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},6475:function(e,t,r){var n;e.exports=(n=r(8249),r(5109),n.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},n.pad.ZeroPadding)},2112:function(e,t,r){var n,i,o,a,s,c,u,l,f;e.exports=(f=r(8249),r(2783),r(9824),i=(n=f).lib,o=i.Base,a=i.WordArray,s=n.algo,c=s.SHA1,u=s.HMAC,l=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=u.create(r.hasher,e),i=a.create(),o=a.create([1]),s=i.words,c=o.words,l=r.keySize,f=r.iterations;s.length<l;){var d=n.update(t).finalize(o);n.reset();for(var h=d.words,p=h.length,g=d,m=1;m<f;m++){g=n.finalize(g),n.reset();for(var b=g.words,y=0;y<p;y++)h[y]^=b[y]}i.concat(d),c[0]++}return i.sigBytes=4*l,i}}),n.PBKDF2=function(e,t,r){return l.create(r).compute(e,t)},f.PBKDF2)},3974:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,i=[],o=[],a=[],s=r.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(n[0]^=u,n[1]^=f,n[2]^=l,n[3]^=d,n[4]^=u,n[5]^=f,n[6]^=l,n[7]^=d,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),n.RabbitLegacy)},4454:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,i=[],o=[],a=[],s=r.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(i[0]^=u,i[1]^=f,i[2]^=l,i[3]^=d,i[4]^=u,i[5]^=f,i[6]^=l,i[7]^=d,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),n.Rabbit)},1857:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,i=r.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var a=i%r,s=t[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var c=n[i];n[i]=n[o],n[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}e.RC4=t._createHelper(i);var a=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(a)}(),n.RC4)},706:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,h,w,_,S,E,k,A,x,I,O=this._hash.words,P=f.words,T=d.words,R=s.words,B=c.words,M=u.words,N=l.words;for(S=o=O[0],E=a=O[1],k=h=O[2],A=w=O[3],x=_=O[4],r=0;r<80;r+=1)I=o+e[t+R[r]]|0,I+=r<16?p(a,h,w)+P[0]:r<32?g(a,h,w)+P[1]:r<48?m(a,h,w)+P[2]:r<64?b(a,h,w)+P[3]:y(a,h,w)+P[4],I=(I=v(I|=0,M[r]))+_|0,o=_,_=w,w=v(h,10),h=a,a=I,I=S+e[t+B[r]]|0,I+=r<16?y(E,k,A)+T[0]:r<32?b(E,k,A)+T[1]:r<48?m(E,k,A)+T[2]:r<64?g(E,k,A)+T[3]:p(E,k,A)+T[4],I=(I=v(I|=0,N[r]))+x|0,S=x,x=A,A=v(k,10),k=E,E=I;I=O[1]+h+A|0,O[1]=O[2]+w+x|0,O[2]=O[3]+_+S|0,O[3]=O[4]+o+E|0,O[4]=O[0]+a+k|0,O[0]=I},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,r){return e^t^r}function g(e,t,r){return e&t|~e&r}function m(e,t,r){return(e|~t)^r}function b(e,t,r){return e&r|t&~r}function y(e,t,r){return e^(t|~r)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(h),t.HmacRIPEMD160=o._createHmacHelper(h)}(Math),n.RIPEMD160)},2783:function(e,t,r){var n,i,o,a,s,c,u,l;e.exports=(l=r(8249),i=(n=l).lib,o=i.WordArray,a=i.Hasher,s=n.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var f=(n<<5|n>>>27)+s+c[u];f+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u),l.SHA1)},7792:function(e,t,r){var n,i,o,a,s,c;e.exports=(c=r(8249),r(2153),i=(n=c).lib.WordArray,o=n.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),n.SHA224=a._createHelper(s),n.HmacSHA224=a._createHmacHelper(s),c.SHA224)},2153:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(s[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],d=r[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=u[h-2],b=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[h]=g+u[h-7]+b+u[h-16]}var y=n&i^n&o^i&o,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[h]+u[h];d=f,f=l,l=s,s=a+w|0,a=o,o=i,i=n,n=w+(v+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)},3327:function(e,t,r){var n;e.exports=(n=r(8249),r(4938),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.x64.Word,s=t.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,f=0,d=0;d<7;d++){if(1&i){var h=(1<<d)-1;h<32?f^=1<<h:s^=1<<h-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(O=r[i]).high^=a,O.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var h=0,p=0,g=0;g<5;g++)h^=(O=r[d+5*g]).high,p^=O.low;var m=f[d];m.high=h,m.low=p}for(d=0;d<5;d++){var b=f[(d+4)%5],y=f[(d+1)%5],v=y.high,w=y.low;for(h=b.high^(v<<1|w>>>31),p=b.low^(w<<1|v>>>31),g=0;g<5;g++)(O=r[d+5*g]).high^=h,O.low^=p}for(var _=1;_<25;_++){var S=(O=r[_]).high,E=O.low,k=c[_];k<32?(h=S<<k|E>>>32-k,p=E<<k|S>>>32-k):(h=E<<k-32|S>>>64-k,p=S<<k-32|E>>>64-k);var A=f[u[_]];A.high=h,A.low=p}var x=f[0],I=r[0];for(x.high=I.high,x.low=I.low,d=0;d<5;d++)for(g=0;g<5;g++){var O=r[_=d+5*g],P=f[_],T=f[(d+1)%5+5*g],R=f[(d+2)%5+5*g];O.high=P.high^~T.high&R.high,O.low=P.low^~T.low&R.low}O=r[0];var B=l[s];O.high^=B.high,O.low^=B.low}},_doFinalize:function(){var t=this._data,r=t.words,n=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var f=a[l],d=f.high,h=f.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(d)}return new i.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=o._createHelper(d),t.HmacSHA3=o._createHmacHelper(d)}(Math),n.SHA3)},7460:function(e,t,r){var n,i,o,a,s,c,u,l;e.exports=(l=r(8249),r(4938),r(34),i=(n=l).x64,o=i.Word,a=i.WordArray,s=n.algo,c=s.SHA512,u=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u),l.SHA384)},34:function(e,t,r){var n;e.exports=(n=r(8249),r(4938),function(){var e=n,t=e.lib.Hasher,r=e.x64,i=r.Word,o=r.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=s()}();var l=a.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],d=r[7],h=n.high,p=n.low,g=i.high,m=i.low,b=o.high,y=o.low,v=a.high,w=a.low,_=s.high,S=s.low,E=l.high,k=l.low,A=f.high,x=f.low,I=d.high,O=d.low,P=h,T=p,R=g,B=m,M=b,N=y,C=v,L=w,U=_,j=S,D=E,H=k,q=A,F=x,z=I,K=O,W=0;W<80;W++){var $,V,G=u[W];if(W<16)V=G.high=0|e[t+2*W],$=G.low=0|e[t+2*W+1];else{var Y=u[W-15],X=Y.high,J=Y.low,Z=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Q=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),ee=u[W-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=u[W-7],ae=oe.high,se=oe.low,ce=u[W-16],ue=ce.high,le=ce.low;V=(V=(V=Z+ae+(($=Q+se)>>>0<Q>>>0?1:0))+ne+(($+=ie)>>>0<ie>>>0?1:0))+ue+(($+=le)>>>0<le>>>0?1:0),G.high=V,G.low=$}var fe,de=U&D^~U&q,he=j&H^~j&F,pe=P&R^P&M^R&M,ge=T&B^T&N^B&N,me=(P>>>28|T<<4)^(P<<30|T>>>2)^(P<<25|T>>>7),be=(T>>>28|P<<4)^(T<<30|P>>>2)^(T<<25|P>>>7),ye=(U>>>14|j<<18)^(U>>>18|j<<14)^(U<<23|j>>>9),ve=(j>>>14|U<<18)^(j>>>18|U<<14)^(j<<23|U>>>9),we=c[W],_e=we.high,Se=we.low,Ee=z+ye+((fe=K+ve)>>>0<K>>>0?1:0),ke=be+ge;z=q,K=F,q=D,F=H,D=U,H=j,U=C+(Ee=(Ee=(Ee=Ee+de+((fe+=he)>>>0<he>>>0?1:0))+_e+((fe+=Se)>>>0<Se>>>0?1:0))+V+((fe+=$)>>>0<$>>>0?1:0))+((j=L+fe|0)>>>0<L>>>0?1:0)|0,C=M,L=N,M=R,N=B,R=P,B=T,P=Ee+(me+pe+(ke>>>0<be>>>0?1:0))+((T=fe+ke|0)>>>0<fe>>>0?1:0)|0}p=n.low=p+T,n.high=h+P+(p>>>0<T>>>0?1:0),m=i.low=m+B,i.high=g+R+(m>>>0<B>>>0?1:0),y=o.low=y+N,o.high=b+M+(y>>>0<N>>>0?1:0),w=a.low=w+L,a.high=v+C+(w>>>0<L>>>0?1:0),S=s.low=S+j,s.high=_+U+(S>>>0<j>>>0?1:0),k=l.low=k+H,l.high=E+D+(k>>>0<H>>>0?1:0),x=f.low=x+F,f.high=A+q+(x>>>0<F>>>0?1:0),O=d.low=O+K,d.high=I+z+(O>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),n.SHA512)},4253:function(e,t,r){var n;e.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib,r=t.WordArray,i=t.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=a[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(r=0;r<24;r++)u[r/6|0]|=t[(s[r]-1+l)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(s[r+24]-1+l)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&l[c])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=i._createHelper(f);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(r.create(t)),this._des2=f.createEncryptor(r.create(n)),this._des3=f.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),n.TripleDES)},4938:function(e,t,r){var n;e.exports=(n=r(8249),function(e){var t=n,r=t.lib,i=r.Base,o=r.WordArray,a=t.x64={};a.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:8*t.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),n)},7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",o="minute",a="hour",s="day",c="week",u="month",l="quarter",f="year",d="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},b=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:b,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+b(n,2,"0")+":"+b(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,u),o=r-i<0,a=t.clone().add(n+(o?-1:1),u);return+(-(n+(r-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:f,w:c,d:s,D:d,h:a,m:o,s:i,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",w={};w[v]=m;var _=function(e){return e instanceof A},S=function e(t,r,n){var i;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(i=o),r&&(w[o]=r,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;w[s]=t,i=s}return!n&&i&&(v=i),i||!n&&v},E=function(e,t){if(_(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new A(r)},k=y;k.l=S,k.i=_,k.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function m(e){this.$L=S(e.locale,null,!0),this.parse(e)}var b=m.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return k},b.isValid=function(){return!(this.$d.toString()===h)},b.isSame=function(e,t){var r=E(e);return this.startOf(t)<=r&&r<=this.endOf(t)},b.isAfter=function(e,t){return E(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<E(e)},b.$g=function(e,t,r){return k.u(e)?this[t]:this.set(r,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var r=this,n=!!k.u(t)||t,l=k.p(e),h=function(e,t){var i=k.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?i:i.endOf(s)},p=function(e,t){return k.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case f:return n?h(1,0):h(31,11);case u:return n?h(1,m):h(0,m+1);case c:var v=this.$locale().weekStart||0,w=(g<v?g+7:g)-v;return h(n?b-w:b+(6-w),m);case s:case d:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var r,c=k.p(e),l="set"+(this.$u?"UTC":""),h=(r={},r[s]=l+"Date",r[d]=l+"Date",r[u]=l+"Month",r[f]=l+"FullYear",r[a]=l+"Hours",r[o]=l+"Minutes",r[i]=l+"Seconds",r[n]=l+"Milliseconds",r)[c],p=c===s?this.$D+(t-this.$W):t;if(c===u||c===f){var g=this.clone().set(d,1);g.$d[h](p),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[k.p(e)]()},b.add=function(n,l){var d,h=this;n=Number(n);var p=k.p(l),g=function(e){var t=E(h);return k.w(t.date(t.date()+Math.round(e*n)),h)};if(p===u)return this.set(u,this.$M+n);if(p===f)return this.set(f,this.$y+n);if(p===s)return g(1);if(p===c)return g(7);var m=(d={},d[o]=t,d[a]=r,d[i]=e,d)[p]||1,b=this.$d.getTime()+n*m;return k.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),o=this.$H,a=this.$m,s=this.$M,c=r.weekdays,u=r.months,l=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].slice(0,o)},f=function(e){return k.s(o%12||12,e,"0")},d=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:k.s(s+1,2,"0"),MMM:l(r.monthsShort,s,u,3),MMMM:l(u,s),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,c,2),ddd:l(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:k.s(o,2,"0"),h:f(1),hh:f(2),a:d(o,a,!0),A:d(o,a,!1),m:String(a),mm:k.s(a,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:i};return n.replace(g,(function(e,t){return t||p[e]||i.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,d,h){var p,g=k.p(d),m=E(n),b=(m.utcOffset()-this.utcOffset())*t,y=this-m,v=k.m(this,m);return v=(p={},p[f]=v/12,p[u]=v,p[l]=v/3,p[c]=(y-b)/6048e5,p[s]=(y-b)/864e5,p[a]=y/r,p[o]=y/t,p[i]=y/e,p)[g]||y,h?v:k.a(v)},b.daysInMonth=function(){return this.endOf(u).$D},b.$locale=function(){return w[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=S(e,t,!0);return n&&(r.$L=n),r},b.clone=function(){return k.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},m}(),x=A.prototype;return E.prototype=x,[["$ms",n],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",f],["$D",d]].forEach((function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,A,E),e.$i=!0),E},E.locale=S,E.isDayjs=_,E.unix=function(e){return E(1e3*e)},E.en=w[v],E.Ls=w,E.p={},E}()},7763:function(e,t,r){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),n={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(e){return e+""}};return r.default.locale(n,null,!0),n}(r(7484))},5551:function(e,t,r){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),n={name:"it",weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+""}};return r.default.locale(n,null,!0),n}(r(7484))},7548:function(e,t,r){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),n={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return r.default.locale(n,null,!0),n}(r(7484))},1876:function(e,t,r){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),n={name:"sv",weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(e){var t=e%10;return"["+e+(1===t||2===t?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"}};return r.default.locale(n,null,!0),n}(r(7484))},3852:function(e,t,r){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),n={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(e,t){var r=100*e+t;return r<600?"":r<900?"":r<1100?"":r<1300?"":r<1800?"":""}};return r.default.locale(n,null,!0),n}(r(7484))},6121:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},6266:(e,t,r)=>{"use strict";var n=t;n.version=r(8597).i8,n.utils=r(953),n.rand=r(9931),n.curve=r(8254),n.curves=r(5427),n.ec=r(7954),n.eddsa=r(5980)},4918:(e,t,r)=>{"use strict";var n=r(3550),i=r(953),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var l=a+r.step-1;l>=a;l--)c=(c<<1)+n[l];u.push(c)}for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?d=d.mixedAdd(r.points[a]):c===-h&&(d=d.mixedAdd(r.points[a].neg()));f=f.add(d)}return f.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var l=0;u>=0&&0===a[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var f=a[u];s(0!==f),c="affine"===e.type?f>0?c.mixedAdd(i[f-1>>1]):c.mixedAdd(i[-f-1>>1].neg()):f>0?c.add(i[f-1>>1]):c.add(i[-f-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var s,c,u,l=this._wnafT1,f=this._wnafT2,d=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(u=t[s])._getNAFPoints(e);l[s]=p.wnd,f[s]=p.points}for(s=n-1;s>=1;s-=2){var g=s-1,m=s;if(1===l[g]&&1===l[m]){var b=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(b[1]=t[g].add(t[m]),b[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(b[1]=t[g].toJ().mixedAdd(t[m]),b[2]=t[g].add(t[m].neg())):(b[1]=t[g].toJ().mixedAdd(t[m]),b[2]=t[g].toJ().mixedAdd(t[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[g],r[m]);for(h=Math.max(v[0].length,h),d[g]=new Array(h),d[m]=new Array(h),c=0;c<h;c++){var w=0|v[0][c],_=0|v[1][c];d[g][c]=y[3*(w+1)+(_+1)],d[m][c]=0,f[g]=b}}else d[g]=o(r[g],l[g],this._bitLength),d[m]=o(r[m],l[m],this._bitLength),h=Math.max(d[g].length,h),h=Math.max(d[m].length,h)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(s=h;s>=0;s--){for(var k=0;s>=0;){var A=!0;for(c=0;c<n;c++)E[c]=0|d[c][s],0!==E[c]&&(A=!1);if(!A)break;k++,s--}if(s>=0&&k++,S=S.dblp(k),s<0)break;for(c=0;c<n;c++){var x=E[c];0!==x&&(x>0?u=f[c][x-1>>1]:x<0&&(u=f[c][-x-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(s=0;s<n;s++)f[s]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1138:(e,t,r)=>{"use strict";var n=r(953),i=r(3550),o=r(5717),a=r(4918),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(c,u,f,l)},u.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),l=s.redMul(c),f=o.redMul(c),d=a.redMul(s);return this.curve.point(u,l,d,f)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},8254:(e,t,r)=>{"use strict";var n=t;n.base=r(4918),n.short=r(6673),n.mont=r(2881),n.edwards=r(1138)},2881:(e,t,r)=>{"use strict";var n=r(3550),i=r(5717),o=r(4918),a=r(953);function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(e,t,r)=>{"use strict";var n=r(953),i=r(3550),o=r(5717),a=r(4918),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),b=new i(1),y=0;0!==d.cmpn(0);){var v=h.div(d);u=h.sub(v.mul(d)),l=m.sub(v.mul(p));var w=b.sub(v.mul(g));if(!n&&u.cmp(f)<0)t=c.neg(),r=p,n=u.neg(),o=l;else if(n&&2==++y)break;c=u,h=d,d=u,m=p,p=l,b=g,g=w}a=u.neg(),s=l;var _=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new l(this,e,t,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),f=n.redMul(u),d=c.redSqr().redIAdd(l).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=r.redMul(c),f=s.redSqr().redIAdd(u).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),f=u.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=o.redMul(f),g=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),b=h.redMul(m);b=b.redIAdd(b).redISub(d);var y=u.redMul(s);t+1<e&&(c=c.redMul(d)),o=g,s=y,u=b}return this.curve.jpoint(o,u.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},l.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,d,h)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},5427:(e,t,r)=>{"use strict";var n,i=t,o=r(3715),a=r(8254),s=r(953).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(1037)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7954:(e,t,r)=>{"use strict";var n=r(3550),i=r(2156),o=r(953),a=r(5427),s=r(9931),c=o.assert,u=r(1251),l=r(611);function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new u(this,e)},f.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new n(1)),d=0;;d++){var h=o.k?o.k(d):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(0!==m.cmpn(0)){var b=h.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==g.cmp(m)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),y^=1),new l({r:m,s:b,recoveryParam:y})}}}}}},f.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,r.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,a=new n(e),s=t.r,u=t.s,f=1&r,d=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),g=u.mul(h).umod(o);return this.g.mulAdd(p,s,g)},f.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new l(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},1251:(e,t,r)=>{"use strict";var n=r(3550),i=r(953).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},611:(e,t,r)=>{"use strict";var n=r(3550),i=r(953),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var l=c(e,r);if(!1===l)return!1;if(e.length!==l+r.place)return!1;var f=e.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new n(u),this.s=new n(f),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);var o=n.concat(r),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}},5980:(e,t,r)=>{"use strict";var n=r(3715),i=r(5427),o=r(953),a=o.assert,s=o.parseBytes,c=r(9087),u=r(3622);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},9087:(e,t,r)=>{"use strict";var n=r(953),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},3622:(e,t,r)=>{"use strict";var n=r(3550),i=r(953),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},1037:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},953:(e,t,r)=>{"use strict";var n=t,i=r(3550),o=r(9746),a=r(4504);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=0==(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(a),s=0==(1&u)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,a,u;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},6230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},3349:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=r(8473).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},3715:(e,t,r)=>{var n=t;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:(e,t,r)=>{"use strict";var n=r(6436),i=r(9746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},2344:(e,t,r)=>{"use strict";var n=r(6436),i=r(9746);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2949:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=n.rotl32,a=n.sum32,s=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],y=r,v=n,w=i,_=u,S=l,E=0;E<80;E++){var k=a(o(c(r,f(E,n,i,u),e[p[E]+t],d(E)),m[E]),l);r=l,l=u,u=o(i,10),i=n,n=k,k=a(o(c(y,f(79-E,v,w,_),e[g[E]+t],h(E)),b[E]),S),y=S,S=_,_=o(w,10),w=v,v=k}k=s(this.h[1],i,_),this.h[1]=s(this.h[2],u,S),this.h[2]=s(this.h[3],l,y),this.h[3]=s(this.h[4],r,v),this.h[4]=s(this.h[0],n,w),this.h[0]=k},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(e,t,r)=>{"use strict";t.sha1=r(4761),t.sha224=r(799),t.sha256=r(9344),t.sha384=r(772),t.sha512=r(5900)},4761:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=r(7038),a=n.rotl32,s=n.sum32,c=n.sum32_5,u=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=c(a(i,5),u(p,o,l,d),h,r[n],f[p]);h=d,d=l,l=a(o,30),o=i,i=g}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:(e,t,r)=>{"use strict";var n=r(6436),i=r(9344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=r(7038),a=r(9746),s=n.sum32,c=n.sum32_4,u=n.sum32_5,l=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,g=o.g1_256,m=i.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}n.inherits(y,m),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],b=this.h[3],y=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var S=u(_,h(y),l(y,v,w),this.k[n],r[n]),E=s(d(i),f(i,o,m));_=w,w=v,v=y,y=s(b,S),b=m,m=o,o=i,i=s(S,E)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],b),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:(e,t,r)=>{"use strict";var n=r(6436),i=r(5900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:(e,t,r)=>{"use strict";var n=r(6436),i=r(5772),o=r(9746),a=n.rotr64_hi,s=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,f=n.sum64_hi,d=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,b=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function k(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function O(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,b),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=T(r[n-4],r[n-3]),o=R(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=O(r[n-30],r[n-29]),u=P(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=h(i,o,a,s,c,u,l,f),r[n+1]=p(i,o,a,s,c,u,l,f)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],y=this.h[9],v=this.h[10],O=this.h[11],P=this.h[12],T=this.h[13],R=this.h[14],B=this.h[15];o(this.k.length===r.length);for(var M=0;M<r.length;M+=2){var N=R,C=B,L=x(b,y),U=I(b,y),j=w(b,y,v,O,P),D=_(b,y,v,O,P,T),H=this.k[M],q=this.k[M+1],F=r[M],z=r[M+1],K=g(N,C,L,U,j,D,H,q,F,z),W=m(N,C,L,U,j,D,H,q,F,z);N=k(n,i),C=A(n,i),L=S(n,i,a,s,c),U=E(n,i,a,s,c,u);var $=f(N,C,L,U),V=d(N,C,L,U);R=P,B=T,P=v,T=O,v=b,O=y,b=f(h,p,K,W),y=d(p,p,K,W),h=c,p=u,c=a,u=s,a=n,s=i,n=f(K,W,$,V),i=d(K,W,$,V)}l(this.h,0,n,i),l(this.h,2,a,s),l(this.h,4,c,u),l(this.h,6,h,p),l(this.h,8,b,y),l(this.h,10,v,O),l(this.h,12,P,T),l(this.h,14,R,B)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:(e,t,r)=>{"use strict";var n=r(6436).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function a(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?a(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},6436:(e,t,r)=>{"use strict";var n=r(9746),i=r(5717);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=a(i)),r+=c(i.toString(16))}return r},t.zero2=s,t.zero8=c,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var a=new Array(o/4),s=0,c=t;s<a.length;s++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[s]=u>>>0}return a},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,a,s){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,a,s,c,u){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+a+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,a,s,c,u){return t+n+o+s+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},2156:(e,t,r)=>{"use strict";var n=r(3715),i=r(4504),o=r(9746);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},645:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*g}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2378:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[o]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=f||d||Function("return this")(),p=t&&!t.nodeType&&t,g=p&&e&&!e.nodeType&&e,m=g&&g.exports===p,b=m&&f.process,y=function(){try{var e=g&&g.require&&g.require("util").types;return e||b&&b.binding&&b.binding("util")}catch(e){}}(),v=y&&y.isTypedArray;function w(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _,S,E,k=Array.prototype,A=Function.prototype,x=Object.prototype,I=h["__core-js_shared__"],O=A.toString,P=x.hasOwnProperty,T=(_=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",R=x.toString,B=O.call(Object),M=RegExp("^"+O.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=m?h.Buffer:void 0,C=h.Symbol,L=h.Uint8Array,U=N?N.allocUnsafe:void 0,j=(S=Object.getPrototypeOf,E=Object,function(e){return S(E(e))}),D=Object.create,H=x.propertyIsEnumerable,q=k.splice,F=C?C.toStringTag:void 0,z=function(){try{var e=ge(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),K=N?N.isBuffer:void 0,W=Math.max,$=Date.now,V=ge(h,"Map"),G=ge(Object,"create"),Y=function(){function e(){}return function(t){if(!Ie(t))return{};if(D)return D(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function X(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=this.__data__=new J(e);this.size=t.size}function ee(e,t){var r=Se(e),n=!r&&_e(e),i=!r&&!n&&ke(e),o=!r&&!n&&!i&&Pe(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!P.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||me(u,c))||s.push(u);return s}function te(e,t,r){(void 0!==r&&!we(e[t],r)||void 0===r&&!(t in e))&&ie(e,t,r)}function re(e,t,r){var n=e[t];P.call(e,t)&&we(n,r)&&(void 0!==r||t in e)||ie(e,t,r)}function ne(e,t){for(var r=e.length;r--;)if(we(e[r][0],t))return r;return-1}function ie(e,t,r){"__proto__"==t&&z?z(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}X.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},X.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X.prototype.get=function(e){var t=this.__data__;if(G){var r=t[e];return r===n?void 0:r}return P.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:P.call(t,e)},X.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=G&&void 0===t?n:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,r=ne(t,e);return!(r<0)&&(r==t.length-1?t.pop():q.call(t,r,1),--this.size,!0)},J.prototype.get=function(e){var t=this.__data__,r=ne(t,e);return r<0?void 0:t[r][1]},J.prototype.has=function(e){return ne(this.__data__,e)>-1},J.prototype.set=function(e,t){var r=this.__data__,n=ne(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(V||J),string:new X}},Z.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},Z.prototype.get=function(e){return pe(this,e).get(e)},Z.prototype.has=function(e){return pe(this,e).has(e)},Z.prototype.set=function(e,t){var r=pe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Q.prototype.clear=function(){this.__data__=new J,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var r=this.__data__;if(r instanceof J){var n=r.__data__;if(!V||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Z(n)}return r.set(e,t),this.size=r.size,this};var oe,ae=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[oe?a:++n];if(!1===t(i[s],s,i))break}return e};function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=P.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch(e){}var i=R.call(e);n&&(t?e[F]=r:delete e[F]);return i}(e):function(e){return R.call(e)}(e)}function ce(e){return Oe(e)&&se(e)==o}function ue(e){return!(!Ie(e)||function(e){return!!T&&T in e}(e))&&(Ae(e)?M:c).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function le(e){if(!Ie(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=be(e),r=[];for(var n in e)("constructor"!=n||!t&&P.call(e,n))&&r.push(n);return r}function fe(e,t,r,n,i){e!==t&&ae(t,(function(o,a){if(i||(i=new Q),Ie(o))!function(e,t,r,n,i,o,a){var c=ye(e,r),u=ye(t,r),l=a.get(u);if(l)return void te(e,r,l);var f=o?o(c,u,r+"",e,t,a):void 0,d=void 0===f;if(d){var h=Se(u),p=!h&&ke(u),g=!h&&!p&&Pe(u);f=u,h||p||g?Se(c)?f=c:Oe(w=c)&&Ee(w)?f=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(c):p?(d=!1,f=function(e,t){if(t)return e.slice();var r=e.length,n=U?U(r):new e.constructor(r);return e.copy(n),n}(u,!0)):g?(d=!1,m=u,b=!0?(y=m.buffer,v=new y.constructor(y.byteLength),new L(v).set(new L(y)),v):m.buffer,f=new m.constructor(b,m.byteOffset,m.length)):f=[]:function(e){if(!Oe(e)||se(e)!=s)return!1;var t=j(e);if(null===t)return!0;var r=P.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&O.call(r)==B}(u)||_e(u)?(f=c,_e(c)?f=function(e){return function(e,t,r,n){var i=!r;r||(r={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?ie(r,s,c):re(r,s,c)}return r}(e,Te(e))}(c):Ie(c)&&!Ae(c)||(f=function(e){return"function"!=typeof e.constructor||be(e)?{}:Y(j(e))}(u))):d=!1}var m,b,y,v;var w;d&&(a.set(u,f),i(f,u,n,o,a),a.delete(u));te(e,r,f)}(e,t,a,r,fe,n,i);else{var c=n?n(ye(e,a),o,a+"",e,t,i):void 0;void 0===c&&(c=o),te(e,a,c)}}),Te)}function de(e,t){return ve(function(e,t,r){return t=W(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=W(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),w(e,this,s)}}(e,t,Me),e+"")}var he=z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Me;function pe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ge(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(r)?r:void 0}function me(e,t){var r=typeof e;return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&u.test(e))&&e>-1&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ve=function(e){var t=0,r=0;return function(){var n=$(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(he);function we(e,t){return e===t||e!=e&&t!=t}var _e=ce(function(){return arguments}())?ce:function(e){return Oe(e)&&P.call(e,"callee")&&!H.call(e,"callee")},Se=Array.isArray;function Ee(e){return null!=e&&xe(e.length)&&!Ae(e)}var ke=K||function(){return!1};function Ae(e){if(!Ie(e))return!1;var t=se(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ie(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var Pe=v?function(e){return function(t){return e(t)}}(v):function(e){return Oe(e)&&xe(e.length)&&!!l[se(e)]};function Te(e){return Ee(e)?ee(e,!0):le(e)}var Re,Be=(Re=function(e,t,r){fe(e,t,r)},de((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=Re.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!Ie(r))return!1;var n=typeof t;return!!("number"==n?Ee(r)&&me(t,r.length):"string"==n&&t in r)&&we(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&Re(e,a,r,i)}return e})));function Me(e){return e}e.exports=Be},5030:(e,t,r)=>{var n=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")();function f(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function d(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var h=Object.prototype,p=h.hasOwnProperty,g=h.toString,m=l.Symbol,b=h.propertyIsEnumerable,y=m?m.isConcatSpreadable:void 0,v=Math.max;function w(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=_),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?w(s,t-1,r,n,i):d(i,s):n||(i[i.length]=s)}return i}function _(e){return E(e)||function(e){return function(e){return k(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?g.call(e):"";return t==o||t==a}(e)}(e)}(e)&&p.call(e,"callee")&&(!b.call(e,"callee")||g.call(e)==i)}(e)||!!(y&&e&&e[y])}function S(e){if("string"==typeof e||function(e){return"symbol"==typeof e||k(e)&&g.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var E=Array.isArray;function k(e){return!!e&&"object"==typeof e}var A,x,I=(A=function(e,t){return null==e?{}:function(e,t){return function(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=e[a];r(s,a)&&(o[a]=s)}return o}(e=Object(e),t,(function(t,r){return r in e}))}(e,function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(w(t,1),S))},x=v(void 0===x?A.length-1:x,0),function(){for(var e=arguments,t=-1,r=v(e.length-x,0),n=Array(r);++t<r;)n[t]=e[x+t];t=-1;for(var i=Array(x+1);++t<x;)i[t]=e[t];return i[x]=n,f(A,this,i)});e.exports=I},8552:(e,t,r)=>{var n=r(852)(r(5639),"DataView");e.exports=n},1989:(e,t,r)=>{var n=r(1789),i=r(401),o=r(7667),a=r(1327),s=r(1866);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},8407:(e,t,r)=>{var n=r(7040),i=r(4125),o=r(2117),a=r(7518),s=r(4705);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},7071:(e,t,r)=>{var n=r(852)(r(5639),"Map");e.exports=n},3369:(e,t,r)=>{var n=r(4785),i=r(1285),o=r(6e3),a=r(9916),s=r(5265);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},3818:(e,t,r)=>{var n=r(852)(r(5639),"Promise");e.exports=n},8525:(e,t,r)=>{var n=r(852)(r(5639),"Set");e.exports=n},6384:(e,t,r)=>{var n=r(8407),i=r(7465),o=r(3779),a=r(7599),s=r(4758),c=r(4309);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},1149:(e,t,r)=>{var n=r(5639).Uint8Array;e.exports=n},577:(e,t,r)=>{var n=r(852)(r(5639),"WeakMap");e.exports=n},7412:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},4963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},4636:(e,t,r)=>{var n=r(2545),i=r(5694),o=r(1469),a=r(4144),s=r(5776),c=r(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&i(e),f=!r&&!l&&a(e),d=!r&&!l&&!f&&c(e),h=r||l||f||d,p=h?n(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},2488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},4865:(e,t,r)=>{var n=r(9465),i=r(7813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},8470:(e,t,r)=>{var n=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},4037:(e,t,r)=>{var n=r(8363),i=r(3674);e.exports=function(e,t){return e&&n(t,i(t),e)}},3886:(e,t,r)=>{var n=r(8363),i=r(1704);e.exports=function(e,t){return e&&n(t,i(t),e)}},9465:(e,t,r)=>{var n=r(8777);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},5990:(e,t,r)=>{var n=r(6384),i=r(7412),o=r(4865),a=r(4037),s=r(3886),c=r(4626),u=r(278),l=r(5341),f=r(1911),d=r(8234),h=r(6904),p=r(4160),g=r(3824),m=r(9148),b=r(8517),y=r(1469),v=r(4144),w=r(6688),_=r(3218),S=r(2928),E=r(3674),k=r(1704),A="[object Arguments]",x="[object Function]",I="[object Object]",O={};O[A]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[I]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[x]=O["[object WeakMap]"]=!1,e.exports=function e(t,r,P,T,R,B){var M,N=1&r,C=2&r,L=4&r;if(P&&(M=R?P(t,T,R,B):P(t)),void 0!==M)return M;if(!_(t))return t;var U=y(t);if(U){if(M=g(t),!N)return u(t,M)}else{var j=p(t),D=j==x||"[object GeneratorFunction]"==j;if(v(t))return c(t,N);if(j==I||j==A||D&&!R){if(M=C||D?{}:b(t),!N)return C?f(t,s(M,t)):l(t,a(M,t))}else{if(!O[j])return R?t:{};M=m(t,j,N)}}B||(B=new n);var H=B.get(t);if(H)return H;B.set(t,M),S(t)?t.forEach((function(n){M.add(e(n,r,P,n,t,B))})):w(t)&&t.forEach((function(n,i){M.set(i,e(n,r,P,i,t,B))}));var q=U?void 0:(L?C?h:d:C?k:E)(t);return i(q||t,(function(n,i){q&&(n=t[i=n]),o(M,i,e(n,r,P,i,t,B))})),M}},3118:(e,t,r)=>{var n=r(3218),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},8866:(e,t,r)=>{var n=r(2488),i=r(1469);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},4239:(e,t,r)=>{var n=r(2705),i=r(9607),o=r(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},9454:(e,t,r)=>{var n=r(4239),i=r(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},5588:(e,t,r)=>{var n=r(4160),i=r(7005);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},8458:(e,t,r)=>{var n=r(3560),i=r(5346),o=r(3218),a=r(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?d:s).test(a(e))}},9221:(e,t,r)=>{var n=r(4160),i=r(7005);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},8749:(e,t,r)=>{var n=r(4239),i=r(1780),o=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},280:(e,t,r)=>{var n=r(5726),i=r(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},313:(e,t,r)=>{var n=r(3218),i=r(5726),o=r(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4318:(e,t,r)=>{var n=r(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},4626:(e,t,r)=>{e=r.nmd(e);var n=r(5639),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},7157:(e,t,r)=>{var n=r(4318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},419:(e,t,r)=>{var n=r(2705),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},7133:(e,t,r)=>{var n=r(4318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},8363:(e,t,r)=>{var n=r(4865),i=r(9465);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),a?i(r,u,l):n(r,u,l)}return r}},5341:(e,t,r)=>{var n=r(8363),i=r(9551);e.exports=function(e,t){return n(e,i(e),t)}},1911:(e,t,r)=>{var n=r(8363),i=r(1442);e.exports=function(e,t){return n(e,i(e),t)}},4429:(e,t,r)=>{var n=r(5639)["__core-js_shared__"];e.exports=n},8777:(e,t,r)=>{var n=r(852),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},1957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8234:(e,t,r)=>{var n=r(8866),i=r(9551),o=r(3674);e.exports=function(e){return n(e,o,i)}},6904:(e,t,r)=>{var n=r(8866),i=r(1442),o=r(1704);e.exports=function(e){return n(e,o,i)}},5050:(e,t,r)=>{var n=r(7019);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},852:(e,t,r)=>{var n=r(8458),i=r(7801);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},5924:(e,t,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);e.exports=n},9607:(e,t,r)=>{var n=r(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},9551:(e,t,r)=>{var n=r(4963),i=r(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},1442:(e,t,r)=>{var n=r(2488),i=r(5924),o=r(9551),a=r(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},4160:(e,t,r)=>{var n=r(8552),i=r(7071),o=r(3818),a=r(8525),s=r(577),c=r(4239),u=r(346),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",g=u(n),m=u(i),b=u(o),y=u(a),v=u(s),w=c;(n&&w(new n(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=h)&&(w=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case g:return p;case m:return l;case b:return f;case y:return d;case v:return h}return t}),e.exports=w},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,r)=>{var n=r(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var n=r(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},1866:(e,t,r)=>{var n=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},9148:(e,t,r)=>{var n=r(4318),i=r(7157),o=r(3147),a=r(419),s=r(7133);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},8517:(e,t,r)=>{var n=r(3118),i=r(5924),o=r(5726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,r)=>{var n,i=r(4429),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var n=r(8470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},2117:(e,t,r)=>{var n=r(8470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var n=r(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,r)=>{var n=r(8470);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},4785:(e,t,r)=>{var n=r(1989),i=r(8407),o=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},1285:(e,t,r)=>{var n=r(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,r)=>{var n=r(5050);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},4536:(e,t,r)=>{var n=r(852)(Object,"create");e.exports=n},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5639:(e,t,r)=>{var n=r(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},7465:(e,t,r)=>{var n=r(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var n=r(8407),i=r(7071),o=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(e,t),this.size=r.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},361:(e,t,r)=>{var n=r(5990);e.exports=function(e){return n(e,5)}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,r)=>{var n=r(9454),i=r(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),i=r(1780);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),i=r(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},3560:(e,t,r)=>{var n=r(4239),i=r(3218);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,r)=>{var n=r(5588),i=r(1717),o=r(1167),a=o&&o.isMap,s=a?i(a):n;e.exports=s},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2928:(e,t,r)=>{var n=r(9221),i=r(1717),o=r(1167),a=o&&o.isSet,s=a?i(a):n;e.exports=s},6719:(e,t,r)=>{var n=r(8749),i=r(1717),o=r(1167),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},3674:(e,t,r)=>{var n=r(4636),i=r(280),o=r(8612);e.exports=function(e){return o(e)?n(e):i(e)}},1704:(e,t,r)=>{var n=r(4636),i=r(313),o=r(8612);e.exports=function(e){return o(e)?n(e,!0):i(e)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2318:(e,t,r)=>{"use strict";var n=r(5717),i=r(3349),o=r(9509).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,o,a){return c(e+(t&r|~t&n)+i+o|0,a)+t|0}function l(e,t,r,n,i,o,a){return c(e+(t&n|r&~n)+i+o|0,a)+t|0}function f(e,t,r,n,i,o,a){return c(e+(t^r^n)+i+o|0,a)+t|0}function d(e,t,r,n,i,o,a){return c(e+(r^(t|~n))+i+o|0,a)+t|0}n(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=u(r,n,i,o,e[0],3614090360,7),o=u(o,r,n,i,e[1],3905402710,12),i=u(i,o,r,n,e[2],606105819,17),n=u(n,i,o,r,e[3],3250441966,22),r=u(r,n,i,o,e[4],4118548399,7),o=u(o,r,n,i,e[5],1200080426,12),i=u(i,o,r,n,e[6],2821735955,17),n=u(n,i,o,r,e[7],4249261313,22),r=u(r,n,i,o,e[8],1770035416,7),o=u(o,r,n,i,e[9],2336552879,12),i=u(i,o,r,n,e[10],4294925233,17),n=u(n,i,o,r,e[11],2304563134,22),r=u(r,n,i,o,e[12],1804603682,7),o=u(o,r,n,i,e[13],4254626195,12),i=u(i,o,r,n,e[14],2792965006,17),r=l(r,n=u(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=l(o,r,n,i,e[6],3225465664,9),i=l(i,o,r,n,e[11],643717713,14),n=l(n,i,o,r,e[0],3921069994,20),r=l(r,n,i,o,e[5],3593408605,5),o=l(o,r,n,i,e[10],38016083,9),i=l(i,o,r,n,e[15],3634488961,14),n=l(n,i,o,r,e[4],3889429448,20),r=l(r,n,i,o,e[9],568446438,5),o=l(o,r,n,i,e[14],3275163606,9),i=l(i,o,r,n,e[3],4107603335,14),n=l(n,i,o,r,e[8],1163531501,20),r=l(r,n,i,o,e[13],2850285829,5),o=l(o,r,n,i,e[2],4243563512,9),i=l(i,o,r,n,e[7],1735328473,14),r=f(r,n=l(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=f(o,r,n,i,e[8],2272392833,11),i=f(i,o,r,n,e[11],1839030562,16),n=f(n,i,o,r,e[14],4259657740,23),r=f(r,n,i,o,e[1],2763975236,4),o=f(o,r,n,i,e[4],1272893353,11),i=f(i,o,r,n,e[7],4139469664,16),n=f(n,i,o,r,e[10],3200236656,23),r=f(r,n,i,o,e[13],681279174,4),o=f(o,r,n,i,e[0],3936430074,11),i=f(i,o,r,n,e[3],3572445317,16),n=f(n,i,o,r,e[6],76029189,23),r=f(r,n,i,o,e[9],3654602809,4),o=f(o,r,n,i,e[12],3873151461,11),i=f(i,o,r,n,e[15],530742520,16),r=d(r,n=f(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=d(o,r,n,i,e[7],1126891415,10),i=d(i,o,r,n,e[14],2878612391,15),n=d(n,i,o,r,e[5],4237533241,21),r=d(r,n,i,o,e[12],1700485571,6),o=d(o,r,n,i,e[3],2399980690,10),i=d(i,o,r,n,e[10],4293915773,15),n=d(n,i,o,r,e[1],2240044497,21),r=d(r,n,i,o,e[8],1873313359,6),o=d(o,r,n,i,e[15],4264355552,10),i=d(i,o,r,n,e[6],2734768916,15),n=d(n,i,o,r,e[13],1309151649,21),r=d(r,n,i,o,e[4],4149444226,6),o=d(o,r,n,i,e[11],3174756917,10),i=d(i,o,r,n,e[2],718787259,15),n=d(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},9746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},4504:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},4155:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],u=!1,l=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||u||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},1798:function(e,t,r){e=r.nmd(e),function(r,n){"use strict";var i={};r.PubSub?(i=r.PubSub,console.warn("PubSub already loaded, using existing version")):(r.PubSub=i,function(e){var t={},r=-1,n="*";function i(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e){return function(){throw e}}function a(e,t,r){try{e(t,r)}catch(e){setTimeout(o(e),0)}}function s(e,t,r){e(t,r)}function c(e,r,n,i){var o,c=t[r],u=i?s:a;if(Object.prototype.hasOwnProperty.call(t,r))for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&u(c[o],e,n)}function u(e,t,r){return function(){var i=String(e),o=i.lastIndexOf(".");for(c(e,e,t,r);-1!==o;)o=(i=i.substr(0,o)).lastIndexOf("."),c(e,i,t,r);c(e,n,t,r)}}function l(e){var r=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,r)&&i(t[r]))}function f(e){for(var t=String(e),r=l(t)||l(n),i=t.lastIndexOf(".");!r&&-1!==i;)i=(t=t.substr(0,i)).lastIndexOf("."),r=l(t);return r}function d(e,t,r,n){var i=u(e="symbol"==typeof e?e.toString():e,t,n);return!!f(e)&&(!0===r?i():setTimeout(i,0),!0)}e.publish=function(t,r){return d(t,r,!1,e.immediateExceptions)},e.publishSync=function(t,r){return d(t,r,!0,e.immediateExceptions)},e.subscribe=function(e,n){if("function"!=typeof n)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var i="uid_"+String(++r);return t[e][i]=n,i},e.subscribeAll=function(t){return e.subscribe(n,t)},e.subscribeOnce=function(t,r){var n=e.subscribe(t,(function(){e.unsubscribe(n),r.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)&&delete t[r]},e.countSubscriptions=function(e){var r,n,i=0;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)){for(n in t[r])i++;break}return i},e.getSubscriptions=function(e){var r,n=[];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)&&n.push(r);return n},e.unsubscribe=function(r){var n,i,o,a=function(e){var r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e))return!0;return!1},s="string"==typeof r&&(Object.prototype.hasOwnProperty.call(t,r)||a(r)),c=!s&&"string"==typeof r,u="function"==typeof r,l=!1;if(!s){for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(i=t[n],c&&i[r]){delete i[r],l=r;break}if(u)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&i[o]===r&&(delete i[o],l=!0)}return l}e.clearSubscriptions(r)}}(i)),void 0!==e&&e.exports&&(t=e.exports=i),t.PubSub=i,e.exports=t=i}("object"==typeof window&&window||this)},2408:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var w=v.prototype=new y;w.constructor=v,g(w,b.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:E.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var I=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return a=a(c=e),e=""===o?"."+O(c,0):o,_(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",_(e))for(var u=0;u<e.length;u++){var l=o+O(s=e[u],u);c+=P(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=P(s=s.value,t,i,l=o+O(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function T(e,t,r){if(null==e)return e;var n=[],i=0;return P(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},M={transition:null};t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.useDebugValue=function(){},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useReducer=function(e,t,r){return B.current.useReducer(e,t,r)},t.useRef=function(e){return B.current.useRef(e)}},7294:(e,t,r)=>{"use strict";e.exports=r(2408)},4281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s;if("string"==typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return s+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,r)=>{"use strict";var n=r(4155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(9481),a=r(4229);r(5717)(l,o);for(var s=i(a.prototype),c=0;c<s.length;c++){var u=s[c];l.prototype[u]||(l.prototype[u]=a.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:(e,t,r)=>{"use strict";e.exports=i;var n=r(4605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var n,i=r(4155);e.exports=A,A.ReadableState=k;r(7187).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=r(2503),s=r(8764).Buffer,c=r.g.Uint8Array||function(){};var u,l=r(4616);u=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=r(7327),g=r(1195),m=r(2457).getHighWaterMark,b=r(4281).q,y=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,_=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(A,a);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(e,t,i){n=n||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(2553).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function A(e){if(n=n||r(6753),!(this instanceof A))return new A(e);var t=this instanceof n;this._readableState=new k(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(e,t,r,n,i){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,a);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)a.endEmitted?S(e,new _):I(e,a,t,!0);else if(a.ended)S(e,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?I(e,a,t,!1):B(e,a)):I(e,a,t,!1)}else n||(a.reading=!1,B(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),B(e,t)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),A.prototype.destroy=g.destroy,A.prototype._undestroy=g.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},A.prototype.unshift=function(e){return x(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(e){f||(f=r(2553).s);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(R,e))}function R(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function B(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(M,e,t))}function M(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(H,t,e))}function H(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}A.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):T(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},A.prototype._read=function(e){S(this,new w("_read()"))},A.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,u("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:m;function s(t,i){u("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",d),f=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",l);var f=!1;function d(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==q(n.pipes,e))&&!f&&(u("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){u("onerror",t),m(),e.removeListener("error",h),0===o(e,"error")&&S(e,t)}function p(){e.removeListener("finish",g),m()}function g(){u("onfinish"),e.removeListener("close",p),m()}function m(){u("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",g),e.emit("pipe",r),n.flowing||(u("pipe resume"),r.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=q(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},A.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,u("on readable",n.length,n.reading),n.length?T(this):n.reading||i.nextTick(C,this))),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(N,this),r},A.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(N,this),t},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),e.paused=!1,this},A.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(5850)),d(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),A._fromList=j,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(e,t){return void 0===h&&(h=r(5167)),h(A,e,t)})},4605:(e,t,r)=>{"use strict";e.exports=l;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(6753);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(5717)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,r)=>{"use strict";var n,i=r(4155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=A,A.WritableState=k;var a={deprecate:r(4927)},s=r(2503),c=r(8764).Buffer,u=r.g.Uint8Array||function(){};var l,f=r(1195),d=r(2457).getHighWaterMark,h=r(4281).q,p=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,y=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,_=h.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function k(e,t,a){n=n||r(6753),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(R,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),R(e,t))}(e,r,n,t,o);else{var a=P(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),n?i.nextTick(I,e,r,a,o):I(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function A(e){var t=this instanceof(n=n||r(6753));if(!t&&!l.call(A,this))return new A(e);this._writableState=new k(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function x(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function I(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,x(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(x(e,t,!1,t.objectMode?1:u.length,u,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(A,s),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===A&&(e&&e._writableState instanceof k)}})):l=function(e){return e instanceof this},A.prototype.pipe=function(){S(this,new b)},A.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new v:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},A.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(e,t,r){r(new g("_write()"))},A.prototype._writev=null,A.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),A.prototype.destroy=f.destroy,A.prototype._undestroy=f.undestroy,A.prototype._destroy=function(e,t){t(e)}},5850:(e,t,r)=>{"use strict";var n,i=r(4155);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(8610),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[s]=null,e[c]=null,t(p(r,!1)))}}function m(e){i.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(y,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[c]=null,e(p(n,!1))):(r[s]=e,r[c]=t)},writable:!0}),t));return r[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[f]=null,r[s]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[c]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",m.bind(null,r)),r}},7327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8764).Buffer,s=r(2361).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),u&&o(t,u),e}()},1195:(e,t,r)=>{"use strict";var n=r(4155);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,r)=>{"use strict";var n;var i=r(4281).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(u),o||(a.forEach(u),i(n))}))}));return t.reduce(l)}},2457:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},2503:(e,t,r)=>{e.exports=r(7187).EventEmitter},8473:(e,t,r)=>{(t=e.exports=r(9481)).Stream=t,t.Readable=t,t.Writable=r(4229),t.Duplex=r(6753),t.Transform=r(4605),t.PassThrough=r(2725),t.finished=r(8610),t.pipeline=r(9946)},9785:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=r(5717),o=r(3349),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function g(e,t,r,n,i,o,a,s){return p(e+(t^r^n)+o+a|0,s)+i|0}function m(e,t,r,n,i,o,a,s){return p(e+(t&r|~t&n)+o+a|0,s)+i|0}function b(e,t,r,n,i,o,a,s){return p(e+((t|~r)^n)+o+a|0,s)+i|0}function y(e,t,r,n,i,o,a,s){return p(e+(t&n|r&~n)+o+a|0,s)+i|0}function v(e,t,r,n,i,o,a,s){return p(e+(t^(r|~n))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,w=0|this._a,_=0|this._b,S=0|this._c,E=0|this._d,k=0|this._e,A=0;A<80;A+=1){var x,I;A<16?(x=g(r,n,i,o,h,e[s[A]],f[0],u[A]),I=v(w,_,S,E,k,e[c[A]],d[0],l[A])):A<32?(x=m(r,n,i,o,h,e[s[A]],f[1],u[A]),I=y(w,_,S,E,k,e[c[A]],d[1],l[A])):A<48?(x=b(r,n,i,o,h,e[s[A]],f[2],u[A]),I=b(w,_,S,E,k,e[c[A]],d[2],l[A])):A<64?(x=y(r,n,i,o,h,e[s[A]],f[3],u[A]),I=m(w,_,S,E,k,e[c[A]],d[3],l[A])):(x=v(r,n,i,o,h,e[s[A]],f[4],u[A]),I=g(w,_,S,E,k,e[c[A]],d[4],l[A])),r=h,h=o,o=p(i,10),i=n,n=x,w=k,k=E,E=p(S,10),S=_,_=I}var O=this._b+i+E|0;this._b=this._c+o+k|0,this._c=this._d+h+w|0,this._d=this._e+r+_|0,this._e=this._a+n+S|0,this._a=O},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},9509:(e,t,r)=>{var n=r(8764),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},7221:(e,t,r)=>{e.exports=r(9119)(r(8573))},8573:(e,t,r)=>{const n=new(0,r(6266).ec)("secp256k1"),i=n.curve,o=i.n.constructor;function a(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new o(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let a=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==a.isOdd()&&(a=a.redNeg()),n.keyPair({pub:{x:r,y:a}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let a=new o(t),s=new o(r);if(a.cmp(i.p)>=0||s.cmp(i.p)>=0)return null;if(a=a.toRed(i.red),s=s.toRed(i.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;const c=a.redSqr().redIMul(a);return s.redSqr().redISub(c.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:a,y:s}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new o(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new o(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new o(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new o(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new o(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===a(e)?1:0,publicKeyCreate(e,t){const r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;return s(e,n.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=a(t);if(null===r)return 1;return s(e,r.getPublic()),0},publicKeyNegate(e,t){const r=a(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),s(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=a(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(s(e,n),0)},publicKeyTweakAdd(e,t,r){const n=a(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0)return 2;const c=n.getPublic().add(i.g.mul(r));return c.isInfinity()?2:(s(e,c),0)},publicKeyTweakMul(e,t,r){const n=a(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0||r.isZero())return 2;return s(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new o(e.subarray(0,32)),r=new o(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new o(r).cmp(i.n)>=0)return 1;if(new o(n).cmp(i.n)>=0)return 1;const{output:a}=e;let s=a.subarray(4,37);s[0]=0,s.set(r,1);let c=33,u=0;for(;c>1&&0===s[u]&&!(128&s[u+1]);--c,++u);if(s=s.subarray(u),128&s[0])return 1;if(c>1&&0===s[0]&&!(128&s[1]))return 1;let l=a.subarray(39,72);l[0]=0,l.set(n,1);let f=33,d=0;for(;f>1&&0===l[d]&&!(128&l[d+1]);--f,++d);return l=l.subarray(d),128&l[0]||f>1&&0===l[0]&&!(128&l[1])?1:(e.outputlen=6+c+f,a[0]=48,a[1]=e.outputlen-2,a[2]=2,a[3]=s.length,a.set(s,4),a[4+c]=2,a[5+c]=l.length,a.set(l,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let a=t.subarray(4,4+r);if(33===a.length&&0===a[0]&&(a=a.subarray(1)),a.length>32)return 1;let s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let c=new o(a);c.cmp(i.n)>=0&&(c=new o(0));let u=new o(t.subarray(6+r));return u.cmp(i.n)>=0&&(u=new o(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,a,s){if(s){const e=s;s=n=>{const i=e(t,r,null,a,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new o(i)}}const c=new o(r);if(c.cmp(i.n)>=0||c.isZero())return 1;let u;try{u=n.sign(t,r,{canonical:!0,k:s,pers:a})}catch(e){return 1}return e.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),e.recid=u.recoveryParam,0},ecdsaVerify(e,t,r){const s={r:e.subarray(0,32),s:e.subarray(32,64)},c=new o(s.r),u=new o(s.s);if(c.cmp(i.n)>=0||u.cmp(i.n)>=0)return 1;if(1===u.cmp(n.nh)||c.isZero()||u.isZero())return 3;const l=a(r);if(null===l)return 2;const f=l.getPublic();return n.verify(t,s,f)?0:3},ecdsaRecover(e,t,r,a){const c={r:t.slice(0,32),s:t.slice(32,64)},u=new o(c.r),l=new o(c.s);if(u.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(u.isZero()||l.isZero())return 2;let f;try{f=n.recoverPubKey(a,c,r)}catch(e){return 2}return s(e,f),0},ecdh(e,t,r,s,c,u,l){const f=a(t);if(null===f)return 1;const d=new o(r);if(d.cmp(i.n)>=0||d.isZero())return 2;const h=f.getPublic().mul(d);if(void 0===c){const t=h.encode(null,!0),r=n.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{u||(u=new Uint8Array(32));const t=h.getX().toArray("be",32);for(let e=0;e<32;++e)u[e]=t[e];l||(l=new Uint8Array(32));const r=h.getY().toArray("be",32);for(let e=0;e<32;++e)l[e]=r[e];const n=c(u,l,s);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},9119:e=>{const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Unknow error on context randomization",o="Private Key is invalid",a="Public Key could not be parsed",s="Public Key serialization error",c="The sum of the public keys is not valid",u="Signature could not be parsed",l="The nonce generation function failed, or the private key was invalid",f="Public key could not be recover",d="Scalar was invalid (zero or overflow)";function h(e,t){if(!e)throw new Error(t)}function p(e,t,r){if(h(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;h(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;h(t.length===r,n)}}function g(e){h("Boolean"===b(e),"Expected compressed to be a Boolean")}function m(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),p("output",e,t),e}function b(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(h(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&p("seed",t,32),1===e.contextRandomize(t))throw new Error(i)},privateKeyVerify:t=>(p("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(p("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(p("private key",t,32),p("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(p("private key",t,32),p("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify:t=>(p("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(p("private key",t,32),g(r),n=m(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(s)}},publicKeyConvert(t,r=!0,n){switch(p("public key",t,[33,65]),g(r),n=m(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(a);case 2:throw new Error(s)}},publicKeyNegate(r,n=!0,i){switch(p("public key",r,[33,65]),g(n),i=m(i,n?33:65),e.publicKeyNegate(i,r)){case 0:return i;case 1:throw new Error(a);case 2:throw new Error(t);case 3:throw new Error(s)}},publicKeyCombine(t,r=!0,n){h(Array.isArray(t),"Expected public keys to be an Array"),h(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)p("public key",e,[33,65]);switch(g(r),n=m(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(a);case 2:throw new Error(c);case 3:throw new Error(s)}},publicKeyTweakAdd(t,n,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",n,32),g(i),o=m(o,i?33:65),e.publicKeyTweakAdd(o,t,n)){case 0:return o;case 1:throw new Error(a);case 2:throw new Error(r)}},publicKeyTweakMul(t,r,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",r,32),g(i),o=m(o,i?33:65),e.publicKeyTweakMul(o,t,r)){case 0:return o;case 1:throw new Error(a);case 2:throw new Error(n)}},signatureNormalize(t){switch(p("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(u)}},signatureExport(r,n){p("signature",r,64);const i={output:n=m(n,72),outputlen:72};switch(e.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(u);case 2:throw new Error(t)}},signatureImport(r,n){switch(p("signature",r),n=m(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(u);case 2:throw new Error(t)}},ecdsaSign(r,n,i={},o){p("message",r,32),p("private key",n,32),h("Object"===b(i),"Expected options to be an Object"),void 0!==i.data&&p("options.data",i.data),void 0!==i.noncefn&&h("Function"===b(i.noncefn),"Expected options.noncefn to be a Function");const a={signature:o=m(o,64),recid:null};switch(e.ecdsaSign(a,r,n,i.data,i.noncefn)){case 0:return a;case 1:throw new Error(l);case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(p("signature",t,64),p("message",r,32),p("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(u);case 2:throw new Error(a)}},ecdsaRecover(r,n,i,o=!0,a){switch(p("signature",r,64),h("Number"===b(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),p("message",i,32),g(o),a=m(a,o?33:65),e.ecdsaRecover(a,r,n,i)){case 0:return a;case 1:throw new Error(u);case 2:throw new Error(f);case 3:throw new Error(t)}},ecdh(t,r,n={},i){switch(p("public key",t,[33,65]),p("private key",r,32),h("Object"===b(n),"Expected options to be an Object"),void 0!==n.data&&p("options.data",n.data),void 0!==n.hashfn?(h("Function"===b(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&p("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&p("options.ybuf",n.ybuf,32),p("output",i)):i=m(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(a);case 2:throw new Error(d)}}})},4189:(e,t,r)=>{var n=r(9509).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%i,u=Math.min(o-s,i-c),l=0;l<u;l++)r[c+l]=e[s+l];s+=u,(a+=u)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},9072:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(4448),n.sha1=r(8336),n.sha224=r(8432),n.sha256=r(7499),n.sha384=r(1686),n.sha512=r(7816)},4448:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=n)<<5|t>>>27)+l(h,i,o,s)+c+r[d]+a[h];c=s,s=o,o=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},8336:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),g=u(n)+f(p,i,o,s)+c+r[h]+a[p]|0;c=s,s=o,o=l(i),i=n,n=g}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},8432:(e,t,r)=>{var n=r(5717),i=r(7499),o=r(4189),a=r(9509).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},7499:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,p=0|this._f,g=0|this._g,m=0|this._h,b=0;b<16;++b)r[b]=e.readInt32BE(4*b);for(;b<64;++b)r[b]=0|(((t=r[b-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[b-7]+h(r[b-15])+r[b-16];for(var y=0;y<64;++y){var v=m+d(c)+u(c,p,g)+a[y]+r[y]|0,w=f(n)+l(n,i,o)|0;m=g,g=p,p=c,c=s+v|0,s=o,o=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},1686:(e,t,r)=>{var n=r(5717),i=r(7816),o=r(4189),a=r(9509).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},7816:(e,t,r)=>{var n=r(5717),i=r(4189),o=r(9509).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function b(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,y=0|this._gh,v=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,E=0|this._dl,k=0|this._el,A=0|this._fl,x=0|this._gl,I=0|this._hl,O=0;O<32;O+=2)t[O]=e.readInt32BE(4*O),t[O+1]=e.readInt32BE(4*O+4);for(;O<160;O+=2){var P=t[O-30],T=t[O-30+1],R=h(P,T),B=p(T,P),M=g(P=t[O-4],T=t[O-4+1]),N=m(T,P),C=t[O-14],L=t[O-14+1],U=t[O-32],j=t[O-32+1],D=B+L|0,H=R+C+b(D,B)|0;H=(H=H+M+b(D=D+N|0,N)|0)+U+b(D=D+j|0,j)|0,t[O]=H,t[O+1]=D}for(var q=0;q<160;q+=2){H=t[q],D=t[q+1];var F=l(r,n,i),z=l(w,_,S),K=f(r,w),W=f(w,r),$=d(s,k),V=d(k,s),G=a[q],Y=a[q+1],X=u(s,c,y),J=u(k,A,x),Z=I+V|0,Q=v+$+b(Z,I)|0;Q=(Q=(Q=Q+X+b(Z=Z+J|0,J)|0)+G+b(Z=Z+Y|0,Y)|0)+H+b(Z=Z+D|0,D)|0;var ee=W+z|0,te=K+F+b(ee,W)|0;v=y,I=x,y=c,x=A,c=s,A=k,s=o+Q+b(k=E+Z|0,E)|0,o=i,E=S,i=n,S=_,n=r,_=w,r=Q+te+b(w=Z+ee|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+k|0,this._fl=this._fl+A|0,this._gl=this._gl+x|0,this._hl=this._hl+I|0,this._ah=this._ah+r+b(this._al,w)|0,this._bh=this._bh+n+b(this._bl,_)|0,this._ch=this._ch+i+b(this._cl,S)|0,this._dh=this._dh+o+b(this._dl,E)|0,this._eh=this._eh+s+b(this._el,k)|0,this._fh=this._fh+c+b(this._fl,A)|0,this._gh=this._gh+y+b(this._gl,x)|0,this._hh=this._hh+v+b(this._hl,I)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},2830:(e,t,r)=>{e.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},2553:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},6647:(e,t,r)=>{var n=r(247);function i(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function o(e){return n.Nil(e)?"":i(e.constructor)}function a(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function s(e){return n.Function(e)?e.toJSON?e.toJSON():i(e):n.Array(e)?"Array":e&&n.Object(e)?"Object":void 0!==e?e:""}function c(e,t,r){var i=function(e){return n.Function(e)?"":n.String(e)?JSON.stringify(e):e&&n.Object(e)?"":e}(t);return"Expected "+s(e)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function u(e,t,r){r=r||o(t),this.message=c(e,t,r),a(this,u),this.__type=e,this.__value=t,this.__valueTypeName=r}function l(e,t,r,n,i){e?(i=i||o(n),this.message=function(e,t,r,n,i){var o='" of type ';return"key"===t&&(o='" with key type '),c('property "'+s(r)+o+s(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',a(this,u),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,l.prototype=Object.create(Error.prototype),l.prototype.constructor=u,e.exports={TfTypeError:u,TfPropertyTypeError:l,tfCustomError:function(e,t){return new u(e,{},t)},tfSubError:function(e,t,r){return e instanceof l?(t=t+"."+e.__property,e=new l(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof u&&(e=new l(e.__type,t,r,e.__value,e.__valueTypeName)),a(e),e},tfJSON:s,getValueTypeName:o}},4307:(e,t,r)=>{var n=r(8764).Buffer,i=r(247),o=r(6647);function a(e){return n.isBuffer(e)}function s(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function c(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw o.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var u=c.bind(null,i.Array),l=c.bind(null,a),f=c.bind(null,s),d=c.bind(null,i.String);var h=Math.pow(2,53)-1;var p={ArrayN:u,Buffer:a,BufferN:l,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:s,HexN:f,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-h&&e<=h&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||i.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:d,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=h&&Math.floor(e)===e}};for(var g in p)p[g].toJSON=function(e){return e}.bind(null,g);e.exports=p},2401:(e,t,r)=>{var n=r(6647),i=r(247),o=n.tfJSON,a=n.TfTypeError,s=n.TfPropertyTypeError,c=n.tfSubError,u=n.getValueTypeName,l={arrayOf:function(e,t){function r(r,n){return!!i.Array(r)&&(!i.Nil(r)&&(!(void 0!==t.minLength&&r.length<t.minLength)&&(!(void 0!==t.maxLength&&r.length>t.maxLength)&&((void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return d(e,t,n)}catch(e){throw c(e,r)}}))))))}return e=f(e),t=t||{},r.toJSON=function(){var r="["+o(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return i.Nil(r)||t(r,n,e)}return t=f(t),r.toJSON=function(){return"?"+o(t)},r},map:function(e,t){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{t&&d(t,o,n)}catch(e){throw c(e,o,"key")}try{var a=r[o];d(e,a,n)}catch(e){throw c(e,o)}}return!0}return e=f(e),t&&(t=f(t)),r.toJSON=t?function(){return"{"+o(t)+": "+o(e)+"}"}:function(){return"{"+o(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=f(e[r]);function n(e,r){if(!i.Object(e))return!1;if(i.Nil(e))return!1;var n;try{for(n in t){d(t[n],e[n],r)}}catch(e){throw c(e,n)}if(r)for(n in e)if(!t[n])throw new s(void 0,n);return!0}return n.toJSON=function(){return o(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(f);function t(t,r){return e.some((function(e){try{return d(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(f);function t(t,r){return e.every((function(e){try{return d(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join(" & ")},t},quacksLike:function(e){function t(t){return e===u(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(f);function t(t,r){return!i.Nil(t)&&(!i.Nil(t.length)&&((!r||t.length===e.length)&&e.every((function(e,n){try{return d(e,t[n],r)}catch(e){throw c(e,n)}}))))}return t.toJSON=function(){return"("+e.map(o).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function f(e){if(i.String(e))return"?"===e[0]?l.maybe(e.slice(1)):i[e]||l.quacksLike(e);if(e&&i.Object(e)){if(i.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return l.arrayOf(e[0])}return l.object(e)}return i.Function(e)?e:l.value(e)}function d(e,t,r,n){if(i.Function(e)){if(e(t,r))return!0;throw new a(n||e,t)}return d(f(e),t,r)}for(var h in l.oneOf=l.anyOf,i)d[h]=i[h];for(h in l)d[h]=l[h];var p=r(4307);for(h in p)d[h]=p[h];d.compile=f,d.TfTypeError=a,d.TfPropertyTypeError=s,e.exports=d},247:e=>{var t={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var r in t.Null=t.Nil,t)t[r].toJSON=function(e){return e}.bind(null,r);e.exports=t},4927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},7795:(e,t,r)=>{"use strict";var n=r(9509).Buffer;function i(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:function e(t,r,a){if(i(t),r||(r=n.allocUnsafe(o(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return a||(a=0),t<253?(r.writeUInt8(t,a),e.bytes=1):t<=65535?(r.writeUInt8(253,a),r.writeUInt16LE(t,a+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,a),r.writeUInt32LE(t,a+1),e.bytes=5):(r.writeUInt8(255,a),r.writeUInt32LE(t>>>0,a+1),r.writeUInt32LE(t/4294967296|0,a+5),e.bytes=9),r},decode:function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var o=t.readUInt8(r);if(o<253)return e.bytes=1,o;if(253===o)return e.bytes=3,t.readUInt16LE(r+1);if(254===o)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var a=t.readUInt32LE(r+1),s=4294967296*t.readUInt32LE(r+5)+a;return i(s),s},encodingLength:o}},1739:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3150:function(e,t){var r,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],r=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},a=e=>1==e?"argument":"arguments",s=(e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((i,a)=>{if(t.fallbackToNoCallback)try{r[e](...n,o({resolve:i,reject:a},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(r[e](...n),i()):r[e](...n,o({resolve:i,reject:a},t))}))},c=(e,t,r)=>new Proxy(t,{apply:(t,n,i)=>r.call(n,e,...i)});let u=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},r={})=>{let n=Object.create(null),i={has:(t,r)=>r in e||r in n,get(i,o,a){if(o in n)return n[o];if(!(o in e))return;let f=e[o];if("function"==typeof f)if("function"==typeof t[o])f=c(e,e[o],t[o]);else if(u(r,o)){let t=s(o,r[o]);f=c(e,e[o],t)}else f=f.bind(e);else if("object"==typeof f&&null!==f&&(u(t,o)||u(r,o)))f=l(f,t[o],r[o]);else{if(!u(r,"*"))return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),f;f=l(f,t[o],r["*"])}return n[o]=f,f},set:(t,r,i,o)=>(r in n?n[r]=i:e[r]=i,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},o=Object.create(e);return new Proxy(o,i)},f=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),d=new n((e=>"function"!=typeof e?e:function(t){const r=l(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)})),h=new n((e=>"function"!=typeof e?e:function(t,r,n){let o,a,s=!1,c=new Promise((e=>{o=function(t){s=!0,e(t)}}));try{a=e(t,r,o)}catch(e){a=Promise.reject(e)}const u=!0!==a&&i(a);if(!0!==a&&!u&&!s)return!1;const l=e=>{e.then((e=>{n(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return l(u?a:c),!0})),p=({reject:r,resolve:n},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?r(new Error(i.message)):n(i)},g=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});n.push(i),r.sendMessage(...n)}))},m={devtools:{network:{onRequestFinished:f(d)}},runtime:{onMessage:f(h),onMessageExternal:f(h),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":b},services:{"*":b},websites:{"*":b}},l(e,m,r)};e.exports=r(chrome)}else e.exports=globalThis.browser},void 0===(i="function"==typeof r?r.apply(t,n):r)||(e.exports=i)},5856:()=>{},6601:()=>{},9214:()=>{},2480:()=>{},2361:()=>{},4616:()=>{},8597:e=>{"use strict";e.exports={i8:"6.5.4"}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return r[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,i.d(o,a),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=i(3150),t=i.n(e);var r;!function(e){e.AED="AED",e.AFN="AFN",e.ALL="ALL",e.AMD="AMD",e.ANG="ANG",e.AOA="AOA",e.ARS="ARS",e.AUD="AUD",e.AWG="AWG",e.AZN="AZN",e.BAM="BAM",e.BBD="BBD",e.BDT="BDT",e.BGN="BGN",e.BHD="BHD",e.BIF="BIF",e.BMD="BMD",e.BND="BND",e.BOB="BOB",e.BRL="BRL",e.BSD="BSD",e.BTN="BTN",e.BWP="BWP",e.BZD="BZD",e.CAD="CAD",e.CDF="CDF",e.CHF="CHF",e.CNY="CNY",e.COP="COP",e.CRC="CRC",e.CUP="CUP",e.CVE="CVE",e.CZK="CZK",e.DJF="DJF",e.DKK="DKK",e.DOP="DOP",e.DZD="DZD",e.EGP="EGP",e.ERN="ERN",e.ETB="ETB",e.EUR="EUR",e.FJD="FJD",e.GBP="GBP",e.GEL="GEL",e.GHS="GHS",e.GIP="GIP",e.GMD="GMD",e.GNF="GNF",e.GTQ="GTQ",e.GYD="GYD",e.HKD="HKD",e.HNL="HNL",e.HRK="HRK",e.HTG="HTG",e.HUF="HUF",e.IDR="IDR",e.ILS="ILS",e.INR="INR",e.IQD="IQD",e.IRR="IRR",e.ISK="ISK",e.JMD="JMD",e.JOD="JOD",e.JPY="JPY",e.KES="KES",e.KGS="KGS",e.KHR="KHR",e.KMF="KMF",e.KPW="KPW",e.KRW="KRW",e.KWD="KWD",e.KYD="KYD",e.KZT="KZT",e.LAK="LAK",e.LBP="LBP",e.LKR="LKR",e.LRD="LRD",e.LSL="LSL",e.LYD="LYD",e.MAD="MAD",e.MDL="MDL",e.MGA="MGA",e.MKD="MKD",e.MMK="MMK",e.MNT="MNT",e.MOP="MOP",e.MUR="MUR",e.MVR="MVR",e.MWK="MWK",e.MXN="MXN",e.MYR="MYR",e.NAD="NAD",e.NGN="NGN",e.NIO="NIO",e.NOK="NOK",e.NPR="NPR",e.NZD="NZD",e.OMR="OMR",e.PAB="PAB",e.PEN="PEN",e.PGK="PGK",e.PHP="PHP",e.PKR="PKR",e.PLN="PLN",e.PYG="PYG",e.QAR="QAR",e.RON="RON",e.RSD="RSD",e.RUB="RUB",e.RWF="RWF",e.SAR="SAR",e.SBD="SBD",e.SCR="SCR",e.SDG="SDG",e.SEK="SEK",e.SGD="SGD",e.SHP="SHP",e.SLL="SLL",e.SOS="SOS",e.SRD="SRD",e.SVC="SVC",e.SYP="SYP",e.SZL="SZL",e.THB="THB",e.TMT="TMT",e.TND="TND",e.TOP="TOP",e.TRY="TRY",e.TTD="TTD",e.TWD="TWD",e.TZS="TZS",e.UAH="UAH",e.UGX="UGX",e.USD="USD",e.UYU="UYU",e.UZS="UZS",e.VND="VND",e.VUV="VUV",e.WST="WST",e.XAF="XAF",e.XCD="XCD",e.XOF="XOF",e.XPF="XPF",e.ZAR="ZAR",e.ZMW="ZMW",e.ZWL="ZWL"}(r||(r={}));const n={base64ToHex:e=>{const t=[];for(let r=0,n=atob(e.replace(/[ \r\n]+$/,""));r<n.length;++r){let e=n.charCodeAt(r).toString(16);1===e.length&&(e="0"+e),t[t.length]=e}return t.join("")},urlSafeBase64ToHex:e=>n.base64ToHex(e.replace(/_/g,"/").replace(/-/g,"+")),bytesToHexString:e=>Array.from(e,(e=>("0"+(255&e).toString(16)).slice(-2))).join(""),bytesToString:e=>String.fromCharCode.apply(null,e),hexToUint8Array:e=>{const t=e.match(/.{1,2}/g);if(t)return new Uint8Array(t.map((e=>parseInt(e,16))))},stringToUint8Array:e=>Uint8Array.from(e,(e=>e.charCodeAt(0))),openPage:e=>{t().tabs.create({url:t().runtime.getURL(e)})},redirectPage:e=>{t().tabs.update({url:t().runtime.getURL(e)})},openUrl:e=>{t().tabs.create({url:e})},openPrompt:async e=>{const r=new URLSearchParams;e.args&&r.set("args",JSON.stringify(e.args)),e.origin&&r.set("origin",JSON.stringify(e.origin)),r.set("action",e.action);const n=`${t().runtime.getURL("prompt.html")}?${r.toString()}`,{top:i,left:o}=await async function(e,r){let n=0,i=0;try{const o=await t().windows.getLastFocused();o&&null!=o.top&&null!=o.left&&null!=o.width&&null!=o.height&&(i=Math.round(o.top+(o.height-r)/2),n=Math.round(o.left+(o.width-e)/2))}catch(t){const{screenX:r,screenY:o,outerWidth:a}=window;i=Math.max(o,0),n=Math.max(r+(a-e),0)}return{top:i,left:n}}(400,600);return new Promise(((e,r)=>{t().windows.create({url:n,type:"popup",width:400,height:600,top:i,left:o}).then((n=>{let i,o=!0;n.tabs&&(i=n.tabs[0].id),n.tabs&&n.tabs?.length>1&&(i=n.tabs?.find((e=>e.active))?.id,o=!1);const a=setInterval((()=>{n.id&&t().windows.update(n.id,{drawAttention:!0})}),2100),s=(n,s)=>{if(n&&n.response&&s.tab&&s.tab.id===i&&s.tab.windowId){let i;return clearInterval(a),t().tabs.onRemoved.removeListener(c),i=o?t().windows.remove(s.tab.windowId):t().tabs.remove(s.tab.id),i.then((()=>n.error?r(new Error(n.error)):e(n)))}},c=e=>{clearInterval(a),i===e&&(t().runtime.onMessage.removeListener(s),r(new Error("Prompt was closed")))};t().runtime.onMessage.addListener(s),t().tabs.onRemoved.addListener(c)}))}))},getBoostagramFromInvoiceCustomRecords:e=>{try{const t=e&&7629169 in e?atob(e[7629169]):void 0;return t?JSON.parse(t):void 0}catch(e){return void console.error(e)}}},o=n;var a=i(2378),s=i.n(a),c=i(5030),u=i.n(c),l=i(7294);function f(e){let t;const r=new Set,n=(e,n)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=n?i:Object.assign({},t,i),r.forEach((r=>r(t,e)))}},i=()=>t,o={setState:n,getState:i,subscribe:(e,n,o)=>n||o?((e,n=i,o=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=n(t);function s(){const r=n(t);if(!o(a,r)){const t=a;e(a=r,t)}}return r.add(s),()=>r.delete(s)})(e,n,o):(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(n,i,o),o}const d="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?l.useEffect:l.useLayoutEffect;var h=i(1354);function p(e,t){return h.AES.encrypt(JSON.stringify(e),t).toString()}function g(e,t){const r=h.AES.decrypt(e,t);return JSON.parse(r.toString(h.enc.Utf8))}i(7763),i(5551),i(7548),i(1876),i(3852);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function w(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function k(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function x(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},B=new(function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,e),this.init(t,r)}return w(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||R,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,r,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,T(T({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),M=function(){function e(){b(this,e),this.observers={}}return w(e,[{key:"on",value:function(e,t){var r=this;return e.split(" ").forEach((function(e){r.observers[e]=r.observers[e]||[],r.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,r)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(r))}))}}}]),e}();function N(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return r.resolve=e,r.reject=t,r}function C(e){return null==e?"":""+e}function L(e,t,r){e.forEach((function(e){t[e]&&(r[e]=t[e])}))}function U(e,t,r){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=n(o.shift());!e[a]&&r&&(e[a]=new r),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:n(o.shift())}}function j(e,t,r){var n=U(e,t,Object);n.obj[n.k]=r}function D(e,t){var r=U(e,t),n=r.obj,i=r.k;if(n)return n[i]}function H(e,t,r){var n=D(e,r);return void 0!==n?n:D(t,r)}function q(e,t,r){for(var n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?r&&(e[n]=t[n]):q(e[n],t[n],r):e[n]=t[n]);return e}function F(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function K(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return z[e]})):e}var W="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,$=[" ",",","?","!",";"];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var i=A(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return k(this,r)}}function X(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var n=t.split(r),i=e,o=0;o<n.length;++o){if(!i)return;if("string"==typeof i[n[o]]&&o+1<n.length)return;if(void 0===i[n[o]]){for(var a=2,s=n.slice(o,o+a).join(r),c=i[s];void 0===c&&n.length>o+a;)a++,c=i[s=n.slice(o,o+a).join(r)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var u=n.slice(o+a).join(r);return u?X(c,u,r):void 0}i=i[n[o]]}return i}}var J=function(e){E(r,e);var t=Y(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return b(this,r),n=t.call(this),W&&M.call(_(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),void 0===n.options.ignoreJSONStructure&&(n.options.ignoreJSONStructure=!0),n}return w(r,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];r&&"string"!=typeof r&&(a=a.concat(r)),r&&"string"==typeof r&&(a=a.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(a=e.split("."));var s=D(this.data,a);return s||!o||"string"!=typeof r?s:X(this.data&&this.data[e]&&this.data[e][t],r,i)}},{key:"addResource",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(n=t,t=(a=e.split("."))[1]),this.addNamespaces(t),j(this.data,a,n),i.silent||this.emit("added",e,t,r,n)}},{key:"addResources",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in r)"string"!=typeof r[i]&&"[object Array]"!==Object.prototype.toString.apply(r[i])||this.addResource(e,t,i,r[i],{silent:!0});n.silent||this.emit("added",e,t,r)}},{key:"addResourceBundle",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(n=r,r=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=D(this.data,a)||{};n?q(s,r,i):s=G(G({},s),r),j(this.data,a,s),o.silent||this.emit("added",e,t,r)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?G(G({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),r}(M),Z={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,r,n,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,r,n,i))})),t}};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var i=A(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return k(this,r)}}var re={},ne=function(e){E(r,e);var t=te(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(this,r),n=t.call(this),W&&M.call(_(n)),L(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,_(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=B.create("translator"),n}return w(r,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var r=this.resolve(e,t);return r&&void 0!==r.res}},{key:"extractFromKey",value:function(e,t){var r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");var n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=r&&e.indexOf(r)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,r){t=t||"",r=r||"";var n=$.filter((function(e){return t.indexOf(e)<0&&r.indexOf(e)<0}));if(0===n.length)return!0;var i=new RegExp("(".concat(n.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(r);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,r,n));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var c=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(n)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,n){var i=this;if("object"!==m(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),c=s.key,u=s.namespaces,l=u[u.length-1],f=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return o?(p.res="".concat(l).concat(h).concat(c),p):"".concat(l).concat(h).concat(c)}return o?(p.res=c,p):c}var p=this.resolve(e,t),g=p&&p.res,b=p&&p.usedKey||c,y=p&&p.exactUsedKey||c,v=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,E="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(S&&g&&E&&w.indexOf(v)<0&&("string"!=typeof _||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,g,ee(ee({},t),{},{ns:u})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return o?(p.res=k,p):k}if(a){var A="[object Array]"===v,x=A?[]:{},I=A?y:b;for(var O in g)if(Object.prototype.hasOwnProperty.call(g,O)){var P="".concat(I).concat(a).concat(O);x[O]=this.translate(P,ee(ee({},t),{joinArrays:!1,ns:u})),x[O]===P&&(x[O]=g[O])}g=x}}else if(S&&"string"==typeof _&&"[object Array]"===v)(g=g.join(_))&&(g=this.extendTranslation(g,e,t,n));else{var T=!1,R=!1,B=void 0!==t.count&&"string"!=typeof t.count,M=r.hasDefaultValue(t),N=B?this.pluralResolver.getSuffix(f,t.count,t):"",C=t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(g)&&M&&(T=!0,g=C),this.isValidLookup(g)||(R=!0,g=c);var L=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,U=L&&R?void 0:g,j=M&&C!==g&&this.options.updateMissing;if(R||T||j){if(this.logger.log(j?"updateKey":"missingKey",f,l,c,j?C:g),a){var D=this.resolve(c,ee(ee({},t),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var H=[],q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&q&&q[0])for(var F=0;F<q.length;F++)H.push(q[F]);else"all"===this.options.saveMissingTo?H=this.languageUtils.toResolveHierarchy(t.lng||this.language):H.push(t.lng||this.language);var z=function(e,r,n){var o=M&&n!==g?n:U;i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,r,o,j,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,r,o,j,t),i.emit("missingKey",e,l,r,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?H.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(r){z([e],c+r,t["defaultValue".concat(r)]||C)}))})):z(H,c,C))}g=this.extendTranslation(g,e,t,p,n),R&&g===c&&this.options.appendNamespaceToMissingKey&&(g="".concat(l,":").concat(c)),(R||T)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(c):c,T?g:void 0):this.options.parseMissingKeyHandler(g))}return o?(p.res=g,p):g}},{key:"extendTranslation",value:function(e,t,r,n,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,ee(ee({},this.options.interpolation.defaultVariables),r),n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(ee(ee({},r),{interpolation:ee(ee({},this.options.interpolation),r.interpolation)}));var a,s="string"==typeof e&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var u=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(u=ee(ee({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,r.lng||this.language,r),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(r.nest=!1)}!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i&&i[0]===n[0]&&!r.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(t[0])),null):o.translate.apply(o,n.concat([t]))}),r)),r.interpolation&&this.interpolator.reset()}var f=r.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=e&&d&&d.length&&!1!==r.applyPostProcessor&&(e=Z.handle(d,e,t,this.options&&this.options.postProcessPassResolved?ee({i18nResolved:n},r):r,this)),e}},{key:"resolve",value:function(e){var t,r,n,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),u=c.key;r=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!re["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(re["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(r,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(r){if(!a.isValidLookup(t)){i=r;var o,c=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,u,r,e,s);else{var l;f&&(l=a.pluralResolver.getSuffix(r,s.count,s));var p="".concat(a.options.pluralSeparator,"zero");if(f&&(c.push(u+l),d&&c.push(u+p)),h){var g="".concat(u).concat(a.options.contextSeparator).concat(s.context);c.push(g),f&&(c.push(g+l),d&&c.push(g+p))}}for(;o=c.pop();)a.isValidLookup(t)||(n=o,t=a.getResource(r,e,o,s))}})))}))}})),{res:t,usedKey:r,exactUsedKey:n,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}}]),r}(M);function ie(e){return e.charAt(0).toUpperCase()+e.slice(1)}var oe=function(){function e(t){b(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=B.create("languageUtils")}return w(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map((function(e){return e.toLowerCase()})):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=ie(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=ie(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=ie(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,r=this;return e?(e.forEach((function(e){if(!t){var n=r.formatLanguageCode(e);r.options.supportedLngs&&!r.isSupportedCode(n)||(t=n)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var n=r.getLanguagePartFromCode(e);if(r.isSupportedCode(n))return t=n;t=r.options.supportedLngs.find((function(e){if(0===e.indexOf(n))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}},{key:"toResolveHierarchy",value:function(e,t){var r=this,n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(r.isSupportedCode(e)?i.push(e):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),n.forEach((function(e){i.indexOf(e)<0&&o(r.formatLanguageCode(e))})),i}}]),e}(),ae=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],se={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},ce=["v1","v2","v3"],ue={zero:0,one:1,two:2,few:3,many:4,other:5};function le(){var e={};return ae.forEach((function(t){t.lngs.forEach((function(r){e[r]={numbers:t.nr,plurals:se[t.fc]}}))})),e}var fe=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,e),this.languageUtils=t,this.options=r,this.logger=B.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=le()}return w(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((function(e,t){return ue[e]-ue[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):n.numbers.map((function(n){return t.getSuffix(e,n,r)})):[]}},{key:"getSuffix",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,r);return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(t)):this.getSuffixRetroCompatible(n,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var r=this,n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return r.options.prepend&&i.toString()?r.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}},{key:"shouldUseIntlApi",value:function(){return!ce.includes(this.options.compatibilityJSON)}}]),e}();function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),this.logger=B.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return w(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:K,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?F(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?F(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?F(t.nestingPrefix):t.nestingPrefixEscaped||F("$t("),this.nestingSuffix=t.nestingSuffix?F(t.nestingSuffix):t.nestingSuffixEscaped||F(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(e,t,r,n){var i,o,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=H(t,c,e);return s.alwaysFormat?s.format(i,void 0,r,he(he(he({},n),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(H(t,c,a),u,r,he(he(he({},n),t),{},{interpolationkey:a}))};this.resetRegExp();var f=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){var r=i[1].trim();if(void 0===(o=l(r)))if("function"==typeof f){var c=f(e,i,n);o="string"==typeof c?c:""}else if(n&&n.hasOwnProperty(r))o="";else{if(d){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(r," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=C(o));var u=t.safeValue(o);if(e=e.replace(i[0],u),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var r,n,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;var n=e.split(new RegExp("".concat(r,"[ ]*{"))),o="{".concat(n[1]);e=n[0];var a=(o=this.interpolate(o,i)).match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i=he(he({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(r).concat(o)}return delete i.defaultValue,e}for(;r=this.nestingRegexp.exec(e);){var c=[];(i=(i=he({},a)).replace&&"string"!=typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var u=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){var l=r[1].split(this.formatSeparator).map((function(e){return e.trim()}));r[1]=l.shift(),c=l,u=!0}if((n=t(s.call(this,r[1].trim(),i),i))&&r[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=C(n)),n||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),n=""),u&&(n=c.reduce((function(e,t){return o.format(e,t,a.lng,he(he({},a),{},{interpolationkey:r[1].trim()}))}),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}]),e}();function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e){var t={};return function(r,n,i){var o=n+JSON.stringify(i),a=t[o];return a||(a=e(n,i),t[o]=a),a(r)}}var ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),this.logger=B.create("formatter"),this.options=t,this.formats={number:be((function(e,t){var r=new Intl.NumberFormat(e,t);return function(e){return r.format(e)}})),currency:be((function(e,t){var r=new Intl.NumberFormat(e,me(me({},t),{},{style:"currency"}));return function(e){return r.format(e)}})),datetime:be((function(e,t){var r=new Intl.DateTimeFormat(e,me({},t));return function(e){return r.format(e)}})),relativetime:be((function(e,t){var r=new Intl.RelativeTimeFormat(e,me({},t));return function(e){return r.format(e,t.range||"day")}})),list:be((function(e,t){var r=new Intl.ListFormat(e,me({},t));return function(e){return r.format(e)}}))},this.init(t)}return w(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=t.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=be(t)}},{key:"format",value:function(e,t,r,n){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var n=e.split("(");t=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);"currency"===t&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=O(e.split(":")),n=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");r[n.trim()]||(r[n.trim()]=i),"false"===i&&(r[n.trim()]=!1),"true"===i&&(r[n.trim()]=!0),isNaN(i)||(r[n.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:r}}(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var c=e;try{var u=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},l=u.locale||u.lng||n.locale||n.lng||r;c=i.formats[a](e,l,me(me(me({},s),n),u))}catch(e){i.logger.warn(e)}return c}return i.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var i=A(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return k(this,r)}}var Se=function(e){E(r,e);var t=_e(r);function r(e,n,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return b(this,r),o=t.call(this),W&&M.call(_(o)),o.backend=e,o.store=n,o.services=i,o.languageUtils=i.languageUtils,o.options=a,o.logger=B.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,a.backend,a),o}return w(r,[{key:"queueLoad",value:function(e,t,r,n){var i=this,o={},a={},s={},c={};return e.forEach((function(e){var n=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!r.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===a[s]&&(a[s]=!0):(i.state[s]=1,n=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===c[t]&&(c[t]=!0)))})),n||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,r){var n=e.split("|"),i=n[0],o=n[1];t&&this.emit("failedLoading",i,o,t),r&&this.store.addResourceBundle(i,o,r),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(r){!function(e,t,r,n){var i=U(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],n&&(o[a]=o[a].concat(r)),n||o[a].push(r)}(r.loaded,[i],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach((function(e){a[e]||(a[e]={});var t=r.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:o,callback:a});else{this.readingCalls++;var s=function(s,c){if(n.readingCalls--,n.waitingReads.length>0){var u=n.waitingReads.shift();n.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&c&&i<n.maxRetries?setTimeout((function(){n.read.call(n,e,t,r,i+1,2*o,a)}),o):a(s,c)},c=this.backend[r].bind(this.backend);if(2!==c.length)return c(e,t,s);try{var u=c(e,t);u&&"function"==typeof u.then?u.then((function(e){return s(null,e)})).catch(s):s(null,u)}catch(e){s(e)}}}},{key:"prepareLoading",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){r.loadOne(e)}))}},{key:"load",value:function(e,t,r){this.prepareLoading(e,t,{},r)}},{key:"reload",value:function(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}},{key:"loadOne",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(function(n,a){n&&t.logger.warn("".concat(r,"loading namespace ").concat(o," for language ").concat(i," failed"),n),!n&&a&&t.logger.log("".concat(r,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,n,a)}))}},{key:"saveMissing",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=r&&""!==r){if(this.backend&&this.backend.create){var s=we(we({},o),{},{isUpdate:i}),c=this.backend.create.bind(this.backend);if(c.length<6)try{var u;(u=5===c.length?c(e,t,r,n,s):c(e,t,r,n))&&"function"==typeof u.then?u.then((function(e){return a(null,e)})).catch(a):a(null,u)}catch(e){a(e)}else c(e,t,r,n,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}]),r}(M);function Ee(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===m(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===m(e[2])||"object"===m(e[3])){var r=e[3]||e[2];Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,r,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ke(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var i=A(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return k(this,r)}}function Oe(){}function Pe(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var Te=function(e){E(r,e);var t=Ie(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(b(this,r),e=t.call(this),W&&M.call(_(e)),e.options=ke(n),e.services={},e.logger=B,e.modules={external:[]},Pe(_(e)),i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),k(e,_(e));setTimeout((function(){e.init(n,i)}),0)}return e}return w(r,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var n=Ee();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=xe(xe(xe({},n),this.options),ke(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=xe(xe({},n.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?B.init(i(this.modules.logger),this.options):B.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=ye);var a=new oe(this.options);this.store=new J(this.options.resources,this.options);var s=this.services;s.logger=B,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new fe(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new pe(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Se(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit.apply(e,[t].concat(n))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new ne(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit.apply(e,[t].concat(n))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=Oe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var r;return(r=e.store)[t].apply(r,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(t){e[t]=function(){var r;return(r=e.store)[t].apply(r,arguments),e}}));var f=N(),d=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),f.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),f}},{key:"loadResources",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe,n=r,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,r){var n=N();return e||(e=this.languages),t||(t=this.options.ns),r||(r=Oe),this.services.backendConnector.reload(e,t,(function(e){n.resolve(),r(e)})),n}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Z.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}},{key:"changeLanguage",value:function(e,t){var r=this;this.isLanguageChangingTo=e;var n=N();this.emit("languageChanging",e);var i=function(e){r.language=e,r.languages=r.services.languageUtils.toResolveHierarchy(e),r.resolvedLanguage=void 0,r.setResolvedLanguage(e)},o=function(o){e||o||!r.services.languageDetector||(o=[]);var a="string"==typeof o?o:r.services.languageUtils.getBestMatchFromCodes(o);a&&(r.language||i(a),r.translator.language||r.translator.changeLanguage(a),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage&&r.services.languageDetector.cacheUserLanguage(a)),r.loadResources(a,(function(e){!function(e,o){o?(i(o),r.translator.changeLanguage(o),r.isLanguageChangingTo=void 0,r.emit("languageChanged",o),r.logger.log("languageChanged",o)):r.isLanguageChangingTo=void 0,n.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(e,t,r){var n=this,i=function e(t,i){var o;if("object"!==m(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];o=n.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=xe({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||r||e.keyPrefix;var u,l=n.options.keySeparator||".";return u=o.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(o.keyPrefix).concat(l).concat(e)})):o.keyPrefix?"".concat(o.keyPrefix).concat(l).concat(t):t,n.t(u,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var a=function(e,r){var n=t.services.backendConnector.state["".concat(e,"|").concat(r)];return-1===n||2===n};if(r.precheck){var s=r.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(n,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var r=this,n=N();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){r.options.ns.indexOf(e)<0&&r.options.ns.push(e)})),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var r=N();"string"==typeof e&&(e=[e]);var n=this.options.preload||[],i=e.filter((function(e){return n.indexOf(e)<0}));return i.length?(this.options.preload=n.concat(i),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new oe(Ee());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe,i=xe(xe(xe({},this.options),t),{isClone:!0}),o=new r(i);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));var a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=xe({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new ne(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit.apply(o,[e].concat(r))})),o.init(i,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(M);x(Te,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Te(e,t)}));var Re=Te.createInstance();Re.createInstance=Te.createInstance;Re.createInstance,Re.dir,Re.init,Re.loadResources,Re.reloadResources,Re.use,Re.changeLanguage,Re.getFixedT,Re.t,Re.exists,Re.setDefaultNamespace,Re.hasLoadedNamespace,Re.loadNamespaces,Re.loadLanguages;function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ne=[],Ce=Ne.forEach,Le=Ne.slice;function Ue(e){return Ce.call(Le.call(arguments,1),(function(t){if(t)for(var r in t)void 0===e[r]&&(e[r]=t[r])})),e}var je=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,De=function(e,t,r){var n=r||{};n.path=n.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(n.maxAge>0){var a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(n.domain){if(!je.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(n.domain)}if(n.path){if(!je.test(n.path))throw new TypeError("option path is invalid");o+="; Path=".concat(n.path)}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},He=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*r*1e3)),n&&(i.domain=n),document.cookie=De(e,encodeURIComponent(t),i)},qe=function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},Fe={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var r=qe(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&He(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},ze={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var n=r.substring(1).split("&"),i=0;i<n.length;i++){var o=n[i].indexOf("=");if(o>0)n[i].substring(0,o)===e.lookupQuerystring&&(t=n[i].substring(o+1))}}return t}},Ke=null,We=function(){if(null!==Ke)return Ke;try{Ke="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Ke=!1}return Ke},$e={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&We()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&We()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Ve=null,Ge=function(){if(null!==Ve)return Ve;try{Ve="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Ve=!1}return Ve},Ye={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Ge()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Ge()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},Xe={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Je={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},Ze={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof r[e.lookupFromPathIndex])return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},Qe={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,r="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};var et=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}var t,r,n;return t=e,r=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=Ue(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Fe),this.addDetector(ze),this.addDetector($e),this.addDetector(Ye),this.addDetector(Xe),this.addDetector(Je),this.addDetector(Ze),this.addDetector(Qe)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var r=[];return e.forEach((function(e){if(t.detectors[e]){var n=t.detectors[e].lookup(t.options);n&&"string"==typeof n&&(n=[n]),n&&(r=r.concat(n))}})),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var r=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){r.detectors[t]&&r.detectors[t].cacheUserLanguage(e,r.options)})))}}],r&&Me(t.prototype,r),n&&Me(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();et.type="languageDetector";i(1739);Object.create(null);function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function rt(e){var t=function(e,t){if("object"!==tt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tt(t)?t:String(t)}function nt(e,t,r){return(t=rt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var it=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ot={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},at=function(e){return ot[e]};function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ut={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(it,at)}};function lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rt(n.key),n)}}var ft={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ut=ct(ct({},ut),e)}(e.options.react),function(e){e}(e)}};(0,l.createContext)(),function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.usedNamespaces={}}var t,r,n;t=e,(r=[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}])&&lt(t.prototype,r),n&&lt(t,n),Object.defineProperty(t,"prototype",{writable:!1})}();const dt=JSON.parse('{"xk":{"welcome":{"nav":{"welcome":"Welcome","password":"Your Password","connect":"Your Lightning Account","done":"Done"},"intro":{"send":{"title":"Send in One Click","description":"Lightning transactions happen all in your browser. No alt+tab or QR-code scanning needed."},"paywall":{"title":"No more annoying paywalls","description":"Define individual budgets for websites to enable seamless payment streams. No more annoying paywalls."},"privacy":{"title":"Privacy first","description":"Use lightning to authenticate and control your privacy."},"foss":{"title":"Free and Open Source","description":"Completely open code that can be audited by anyone. No stats or trackers. You are in control."},"actions":{"get_started":"Get Started"}},"set_password":{"title":"Set an unlock password","description":"Your lightning account data is securely encrypted with an unlock password. Do not forget this password! You need it to unlock the Alby Extension (in this browser)","choose_password":{"label":"Choose an unlock password:"},"confirm_password":{"label":"Let\'s confirm you typed it correct:"},"errors":{"enter_password":"Please enter a password.","confirm_password":"Please confirm your password.","mismatched_password":"Passwords don\'t match."}},"test_connection":{"ready":"Awesome, youre ready to go!","tutorial":"Now youve connected your wallet would you like to go through a tutorial?","try_tutorial":"Give it a try now","initializing":"Initializing your account. Please wait, this can take a minute...","connection_error":"Connection Error","review_connection_details":"Please review your connection details.","connection_taking_long":"Trying to connect takes longer than expected... Are your details correct? Is your node reachable?","contact_support":"If you need help please contact support@getalby.com","actions":{"delete_edit_account":"Delete invalid account and edit again"}}},"choose_path":{"title":"Connect","description":"To start using Alby to make online payments, connect your lightning wallet to the extension.","alby":{"title":"Alby","description":"Sign up or use your existing Alby account to get started with lightning payments in no time.","create_new":"Sign up"},"other":{"title":"Other Wallets","description":"Connect to your existing lightning wallet or node and choose from various connectors.","and_more":"& more...","connect":"Connect"}},"alby":{"pre_connect":{"set_password":{"choose_password":{"label":"Password"},"confirm_password":{"label":"Confirm Password"},"errors":{"enter_password":"Please enter a password.","confirm_password":"Please confirm your password.","mismatched_password":"Passwords don\'t match."}},"forgot_password":"Forgot password?","title":"Your Alby account","create_account":"Create a new Alby account to send and receive bitcoin payments.","login_account":"Log in to connect your existing Alby account.","host_wallet":"We host a Lightning wallet for you!","email":{"create":{"label":"Email Address"},"login":{"label":"Email Address or Lightning Address"}},"optional_lightning_note":{"part1":"Your Alby account also comes with an optional","part2":"lightning address","part3":". This is a simple way for anyone to send you bitcoin on the lightning network.","part4":"learn more"},"optional_lightning_address":{"label":"Choose your Lightning Address (optional)","suffix":"@getalby.com","title":"numbers and letters, at least 3 characters"},"errors":{"create_wallet_error":"Failed to log in or create a new account. If you need help, please contact support@getalby.com"}}},"choose_connector":{"title":"Connect Lightning Wallet","description":"Connect to your external lightning wallet or node","lnd":{"title":"LND","page":{"title":"Connect to your LND node","description":"You need your node URL and a macaroon with read and send permissions (e.g. admin.macaroon)"},"url":{"label":"REST API host and port","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon (HEX format)"},"or":"OR","drag_and_drop":"Drag and drop your macaroon here or <0>browse</0>","errors":{"connection_failed":"Connection failed. Are your LND credentials correct?"}},"lndhub_bluewallet":{"title":"Bluewallet","page":{"title":"Connect to BlueWallet","description":"In BlueWallet, choose the wallet you want to connect, open it, click on \\"...\\", click on Export/Backup to display the QR code and scan it with your webcam."},"uri":{"label":"BlueWallet Export URI"},"errors":{"invalid_uri":"Invalid BlueWallet URI","connection_failed":"Connection failed. Is your BlueWallet URI correct?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Connect to LNDHub","description":"Input your LNDHub credential URI here or scan the QR code with your webcam."},"uri":{"label":"LNDHub Export URI"},"errors":{"invalid_uri":"Invalid LNDHub URI","connection_failed":"Connection failed. Is your LNDHub URI correct?"}},"lnbits":{"title":"LNbits","page":{"title":"Connect to <0>LNbits</0>","instructions":"In LNbits, choose the wallet you want to connect, open it, click on API Info and copy the Admin Key. Paste it below:"},"admin_key":{"label":"LNbits Admin Key","placeholder":"Your 32 digit admin key"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Connection failed. Do you have the correct URL and Admin Key?"}},"eclair":{"title":"Eclair","page":{"title":"Connect to <0>Eclair</0>","instructions":"You need your Eclair URL and password."},"password":{"label":"Eclair Password"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Connect to <0>Citadel</0> node","instructions":"This currently doesn\'t work if 2FA is enabled."},"password":{"label":"Citadel Password"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Connect to <0>Umbrel</0> node","instructions":"In your Umbrel dashboard go to <0>Connect Wallet</0>. Select <0>lndconnect REST</0> and copy the <0>lndconnect URL</0>. (Depending on your setup you can either use the local connection or the Tor connection.)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Connect to <0>myNode</0>","instructions":"On your myNode homepage click on the <0>Wallet</0> button for your <0>lightning</0> service.<1/> Now click on the <0>Pair Wallet</0> button under the <0>Status</0> tab. Enter your password when prompted.<1/> Select the dropdown menu and choose a pairing option. Depending on your setup you can either use the <0>lightning (REST + Local IP)</0> connection or the <0>lightning (REST + Tor)</0> connection."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"start9":{"title":"Start9","page":{"title":"Connect to your <0>Embassy</0> node","instructions":"<0>Note:</0> Currently we only support LND but we will be adding c-lightning support in the future!<1/>On your Embassy dashboard click on the <0>lightning network Daemon</0> service.<1/>Select the <0>Properties</0> tab.<1/>Now copy the <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Connect to your <0>RaspiBlitz</0> node","instructions1":"You need your node onion address, port, and a macaroon with read and send permissions (e.g. admin.macaroon).<1/><1/><0>SSH</0> into your <0>RaspiBlitz</0>.<1/>Run the command <0>sudo cat /mnt/hdd/tor/lndrest/hostname</0>.<1/>Copy and paste the <0>.onion</0> address in the input below.<1/>Add your <0>port</0> after the onion address, the default port is <0>:8080</0>.","instructions2":"Select <0>CONNECT</0>.<1/>Select <0>EXPORT</0>.<1/>Select <0>HEX</0>.<1/>Copy the <0>adminMacaroon</0>.<1/>Paste the macaroon in the input below."},"rest_api_host":{"label":"REST API host","placeholder":"your-node-onion-address:port"}},"bitcoin_beach":{"title":"Bitcoin Beach Wallet","page":{"title":"Connect to <0>Bitcoin Beach Wallet</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Connect to <0>Bitcoin Jungle Wallet</0>"}},"galoy":{"phone_number":{"label":"Enter your phone number"},"sms_code":{"label":"Enter your SMS verification code"},"jwt":{"label":"Enter your JWT token","info":"The {{label}} login is currently being upgraded. If you are an advanced user, you can grab your JWT token by logging in via the <0>Web Wallet (wallet.mainnet.galoy.io)</0><1/><1/>The JWT looks like: <2>eyJhbG...</2><1/><1/>"},"actions":{"login":"Login","request_sms_code":"Request SMS Code"},"errors":{"failed_to_request_sms":"Failed to request a SMS code","failed_to_login_sms":"Failed to login with SMS code","setup_failed":"Setup failed","missing_jwt":"JWT missing, couldn\'t log in.","invalid_jwt":"invalid JWT passed"}},"kollider":{"title":"Kollider","description":"Login to your Kollider account","page":{"title":"Connect to your Kollider account","description":"Don\'t have an account already? <0>Sign up</0> now!"},"username":{"label":"Enter your Kollider username"},"password":{"label":"Enter your Kollider password"},"currency":{"label":"Select your currency account"},"errors":{"connection_failed":"Connection failed. Are you sure the account data is correct?"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Connect to your BTCPay LND node","instructions":"Navigate to your BTCPayServer and log in as an admin. Go to Server Settings > Services > LND Rest - See information. Then Click \\"See QR Code information\\" and copy the QR Code data. Paste it below:"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Connection failed. Is the BTCPay connection URL correct and accessible?"}},"commando":{"title":"Core Lightning","page":{"title":"Connect to your Core Lightning node","instructions":"Make sure you have Core Lightning version 0.12.0 or newer, the commando plugin is running and your node is accessible over the lightning network. Create a rune by running \'lightning-cli commando-rune\'."},"host":{"label":"Host"},"pubkey":{"label":"Public key"},"rune":{"label":"Rune"},"port":{"label":"Port"},"proxy":{"label":"Websocket proxy"},"privKey":{"label":"Local private key (autogenerated)"},"config":{"label":"Config data","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Connection failed. Is your Core Lightning node online and using the commando plugin?"}}},"home":{"actions":{"send_satoshis":" Send Satoshis ","enable_now":"Enable Now"},"recent_transactions":"Recent Transactions","transaction_list":{"tabs":{"outgoing":"Outgoing","incoming":"Incoming"}},"allowance_view":{"recent_transactions":"Recent Transactions","allowance":"Allowance","sats_used":"sats used","no_transactions":"No transactions on <0>{{name}}</0> yet."},"default_view":{"recent_transactions":"Recent Transactions","no_transactions":"No transactions made with Alby, yet.","is_blocked_hint":"Alby is currently disabled on {{host}}","block_removed":"Enabled {{host}}. Please reload the website."}},"accounts":{"title":"Accounts","actions":{"add_account":"Add account"},"edit":{"title":"Edit Account","name":{"label":"Name"},"screen_reader":"Edit account name"},"export":{"title":"Export Account","screen_reader":"Export account details","waiting":"waiting for LndHub data...","your_ln_address":"Your Lightning Address:","tip_mobile":"Tip: Use this wallet with your mobile device","export_uri":"LNDHub Credentials URI","scan_qr":"Import this wallet into Zeus or BlueWallet by scanning the QRCode."},"remove":{"confirm":"Are you sure you want to remove account: {{name}}? \\nThis can not be undone. If you used this account to login to websites you might lose access to those."}},"enable":{"title":"Connect","allow":"Allow this website to:","request1":"Request approval for transactions","request2":"Request invoices and lightning information","block_and_ignore":"Block and ignore {{host}}","block_added":"Added {{host}} to the blocklist, please reload the website."},"unlock":{"unlock_to_continue":"Unlock to continue","unlock_password":"Your unlock password","help_contact":{"part1":"Need help? Contact","part2":"Alby Support"},"unlock_error":{"help":"Your account data is encrypted with your unlock password. If you really forgot your unlock password you have to reset and add your lightning account again.","link":"Reset now and add a new account"},"errors":{"invalid_password":"Invalid password"}},"settings":{"title":"Settings","browser_notifications":{"title":"Browser notifications","subtitle":"Payment and authentication related notifications."},"website_enhancements":{"title":"Website enhancements","subtitle":"Tipping enhancements for Twitter, YouTube, etc."},"lnurl_auth":{"title":"LNURL-Auth","hint":"is a generic authentication protocol. It authenticates the user using digital signatures. The protocol does not require any other identifying information such as passwords, emails, usernames, or similar. With Alby you can use your lightning accounts to securely login to websites. To be compatible with other wallets we had to make a few changes that you can configure here. <0>Ideally all those options are OFF.</0> Use them only if you have old accounts.","legacy_lnurl_auth_202207":{"title":"Legacy LNURL-Auth","subtitle":"The key generation for LNURL-auth has changed (July 2022). Alby was not compatible with other implementations. This was changed, but now different login keys are used. If you used LNURL-auth to login before you can still enable the old method. This option will be removed later, make sure to switch to the new login."},"legacy_lnurl_auth":{"title":"Legacy signing for LNDhub and LNbits","subtitle":"Message signing and login with LNDhub (e.g. BlueWallet) and LNbits accounts has been changed (March 2022). If you logged in with these accounts you can still enable the old signing method. This option will be removed later, make sure to switch to the new login."}},"camera_access":{"title":"Camera access","subtitle":"For scanning QR codes","allow":"Allow camera access","granted":"Permission granted"},"language":{"title":"Language","subtitle":"Translations are not 100% finished yet. <0>Help us translate Alby into your language!</0>"},"theme":{"title":"Theme","subtitle":"Use Alby in dark or light mode","options":{"dark":"Dark","light":"Light","system":"System"}},"show_fiat":{"title":"Sats to Fiat","subtitle":"Always convert into selected currency from selected exchange"},"currency":{"title":"Currency","subtitle":"Show the amounts additionally in this currency"},"exchange":{"title":"Exchange Source","subtitle":"Source of bitcoin exchange rates"},"personal_data":{"title":"Personal data","description":"Payees can request for additional data to be sent with a payment. This data is not shared with anyone without your consent, you will always be prompted before this data is sent along with a payment."},"name":{"title":"Name","subtitle":"","placeholder":"Enter your name"},"email":{"title":"Email","subtitle":"","placeholder":"Enter your email address"},"change_password":{"title":"Change unlock password","subtitle":"","screen_reader":"Change unlock password","choose_password":{"label":"Enter a new unlock password:"},"confirm_password":{"label":"Confirm new password:"},"submit":{"label":"Change"},"errors":{"enter_password":"Please enter a new unlock password.","confirm_password":"Please confirm your password.","mismatched_password":"Passwords don\'t match."},"success":"Password changed successfully"},"nostr":{"title":"Nostr","hint":"is a simple and open protocol that aims to create censorship-resistant social networks. Nostr works with cryptographic keys. To publish something you sign it with your key and send it to multiple relays. You can use Alby to manage your Nostr key. Many Nostr applications will then allow you to simply use the key from the Alby extension.","private_key":{"title":"Private key","subtitle":"Paste your private key or generate a new one. Generating a key will create a new key based on the current account you use. It can be re-generated, but please make sure you backup this private key. <0>Learn more </0>","generate":"Generate","warning":"This will delete your old private key. Are you sure?","success":"Private key encrypted & saved successfully."}}},"send":{"title":"Send","qrcode":{"title":"Waiting to scan"},"input":{"label":"Recipient","hint":"Invoice, Lightning Address or LNURL"}},"lnurlpay":{"amount":{"label":"Amount"},"comment":{"label":"Comment"},"name":{"label":"Name"},"email":{"label":"Email"},"success":"Success, payment sent!"},"lnurlauth":{"title":"Authentication","content_message":{"heading":"Do you want to log in to"},"submit":"Login","success":"Login successful on {{name}}","errors":{"status":"Error: Auth status is not ok"}},"lnurlchannel":{"title":"Channel Request","content_message":{"heading":"Request a channel from the node"},"success":"Channel request sent successfully to {{name}}"},"lnurlwithdraw":{"title":"Withdraw","content_message":{"heading":"Amount"},"amount":{"label":"Amount"},"success":"Withdraw request of {{amount}} sent successfully to {{sender}}"},"receive":{"title":"Receive","actions":{"create_invoice":"Create Invoice"},"amount":{"label":"Amount","placeholder":"Amount in Satoshi..."},"description":{"label":"Description","placeholder":"For e.g. who is sending this payment?"},"success":"Payment received!","payment":{"waiting":"waiting for payment...","status":"Check payment status"}},"discover":{"title":"Explore the Lightning  Ecosystem","description":"Websites and webapps where you can use Alby","list":{"trading":"Trading","gaming":"Gaming","entertaiment":"Entertaiment","shopping":"Shopping","miscellaneous":"Miscellaneous","showcases":"Showcases"}},"publishers":{"title":"Your  Websites","description":"Websites where you have used Alby before","no_info":"It looks like you haven\'t used Alby in any websites yet.","discover":"Discover Websites","publisher":{"allowance":{"title":"Allowance","used_budget":"sats used"}}},"make_invoice":{"title":"Create Invoice","amount":{"label":"Amount (Satoshi)"},"memo":{"label":"Memo"},"errors":{"amount_too_small":"Amount is less than minimum","amount_too_big":"Amount exceeds maximum"}},"confirm_sign_message":{"title":"Sign","content":"This website asks you to sign:"},"confirm_keysend":{"title":"Approve Payment","success":"Payment sent! Preimage: {{preimage}}","payment_summary":{"description":"Send payment to: {{destination}}"}},"keysend":{"title":"Send","success":"Payment sent! Preimage: {{preimage}}","receiver":{"label":"Send payment to"},"amount":{"label":"Amount (Satoshi)"}},"confirm_payment":{"title":"Approve Payment","success":"Payment of {{amount}} successful!","actions":{"pay_now":"Pay now"}},"confirm_request_permission":{"title":"Approve Request","allow":"Allow this website to execute:","always_allow":"Remember my choice and don\'t ask again"},"nostr":{"title":"Nostr","allow":"Allow this website to:","content":"This website asks you to sign:","allow_sign":"Allow {{host}} to sign:","block_and_ignore":"Block and ignore {{host}}","block_added":"Added {{host}} to the blocklist, please reload the website."}},"y0":{"password":"Password","confirm_password":"Confirm Password","advanced":"Advanced","success":"Success","error":"Error","settings":"Settings","discover":"Discover","websites":"Websites","sats_one":"sat","sats_other":"sats","loading":"loading","amount":"Amount","optional":"Optional","feedback":"Feedback","copied":"Copied!","description":"Description","description_full":"Full Description","success_message":"{{amount}}{{fiatAmount}} sent to {{destination}}","response":"Response","message":"Message","help":"Help","actions":{"back":"Back","delete":"Delete","edit":"Edit","next":"Next","open":"Open","cancel":"Cancel","confirm":"Confirm","continue":"Continue","connect":"Connect","lock":"Lock","unlock":"Unlock","send":"Send","save":"Save","receive":"Receive","close":"Close","export":"Export","remove":"Remove","copy":"Copy","log_in":"Log in","remember":"Remember my choice and don\'t ask again"},"errors":{"connection_failed":"Connection failed","payment_failed":"Payment Failed"}},"wx":{"allowance_menu":{"confirm_delete":"Are you sure you want to delete this website?","hint":"This will reset the current budget","new_budget":{"label":"New budget"},"enable_login":{"title":"Enable website login","subtitle":"Automatically log in without confirmation when the website requests."},"edit_allowance":{"title":"Edit Allowance","screen_reader":"Allowance Options"},"edit_permissions":"Edit Permissions"},"qrcode_scanner":{"title":"Scan QR Code","actions":{"start_scanning":"Start scanning","stop_scanning":"Stop scanning"},"errors":{"allow_camera_access":"Please allow camera access in the settings screen."}},"transactionsTable":{"fee":"Fee","preimage":"Preimage","received":"Received","sent":"Sent","boostagram":{"sender":"Sender","message":"Message","app":"App","podcast":"Podcast"},"open_location":"Open website"},"confirm_or_cancel":{"only_trusted":"Only connect with sites you trust."},"budget_control":{"remember":{"label":"Remember and set a budget","description":"You may set a balance to not be asked for confirmation on payments until it is exhausted."},"budget":{"label":"Budget"}},"companion_download_info":{"description":"You are trying to connect to a node behind Tor. To do this you either need to have the Alby companion app installed or have Tor running. (When you\'re unsure, we recommend the Alby companion app.)","download_here":"Download the Alby companion here!","using_tor":"click here to continue if you use the Tor Browser","or":"Or:"},"toasts":{"connection_error":{"what_you_can_do":"Here is what you can do:","double_check":"Double check your connection details","if_ssl_errors":"and if there are SSL errors (e.g. ERR_CERT_AUTHORITY_INVALID), click \\"advanced\\" and proceed to accept the certificate.","visit_guides":"Visit our guides for more help"},"login_failed":{"password_reset":"Forgot your password? Click here"},"errors":{"invalid_credentials":"Invalid password. Please review your password and email address and try again."}},"account_menu":{"screen_reader":"Toggle Dropdown","title":"Switch account","options":{"account":{"add":"Add a new account","manage":"Manage accounts"}}},"publishers_table":{"payments":"payments","used":"used"},"badge":{"label":{"active":"ACTIVE","auth":"LOGIN"}}},"mk":{"nostr":{"getpublickey":"Read your public key.","nip04encrypt":"Encrypt data.","nip04decrypt":"Decrypt data.","signmessage":"Sign message with your key."},"commando":{"bkpr-listbalances":"List of all current and historical account balances.","checkmessage":"Verify that the signature was generated by a given node.","connect":"Establish a new connection with another node.","decode":"Decode a bolt11/bolt12/rune string.","decodepay":"Check and parse a bolt11 string.","disconnect":"Close an existing connection to a peer.","feerates":"Return the feerates that CLN will use.","fundchannel":"Open a payment channel with a peer by committing a funding transaction.","getinfo":"Get the summary of the node.","getroute":"Find the best route for the payment to a lightning node.","invoice":"Create the expectation of a payment.","keysend":"Send a payment to another node.","listforwards":"List all htlcs that have been attempted to be forwarded.","listfunds":"List all funds available.","listinvoices":"Get the status of all invoices.","listnodes":"List nodes the node has learned about via gossip messages.","listoffers":"List all offers or get a specific offer.","listpays":"Gets the status of all pay commands.","listpeers":"List nodes that are connected or have open channels with this node.","listsendpays":"Gets the status of all sendpay commands.","listtransactions":"List transactions tracked in the wallet.","multifundchannel":"Open multiple payment channels with nodes by committing a single funding transaction.","offer":"Create an offer.","pay":"Send a payment to a BOLT11 invoice.","sendpay":"Send a payment via a route.","setchannel":"Configure fees / htlc range advertized for a channel.","signmessage":"Create a signature from this node."},"lnd":{"getinfo":"Get the node information.","listchannels":"Get a description of all the open channels.","listinvoices":"Get a list of all invoices.","channelbalance":"Get a report on the total funds across all open channels.","walletbalance":"Get the total unspent outputs of the wallet.","openchannel":"Open a new channel.","connectpeer":"Establish a connection to a remote peer.","disconnectpeer":"Disconnect from a remote peer.","estimatefee":"Estimate the fee rate and total fees for a transaction.","getchaninfo":"Get the network announcement for the given channel.","getnetworkinfo":"Get basic stats about the known channel graph.","getnodeinfo":"Get the channel information for a node.","gettransactions":"Get a list of all transactions relevant to the wallet.","listpayments":"Get a list of all outgoing payments.","listpeers":"Get a list all currently active peers.","lookupinvoice":"Look up invoice details.","queryroutes":"Query for a possible route.","verifymessage":"Verify a signature over a msg.","sendtoroute":"Make a payment via the specified route.","decodepayreq":"Decode a payment request string.","routermc":"Read the internal mission control state.","addinvoice":"Create new invoices."}}}'),ht=JSON.parse('{"xk":{"welcome":{"nav":{"welcome":"Bienvenido","password":"Su Contrasea","connect":"Su cuenta de Lightning","done":"Hecho"},"intro":{"send":{"title":"Enviar en un Click","description":"Las transacciones de lightning ocurren en su navegador. No se necesita alt+tab ni escaneo de cdigos QR."},"paywall":{"title":"No ms molestos muros de pago","description":"Defina presupuestos individuales para sitios web para permitir flujos de pago sin interrupciones. No ms molestos muros de pago."},"privacy":{"title":"Privacidad primero","description":"Utilice lightning para autenticarse y controlar su privacidad."},"foss":{"title":"Gratis y de Cdigo Abierto","description":"Cdigo completamente abierto que puede ser auditado por cualquier persona. Sin estadsticas ni rastreadores. T tienes el control."},"actions":{"get_started":"Comience"}},"set_password":{"title":"Proteja su billetera","description":"Los datos de su cuenta Lightning se cifran de forma segura con una contrasea de desbloqueo. No olvides esta contrasea! Lo necesita para desbloquear el telfono por extensin (en este navegador)","choose_password":{"label":"Elige una contrasea:"},"confirm_password":{"label":"Confirme que lo escribi correctamente:"},"errors":{"enter_password":"Por favor, introduzca una contrasea.","confirm_password":"Por favor, confirme su contrasea.","mismatched_password":"Las contraseas no coinciden."}},"test_connection":{"ready":"Impresionante, ests listo para comenzar!","tutorial":"Ahora que ha conectado su billetera, le gustara realizar un tutorial?","try_tutorial":"Prubalo ahora","initializing":"Inicializando su cuenta. Por favor, espere, esto puede tardar un minuto...","connection_error":"Error de Conexin","review_connection_details":"Revise los detalles de su conexin.","connection_taking_long":"Intentar conectarse lleva ms tiempo de lo esperado... Sus datos son correctos? Se puede acceder a su nodo?","contact_support":"Si necesita ayuda, pngase en contacto con support@getalby.com","actions":{"delete_edit_account":"Eliminar una cuenta no vlida y volver a editarla"}}},"choose_connector":{"description":"Primero debe conectarse a una billetera lightning para poder interactuar con sus sitios web favoritos que aceptan pagos con Bitcoin lightning!","lnd":{"title":"LND","page":{"title":"Conctese a su nodo LND","description":"Necesita la URL de su nodo y una frase macarrn con permisos de lectura y envo (por ejemplo, admin.macaroon)"},"url":{"label":"Host y puerto de la API REST","placeholder":"https://url-de-su-nodo:8080"},"macaroon":{"label":"Frase macarrn (formato HEX)"},"or":"o","drag_and_drop":"Arrastra y suelta tu frase macarrn aqu o <0>navegar</0>","errors":{"connection_failed":"La conexin fall. Son correctas sus credenciales de LND?"}},"lnbits":{"title":"Cuenta LNbits","page":{"instructions":"En LNbits, elija la billetera que desea conectar, brala, haga clic en Informacin de API y copie la clave de administrador. Pgalo a continuacin:","title":"Conctese a <0>LNbits</0>"},"admin_key":{"label":"Clave de Administrador de LNbits","placeholder":"Su clave de administrador de 32 dgitos"},"url":{"label":"URL de LNbits"},"errors":{"connection_failed":"La conexin fall. Tiene la URL y la clave de administrador correctas?"}},"eclair":{"title":"Cuenta de Eclair","password":{"label":"Contrasea de Eclair"},"page":{"instructions":"Necesitas la URL y la contreasea de Eclair.","title":"Conectar a Eclair"},"url":{"label":"URL de Eclair","placeholder":"http://localhost:8080"}},"citadel":{"title":"Cuenta de Citadel","password":{"label":"Contrasea de Citadel"},"url":{"label":"URL de Citadel","placeholder":"http://citadel.local"},"page":{"title":"Conectar a nodo Citadel","instructions":"Esto actualmente no funciona si el A2F est activado."}},"umbrel":{"title":"Cuenta de Umbrel","page":{"title":"Conectar a Umbrel"}},"mynode":{"title":"MiNodo"},"start9":{"title":"Cuenta Start9"},"raspiblitz":{"title":"Cuenta RaspiBlitz"},"bitcoin_beach":{"title":"Billetera de Bitcoin Beach"},"bitcoin_jungle":{"title":"Billetera de Bitcoin Jungle"},"btcpay":{"title":"Servidor BTCPay","page":{"title":"Conctese a su nodo BTCPay LND","instructions":"Navegue a su servidor BTCPay e inicie sesin como administrador. Vaya a Configuracin del servidor > Servicios > LND Rest-Ver informacin. Luego haga clic en\\" Ver informacin del cdigo QR \\" y copie los datos del Cdigo QR. Pegar a continuacin:"},"config":{"label":"Datos de configuracin","placeholder":"config=https://su-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"La conexin fall. Es la URL de conexin de BTCPay correcta y accesible?"}},"lndhub_bluewallet":{"title":"Bluewallet","page":{"title":"Conctese a BlueWallet","description":"En BlueWallet, elija la billetera que desea conectar, brala, haga clic en \\"...\\", haga clic en Exportar / Copia de seguridad para mostrar el cdigo QR y escanearlo con su cmara web."},"uri":{"label":"URI de exportacin de BlueWallet"},"errors":{"invalid_uri":"URI de BlueWallet no vlido","connection_failed":"La conexin fall. Su URI de BlueWallet es correcta?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Conctese a LNDHub","description":"Ingrese su URI de credencial de LNDHub aqu o escanee el cdigo QR con su cmara web."},"uri":{"label":"URI de exportacin de LNDHub"},"errors":{"invalid_uri":"LN Dhubri No vlido","connection_failed":"La conexin fall. Es correcto el URI de LNDHub?"}}},"home":{"actions":{"send_satoshis":" Enviar Satoshis ","enable_now":"Habilitado ahora"},"recent_transactions":"Transacciones Recientes","transaction_list":{"tabs":{"outgoing":"Saliente","incoming":"Entrante"}},"allowance_view":{"recent_transactions":"Transacciones Recientes","allowance":"Subsidio","sats_used":"sat utilizados","no_transactions":"No hay transacciones en <0>{{name}}</0> todava."},"default_view":{"recent_transactions":"Transacciones Recientes","no_transactions":"An no se han hecho transacciones con Alby.","is_blocked_hint":"Alby est actualmente deshabilitado en {{host}}"}},"accounts":{"title":"Cuentas","actions":{"add_account":"Aadir Cuenta"},"edit":{"title":"Editar Cuenta","name":{"label":"Nombre"},"screen_reader":"Editar nombre de cuenta"},"export":{"title":"Cuenta de exportacin","screen_reader":"Exportar detalles de la cuenta","waiting":"esperando los datos de LndHub...","your_ln_address":"Su Direccin de Lightning:","tip_mobile":"Consejo: Use esta billetera con su dispositivo mvil","export_uri":"Credenciales de la URI LNDHub","scan_qr":"Importe esta billetera a Zeus o BlueWallet escaneando el cdigo QR."},"remove":{"confirm":"Est seguro de que desea eliminar la cuenta: {{name}}? \\nEsto no se puede deshacer. Si us esta cuenta para iniciar sesin en sitios web, es posible que pierda el acceso a ellos."}},"enable":{"allow":"Permitir que {{host}}:","request1":"Solicitar aprobacin de transacciones","request2":"Solicitar facturas e informacin sobre rayos","block_and_ignore":"Bloquear e ignorar {{host}}","title":"Conectar"},"unlock":{"unlock_to_continue":"Desbloquear para continuar","help_contact":{"part1":"Necesita ayuda? Contacto","part2":"Soporte de Alby"},"unlock_error":{"help":"Los datos de su cuenta estn encriptados con su contrasea de desbloqueo. Si realmente olvid su contrasea de desbloqueo, debe restablecer y agregar su cuenta Lightning nuevamente.","link":"Restablecer ahora y agregar una nueva cuenta"},"unlock_password":"Tu contrasea de desbloqueo"},"settings":{"title":"Configuracin","website_enhancements":{"title":"Mejoras del sitio web","subtitle":"Mejoras de propinas para Twitter, YouTube, etc."},"lnurl_auth":{"title":"Autenticacin-LNURL","hint":"es un protocolo de autenticacin genrico. Autentica al usuario mediante firmas digitales. El protocolo no requiere ninguna otra informacin de identificacin, como contraseas, correos electrnicos, nombres de usuario o similares. Con Alby, puede usar sus cuentas lightning para iniciar sesin de forma segura en sitios web. <br /> Para ser compatibles con otras billeteras, tuvimos que hacer algunos cambios que puedes configurar aqu. <br /> <strong>Idealmente, todas esas opciones estn desactivadas.</strong> salos solo si tienes cuentas antiguas.","legacy_lnurl_auth_202207":{"title":"Autenticacin-LNURL Legada","subtitle":"La generacin de claves para la autenticacin-LNURL ha cambiado (en julio de 2022). Alby no era compatible con otras implementaciones. Esto se cambi, pero ahora se utilizan diferentes claves de inicio de sesin. Si us autenticacin-LNURL para iniciar sesin antes, an puede habilitar el mtodo anterior. Esta opcin se eliminar ms adelante, asegrese de cambiar al nuevo inicio de sesin."},"legacy_lnurl_auth":{"title":"Firma heredada (Legacy) para LNDhub y LNbits","subtitle":"Se ha cambiado la firma de mensajes y el inicio de sesin con cuentas LNDhub (por ejemplo, BlueWallet) y LNbits (marzo de 2022). Si inici sesin con estas cuentas, an puede habilitar el mtodo de firma anterior. Esta opcin se eliminar ms adelante, asegrese de cambiar al nuevo inicio de sesin."}},"camera_access":{"title":"Acceso a la cmara","subtitle":"Para escanear cdigos QR","allow":"Permitir el acceso a la cmara","granted":"Permiso concedido"},"language":{"title":"Idioma","subtitle":"Alby se vuelve internacional! aydanos a traducir Alby en tu idioma"},"theme":{"title":"Tema","subtitle":"Utilice Alby en modo oscuro o claro","options":{"light":"Claro","dark":"Oscuro","system":"Sistema"}},"show_fiat":{"title":"Sat a Fiat","subtitle":"Convierta siempre a la moneda seleccionada desde el intercambio seleccionado"},"currency":{"title":"Moneda","subtitle":"Mostrar los importes adicionalmente en esta moneda"},"exchange":{"title":"Fuente del Intercambio","subtitle":"Fuente de los tipos de cambio de Bitcoin"},"personal_data":{"title":"Datos personales","description":"Los beneficiarios pueden solicitar que se enven datos adicionales con un pago. Estos datos no se comparten con nadie sin su consentimiento, siempre se le solicitar antes de que se enven estos datos junto con un pago."},"name":{"title":"Nombre","subtitle":"","placeholder":"Entre su nombre"},"email":{"title":"Correo electrnico","subtitle":"","placeholder":"Entre la direccin de su correo electrnico"},"change_password":{"title":"Cambiar la Contrasea","subtitle":"","screen_reader":"Cambiar la Contrasea","choose_password":{"label":"Introduzca una nueva contrasea:"},"confirm_password":{"label":"Confirmar nueva contrasea:"},"errors":{"enter_password":"Por favor, introduzca una contrasea.","confirm_password":"Por favor, confirme su contrasea.","mismatched_password":"Las contraseas no coinciden."},"success":"La contrasea se cambi correctamente","submit":{"label":"Cambiar"}},"browser_notifications":{"title":"Notificaciones del navegador","subtitle":"Notificaciones relacionadas con pagos y autenticacin."}},"send":{"title":"Enviar","qrcode":{"title":"Esperando para escanear"},"input":{"label":"Factura, Direccin Lightning o LNURL"}},"lnurlpay":{"amount":{"label":"Cantidad (Satoshi)"},"comment":{"label":"Comentario"},"name":{"label":"Nombre"},"email":{"label":"Email"}},"receive":{"title":"Recibir","actions":{"create_invoice":"Crear Factura"},"amount":{"label":"Cantidad","placeholder":"Cantidad en Satoshi..."},"description":{"label":"Descripcin","placeholder":"Por ej. Quin est enviando este pago?"},"success":"Pago recibido!","payment":{"waiting":"A la espera del pago...","status":"Consultar estado de pago"}},"publishers":{"publisher":{"allowance":{"title":"Tolerancia","used_budget":"sats utilizada"}}},"make_invoice":{"title":"Crear Factura","amount":{"label":"Cantidad (Satoshi)"},"memo":{"label":"Memorndum"},"errors":{"amount_too_small":"La cantidad es inferior al mnimo","amount_too_big":"La cantidad excede el mximo"}},"confirm_sign_message":{"title":"Firmar","content":"{{host}} te pide que firmes:"},"confirm_keysend":{"title":"Aprobar Pago","success":"Pago enviado! Preimagen: {{preimage}}","payment_summary":{"description":"Enviar pago a: {{destination}}"}},"confirm_payment":{"title":"Aprobar Pago","success":"Pago de {{amount}} exitoso!!","actions":{"pay_now":"Pagar Ahora"}},"lnurlauth":{"title":"Autenticacin","content_message":{"heading":"Quieres iniciar sesin en"},"submit":"Sesin","success":"Autenticado correctamente","errors":{"status":"Error: El estado de autenticacin no es correcto"}},"lnurlchannel":{"content_message":{"heading":"Solicitar un canal desde el nodo"},"success":"Solicitud de canal enviada correctamente","title":"Solicitud de Canal"},"lnurlwithdraw":{"title":"Retirar","content_message":{"heading":"Cantidad"},"amount":{"label":"Cantidad"},"success":"Solicitud de retiro enviada correctamente"}},"y0":{"password":"Contrasea","success":"xito","error":"Error","settings":"Ajustes","websites":"Sitios web","sats_one":"sat","sats_other":"sats","loading":"cargando","amount":"Cantidad","optional":"Opcional","feedback":"Retroalimentacin","copied":"Copiada!","actions":{"delete":"Borrar","edit":"Editar","next":"Siguiente","cancel":"Cancelar","confirm":"Confirmar","continue":"Continuar","connect":"Conectar","lock":"Cerrar","unlock":"Desbloquear","send":"Enviar","save":"Ahorrar","receive":"Recibir","close":"Cerrar","export":"Exportar","remove":"Remover","copy":"Copiar","open":"Abrir","back":"Volver"},"errors":{"connection_failed":"Error de conexin"},"description":"Descripcin"},"wx":{"allowance_menu":{"confirm_delete":"Est seguro de que desea eliminar este sitio web?","hint":"Esto restablecer el presupuesto actual","new_budget":{"label":"Nuevo presupuesto"},"edit_allowance":{"title":"Establecer un nuevo presupuesto","screen_reader":"Opciones de asignacin"}},"qrcode_scanner":{"title":"Escanee el Cdigo QR","actions":{"start_scanning":"Comience a escanear","stop_scanning":"Detener el escaneo"},"errors":{"allow_camera_access":"Permita el acceso a la cmara en la pantalla de configuracin."}},"transactionsTable":{"fee":"Comisin","preimage":"Preimagen","received":"Recibido","sent":"Enviado","boostagram":{"sender":"Remitente","message":"Mensaje","app":"Aplicacin","podcast":"Contenido Podcasts"}},"confirm_or_cancel":{"only_trusted":"Conctese solo con sitios en los que confe."},"budget_control":{"remember":{"label":"Recuerda y establece un presupuesto","description":"Puede establecer un saldo para que no se le solicite confirmacin de los pagos hasta que se agote."},"budget":{"label":"Presupuesto"}},"companion_download_info":{"description":"Ests intentando conectarte a un nodo detrs de Tor. Para hacer esto, necesitas tener instalada la aplicacin Alby companion o tener Tor en ejecucin. (Cuando no est seguro, le recomendamos la aplicacin complementaria Alby.)","download_here":"Descarguelo aqui!","using_tor":"haz clic aqu para continuar si utilizas el navegador Tor","or":"O:"},"toasts":{"connection_error":{"what_you_can_do":"Esto es lo que puedes hacer:","visit_guides":"Visita nuestras guas para obtener ms ayuda","double_check":"Verifique los detalles de su conexin","if_ssl_errors":"y si hay errores SSL (por ejemplo, ERR_CERT_AUTHORITY_INVALID), haga clic en \\"avanzado\\" y proceda a aceptar el certificado."},"errors":{"invalid_credentials":"Contrasea no vlida. Por favor, revise su contrasea y direccin de correo electrnico e intntelo de nuevo."},"login_failed":{"password_reset":"Olvid su contrasea? Haga clic aqu"}},"account_menu":{"title":"Cambiar de cuenta","options":{"account":{"add":"Agregar una nueva cuenta","manage":"Administrar cuentas"}},"screen_reader":"Alternar men desplegable"},"publishers_table":{"used":"usado","payments":"pagos"},"badge":{"label":{"active":"ACTIVO"}}}}'),pt=JSON.parse('{"xk":{"welcome":{"nav":{"welcome":"Benvenuto","password":"La tua Password","connect":"Il tuo Account Lightning","done":"Fatto"},"intro":{"send":{"title":"Invia in un Click","description":"Le transazioni Lightning avvengono direttamente nel tuo browser. Niente pi alt+tab o scansioni di QR necessari."},"paywall":{"title":"Niente pi fastidiosi paywall","description":"Definisci budget individuali per creare flussi di pagamento ai siti web. Basta noiosi paywalls."},"privacy":{"title":"La privacy prima di tutto","description":"Usa Lightning per autenticarti e mantenere la tua privacy."},"foss":{"title":"Gratuito e Open Source","description":"Codice completamente aperto che pu essere controllato da chiunque. Nessuna statistica o tracker. Sei tu ad avere il controllo."},"actions":{"get_started":"Inizia subito"}},"set_password":{"title":"Imposta una password di sblocco","description":"I dati del tuo account lightning sono crittografati in modo sicuro con una password di sblocco. Non dimenticare questa password! Ti serve per sbloccare l\'estensione Alby (in questo browser)","choose_password":{"label":"Scegli una password di sblocco:"},"confirm_password":{"label":"Confermiamo di averlo digitato correttamente:"},"errors":{"enter_password":"Per favore inserire una password.","confirm_password":"Si prega di confermare la password.","mismatched_password":"Le password non corrispondono."}},"test_connection":{"ready":"Fantastico, sei pronto per partire!","tutorial":"Ora che hai collegato il tuo portafoglio ti piacerebbe seguire un tutorial?","try_tutorial":"Provalo ora","initializing":"Stiamo inizializzando il tuo account. Per favore attendi, questa operazione potrebbe impiegare alcuni minuti","connection_error":"Errore di connessione","review_connection_details":"Controlla i dettagli della tua connessione.","connection_taking_long":"Il tentativo di connessione richiede pi tempo del previsto... I tuoi dati sono corretti? Il tuo nodo  raggiungibile?","contact_support":"Se hai bisogno di aiuto, contatta support@getalby.com","actions":{"delete_edit_account":"Elimina l\'account invalido e modificalo di nuovo"}}},"choose_connector":{"description":"Per poter interagire con i vostri siti web preferiti che accettano pagamenti in bitcoin lightning, dovete prima collegarvi a un portafoglio lightning!","lnd":{"title":"LND","page":{"title":"Connettiti al tuo nodo LND","description":"Sono necessari l\'URL del nodo e un macaroon con permessi di lettura e invio (ad esempio, admin.macaroon)"},"url":{"label":"Host e porta dell\'API REST","placeholder":"https://URL-del-tuo-nodo:8080"},"macaroon":{"label":"Macaroon (formato HEX)"},"or":"O","drag_and_drop":"Trascina e rilascia il tuo macaroon qui o<0>sfoglia</0>","errors":{"connection_failed":"Connessione non riuscita. Le tue credenziali LND sono corrette?"}},"lndhub_bluewallet":{"title":"Bluewallet","page":{"title":"Connettiti a BlueWallet","description":"Nell\'app BlueWallet, scegli il portafoglio che vuoi connettere, aprilo, clicca su \\"...\\", clicca su Export/Backup per mostrare il codice QR e scansionalo con la tua webcam."},"uri":{"label":"URI di esportazione BlueWallet"},"errors":{"invalid_uri":"URI di BlueWallet non valido","connection_failed":"Connessione non riuscita. L\'URI BlueWallet  corretto?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Connettiti a LNDHub","description":"Inserisci qui l\'URI delle credenziali LNDHub o scansiona il codice QR con la tua webcam."},"uri":{"label":"URI di esportazione LNDHub"},"errors":{"invalid_uri":"URI LNDHub non valido","connection_failed":"Connessione non riuscita. L\'URI LNDHub  corretto?"}},"lnbits":{"title":"LNbits","page":{"title":"Connetti a <0>LNbits</0>","instructions":"In LNbits, scegli il portafoglio che vuoi connettere, aprilo, clicca su API Info e copia la Admin Key. Incollala qui di seguito:"},"admin_key":{"label":"LNbits Admin Key","placeholder":"La tua admin key a 32 cifre"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Connessione non riuscita. L\'Admin Key e l\'URL sono corretti?"}},"eclair":{"title":"Eclair","page":{"title":"Connettiti a <0>Eclair</0>","instructions":"Hai bisogno della tua password e URL Eclair."},"password":{"label":"Password Eclair"},"url":{"label":"URL Eclair","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Collega un nodo <0>Citadel</0>","instructions":"Attualmente non funziona se  abilitata la 2FA."},"password":{"label":"Password Citadel"},"url":{"label":"URL Citadel","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Collega un nodo <0>Umbrel</0>","instructions":"Nella dashboard di Umbrel vai su <0>Connect Wallet</0>. Seleziona <0>lndconnect REST</0> e copia il <0>lndconnect URL</0>. (In base al tuo setup puoi usare una connessione locale o una connessione via TOR)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://tuonodo:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Collegati a <0>myNode</0>","instructions":"Nella homepage di myNode clicca sul bottone <0>Wallet</0> per il servizio <0>Lightning</0>.<1/> Dopo clicca sul bottone <0>Pair Wallet</0> sotto la tab <0>Status</0>. Inserisci la tua password quando richiesta.<1/> Seleziona il menu a tendina e scegli l\'opzione per effettuare il pairing. In base al tuo setup puoi utilizzare la connessione <0>Lightning (REST + Local IP)</0> o quella <0>Lightning (REST + Tor)</0>."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://tuonodo:8080?..."}},"start9":{"title":"Start9","page":{"title":"Collega il tuo nodo Embassy","instructions":"<0>Nota:</0> Al momento supportiamo soltanto LND, aggiungeremo il supporto per c-lightning in futuro!<1/>Nella dashboard di Embassy clicca sul servizio <0>Lightning Network Daemon</0>.<1/>Seleziona la tab <0>Proprieta\'</0>.<1/>Adesso copia l\'<0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://tuonodo:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Collega il tuo nodo <0>RaspiBlitz</0>","instructions1":"Hai bisogno dell\'indirizzo onion, la porta e il macaroon con permessi di lettura e scrittura (e.g admin.macaroon) del tuo nodo..<1/><1/>Entra attraverso <0>SSH</0> nel tuo <0>RaspiBlitz</0>.<1/>Lancia il comando <0>sudo cat /mnt/hdd/tor/lndrest/hostname</0>.<1/>Copia e incolla l\'indirizzo <0>.onion</0> di seguito.<1/>Aggiungi la tua <0>porta</0> subito dopo l\'indirizzo onion, la porta di default e\' <0>:8080</0>.","instructions2":"Seleziona <0>CONNECT</0>.<1/>Seleziona <0>EXPORT</0>.<1/>Seleziona <0>HEX</0>.<1/>Copia l\'<0>adminMacaroon</0>.<1/>Incolla il macaroon di seguito."},"rest_api_host":{"label":"host REST API","placeholder":"indirizzo-onion-del-tuo-nodo:porta"}},"bitcoin_beach":{"title":"Bitcoin Beach Wallet","page":{"title":"Connetti il tuo <0>Bitcoin Beach Wallet</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Connetti a <0>Bitcoin Jungle Wallet</0>"}},"galoy":{"phone_number":{"label":"Inserisci il tuo numero di telefono"},"sms_code":{"label":"Inserisci il codice di verifica SMS"},"jwt":{"label":"Inserisci il tuo token JWT","info":"Il login {{label}}  attualmente in fase di aggiornamento. Se sei un utente avanzato puoi recuperare il tuo token JWT effettuando il login via il <0>Web Wallet (wallet.mainnet.galoy.io)</0><1/><1/>Il token JWT assomiglia a: <2>eyJhbG...</2><1/><1/>"},"actions":{"login":"Login","request_sms_code":"Richiedi codice SMS"},"errors":{"failed_to_request_sms":"Problema durante la richiesta del codice SMS","failed_to_login_sms":"Impossibile accedere con il codice SMS","setup_failed":"Setup non riuscito","missing_jwt":"JWT mancante, impossibile effettuare il login.","invalid_jwt":"passato JWT non valido"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Connettiti al tuo nodo LND BTCPay","instructions":"Vai al tuo BTCPayServer e accedi come amministratore. Vai su Impostazioni server > Servizi > LND Rest - See information. Quindi fai clic su \\"Visualizza informazioni sul codice QR\\" e copia i dati del codice QR. Incollali qui sotto:"},"config":{"label":"Dati di configurazione","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Connessione fallita. L\'URL di connessione a BTCPay  corretto e accessibile?"}}},"home":{"actions":{"send_satoshis":" Invia Satoshis ","enable_now":"Attiva ora"},"recent_transactions":"Transazioni recenti","transaction_list":{"tabs":{"outgoing":"Uscite","incoming":"Entrate"}},"allowance_view":{"recent_transactions":"Transazioni recenti","allowance":"Margine","sats_used":"sats utilizzati","no_transactions":"Non ci sono ancora transazioni su <0>{{name}}</0>."},"default_view":{"recent_transactions":"Transazioni recenti","no_transactions":"Ancora nessuna transazione effettuata con Alby.","is_blocked_hint":"Alby  attualmente disabilitato su {{host}}"}},"accounts":{"title":"Accounts","actions":{"add_account":"Aggiungi account"},"edit":{"title":"Modifica account","name":{"label":"Nome"},"screen_reader":"Modifica nome dell\'account"},"export":{"title":"Esporta Account","screen_reader":"Esporta i dettagli dell\'account","waiting":"in attesa dei dati di LndHub...","your_ln_address":"Il tuo indirizzo Lightning:","tip_mobile":"Suggerimento: Utilizza questo portafoglio con il tuo dispositivo mobile","export_uri":"URI delle credenziali di LNDHub","scan_qr":"Importa questo portafoglio in Zeus o BlueWallet scansionando il QRCode."},"remove":{"confirm":"Sei sicuro di voler rimuovere l\'account: {{name}}? \\nQuesta operazione non pu essere annullata. Se hai usato questo account per accedere a siti web, potresti perdere l\'accesso a questi ultimi."}},"enable":{"title":"Connettiti","allow":"Consenti a {{host}} di:","request1":"Richiedi l\'approvazione per le transazioni","request2":"Richiedi fatture e informazioni lightning","block_and_ignore":"Blocca e ignora {{host}}"},"unlock":{"unlock_to_continue":"Sblocca per continuare","unlock_password":"La tua password di sblocco","help_contact":{"part1":"Hai bisogno di aiuto? Contatta","part2":"Supporto Alby"},"unlock_error":{"help":"I dati del tuo account sono criptati con la password di sblocco. Se haidimenticato la password di sblocco, devi reimpostare e aggiungere nuovamente il tuo account Lightning.","link":"Reimposta ora e aggiungi un nuovo account"},"errors":{"invalid_password":"Password non valida"}},"settings":{"title":"Impostazioni","browser_notifications":{"title":"Notifiche del browser","subtitle":"Notifiche relative ai pagamenti e all\'autenticazione."},"website_enhancements":{"title":"Miglioramenti del sito web","subtitle":"Miglioramenti per le mance su Twitter, YouTube, ecc."},"lnurl_auth":{"title":"LNURL-Auth","hint":" un protocollo di autenticazione generico. Autentica l\'utente utilizzando le firme digitali. Il protocollo non richiede altre informazioni di identificazione come password, e-mail, nomi utente o simili. Con Alby  possibile utilizzare i propri account lightning per accedere in modo sicuro ai siti web. Per essere compatibili con altri portafogli abbiamo dovuto apportare alcune modifiche che si possono configurare qui. <0>Idealmente tutte queste opzioni dovrebbero essere spente (OFF).</0> Usatele solo se avete vecchi account.","legacy_lnurl_auth_202207":{"title":"Legacy LNURL-Auth","subtitle":"La generazione di chiavi per LNURL-auth  cambiata (Luglio 2022). Alby non era compatibile con altre implementazioni. Abbiamo apportate delle modifiche, ma ora vengono utilizzate chiavi di accesso diverse. Se prima si utilizzava LNURL-auth per il login, si pu ancora attivare il vecchio metodo. Questa opzione sar rimossa in futuro; assicurarati di passare al nuovo login."},"legacy_lnurl_auth":{"title":"Firma tradizione per LNDhub e LNbits","subtitle":"La firma dei messaggi e il login con gli account LNDhub (ad esempio BlueWallet) e LNbits sono stati modificati (Marzo 2022). Se avete effettuato l\'accesso con questi account, potete ancora attivare il vecchio metodo di firma. Questa opzione sar rimossa in futuro; assicurati di passare al nuovo metodo di login."}},"camera_access":{"title":"Accesso alla telecamera","subtitle":"Per la scansione di codici QR","allow":"Consenti l\'accesso alla fotocamera","granted":"Autorizzazione concessa"},"language":{"title":"Lingua","subtitle":"Le traduzioni non sono ancora state completate al 100%. <0>Aiutaci a tradurre Alby nella tua lingua!</0>"},"theme":{"title":"Tema","subtitle":"Usa Alby in modalit scura o chiara","options":{"dark":"Scuro","light":"Chiaro","system":"Sistema"}},"show_fiat":{"title":"Da Sats a Fiat","subtitle":"Convertire sempre nella valuta selezionata rispetto all\'exchange selezionato"},"currency":{"title":"Valuta","subtitle":"Mostra gli importi anche in questa valuta"},"exchange":{"title":"Origine dell\'Exchange","subtitle":"Fonte dei tassi di cambio Bitcoin"},"personal_data":{"title":"Dati personali","description":"I beneficiari possono richiedere l\'invio di dati aggiuntivi insieme al pagamento. Questi dati non vengono condivisi con nessuno senza il tuo consenso che ti verr sempre richiesto prima che questi dati vengano inviati insieme ad un pagamento."},"name":{"title":"Nome","subtitle":"","placeholder":"Inserisci il tuo nome"},"email":{"title":"Email","subtitle":"","placeholder":"Inserisci il tuo indirizzo email"},"change_password":{"title":"Cambia password di sblocco","subtitle":"","screen_reader":"Cambia password di sblocco","choose_password":{"label":"Inserire una nuova password di sblocco:"},"confirm_password":{"label":"Conferma nuova password:"},"submit":{"label":"Modifica"},"errors":{"enter_password":"Inserisci una nuova password di sblocco.","confirm_password":"Confermare la password.","mismatched_password":"Le password non corrispondono."},"success":"La password  stata modificata con successo"},"nostr":{"title":"Nostr","hint":" un protocollo semplice e aperto che mira a creare reti sociali resistenti alla censura. Nostr funziona con chiavi crittografiche. Per pubblicare qualcosa si firma con la propria chiave e la si invia a pi rel.  possibile utilizzare Alby per gestire la propria chiave Nostr. Molte applicazioni Nostr vi permetteranno poi di utilizzare semplicemente la chiave dall\'estensione Alby.","private_key":{"title":"Chiave privata","subtitle":"La generazione di una chiave creer una nuova chiave basata sull\'account correntemente utilizzato. Assicurati di fare un backup della chiave privata.","generate":"Genera","warning":"In questo modo si canceller la vecchia chiave privata. Sei sicuro?","success":"Chiave privata criptata e salvata con successo."}}},"send":{"title":"Invia","qrcode":{"title":"In attesa di scansione"},"input":{"label":"Destinatario","hint":"Fattura, indirizzo Lightning o LNURL"}},"lnurlpay":{"amount":{"label":"Importo"},"comment":{"label":"Commento"},"name":{"label":"Nome"},"email":{"label":"Email"},"success":"Successo, pagamento inviato!"},"lnurlauth":{"title":"Autenticazione","content_message":{"heading":"Vuoi accedere a"},"submit":"Accedi","success":"Accesso riuscito su {{name}}","errors":{"status":"Errore: lo stato di autenticazione non  ok"}},"lnurlchannel":{"title":"Richiesta canale","content_message":{"heading":"Richiedi un canale dal nodo"},"success":"Richiesta di canale inviata correttamente a {{name}}"},"lnurlwithdraw":{"title":"Ritiro","content_message":{"heading":"Importo"},"amount":{"label":"Importo"},"success":"Richiesta di prelievo di {{amount}} inviata con successo a {{sender}}"},"receive":{"title":"Ricevi","actions":{"create_invoice":"Crea fattura"},"amount":{"label":"Importo","placeholder":"Importo in Satoshi..."},"description":{"label":"Descrizione","placeholder":"Ad esempio, chi sta inviando questo pagamento?"},"success":"Pagamento ricevuto!","payment":{"waiting":"in attesa del pagamento...","status":"Controlla lo stato del pagamento"}},"publishers":{"publisher":{"allowance":{"title":"Margine","used_budget":"sats utilizzati"}}},"make_invoice":{"title":"Crea fattura","amount":{"label":"Importo (Satoshi)"},"memo":{"label":"Memo"},"errors":{"amount_too_small":"L\'importo  inferiore al minimo","amount_too_big":"L\'importo supera il massimo"}},"confirm_sign_message":{"title":"Firma","content":"{{host}} ti chiede di firmare:"},"confirm_keysend":{"title":"Approva il pagamento","success":"Pagamento inviato! Preimmagine: {{preimage}}","payment_summary":{"description":"Invia il pagamento a: {{destination}}"}},"keysend":{"title":"Invia","success":"Pagamento inviato! Preimmagine: {{preimage}}","receiver":{"label":"Invia pagamento a"},"amount":{"label":"Importo (Satoshi)"}},"confirm_payment":{"title":"Approva il pagamento","success":"Pagamento di {{amount}} andato a buon fine!","actions":{"pay_now":"Paga ora"}},"nostr":{"title":"Nostr","allow":"Consenti a {{host}} di:","read_public_key":"Leggere la propria chiave pubblica","block_and_ignore":"Blocca e ignora {{host}}"},"alby":{"pre_connect":{"create_account":"Crea un nuovo account Alby per inviare e ricevere pagamenti bitcoin.","login_account":"Accedi per connettere il tuo account Alby esistente.","optional_lightning_note":{"part4":"Scopri di pi","part3":". Si tratta di un semplice modo per fare in modo che chiunque possa inviarti bitcoin sulla rete lightning.","part1":"Il tuo account Alby include anche un optional","part2":"Indirizzo Lightning"},"forgot_password":"Hai dimenticato la password?","title":"Il tuo account Alby","host_wallet":"Ospitiamo un portafoglio Lightning per te!","email":{"create":{"label":"Indirizzo email"},"login":{"label":"Indirizzo email o indirizzo Lightning"}},"set_password":{"choose_password":{"label":"Password"},"confirm_password":{"label":"Conferma password"},"errors":{"enter_password":"Inserisci una password.","confirm_password":"Si prega di confermare la password.","mismatched_password":"Le password non corrispondono."}}}},"choose_path":{"title":"Connettiti","description":"Per iniziare a utilizzare Alby per effettuare pagamenti online, collega il tuo portafoglio lightning all\'estensione.","alby":{"title":"Alby","description":"Registrati o utilizza il tuo account Alby per iniziare a pagare attraverso lightning in pochissimo tempo.","create_new":"Iscriviti"},"other":{"title":"Altri portafogli","description":"Collegati al tuo portafoglio o nodo Lightning e scegli tra vari connettori.","and_more":"& altro...","connect":"Connettiti"}}},"y0":{"password":"Password","success":"Successo","error":"Errore","settings":"Impostazioni","websites":"Siti web","loading":"caricamento","amount":"Importo","optional":"Facoltativo","feedback":"Valutazione","copied":"Copiato!","description":"Descrizione","description_full":"Descrizione completa","message":"Messaggio","help":"Aiuto","actions":{"back":"Indietro","delete":"Elimina","edit":"Modifica","next":"Avanti","open":"Aprire","cancel":"Annulla","confirm":"Conferma","continue":"Continua","connect":"Connettiti","lock":"Blocca","unlock":"Sblocca","send":"Invia","save":"Salva","receive":"Ricevi","close":"Chiudi","export":"Esporta","remove":"Rimuovi","copy":"Copia"},"errors":{"connection_failed":"Connessione fallita","payment_failed":"Pagamento fallito"},"response":"Risposta","sats_one":"sat","sats_other":"sats","success_message":"{{amount}}{{fiatAmount}} inviati a {{destination}}"},"wx":{"allowance_menu":{"confirm_delete":"Sei sicuro di voler eliminare questo sito web?","hint":"Questo azzerer il budget corrente","new_budget":{"label":"Nuovo budget"},"enable_login":{"title":"Abilita l\'accesso al sito web","subtitle":"Accedi automaticamente senza conferma quando il sito web lo richiede."},"edit_allowance":{"title":"Modifica tolleranza","screen_reader":"Opzioni di tolleranza"}},"qrcode_scanner":{"title":"Scansiona il codice QR","actions":{"start_scanning":"Avvia la scansione","stop_scanning":"Interrompi la scansione"},"errors":{"allow_camera_access":"Si prega di consentire l\'accesso alla fotocamera nella schermata delle impostazioni."}},"transactionsTable":{"fee":"Tassa","preimage":"Preimmagine","received":"Ricevuto","sent":"Inviato","boostagram":{"sender":"Mittente","message":"Messaggio","app":"App","podcast":"Podcast"}},"confirm_or_cancel":{"only_trusted":"Connettiti solo con siti attendibili."},"budget_control":{"remember":{"label":"Imposta e ricorda un budget","description":" possibile impostare un saldo per il quale, fino ad esaurimento, possono non essere richieste conferme di pagamento."},"budget":{"label":"Budget"}},"companion_download_info":{"description":"Stai cercando di connetterti a un nodo dietro Tor. Per fare ci  necessario avere installato l\'app companion Alby o avere Tor in esecuzione. (Se non sei sicuro, ti consigliamo l\'app complementare Alby.)","download_here":"Scarica il companion Alby qui!","using_tor":"clicca qui per continuare se stai utilizzando il Browser Tor","or":"Oppure:"},"toasts":{"connection_error":{"what_you_can_do":"Ecco cosa puoi fare:","double_check":"Ricontrolla i dettagli della tua connessione","if_ssl_errors":"e se ci sono errori SSL (ad esempio ERR_CERT_AUTHORITY_INVALID), clicca su \\"avanzato\\" e procedi all\'accettazione del certificato.","visit_guides":"Visita le nostre guide per ulteriore assistenza"},"login_failed":{"password_reset":"Hai dimenticato la password? Clicca qui"},"errors":{"invalid_credentials":"Password non valida. Controlla la password e l\'indirizzo e-mail e riprova."}},"account_menu":{"screen_reader":"Attiva/disattiva menu a tendina","title":"Cambia account","options":{"account":{"add":"Aggiungi un nuovo account","manage":"Gestisci gli account"}}},"publishers_table":{"payments":"pagamenti","used":"usati"},"badge":{"label":{"active":"ATTIVO"}}}}'),gt=JSON.parse('{"xk":{"welcome":{"nav":{"welcome":"Bem-vindo","password":"Senha","connect":"Sua Conta","done":"Feito"},"intro":{"send":{"title":"Clicou pagou","description":"Realize pagamentos enquanto voc navega na web"},"paywall":{"title":"Chega de paywalls irritantes","description":"Habilite pagamentos automticos e estabelea limites de gastos personalizados para cada site."},"privacy":{"title":"Privacidade","description":"Use a rede relmpago do bitcoin para autenticar em sites e tenha controle sobre sua privacidade."},"foss":{"title":"Gratuito e de cdigo aberto","description":"Cdigo completamente aberto e que pode ser auditado por qualquer pessoa. Sem estatsticas ou rastreadores. Voc est no controle."},"actions":{"get_started":"Comear"}},"set_password":{"title":"Definir uma senha de desbloqueio","description":"Os dados armazenados na extenso Alby so criptografados com uma senha de desbloqueio. No esquea esta senha! Voc precisa dela para usar a extenso Alby (neste navegador)","choose_password":{"label":"Escolha uma senha de desbloqueio:"},"confirm_password":{"label":"Confirme se voc digitou corretamente:"},"errors":{"enter_password":"Insira uma senha.","confirm_password":"Confirme sua senha.","mismatched_password":"As senhas no correspondem."}},"test_connection":{"ready":"Perfeito, tudo configurado!","tutorial":"Agora que voc j conectou a carteira, gostaria de ler o tutorial?","try_tutorial":"Experimente agora","initializing":"Iniciando sua conta. Aguarde, pode demorar um pouco...","connection_error":"Erro de conexo","review_connection_details":"Revise os detalhes da conexo.","connection_taking_long":"A tentativa de conexo est demorando mais do que o esperado... Os dados esto corretos? O servidor est acessvel?","contact_support":"Se precisar de ajuda, entre em contato com support@getalby.com","actions":{"delete_edit_account":"Remover conta invlida e editar novamente"}}},"choose_connector":{"description":"Conecte-se a uma carteira ou servidor disponveis abaixo","lnd":{"title":"LND","page":{"title":"Conecte no servidor LND","description":"Voc precisa da URL do servidor e um macaroon com permisso de envio e leitura (ex. admin.macaroon)"},"url":{"label":"REST API host e porta","placeholder":"https://seu-servidor-url:8080"},"macaroon":{"label":"Macaroon (formato HEX)"},"or":"OU","drag_and_drop":"Arraste e solte o macaroon aqui ou clique em <0>procurar</0>","errors":{"connection_failed":"Falha na conexo. As credenciais LND esto corretas?"}},"lnbits":{"title":"LNbits","page":{"title":"Conecte na <0>LNbits</0>","instructions":"Na LNbits, escolha a carteira que voc deseja conectar, abra ela, clica em API Info a e copie a Chave Admin e cole abaixo:"},"admin_key":{"label":"Chave Admin LNbits","placeholder":"Sua chave admin de 32 dgitos"},"url":{"label":"URL LNbits"},"errors":{"connection_failed":"Falha na conexo. A URL e a chave Admin esto corretas?"}},"eclair":{"title":"Eclair","page":{"title":"Conecte no servidor <0>Eclair</0>","instructions":"Voc precisa da URL e senha da Eclair."},"url":{"label":"URL Eclair","placeholder":"http://localhost:8080"},"password":{"label":"Senha Eclair"}},"citadel":{"title":"Citadel","page":{"title":"Conecte no servidor <0>Citadel</0>","instructions":"No funciona se o 2FA estiver ativado."},"password":{"label":"Senha Citadel"},"url":{"label":"URL Citadel","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Conecte no servidor <0>Umbrel</0>","instructions":"Na Umbrel v at <0>Connect Wallet</0>. Selecione <0>lndconnect REST</0> e copie a <0>lndconnect URL</0>. (Dependendo da sua configurao voc pode usar a conexo local ou a conexo Tor.)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://seuservidor:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Conecte na <0>myNode</0>","instructions":"No myNode clique em <0>Wallet</0> boto para seu servio <0>lightning</0>.<1/> Agora clique em <0>Pair Wallet</0> boto abaixo da tab <0>Status</0>. Insira sua senha quando solicitada.<1/> Selecione o menu suspenso e escolha uma opo de emparelhamento. Dependendo da sua configurao voc pode escolher <0>Conexo lightning (REST + Local IP)</0> ou conexo <0>lightning (REST + Tor)</0>."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://seuservidor:8080?..."}},"start9":{"title":"Start9","page":{"title":"Conecte no seu servidor <0>Embassy</0>","instructions":"<0>Note:</0> Atualmente somente a LND  suportada mas ns adicionaremos suporte para a c-lightning no futuro!<1/>No seu Embassy clique em service <0>lightning network Daemon</0>.<1/>Selecione a tab <0>Properties</0>.<1/>Agora copie o <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://seuservidor:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Conecte seu servidor <0>RaspiBlitz</0>","instructions2":"Selecione <0>CONNECT</0>.<1/>Selecione <0>EXPORT</0>.<1/>Selecione <0>HEX</0>.<1/>Copie o <0>adminMacaroon</0>.<1/>Cole o macaroon no campo abaixo.","instructions1":"Voc precisa do endereo onion, porta, e um macaroon com permisso de leitura e envio (e.g. admin.macaroon).<1/><1/><0>SSH</0> no seu <0>RaspiBlitz</0>.<1/>Execute o comando <0>sudo cat /mnt/hdd/tor/lndrest/hostname</0>.<1/>Copie e cole o endereo <0>.onion</0> no campo abaixo.<1/>Adicione a <0>porta</0> aps o endereo onion, a porta padro  <0>:8080</0>."},"rest_api_host":{"label":"REST API host","placeholder":"seu-endereo-servidor-onion:porta"}},"bitcoin_beach":{"title":"Carteira Bitcoin Beach","page":{"title":"Conecte na <0>Carteira Bitcoin Beach</0>"}},"bitcoin_jungle":{"title":"Carteira Bitcoin Jungle","page":{"title":"Conecte na <0>Carteira Bitcoin Jungle</0>"}},"btcpay":{"title":"Servidor BTCPay","page":{"title":"Conecte no servidor LND BTCPay","instructions":"Navegue at a BTCPayServer e acesse como administrador. V at Configuraes>Servios>LND Rest - Ver informao. Depois Clique \\"Ver Cdigo QR\\" e copie os dados do Cdigo QR. Cole os dados abaixo:"},"config":{"label":"Dados config","placeholder":"config=https://seu-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Falha na conexo. A URL de conexo do servidor BTCPay est correta e acessvel?"}},"galoy":{"phone_number":{"label":"Insira seu nmero de telefone"},"sms_code":{"label":"Insira o cdigo de verificao SMS"},"jwt":{"label":"Insira o token JWT"},"actions":{"login":"Login","request_sms_code":"Solicitar cdigo SMS"},"errors":{"failed_to_request_sms":"Falha ao solicitar cdigo SMS","failed_to_login_sms":"Falha ao logar usando o cdigo SMS","setup_failed":"Falha na configurao","missing_jwt":"JWT ausente, no foi possvel fazer login."}},"lndhub_bluewallet":{"title":"Bluewallet","page":{"title":"Conectar na BlueWallet","description":"Na BlueWallet, escolha a carteira que voc deseja conectar, abra ela, clique em \\"...\\", clique em Exportar/Backup para exibir o cdigo QR e leia o cdigo com sua webcam."},"uri":{"label":"Exportar URI BlueWallet"},"errors":{"invalid_uri":"URI BlueWallet invlida","connection_failed":"Falha na conexo. A URI BlueWallet est correta?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Conectar na LNDHub","description":"Insira sua credencial URI LNDHub aqui ou leia o cdigo QR com sua webcam."},"uri":{"label":"Exportar URI LNDHub"},"errors":{"invalid_uri":"URI LNDHub invlida","connection_failed":"Falha na conexo. A URI LNDHub est correta?"}},"commando":{"page":{"title":"Conecte no servidor Core Lightning","instructions":"Certifique-se de conectar em um servidor Core Lightning que esteja na verso 0.12.0 ou mais recente, o plugin commando instalado e rodando e o servidor acessvel na rede relmpago. Crie um rune executando o comando \'lightning-cli commando-rune\'."},"title":"Core Lightning","pubkey":{"label":"Chave pblica"},"rune":{"label":"Rune"},"port":{"label":"Porta"},"privKey":{"label":"Chave privada local (Gerada automaticamente)"},"config":{"label":"Dados config","placeholder":"config=https://seu-btc-pay.org/lnd-config/212121/lnd.config"},"proxy":{"label":"Websocket proxy"},"host":{"label":"Host"},"errors":{"connection_failed":"Falha na conexo. O servidor Core Lightning est online e usando o plugin comando?"}},"title":"Conectar Carteira Bitcoin"},"home":{"actions":{"send_satoshis":" Enviar Satoshis ","enable_now":"Ativar"},"recent_transactions":"Transaes Recentes","transaction_list":{"tabs":{"incoming":"Recebidas","outgoing":"Enviadas"}},"allowance_view":{"recent_transactions":"Transaes Recentes","allowance":"Limite de gastos","sats_used":"sats usados","no_transactions":"Sem transaes em <0>{{name}}</0>."},"default_view":{"recent_transactions":"Transaes Recentes","no_transactions":"Voc ainda no realizou transaes com a Alby.","is_blocked_hint":"A Alby est desativada em {{host}}","block_removed":"{{host}} ativado. Por favor, recarregue o site."}},"accounts":{"title":"Contas","actions":{"add_account":"Adicionar conta"},"edit":{"title":"Editar Conta","name":{"label":"Nome"},"screen_reader":"Editar nome da conta"},"export":{"title":"Exportar Conta","screen_reader":"Exportar detalhes da conta","waiting":"aguardando dados LndHub...","your_ln_address":"Seu Endereo Relmpago:","tip_mobile":"Dica: Use esta carteira no seu dispositivo mvel","export_uri":"Credenciais URI LNDHub","scan_qr":"Leia o Cdigo QR para importar esta carteira na Zeus ou BlueWallet."},"remove":{"confirm":"Tem certeza de que deseja remover a conta: {{name}}? \\nEsta ao no pode ser desfeita. Se voc usou essa conta para logar em sites, poder perder o acesso a eles."}},"enable":{"allow":"Permitir este site:","request1":"Solicitar aprovao para transaes","request2":"Gerar faturas e solicitar informaes do servidor","block_and_ignore":"Bloquear e ignorar {{host}}","title":"Conectar","block_added":"{{host}} adicionado na lista de bloqueio, por favor recarregue o site."},"unlock":{"unlock_to_continue":"Desbloqueie para continuar","unlock_password":"Sua senha de desbloqueio","help_contact":{"part1":"Precisa de ajuda? Contato","part2":"Suporte Alby"},"unlock_error":{"help":"Os dados da sua conta so criptografados com sua senha de desbloqueio. Se voc realmente esqueceu sua senha de desbloqueio, ser necessrio redefinir e adicionar sua conta novamente.","link":"Redefinir e adicionar nova conta"},"errors":{"invalid_password":"Senha incorreta"}},"settings":{"title":"Configuraes","website_enhancements":{"title":"Pagamentos em redes sociais","subtitle":"Reconhece automaticamente Endereos Relmpago em perfis do Twitter, Youtube, etc, facilitando o envio de pagamentos."},"lnurl_auth":{"title":"LNURL-Auth","hint":" um protocolo de autenticao. Ele autentica o usurio usando assinaturas digitais. O protocolo no requer nenhuma outra informao de identificao, como senhas, e-mails, nomes de usurio... Com a Alby voc pode usar suas contas bitcoin para logar em sites com segurana. Para ser compatvel com outras carteiras, tivemos que fazer algumas alteraes que voc pode configurar aqui. Por padro essas opes esto DESLIGADAS. Use-as apenas se voc tiver contas antigas.","legacy_lnurl_auth_202207":{"title":"LNURL-Auth antigo","subtitle":"A gerao de chave para a LNURL-auth mudou em (julho de 2022). A Alby no era compatvel com outras implementaes. Isso foi corrigido, mas agora uma nova chave est sendo usada como padro. Se voc usou a LNURL-auth para logar em sites antes de julho de 2022, ainda poder fazer login habilitando o mtodo antigo. Esta opo ser removida posteriormente, certifique-se de alterar suas contas nos sites para usar o novo login."},"legacy_lnurl_auth":{"title":"Mtodo antigo de autenticao para LNDhub e LNbits","subtitle":"A assinatura de mensagens e o login com as contas LNDhub (por exemplo, BlueWallet) e LNbits foram alteradas em (maro de 2022). Se voc fez login com essas contas, ainda poder ativar o mtodo de assinatura antigo. Esta opo ser removida posteriormente, certifique-se de alterar suas contas nos sites para usar o novo login."}},"camera_access":{"title":"Acesso  cmera","subtitle":"Acesso para ler cdigos QR","allow":"Permitir acesso  cmera","granted":"Permisso concedida"},"language":{"title":"Idioma","subtitle":"As tradues ainda no esto 100% concludas. <0>Nos ajude a traduzir a Alby para o seu idioma!</0>"},"theme":{"title":"Tema","subtitle":"Use a Alby no modo escuro ou claro","options":{"dark":"Escuro","light":"Claro","system":"Sistema"}},"show_fiat":{"title":"Sats para Fiat","subtitle":"Exibe na Alby os valores em Sats e em uma moeda adicional de sua escolha"},"currency":{"title":"Moeda","subtitle":"Escolha a moeda adicional para exibir os valores na Alby"},"exchange":{"title":"Servio provedor de cotaes","subtitle":"Escolha o servio que fornecer as cotaes do bitcoin exibidas na Alby"},"personal_data":{"title":"Dados pessoais","description":"Alguns servios podem solicitar dados adicionais no pagamento. Esses dados no so compartilhados sem o seu consentimento e voc sempre ser informado com antecedncia sobre os dados a serem enviados."},"name":{"title":"Nome","subtitle":"","placeholder":"Insira seu nome"},"email":{"title":"E-mail","subtitle":"","placeholder":"Insira seu endereo de e-mail"},"change_password":{"title":"Alterar senha de desbloqueio","subtitle":"","screen_reader":"Alterar senha de desbloqueio","choose_password":{"label":"Insira uma nova senha de desbloqueio:"},"confirm_password":{"label":"Confirme a nova senha:"},"errors":{"enter_password":"Insira uma nova senha de desbloqueio.","mismatched_password":"As senhas no correspondem.","confirm_password":"Confirme a senha."},"submit":{"label":"Alterar"},"success":"Senha alterada com sucesso"},"browser_notifications":{"subtitle":"Exibe no navegador notificaes da Alby relacionadas a pagamentos e autenticao.","title":"Notificaes do navegador"},"nostr":{"title":"Nostr","private_key":{"subtitle":"Cole ou gere uma nova chave privada. Ao gerar uma chave, ela ser criada a partir da conta atual que voc usa. Certifique-se de fazer backup desta chave privada. <0>Saiba mais </0>","warning":"Isso excluir sua chave privada antiga. Tem certeza de que deseja prosseguir?","title":"Chave privada","generate":"Gerar","success":"A chave privada foi encriptada e salva com sucesso."},"hint":" um protocolo simples e aberto que visa criar redes sociais resistentes  censura. Os perfis na rede Nostr so chaves criptogrficas. Para publicar algo, voc assina com sua chave e a informao  enviada para servidores. Na Alby voc pode usar e gerenciar seu perfil em diferentes aplicaes que suportam esse recurso."}},"send":{"title":"Enviar","qrcode":{"title":"Aguardando leitura"},"input":{"label":"Destinatrio","hint":"Fatura, Endereo Relmpago ou LNURL"}},"lnurlpay":{"amount":{"label":"Quantia"},"comment":{"label":"Comentrio"},"name":{"label":"Nome"},"email":{"label":"E-mail"},"success":"Sucesso, pagamento enviado!"},"receive":{"title":"Receber","actions":{"create_invoice":"Gerar Fatura"},"amount":{"label":"Quantia","placeholder":"Quantia em Satoshi..."},"description":{"label":"Descrio","placeholder":"Ex. Quem est enviando este pagamento?"},"success":"Pagamento recebido!","payment":{"waiting":"aguardando pagamento...","status":"Verificar status do pagamento"}},"publishers":{"publisher":{"allowance":{"title":"Limite de gastos","used_budget":"sats usados"}},"title":"Sua lista de sites ","description":"Sites onde voc j usou a Alby","no_info":"Nenhum site ainda.","discover":"Descubra Sites"},"make_invoice":{"title":"Gerar Fatura","amount":{"label":"Quantia"},"memo":{"label":"Memo"},"errors":{"amount_too_small":"O valor  menor que o mnimo","amount_too_big":"O valor excede o mximo"}},"confirm_sign_message":{"title":"Assinar","content":"Este site solicita que voc assine:"},"confirm_keysend":{"title":"Aprovar Pagamento","success":"Pagamento enviado! Pr-imagem: {{preimage}}","payment_summary":{"description":"Enviar pagamento para: {{destination}}"}},"confirm_payment":{"title":"Aprovar pagamento","success":"Pagamento de {{amount}} realizado com sucesso!","actions":{"pay_now":"Pague agora"}},"lnurlauth":{"content_message":{"heading":"Voc deseja logar em"},"success":"Login realizado com sucesso em {{name}}","errors":{"status":"Erro: O status de autenticao no est correto"},"submit":"Logar","title":"Autenticao"},"lnurlwithdraw":{"title":"Resgatar","content_message":{"heading":"Quantia"},"amount":{"label":"Quantia"},"success":"{{amount}} recebidos com sucesso de {{sender}}"},"lnurlchannel":{"success":"Solicitao de canal de pagamento enviada com sucesso para {{name}}","title":"Solicitar Canal de Pagamento","content_message":{"heading":"Solicitar canal de pagamento do servidor"}},"keysend":{"title":"Enviar","success":"Pagamento enviado! Pr-imagem: {{preimage}}","receiver":{"label":"Enviar pagamento para"},"amount":{"label":"Quantia (Satoshi)"}},"nostr":{"allow":"Permitir este site:","block_and_ignore":"Bloquear e ignorar {{host}}","read_public_key":"Ler sua chave pblica","title":"Nostr","confirm_sign_message":{"remember":{"label":"Lembrar minha escolha e no perguntar novamente"}},"content":"Este site solicita que voc assine:","permissions":{"decrypt":"Descriptografar dados","encrypt":"Criptografar dados","allow_sign":"Permitir {{host}} assinar:"},"block_added":"{{host}} adicionado na lista de bloqueio, por favor recarregue o site."},"confirm_request_permission":{"title":"Aprovar Solicitao","allow":"Permitir este site executar:","always_allow":"Lembrar minha escolha e no perguntar novamente"},"discover":{"title":"Explore o ecossistema ","description":"Sites onde voc j usou a Alby","list":{"trading":"Negociao","gaming":"Jogos","entertaiment":"Entretenimento","shopping":"Compras"}},"choose_path":{"alby":{"description":"Crie uma conta ou realize o login na sua conta atual da Alby.","create_new":"Criar nova conta","title":"Alby"},"other":{"title":"Outras carteiras","and_more":"& mais...","description":"Conecte-se em sua carteira bitcoin ou escolha um dos vrios servidores de carteira suportados.","connect":"Conectar"},"description":"Voc pode usar Alby, criando uma conta conosco ou conectando-se  sua prpria carteira bitcoin.","title":"Como voc deseja usar a Alby?"},"alby":{"pre_connect":{"title":"Sua conta Alby","set_password":{"errors":{"enter_password":"Insira uma senha.","confirm_password":"Confirme sua senha.","mismatched_password":"As senhas no correspondem."},"confirm_password":{"label":"Confirmar Senha"},"choose_password":{"label":"Senha"}},"login_account":"Acessar sua conta atual da Alby.","host_wallet":"A custdia dos seus bitcoins  por nossa conta!","create_account":"Crie uma nova conta Alby para enviar e receber pagamentos em bitcoin.","email":{"create":{"label":"Endereo de E-mail"},"login":{"label":"Endereo de E-mail ou Endereo Relmpago"}},"forgot_password":"Esqueceu sua senha?","optional_lightning_note":{"part4":"saiba mais","part3":".  o jeito mais simples para voc receber Bitcoins na Rede Relmpago.","part2":"endereo relmpago","part1":"Ao criar uma conta Alby, voc pode escolher um"},"optional_lightning_address":{"title":"nmeros e letras, pelo menos 3 caracteres","suffix":"@getalby.com","label":"Escolha um Endereo Relmpago (opcional)"},"errors":{"create_wallet_error":"Falha ao logar ou criar uma nova conta. Se precisar de ajuda, entre em contato com support@getalby.com"}}}},"y0":{"password":"Senha","success":"Sucesso","error":"Erro","settings":"Configuraes","websites":"Atividade","sats_one":"sat","sats_other":"sats","loading":"carregando","amount":"Quantia","optional":"Opcional","feedback":"Feedback","copied":"Copiado!","actions":{"delete":"Remover","edit":"Editar","next":"Prximo","open":"Abrir","cancel":"Cancelar","confirm":"Confirmar","continue":"Continuar","connect":"Conectar","lock":"Bloquear","unlock":"Desbloquear","send":"Enviar","save":"Salvar","receive":"Receber","close":"Fechar","export":"Exportar","remove":"Remover","copy":"Copiar","back":"Voltar","log_in":"Logar"},"errors":{"connection_failed":"Falha na conexo","payment_failed":"Pagamento Falhou"},"description":"Descrio","description_full":"Descrio Completa","message":"Mensagem","help":"Ajuda","response":"Resposta","success_message":"{{amount}}{{fiatAmount}} enviados para {{destination}}","advanced":"Avanado","discover":"Explorar","confirm_password":"Confirmar Senha"},"wx":{"allowance_menu":{"confirm_delete":"Tem certeza de que deseja remover este site?","hint":"O limite atual ser redefinido","new_budget":{"label":"Novo limite"},"edit_allowance":{"title":"Definir um novo limite de gastos","screen_reader":"Opes limite de gastos"},"enable_login":{"title":"Login Relmpago","subtitle":"O login  realizado de forma automtica, sem necessidade de confirmao."}},"qrcode_scanner":{"title":"Ler Cdigo QR","actions":{"start_scanning":"Iniciar leitura","stop_scanning":"Parar leitura"},"errors":{"allow_camera_access":"Permita o acesso  cmera na tela configuraes."}},"transactionsTable":{"fee":"Taxa","preimage":"Pr-imagem","received":"Recebida","sent":"Enviada","boostagram":{"sender":"Enviado por","message":"Mensagem","app":"App","podcast":"Podcast"},"open_location":"Abrir site"},"confirm_or_cancel":{"only_trusted":"Conecte-se apenas nos sites em que voc confia."},"budget_control":{"remember":{"label":"Lembrar e definir um limite de gastos","description":"Voc pode definir um valor limite para pagamentos automticos (sem necessidade de confirmao)."},"budget":{"label":"Limite de gastos"}},"companion_download_info":{"description":"Voc est tentando se conectar em um servidor que usa Tor. Para funcionar, voc precisa ter o aplicativo complementar Alby instalado ou ter o Tor em execuo. (Se tiver de dvidas, recomendamos o aplicativo complementar Alby.)","download_here":"Faa o download do app complementar da Alby aqui!","using_tor":"clique aqui para continuar se voc usa o navegador Tor","or":"Ou:"},"toasts":{"connection_error":{"what_you_can_do":"Aqui est o que voc pode fazer:","double_check":"Verifique novamente os detalhes da sua conexo","if_ssl_errors":"e se houver erros de SSL (por exemplo, ERR_CERT_AUTHORITY_INVALID), clique em \\"avanado\\" e prossiga para aceitar o certificado.","visit_guides":"Acesse nossos tutoriais para obter mais ajuda"},"login_failed":{"password_reset":"Esqueceu sua senha? Clique aqui"},"errors":{"invalid_credentials":"Senha incorreta. Verifique se sua senha e endereo de e-mail esto corretos e tente novamente."}},"account_menu":{"title":"Selecionar conta","options":{"account":{"add":"Adicionar nova conta","manage":"Gerenciar contas"}}},"publishers_table":{"payments":"pagamentos","used":"usados"},"badge":{"label":{"active":"LIMITE DE GASTOS","auth":"LOGIN RELMPAGO"}}}}'),mt=JSON.parse('{"xk":{"welcome":{"nav":{"welcome":"Vlkommen","password":"Ditt lsenord","connect":"Ditt Lightning-konto","done":"Klar"},"intro":{"send":{"title":"Skicka med ett klick","description":"Lightning-verfringar sker direkt i din webblsare. Inget behov av att alt-tabba eller skanna QR-koder."},"paywall":{"title":"Inga fler irriterande betalvggar","description":"Ange beloppsgrnser fr specifika webbplatser fr att frenkla betalning. Inga fler irriterande betalvggar."},"privacy":{"title":"Integritet frmst","description":"Anvnd lightning fr autentisering och behll din integritet."},"foss":{"title":"Fri och ppen kllkod","description":"Helt ppen kllkod som kan granskas och verifieras av vem som helst. Ingen statistik eller spr. Du har full kontroll."},"actions":{"get_started":"Kom igng"}},"set_password":{"title":"Ange ett lsenord fr upplsning","description":"Ditt Lightning-konto r krypterat med ett lsenord fr upplsning. Glm inte detta lsenord! Du behver lsenordet fr att kunna lsa upp Alby-tillgget (i denna webblsare)","choose_password":{"label":"Vlj ett lsenord fr upplsning:"},"confirm_password":{"label":"Bekrfta att du skrivit in lsenordet korrekt:"},"errors":{"enter_password":"Skriv in ett lsenord.","confirm_password":"Bekrfta ditt lsenord.","mismatched_password":"Lsenorden verensstmmer inte."}},"test_connection":{"ready":"Fantastiskt, du r redo att brja!","tutorial":"Nu nr du anslutit din plnbok, vill du g igenom en guide?","try_tutorial":"Prova genast","initializing":"Initialiserar ditt konto. Vnta, det kan ta ngon minut...","connection_error":"Anslutningsfel","review_connection_details":"Se ver dina anslutningsinstllningar.","connection_taking_long":"Anslutningen tar lngre tid n frvntat... r instllningarna korrekta? r din nod nbar?","contact_support":"Om du behver hjlp, kontakta support@getalby.com","actions":{"delete_edit_account":"Radera ogiltigt konto och redigera igen"}}},"choose_connector":{"description":"Du behver koppla en lightning-plnbok s att du kan interagera med dina favoritwebbplatser som accepterar bitcoin lightning-betalningar!","lnd":{"title":"LND","page":{"title":"Anslut din LND-nod","description":"Du behver URLen till din nod samt en macaroon med tilltelse att lsa och skicka (t.ex. admin.macaroon)"},"url":{"label":"REST API vrd och port","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon (HEX-format)"},"or":"ELLER","drag_and_drop":"Drag och slpp din macaroon hr eller <0>blddra</0>","errors":{"connection_failed":"Koppling misslyckades. r dina LND-uppgifter korrekta?"}},"lndhub_bluewallet":{"title":"Bluewallet","page":{"title":"Anslut Bluewallet","description":"I Bluwallet, vlj den plnbok du vill koppla till, ppna den och klicka p \\"...\\", drefter Export/Backup fr att visa QR-koden och scanna den med webb-kameran."},"uri":{"label":"BlueWallet Export URI"},"errors":{"invalid_uri":"Ogiltig BlueWallet URI","connection_failed":"Anslutningen misslyckades. r din BlueWallet URI korrekt?"}},"lndhub_go":{"title":"LNDHub","page":{"title":"Koppla till LNDHub","description":"Fyll i dina LNDHub-uppgifter eller skanna QR-koden med din webbkamera."},"uri":{"label":"LNDHub Export URI"},"errors":{"invalid_uri":"Ogiltig LNDHub URI","connection_failed":"Koppling misslyckades. r din LNDHub URI korrekt?"}},"lnbits":{"title":"LNbits","page":{"title":"Anslut <0>LNbits</0>","instructions":"I LNBits, vlj den plnbok du vill ansluta, ppna den och klicka p API info och kopiera Admin-nyckeln. Klistra in nedan:"},"admin_key":{"label":"LNBits Admin-nyckel","placeholder":"Din 32-siffriga admin-nyckel"},"url":{"label":"LNbits URL"},"errors":{"connection_failed":"Anslutningen misslyckades. Har du korrekt URL och Admin-nyckel?"}},"eclair":{"title":"Eclair","page":{"title":"Anslut <0>Eclair</0>","instructions":"Du behver din Eclair URL och lsenord."},"password":{"label":"Eclair lsenord"},"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"}},"citadel":{"title":"Citadel","page":{"title":"Anslut <0>Citadel</0>-nod","instructions":"Detta fungerar fr tillfllet inte om 2FA r aktiverat."},"password":{"label":"Citadel lsenord"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"}},"umbrel":{"title":"Umbrel","page":{"title":"Anslut <0>Umbrel</0>-nod","instructions":"I Umbrels versikt, g till <0>Connect Wallet</0>. Vlj <0>lndconnect REST</0> och kopiera <0>lndconnect URL</0>. (Avhngigt dina instllningar kan du antingen anvnda den lokala Tor-anslutningen.)"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"mynode":{"title":"myNode","page":{"title":"Anslut <0>myNode</0>","instructions":"P din myNode-hemsida, klicka p knappen <0>Wallet</0> som motsvarar din <0>Lightning</0>-tjnst. <1/> Klicka p knappen <0>Pair Wallet</0> under fliken <0>Status</0>. Fyll i ditt lsenord nr du blir tillfrgad.<1/> I droppmenym vlj kopplingsalternativ. Beroende p dina instllningar kan du antingen vlja <0>Lightning (REST + Local IP)</0> eller <0>Lightning (REST + Tor)</0>."},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"start9":{"title":"Start9","page":{"title":"Anslut din <0>Embassy</0>-nod","instructions":"<0>Notis:</0> Vi stdjer endast LND men kommer lgga till std fr c-lightning i framtiden!<1/>P din Embassy-versikt klicka p <0>Lightning Network Daemon</0> tjnst.<1/>Vlj fliken <0>Properties</0>.<1/>Kopiera <0>LND Connect REST URL.</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"raspiblitz":{"title":"RaspiBlitz","page":{"title":"Anslut din <0>RaspiBlitz</0>-nod","instructions1":"Du behver din nods onion-adress, port och en macaroon med tilltelse att lsa och skicka (t.ex. admin.macaroon).<1/><1/><0>SSH</0> in p din <0>RaspiBlitz</0>.<1/>Kr kommando <0>sudo cat /mnt/hdd/tor/lndrest/hostname</0>.<1/>Kopiera och klistra in din <0>.onion</0> adress i fltet nedan.<1/>Lgg till din <0>port</0> efter onion-adressen. Frvald port r <0>:8080</0>.","instructions2":"Vlj <0>CONNECT</0>.<1/>Vlj <0>EXPORT</0>.<1/>Vlj <0>HEX</0>.<1/>Kopiera <0>adminMacaroon</0>.<1/>Klistra in macaroon i fltet nedan."},"rest_api_host":{"label":"REST API vrd","placeholder":"din-onion-nod-adress:port"}},"bitcoin_beach":{"title":"Bitcoin Beach plnbok","page":{"title":"Anslut <0>Bitcoin Beach Wallet</0>"}},"bitcoin_jungle":{"title":"Bitcoin Jungle Wallet","page":{"title":"Anslut en <0>Bitcoin Jungle Wallet</0>"}},"galoy":{"phone_number":{"label":"Fyll i ditt telefonnummer"},"sms_code":{"label":"Fyll i verifieringskoden du fick via SMS"},"jwt":{"label":"Fyll i din JWT-token","info":"Inloggning till {{label}} uppdateras. Om du r avancerad anvndare kan du hmta din JWT token genom att logga in via <0>Web Wallet (wallet.mainnet.galoy.io)</0><1/><1/> JWT ser ut som fljer: <2>eyJhbG...</2><1/><1/>"},"actions":{"login":"Logga in","request_sms_code":"Begr SMS-kod"},"errors":{"failed_to_request_sms":"Begran om SMS-kod misslyckades","failed_to_login_sms":"Inloggning med SMS-kod misslyckades","setup_failed":"Konfiguration misslyckades","missing_jwt":"JWT saknas, kunde inte logga in.","invalid_jwt":"ogiltig JWT godkndes"}},"btcpay":{"title":"BTCPay Server","page":{"title":"Anslut din BTCPay LND-nod","instructions":"Navigera till din BTCPayServer och logga in som administratr. G till Server Settings > Services > LND Rest - See information. Klicka p \\"See QR Code information\\" och kopiera QR-koddatan. Klistra in nedan:"},"config":{"label":"Konfigurationsdata","placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config"},"errors":{"connection_failed":"Anslutning misslyckades. r URL till BTCPay-anslutningen korrekt och tillgnglig?"}}},"home":{"actions":{"send_satoshis":" Skicka Satoshis ","enable_now":"Aktivera Nu"},"recent_transactions":"Senaste Transaktioner","transaction_list":{"tabs":{"outgoing":"Utgende","incoming":"Inkommande"}},"allowance_view":{"recent_transactions":"Senaste Transaktioner","allowance":"Beloppsgrns","sats_used":"spenderade sats","no_transactions":"Inga transaktioner fr <0>{{name}}</0> nnu."},"default_view":{"recent_transactions":"Senaste Transaktioner","no_transactions":"Inga transaktioner genomfrda med Alby.","is_blocked_hint":"Alby r fr tillfllet avstngt hos {{host}}"}},"accounts":{"title":"Konton","actions":{"add_account":"Lgg till konto"},"edit":{"title":"Redigera konto","name":{"label":"Namn"},"screen_reader":"Redigera namn p konto"},"export":{"title":"Exportera Konto","screen_reader":"Exportera kontodetaljer","waiting":"vntar p LndHub- data...","your_ln_address":"Din Lightning-adress:","tip_mobile":"Tips: Anvnd denna plnbok p din mobila enhet","export_uri":"LNDHub Credentials URI","scan_qr":"Importera denna plnbok till Zeus eller BlueWallet genom att skanna QR-kod."},"remove":{"confirm":"r du sker p att du vill radera kontot: {{name}}?\\nDetta kan inte ngras. Om du loggat in p webbplatser med kontot kan du frlora tkomst till dessa."}},"enable":{"title":"Anslut","allow":"Tillt {{host}} att:","request1":"Begr tilltelse fr transaktioner","request2":"Begr faktura och lightning-information","block_and_ignore":"Blockera och ignorera {{host}}"},"unlock":{"unlock_to_continue":"Ls upp fr att fortstta","unlock_password":"Ditt upplsningslsenord","help_contact":{"part1":"Behvver du hjlp? Kontakta","part2":"Alby Support"},"unlock_error":{"help":"Ditt konto r krypterat med ditt upplsningslsenord. Om du har glmt ditt upplsningslsenord behver du nollstlla och lgga till ditt Lightning-konto p nytt.","link":"Nollstll och skapa ett nytt konto"},"errors":{"invalid_password":"Ogiltigt lsenord"}},"settings":{"title":"Instllningar","browser_notifications":{"title":"Webblsarnotiser","subtitle":"Betalnings- och autentiseringsrelaterade notiser."},"website_enhancements":{"title":"Webbplatsfrbttringar","subtitle":"Dricks fr Twitter, YouTube, m.fl."},"lnurl_auth":{"title":"LNURL-Auth","hint":"r ett generiskt autentiseringsprotokoll. Detta autentiserar anvndarens digitala signaturer. Protokollet krver ingen ytterligare information ssom lsenord, e-post, anvndarnamn eller liknande. Med Alby kan du anvnd dina lightning-konton fr att logga in p webbplatser. Fr att vara kompatibla med andra plnbcker var vi tvungna att gra vissa frndringar som du kan konfigurera hr. <0>I bsta fall r alla instllningar AV.</0> Anvnd enbart om du har ldre konton.","legacy_lnurl_auth_202207":{"title":"ldre LNURL-Auth","subtitle":"Nyckelgenereringen fr LNURL-auth har ndrats (Juli 2022). Alby var inte kompatibelt med andra implementationer. Detta har ndrats och nu anvnds andra inloggningsnycklar. Om du tidigare anvnt LNURL-auth fr att logga in, kan du fortfarande aktivera denna metod. Denna mjlighet kommer frsvinna s se till att byta till det nya inloggningsfrfarandet."},"legacy_lnurl_auth":{"title":"ldre signeringsmetod fr LNDHub och LNbits","subtitle":"Meddelandesignering och inloggning med LNDhub (t.ex. BlueWallet) och LNbits-konton har ndrats (Mars 2022). Om du tidigare loggade in med dessa konton kan du fortfarande aktivera den ldre signeringsmetoden. Denna mjlighet kommer frsvinna s se till att byta till det nya inloggningsfrfarandet."}},"camera_access":{"title":"tkomst till kamera","subtitle":"Fr att skanna QR-koder","allow":"Tillt tkomst till kamera","granted":"tkomst beviljad"},"language":{"title":"Sprk","subtitle":"versttningarna r inte fullstndiga till 100%. <0>Hjlp oss att verstta Alby till ditt sprk!</0>"},"theme":{"title":"Tema","subtitle":"Anvnd Alby i mrkt eller ljust lge","options":{"dark":"Mrkt","light":"Ljust","system":"System"}},"show_fiat":{"title":"Sats till Fiat","subtitle":"Vxla alltid till denna valuta frn vald valutavxlare"},"currency":{"title":"Valuta","subtitle":"Visa belopp ven i denna valuta"},"exchange":{"title":"Klla fr vxlingskurs","subtitle":"Klla fr Bitcoin vxlingskurs"},"personal_data":{"title":"Personlig information","description":"Betalande kan be att f skicka ytterligare information tillsammans med en verfring. Denna information delas inte med ngon annan utan ditt samtycke. Du kommer alltid f frgan om denna information ska skickas tillsammmans med en verfring."},"name":{"title":"Namn","subtitle":"","placeholder":"Skriv ditt namn"},"email":{"title":"E-post","subtitle":"","placeholder":"Skriv in din e-postadress"},"change_password":{"title":"ndra upplsningslsenord","subtitle":"","screen_reader":"nda upplsningslsenord","choose_password":{"label":"Skriv in det nya upplsningslsenordet:"},"confirm_password":{"label":"Bekrfta nytt lsenord:"},"submit":{"label":"ndra"},"errors":{"enter_password":"Skriv in ett nytt upplsningslsenord.","confirm_password":"Bekrfta ditt lsenord.","mismatched_password":"Lsenorden verensstmmer inte."},"success":"Lsenordet har ndrats"},"nostr":{"title":"Nostr","hint":"r ett enkelt och ppet protokoll som syftar till att skapa sociala ntverk som r motstndskraftiga mot censur. Nostr anvnder kryptografiska nycklar. Fr att publicera ngot signerar du med dina nycklar som skickas till multipla reler. Du kan anvnda Alby fr att hantera din Nostr-nyckel. Flertalet Nostr-applikationer tillter dig att anvnda nyckeln med hjlp av Alby-tillgget.","private_key":{"title":"Privat nyckel","subtitle":"Generering av nyckel skapar en ny nyckel baserat p det konto du anvnder fr tillfllet. Se till att skerhetskopiera den privata nyckeln.","generate":"Skapa","warning":"Detta raderar din gamla privata nyckel. r du sker?","success":"Privat nyckel krypterad och sparad."}}},"send":{"title":"Skicka","qrcode":{"title":"Vntar p skanning"},"input":{"label":"Mottagare","hint":"Faktura, Lightning-adress eller LNURL"}},"lnurlpay":{"amount":{"label":"Belopp"},"comment":{"label":"Kommentar"},"name":{"label":"Namn"},"email":{"label":"E-post"},"success":"Klart. Betalning skickad!"},"lnurlauth":{"title":"Autentisering","content_message":{"heading":"Vill du logga in till"},"submit":"Logga in","success":"Inloggad till {{name}}","errors":{"status":"Fel: Auth status r felaktig"}},"lnurlchannel":{"title":"Kanalbegran","content_message":{"heading":"Begr kanal frn nod"},"success":"Kanalbegran skickad"},"lnurlwithdraw":{"title":"terkalla","content_message":{"heading":"Belopp"},"amount":{"label":"Belopp"},"success":"terkallelse av begran om {{amount}} skickad till {{sender}}"},"receive":{"title":"Tag emot","actions":{"create_invoice":"Skapa Faktura"},"amount":{"label":"Belopp","placeholder":"Belopp i Satoshi..."},"description":{"label":"Beskrivning","placeholder":"T.ex. vem skickar denna betalning?"},"success":"Betalning mottagen!","payment":{"waiting":"vntar p betalning...","status":"Kontrollera betalningsstatus"}},"publishers":{"publisher":{"allowance":{"title":"Beloppsgrns","used_budget":"spenderade sats"}}},"make_invoice":{"title":"Skapa Faktura","amount":{"label":"Belopp (Satoshi)"},"memo":{"label":"PM"},"errors":{"amount_too_small":"Belopp understiger minimigrnsen","amount_too_big":"Belopp verstiger maximumgrnsen"}},"confirm_sign_message":{"title":"Signera","content":"{{host}} begr signering:"},"confirm_keysend":{"title":"Godknn Betalning","success":"Betalning skickad! Frhandsvy: {{preimage}}","payment_summary":{"description":"Skicka betalning till: {{destination}}"}},"keysend":{"title":"Skicka","success":"Betalning skickad! Frhandsvy: {{preimage}}","receiver":{"label":"Skicka betalning till"},"amount":{"label":"Belopp (Satoshi)"}},"confirm_payment":{"title":"Godknn Betalning","success":"Betalning av {{amount}} genomfrd!","actions":{"pay_now":"Betala nu"}},"nostr":{"title":"Nostr","allow":"Tillt {{host}} att:","read_public_key":"Visa din publika nyckel","block_and_ignore":"Blockera och ignorera {{host}}"}},"y0":{"password":"Lsenord","success":"Genomfrt","error":"Misslyckades","settings":"Instllningar","websites":"Webbplatser","loading":"laddar","amount":"Belopp","optional":"Valfritt","feedback":"terkoppling","copied":"Kopierad!","description":"Beskrivning","description_full":"Fullstndig beskrivning","message":"Meddelande","help":"Hjlp","actions":{"back":"Tillbaka","delete":"Radera","edit":"Redigera","next":"Nsta","open":"ppna","cancel":"Avbryt","confirm":"Bekrfta","continue":"Fortstt","connect":"Anslut","lock":"Ls","unlock":"Ls upp","send":"Skicka","save":"Spara","receive":"Tag emot","close":"Stng","export":"Exportera","remove":"Tag bort","copy":"Kopiera"},"errors":{"connection_failed":"Anslutning misslyckades","payment_failed":"Betalning misslyckades"}},"wx":{"allowance_menu":{"confirm_delete":"r du sker p att du vill radera webbplatsen?","hint":"Detta nollstller nuvarande budget","new_budget":{"label":"Ny budget"},"enable_login":{"title":"Aktivera webbplatsinloggning","subtitle":"Logga in automatiskt utan bekrftelse nr webbplatsen begr det."},"edit_allowance":{"title":"Redigera Beloppsgrns","screen_reader":"Alternativ fr Beloppsgrns"}},"qrcode_scanner":{"title":"Skanna QR-kod","actions":{"start_scanning":"Pbrja skanning","stop_scanning":"Avsluta skanning"},"errors":{"allow_camera_access":"Tillt kameratkomst under instllningar."}},"transactionsTable":{"fee":"Avgift","preimage":"Frhandsvy","received":"Mottaget","sent":"Skickat","boostagram":{"sender":"Avsndare","message":"Meddelande","app":"App","podcast":"Podcast"}},"confirm_or_cancel":{"only_trusted":"Anslut endast till tillfrlitliga webbplatser."},"budget_control":{"remember":{"label":"Kom ihg att ange en budget","description":"Du kan ange en beloppsgrns utan att behva bekrfta betalningar frrn grnsen r uppndd."},"budget":{"label":"Budget"}},"companion_download_info":{"description":"Du frsker ansluta till en nod bakom Tor. Du behver antingen ha Albys kompanjons-app installerad eller ha Tor i bakgrunden. (Om du r osker rekommenderar vi Albys kompanjons-app.)","download_here":"Ladda ner Albys kompanjons-app hr!","using_tor":"klicka hr fr att fortstta anvnda Tor-webblsaren","or":"Eller:"},"toasts":{"connection_error":{"what_you_can_do":"Du kan gra detta:","double_check":"Kontrollera dina anslutningsinstllningar","if_ssl_errors":"och om det frekommer SSL-fel (t.ex. ERR_CERT_AUTHORITY_INVALID), klicka p \\"advanced\\" och fortstt genom att godknna certifikatet.","visit_guides":"Besk vr guide fr ytterligare hjlp"},"login_failed":{"password_reset":"Glmt ditt lsenord? Klicka hr"},"errors":{"invalid_credentials":"Ogitligt lsenord. Kontrollera ditt lsenord, e-postadress och frsk igen."}},"account_menu":{"screen_reader":"ppna droppmeny","title":"Vxla konto","options":{"account":{"add":"Lgg till nytt konto","manage":"Hantera konton"}}},"publishers_table":{"payments":"betalningar","used":"utnyttjat"},"badge":{"label":{"active":"AKTIV"}}}}'),bt=JSON.parse('{"xk":{"welcome":{"nav":{"welcome":"","password":"","done":"","connect":""},"intro":{"paywall":{"title":"","description":""},"privacy":{"description":"","title":""},"actions":{"get_started":""},"foss":{"title":"","description":""},"send":{"title":"","description":"alt+tab"}},"set_password":{"title":"","description":"! Alby Extension","choose_password":{"label":""},"confirm_password":{"label":""},"errors":{"enter_password":"","confirm_password":"","mismatched_password":""}},"test_connection":{"ready":"!","try_tutorial":"","initializing":"","connection_error":"","tutorial":"","review_connection_details":"","connection_taking_long":"","contact_support":"support@getalby.com","actions":{"delete_edit_account":""}}},"choose_connector":{"lnd":{"errors":{"connection_failed":"LND"},"page":{"description":"URLmacaroonadmin.macaroon","title":"LND"},"url":{"label":"REST API","placeholder":"https://your-node-url:8080"},"macaroon":{"label":"Macaroon(HEX)"},"drag_and_drop":"macaroon<0></0>","title":"LND","or":""},"bitcoin_jungle":{"page":{"title":"<0></0>"},"title":""},"eclair":{"url":{"label":"Eclair URL","placeholder":"http://localhost:8080"},"page":{"title":" <0>Eclair</0>","instructions":" Eclair URL "},"password":{"label":"Eclair"},"title":"Eclair"},"citadel":{"page":{"title":"<0>Citadel</0>","instructions":"2FA"},"password":{"label":"Citadel"},"url":{"label":"Citadel URL","placeholder":"http://citadel.local"},"title":"Citadel"},"galoy":{"jwt":{"label":"JWT","info":"{{label}}<0>wallet.mainnet.galoy.io</0><1/><1/>JWTJWT<2>eyJhbG...</2><1/><1/>"},"actions":{"login":"","request_sms_code":""},"errors":{"setup_failed":"","failed_to_request_sms":"","failed_to_login_sms":"","missing_jwt":"JWT","invalid_jwt":"JWT"},"sms_code":{"label":""},"phone_number":{"label":""}},"btcpay":{"page":{"instructions":"BTCPayServer >  > LND Rest -  \\" \\"","title":"BTCPay LND"},"title":"BTCPay Server","errors":{"connection_failed":"BTCPayURL"},"config":{"label":"","placeholder":"config=http://your-btc-pay.org/lnd-config/212121/lnd.config"}},"bitcoin_beach":{"page":{"title":"<0></0>"},"title":""},"commando":{"config":{"placeholder":"config=https://your-btc-pay.org/lnd-config/212121/lnd.config","label":""},"errors":{"connection_failed":"Core Lightningcommando"},"title":"Core Lightning","page":{"title":"Core Lightning","instructions":"Core Lightning 0.12.0commando\'lightning-cli commando-rune\'"},"host":{"label":""},"pubkey":{"label":""},"rune":{"label":"Rune"},"proxy":{"label":"Websocket"},"port":{"label":""},"privKey":{"label":""}},"start9":{"page":{"instructions":"<0></0>LNDc-lightning<1/>Embassy<0>Lightning Network Daemon</0><1/><0></0><1/><0>LNDREST URL</0>","title":"<0>Embassy</0>"},"rest_url":{"placeholder":"lndconnect://yournode:8080?...","label":"lndconnect REST URL"},"title":"Start9"},"raspiblitz":{"page":{"instructions2":"<0>CONNECT</0><1/><0>EXPORT</0><1/><0>HEX</0><1/><0>adminMacaroon</0><1/>Macaroon","instructions1":"macaroonadmin.macaroon<1/><1/><0>SSH</0><0>RaspiBlitz</0>.<1/><0>sudo cat /mnt/hdd/tor/lndrest/hostname</0><1/><0>.onion</0><1/>onion<0></0><0>:8080</0>","title":"<0>RaspiBlitz</0>"},"rest_api_host":{"label":"REST API","placeholder":"your-node-onion-address:port"},"title":"RaspiBlitz"},"lndhub_bluewallet":{"title":"Bluewallet","page":{"title":"BlueWallet","description":"BlueWallet\\"...\\"/"},"uri":{"label":"BlueWalletURI"},"errors":{"invalid_uri":"BlueWallet URI","connection_failed":"BlueWallet URI"}},"lndhub_go":{"title":"LNDHub","page":{"title":"LNDHub","description":"LNDHubURI"},"errors":{"invalid_uri":"LNDHub URI","connection_failed":"LNDHub URI"},"uri":{"label":"LNDHubURI"}},"lnbits":{"url":{"label":"LNbits URL"},"errors":{"connection_failed":"URL"},"title":"LNbits","page":{"title":"<0>LNbits</0>","instructions":"LNbitsAPI"},"admin_key":{"label":"LNbits","placeholder":"32"}},"umbrel":{"page":{"title":"<0>Umbrel</0>","instructions":"Umbrel<0></0><0>lndconnect REST</0><0>lndconnect URL</0>(Tor"},"title":"Umbrel","rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}},"description":"!","mynode":{"title":"myNode","page":{"title":"<0>myNode</0>","instructions":"myNode<0>Lightning</0><0>Wallet</0><1/> <0>Status</0><0>Pair Wallet</0><1/><0>REST +IP</0><0>REST + Tor</0>"},"rest_url":{"label":"lndconnect REST URL","placeholder":"lndconnect://yournode:8080?..."}}},"home":{"recent_transactions":"","allowance_view":{"recent_transactions":"","no_transactions":"<0>{{name}}</0>","sats_used":"sats","allowance":""},"default_view":{"no_transactions":"Alby","is_blocked_hint":"Alby  {{host}} ","recent_transactions":""},"actions":{"send_satoshis":"  ","enable_now":""},"transaction_list":{"tabs":{"outgoing":"","incoming":""}}},"accounts":{"edit":{"title":"","name":{"label":""},"screen_reader":""},"export":{"waiting":" LndHub ...","title":"","your_ln_address":"","tip_mobile":"","export_uri":"LNDHubURI","scan_qr":"ZeusBlueWallet","screen_reader":""},"title":"","remove":{"confirm":"{{name}}\\n"},"actions":{"add_account":""}},"unlock":{"help_contact":{"part2":"Alby","part1":"? "},"unlock_to_continue":"","errors":{"invalid_password":""},"unlock_error":{"help":"","link":""},"unlock_password":""},"publishers":{"publisher":{"allowance":{"used_budget":"","title":""}}},"settings":{"nostr":{"private_key":{"title":"","generate":"","warning":"","success":"","subtitle":""},"title":"Nostr","hint":"Nostr  Alby  Nostr  Nostr  Alby extension"},"lnurl_auth":{"title":"LNURL-","legacy_lnurl_auth":{"title":"LNDhub  LNbits ","subtitle":"LNDhubBlueWalletLNbits20223"},"hint":"Alby <0></0>","legacy_lnurl_auth_202207":{"subtitle":"LNURL-auth20227AlbyLNURL-auth","title":" LNURL-Auth"}},"browser_notifications":{"title":"","subtitle":""},"language":{"subtitle":"100% <0>Alby</0>","title":""},"name":{"title":"","placeholder":""},"change_password":{"screen_reader":"","errors":{"confirm_password":"","mismatched_password":"","enter_password":""},"choose_password":{"label":""},"success":"","title":"","confirm_password":{"label":""},"submit":{"label":""}},"title":"","theme":{"options":{"system":"","dark":"","light":""},"title":"","subtitle":" Alby"},"website_enhancements":{"subtitle":"TwitterYouTube","title":""},"camera_access":{"subtitle":"","allow":"","granted":"","title":""},"show_fiat":{"subtitle":"","title":""},"exchange":{"title":"","subtitle":""},"personal_data":{"title":"","description":""},"email":{"title":"","placeholder":""},"currency":{"title":"","subtitle":""}},"keysend":{"receiver":{"label":""},"success":"! Preimage: {{preimage}}","amount":{"label":"()"},"title":""},"enable":{"block_and_ignore":" {{host}}","title":"","allow":"{{host}}","request2":"","request1":""},"send":{"input":{"hint":"LNURL","label":""},"title":"","qrcode":{"title":""}},"lnurlauth":{"submit":"","content_message":{"heading":""},"title":"","success":" {{name}}","errors":{"status":""}},"lnurlwithdraw":{"content_message":{"heading":""},"amount":{"label":""},"title":"","success":"{{sender}}{{amount}}"},"receive":{"actions":{"create_invoice":""},"amount":{"placeholder":"...","label":""},"description":{"label":"","placeholder":""},"success":"!","payment":{"waiting":"...","status":""},"title":""},"make_invoice":{"memo":{"label":""},"errors":{"amount_too_small":"","amount_too_big":""},"title":"","amount":{"label":"()"}},"confirm_sign_message":{"content":"{{host}} ","title":""},"confirm_request_permission":{"allow":"{{host}}","always_allow":"{{host}}{{method}}","title":""},"nostr":{"title":"Nostr","allow":"{{host}}","read_public_key":"","block_and_ignore":" {{host}}","confirm_sign_message":{"remember":{"label":""}},"permissions":{"allow_sign":"{{host}}","decrypt":"","encrypt":""},"content":"{{host}} "},"lnurlpay":{"amount":{"label":""},"comment":{"label":""},"email":{"label":""},"success":"","name":{"label":""}},"confirm_payment":{"actions":{"pay_now":""},"title":"","success":"{{amount}}!"},"confirm_keysend":{"title":"","success":"! : {{preimage}}","payment_summary":{"description":" {{destination}}"}}},"y0":{"actions":{"lock":"","receive":"","close":"","back":"","next":"","cancel":"","delete":"","edit":"","export":"","remove":"","continue":"","connect":"","unlock":"","send":"","save":"","open":"","confirm":"","copy":""},"errors":{"connection_failed":"","payment_failed":""},"feedback":"","success":"","description_full":"","password":"","settings":"","websites":"","amount":"","optional":"","description":"","message":"","sats_one":"sat","sats_other":"sats","success_message":"{{amount}}{{fiatAmount}}{{destination}}","response":"","help":"","copied":"","error":"","loading":"","advanced":""},"wx":{"toasts":{"login_failed":{"password_reset":""},"errors":{"invalid_credentials":""},"connection_error":{"visit_guides":"","what_you_can_do":"","double_check":"","if_ssl_errors":"SSLERR_CERT_AUTHORITY_INVALID \\" \\""}},"account_menu":{"title":"","options":{"account":{"add":"","manage":""}},"screen_reader":""},"allowance_menu":{"hint":"","confirm_delete":"","new_budget":{"label":""},"enable_login":{"title":"","subtitle":""},"edit_allowance":{"title":"","screen_reader":""}},"transactionsTable":{"boostagram":{"podcast":"","message":"","app":"","sender":""},"received":"","sent":"","fee":"","preimage":"","open_location":""},"confirm_or_cancel":{"only_trusted":""},"budget_control":{"remember":{"label":"","description":""},"budget":{"label":""}},"qrcode_scanner":{"title":"","actions":{"stop_scanning":"","start_scanning":""},"errors":{"allow_camera_access":""}},"badge":{"label":{"active":"","auth":""}},"companion_download_info":{"or":"","using_tor":"Tor","download_here":"Alby","description":" Tor  Alby  Tor  Alby "},"publishers_table":{"used":"","payments":""}}}'),yt={en:{translation:dt.xk,common:dt.y0,components:dt.wx,permissions:dt.mk},es:{translation:ht.xk,common:ht.y0,components:ht.wx},it:{translation:pt.xk,common:pt.y0,components:pt.wx},"pt-BR":{translation:gt.xk,common:gt.y0,components:gt.wx},sv:{translation:mt.xk,common:mt.y0,components:mt.wx},"zh-CN":{translation:bt.xk,common:bt.y0,components:bt.wx}};Re.use(ft).use(et).init({fallbackLng:"en",ns:["translation","common","components","permissions"],defaultNS:"translation",resources:yt});const vt=Re;const wt=class{constructor(e){this.config=e,this.jwt=""}set requestFunc(e){this._requestFunc=e}init(){return Promise.resolve()}unload(){return Promise.resolve()}get supportedMethods(){return["makeInvoice","sendPayment","signMessage","getInfo"]}async getInfo(){return await this.ensureLogin(),this.request("GET","api/v1/lnd/info").then((e=>({data:{alias:e.alias,pubkey:e.identityPubkey,color:e.color}})))}async getInvoices(){throw console.error(`Not yet supported with the currently used account: ${this.constructor.name}`),new Error(`${this.constructor.name}: "getInvoices" is not yet supported. Contact us if you need it.`)}async connectPeer(){throw console.error(`${this.constructor.name} does not implement the getInvoices call`),new Error("Not yet supported with the currently used account.")}async getBalance(){return await this.ensureLogin(),this.request("GET","api/v1/lnd/wallet/lightning").then((e=>({data:{balance:parseInt(e.localBalance?.sat)}})))}async keysend(e){throw new Error("not supported")}async sendPayment(e){return await this.ensureLogin(),this.request("POST","api/v1/lnd/lightning/payInvoice",{paymentRequest:e.paymentRequest}).then((e=>({data:{preimage:e.paymentPreimage,paymentHash:e.paymentHash,route:{total_amt:Math.floor(parseInt(e.paymentRoute?.totalAmtMsat)/1e3),total_fees:parseInt(e.paymentRoute?.totalFeesMsat)}}})))}async signMessage(e){return await this.ensureLogin(),this.request("POST","api/v1/lnd/util/sign-message",{message:e.message}).then((t=>({data:{message:e.message,signature:t.signature}})))}async refresh(){const e=await this.request("POST","manager-api/v1/account/refresh");if("object"!=typeof e||null===e||!e.jwt)throw new Error("Failed to login.");return e.jwt}async login(e,t){const r=await this.request("POST","manager-api/v1/account/login",{password:e,totpToken:t});if("object"!=typeof r||null===r||!r.jwt)throw new Error("Failed to login.");return r.jwt}async ensureLogin(){try{this.jwt=await this.refresh()}catch{this.jwt=await this.login(this.config.password,"")}}async makeInvoice(e){return await this.ensureLogin(),this.request("POST","api/v1/lnd/util/lightning/addInvoice",{memo:e.memo,amt:e.amount.toString()}).then((e=>({data:{paymentRequest:e.paymentRequest,rHash:e.rHashStr}})))}async checkPayment(e){return await this.ensureLogin(),this.request("GET",`invoice-info?paymentHash=${e.paymentHash}`).then((e=>({data:{paid:e.isPaid||1===e.state}})))}async request(e,t,r){const n=this.config.url+(this.config.url.endsWith("/")?"":"/")+t,i=new Headers;i.append("Accept","application/json"),i.append("Content-Type","application/json"),this.jwt&&i.append("Authorization",`JWT ${this.jwt}`);const o=await fetch(n,{headers:i,method:e,..."GET"!==e?{body:JSON.stringify(r)}:{}});if(!o.ok){const e=await o.json();throw console.error("errBody",e),new Error(e.detail)}return await o.json()}};var _t=i(3465),St=i.n(_t),Et=i(5743),kt=i.n(Et),At=function(e,t){return At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},At(e,t)};function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}At(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}Object.create;function It(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function Pt(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;function Tt(e){return"function"==typeof e}function Rt(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Bt=Rt((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Mt(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Nt=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=It(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(Tt(c))try{c()}catch(e){i=e instanceof Bt?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=It(u),f=l.next();!f.done;f=l.next()){var d=f.value;try{Ut(d)}catch(e){i=null!=i?i:[],e instanceof Bt?i=Pt(Pt([],Ot(i)),Ot(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new Bt(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Ut(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Mt(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&Mt(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Ct=Nt.EMPTY;function Lt(e){return e instanceof Nt||e&&"closed"in e&&Tt(e.remove)&&Tt(e.add)&&Tt(e.unsubscribe)}function Ut(e){Tt(e)?e():e.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Dt={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Dt.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,Pt([e,t],Ot(r))):setTimeout.apply(void 0,Pt([e,t],Ot(r)))},clearTimeout:function(e){var t=Dt.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Ht(){}var qt=Ft("C",void 0,void 0);function Ft(e,t,r){return{kind:e,value:t,error:r}}var zt=null;function Kt(e){if(jt.useDeprecatedSynchronousErrorHandling){var t=!zt;if(t&&(zt={errorThrown:!1,error:null}),e(),t){var r=zt,n=r.errorThrown,i=r.error;if(zt=null,n)throw i}}else e()}var Wt=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Lt(t)&&t.add(r)):r.destination=Zt,r}return xt(t,e),t.create=function(e,t,r){return new Yt(e,t,r)},t.prototype.next=function(e){this.isStopped?Jt(function(e){return Ft("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Jt(Ft("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Jt(qt,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Nt),$t=Function.prototype.bind;function Vt(e,t){return $t.call(e,t)}var Gt=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Xt(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Xt(e)}else Xt(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Xt(e)}},e}(),Yt=function(e){function t(t,r,n){var i,o,a=e.call(this)||this;Tt(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&jt.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&Vt(t.next,o),error:t.error&&Vt(t.error,o),complete:t.complete&&Vt(t.complete,o)}):i=t;return a.destination=new Gt(i),a}return xt(t,e),t}(Wt);function Xt(e){var t;jt.useDeprecatedSynchronousErrorHandling?(t=e,jt.useDeprecatedSynchronousErrorHandling&&zt&&(zt.errorThrown=!0,zt.error=t)):function(e){Dt.setTimeout((function(){var t=jt.onUnhandledError;if(!t)throw e;t(e)}))}(e)}function Jt(e,t){var r=jt.onStoppedNotification;r&&Dt.setTimeout((function(){return r(e,t)}))}var Zt={closed:!0,next:Ht,error:function(e){throw e},complete:Ht},Qt="function"==typeof Symbol&&Symbol.observable||"@@observable";function er(e){return e}function tr(e){return 0===e.length?er:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var rr=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof Wt||function(e){return e&&Tt(e.next)&&Tt(e.error)&&Tt(e.complete)}(n)&&Lt(n)?e:new Yt(e,t,r);return Kt((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=nr(t))((function(t,n){var i=new Yt({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Qt]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tr(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=nr(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function nr(e){var t;return null!==(t=null!=e?e:jt.Promise)&&void 0!==t?t:Promise}var ir=Rt((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),or=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return xt(t,e),t.prototype.lift=function(e){var t=new ar(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new ir},t.prototype.next=function(e){var t=this;Kt((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=It(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;Kt((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Kt((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?Ct:(this.currentObservers=null,o.push(e),new Nt((function(){t.currentObservers=null,Mt(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new rr;return e.source=this,e},t.create=function(e,t){return new ar(e,t)},t}(rr),ar=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return xt(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Ct},t}(or),sr=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return xt(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(or),cr=Rt((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ur(e,t){var r="object"==typeof t;return new Promise((function(n,i){var o=new Yt({next:function(e){n(e),o.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new cr)}});e.subscribe(o)}))}function lr(e){return function(t){if(function(e){return Tt(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function fr(e,t,r,n,i){return new dr(e,t,r,n,i)}var dr=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return xt(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Wt);function hr(e,t){return lr((function(r,n){var i=0;r.subscribe(fr(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}var pr=i(8764),gr=i(7221);function mr(e,t){return e<<t|e>>>32-t}const br=pr.Buffer.from("expand 32-byte k");const yr=class{input;cachePos;buffer;output;constructor(e,t){this.input=new Uint32Array(16),this.input[0]=br.readUInt32LE(0),this.input[1]=br.readUInt32LE(4),this.input[2]=br.readUInt32LE(8),this.input[3]=br.readUInt32LE(12),this.input[4]=e.readUInt32LE(0),this.input[5]=e.readUInt32LE(4),this.input[6]=e.readUInt32LE(8),this.input[7]=e.readUInt32LE(12),this.input[8]=e.readUInt32LE(16),this.input[9]=e.readUInt32LE(20),this.input[10]=e.readUInt32LE(24),this.input[11]=e.readUInt32LE(28),this.input[12]=0,this.input[13]=t.readUInt32LE(0),this.input[14]=t.readUInt32LE(4),this.input[15]=t.readUInt32LE(8),this.cachePos=64,this.buffer=new Uint32Array(16),this.output=new pr.Buffer(64)}quarterRound(e,t,r,n){const i=this.buffer;i[e]+=i[t],i[n]=mr(i[n]^i[e],16),i[r]+=i[n],i[t]=mr(i[t]^i[r],12),i[e]+=i[t],i[n]=mr(i[n]^i[e],8),i[r]+=i[n],i[t]=mr(i[t]^i[r],7)}makeBlock(e,t){let r=-1;for(;++r<16;)this.buffer[r]=this.input[r];for(r=-1;++r<10;)this.quarterRound(0,4,8,12),this.quarterRound(1,5,9,13),this.quarterRound(2,6,10,14),this.quarterRound(3,7,11,15),this.quarterRound(0,5,10,15),this.quarterRound(1,6,11,12),this.quarterRound(2,7,8,13),this.quarterRound(3,4,9,14);for(r=-1;++r<16;)this.buffer[r]+=this.input[r],e.writeUInt32LE(this.buffer[r],t),t+=4;if(this.input[12]++,!this.input[12])throw new Error("counter is exausted")}getBytes(e){let t=0;const r=new pr.Buffer(e),n=64-this.cachePos;if(n){if(n>=e)return this.output.copy(r,0,this.cachePos,64),this.cachePos+=e,r;this.output.copy(r,0,this.cachePos,64),e-=n,t+=n,this.cachePos=64}for(;e>0;){if(e<=64)return this.makeBlock(this.output,0),this.output.copy(r,t,0,e),e<64&&(this.cachePos=e),r;this.makeBlock(r,t),e-=64,t+=64}throw new Error("something bad happended")}};const vr=class{buffer;leftover;r;h;pad;finished;constructor(e){this.buffer=new pr.Buffer(16),this.leftover=0,this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.finished=0;let t,r=new Uint16Array(8);for(t=8;t--;)r[t]=e.readUInt16LE(2*t);for(this.r[0]=8191&r[0],this.r[1]=8191&(r[0]>>>13|r[1]<<3),this.r[2]=7939&(r[1]>>>10|r[2]<<6),this.r[3]=8191&(r[2]>>>7|r[3]<<9),this.r[4]=255&(r[3]>>>4|r[4]<<12),this.r[5]=r[4]>>>1&8190,this.r[6]=8191&(r[4]>>>14|r[5]<<2),this.r[7]=8065&(r[5]>>>11|r[6]<<5),this.r[8]=8191&(r[6]>>>8|r[7]<<8),this.r[9]=r[7]>>>5&127,t=8;t--;)this.h[t]=0,this.pad[t]=e.readUInt16LE(16+2*t);this.h[8]=0,this.h[9]=0,this.leftover=0,this.finished=0}blocks(e,t,r){const n=this.finished?0:2048;let i=new Uint16Array(8),o=new Uint32Array(10),a=0,s=0,c=0;for(;r>=16;){for(s=8;s--;)i[s]=e.readUInt16LE(2*s+t);for(this.h[0]+=8191&i[0],this.h[1]+=8191&(i[0]>>>13|i[1]<<3),this.h[2]+=8191&(i[1]>>>10|i[2]<<6),this.h[3]+=8191&(i[2]>>>7|i[3]<<9),this.h[4]+=8191&(i[3]>>>4|i[4]<<12),this.h[5]+=i[4]>>>1&8191,this.h[6]+=8191&(i[4]>>>14|i[5]<<2),this.h[7]+=8191&(i[5]>>>11|i[6]<<5),this.h[8]+=8191&(i[6]>>>8|i[7]<<8),this.h[9]+=i[7]>>>5|n,s=0,a=0;s<10;s++){for(o[s]=a,c=0;c<10;c++)o[s]+=(4294967295&this.h[c])*(c<=s?this.r[s-c]:5*this.r[s+10-c]),4===c&&(a=o[s]>>>13,o[s]&=8191);a+=o[s]>>>13,o[s]&=8191}for(a=(a<<2)+a,a+=o[0],o[0]=8191&a,a>>>=13,o[1]+=a,s=10;s--;)this.h[s]=o[s];t+=16,r-=16}}update(e){let t=e.length,r=0,n=0,i=0;if(this.leftover){for(r=16-this.leftover,r>t&&(r=t),n=r;n--;)this.buffer[this.leftover+n]=e[n+i];if(t-=r,i+=r,this.leftover+=r,this.leftover<16)return this;this.blocks(this.buffer,0,16),this.leftover=0}if(t>=16&&(r=-16&t,this.blocks(e,i,r),i+=r,t-=r),t){for(n=t;n--;)this.buffer[this.leftover+n]=e[n+i];this.leftover+=t}return this}finish(){let e=new pr.Buffer(16),t=new Uint16Array(10),r=0,n=0,i=0,o=0;if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.finished=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,t[0]=this.h[0]+5,r=t[0]>>>13,t[0]&=8191,o=1;o<10;o++)t[o]=this.h[o]+r,r=t[o]>>>13,t[o]&=8191;for(t[9]-=8192,n=(t[9]>>>15)-1,o=10;o--;)t[o]&=n;for(n=~n,o=10;o--;)this.h[o]=this.h[o]&n|t[o];for(this.h[0]=this.h[0]|this.h[1]<<13,this.h[1]=this.h[1]>>3|this.h[2]<<10,this.h[2]=this.h[2]>>6|this.h[3]<<7,this.h[3]=this.h[3]>>9|this.h[4]<<4,this.h[4]=this.h[4]>>12|this.h[5]<<1|this.h[6]<<14,this.h[5]=this.h[6]>>2|this.h[7]<<11,this.h[6]=this.h[7]>>5|this.h[8]<<8,this.h[7]=this.h[8]>>8|this.h[9]<<5,i=(4294967295&this.h[0])+this.pad[0],this.h[0]=i,o=1;o<8;o++)i=(4294967295&this.h[o])+this.pad[o]+(i>>>16),this.h[o]=i;for(o=8;o--;)e.writeUInt16LE(this.h[o],2*o),this.pad[o]=0;for(o=10;o--;)this.h[o]=0,this.r[o]=0;return e}};class wr{alen;clen;chacha;poly;tag;_decrypt;_hasData;constructor(e,t,r=!1){this.alen=0,this.clen=0,this.chacha=new yr(e,t),this.poly=new vr(this.chacha.getBytes(64)),this.tag=null,this._decrypt=r,this._hasData=!1}setAAD(e){if(this._hasData)throw new Error("Attempting to set AAD in unsupported state");this.alen=e.length,this.poly.update(e);const t=new pr.Buffer(_r(this.alen));t.length&&(t.fill(0),this.poly.update(t))}update(e,t,r){"string"==typeof e&&(e=pr.Buffer.from(e,t));let n=this._update(e)||pr.Buffer.from("");return r?n.toString(r):n}final(e){let t=this._final()||pr.Buffer.from("");return e?t.toString(e):t}_update(e){this._hasData||(this._hasData=!0);const t=e.length;if(!t)return;this.clen+=t;const r=this.chacha.getBytes(t);let n=-1;for(;++n<t;)r[n]^=e[n];return this._decrypt?this.poly.update(e):this.poly.update(r),r}_final(){if(this._decrypt&&!this.tag)throw new Error("Unsupported state or unable to authenticate data");const e=new pr.Buffer(_r(this.clen));e.length&&(e.fill(0),this.poly.update(e));const t=new pr.Buffer(16);t.fill(0),t.writeUInt32LE(this.alen,0),t.writeUInt32LE(this.clen,8);const r=this.poly.update(t).finish();if(this._decrypt){if(function(e,t){let r=0;e.length!==t.length&&r++;const n=Math.min(e.length,t.length);let i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(r,this.tag))throw new Error("Unsupported state or unable to authenticate data")}else this.tag=r;return r}getAuthTag(){return this._decrypt||null===this.tag?new pr.Buffer(""):this.tag}setAuthTag(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this.tag=e}}function _r(e){const t=e%16;return t?16-t:0}function Sr(e,t){return pr.Buffer.from(gr.ecdh(e,t))}function Er(e,t){const r=h.HmacSHA256(h.enc.Hex.parse(t.toString("hex")),h.enc.Hex.parse(e.toString("hex")));return pr.Buffer.from(h.enc.Hex.stringify(r),"hex")}async function kr(e){const t=await crypto.subtle.digest("SHA-256",e);return pr.Buffer.from(t)}function Ar(e,t,r=pr.Buffer.alloc(0),n=pr.Buffer.alloc(0)){const i=Er(r,e),o=Math.ceil(t/i.byteLength);if(o>255)throw new Error("Output length exceeds maximum");const a=[pr.Buffer.alloc(0)];for(let e=1;e<=o;e++){const t=a[a.length-1],r=pr.Buffer.from([e]);a.push(Er(i,pr.Buffer.concat([t,n,r])))}return pr.Buffer.concat(a.slice(1)).subarray(0,t)}function xr(e,t=!0){return pr.Buffer.from(gr.publicKeyCreate(e,t))}function Ir(e,t,r,n){const i=new wr(e,t);i.setAAD(r);const o=i.update(n);i.final&&i.final();const a=i.getAuthTag();return pr.Buffer.concat([o,a])}function Or(e,t,r,n){const i=new wr(e,t,!0);if(i.setAAD(r),16===n.length)return i.setAuthTag(n),i.final();if(n.length>16){const e=n.subarray(n.length-16),t=n.subarray(0,n.length-16);i.setAuthTag(e);let r=i.update(t);const o=i.final();return r=pr.Buffer.concat([r,o]),r}}function Pr(){let e;do{const t=pr.Buffer.allocUnsafe(32);e=crypto.getRandomValues(t)}while(!Tr(e));return e.toString("hex")}function Tr(e){return gr.privateKeyVerify("string"==typeof e?pr.Buffer.from(e,"hex"):e)}class Rr{protocolName=pr.Buffer.from("Noise_XK_secp256k1_ChaChaPoly_SHA256");prologue=pr.Buffer.from("lightning");ls;lpk;es;epk;rpk;repk;h;ck;rk;sk;sn;rn;tempK1;tempK2;tempK3;constructor({ls:e,es:t}){this.ls=e,this.lpk=xr(e),this.es=t,this.epk=xr(t)}async initiatorAct1(e){this.rpk=e,await this._initialize(this.rpk),this.h=await kr(pr.Buffer.concat([this.h,this.epk]));const t=Ar(Sr(this.rpk,this.es),64,this.ck);this.ck=t.subarray(0,32),this.tempK1=t.subarray(32);const r=Ir(this.tempK1,pr.Buffer.alloc(12),this.h,pr.Buffer.alloc(0));this.h=await kr(pr.Buffer.concat([this.h,r]));return pr.Buffer.concat([pr.Buffer.alloc(1),this.epk,r])}async initiatorAct2(e){if(50!==e.length)throw new Error("ACT2_READ_FAILED");const t=e.subarray(0,1)[0],r=e.subarray(1,34),n=e.subarray(34);if(this.repk=r,0!==t)throw new Error("ACT2_BAD_VERSION");this.h=await kr(pr.Buffer.concat([this.h,this.repk]));const i=Ar(Sr(this.repk,this.es),64,this.ck);this.ck=i.subarray(0,32),this.tempK2=i.subarray(32),Or(this.tempK2,pr.Buffer.alloc(12),this.h,n),this.h=await kr(pr.Buffer.concat([this.h,n]))}async initiatorAct3(){const e=Ir(this.tempK2,pr.Buffer.from([0,0,0,0,1,0,0,0,0,0,0,0]),this.h,this.lpk);this.h=await kr(pr.Buffer.concat([this.h,e]));const t=Ar(Sr(this.repk,this.ls),64,this.ck);this.ck=t.subarray(0,32),this.tempK3=t.subarray(32);const r=Ir(this.tempK3,pr.Buffer.alloc(12),this.h,pr.Buffer.alloc(0)),n=Ar(pr.Buffer.alloc(0),64,this.ck);this.rk=n.subarray(32),this.sk=n.subarray(0,32),this.sn=pr.Buffer.alloc(12),this.rn=pr.Buffer.alloc(12);return pr.Buffer.concat([pr.Buffer.alloc(1),e,r])}async receiveAct1(e){if(await this._initialize(this.lpk),50!==e.length)throw new Error("ACT1_READ_FAILED");const t=e.subarray(0,1)[0],r=e.subarray(1,34),n=e.subarray(34);if(this.repk=r,0!==t)throw new Error("ACT1_BAD_VERSION");this.h=await kr(pr.Buffer.concat([this.h,r]));const i=Ar(Sr(r,this.ls),64,this.ck);this.ck=i.subarray(0,32),this.tempK1=i.subarray(32),Or(this.tempK1,pr.Buffer.alloc(12),this.h,n),this.h=await kr(pr.Buffer.concat([this.h,n]))}async recieveAct2(){this.h=await kr(pr.Buffer.concat([this.h,this.epk]));const e=Ar(Sr(this.repk,this.es),64,this.ck);this.ck=e.subarray(0,32),this.tempK2=e.subarray(32);const t=Ir(this.tempK2,pr.Buffer.alloc(12),this.h,pr.Buffer.alloc(0));this.h=await kr(pr.Buffer.concat([this.h,t]));return pr.Buffer.concat([pr.Buffer.alloc(1),this.epk,t])}async receiveAct3(e){if(66!==e.length)throw new Error("ACT3_READ_FAILED");const t=e.subarray(0,1)[0],r=e.subarray(1,50),n=e.subarray(50);if(0!==t)throw new Error("ACT3_BAD_VERSION");const i=Or(this.tempK2,pr.Buffer.from("000000000100000000000000","hex"),this.h,r);this.rpk=i,this.h=await kr(pr.Buffer.concat([this.h,r]));const o=Ar(Sr(this.rpk,this.es),64,this.ck);this.ck=o.subarray(0,32),this.tempK3=o.subarray(32),Or(this.tempK3,pr.Buffer.alloc(12),this.h,n);const a=Ar(pr.Buffer.alloc(0),64,this.ck);this.rk=a.subarray(0,32),this.sk=a.subarray(32),this.rn=pr.Buffer.alloc(12),this.sn=pr.Buffer.alloc(12)}async encryptMessage(e){const t=pr.Buffer.alloc(2);t.writeUInt16BE(e.length,0);const r=Ir(this.sk,this.sn,pr.Buffer.alloc(0),t);this._incrementSendingNonce()>=1e3&&this._rotateSendingKeys();const n=Ir(this.sk,this.sn,pr.Buffer.alloc(0),e);return this._incrementSendingNonce()>=1e3&&this._rotateSendingKeys(),pr.Buffer.concat([r,n])}async decryptLength(e){const t=Or(this.rk,this.rn,pr.Buffer.alloc(0),e);return this._incrementRecievingNonce()>=1e3&&this._rotateRecievingKeys(),t.readUInt16BE(0)}async decryptMessage(e){const t=Or(this.rk,this.rn,pr.Buffer.alloc(0),e);return this._incrementRecievingNonce()>=1e3&&this._rotateRecievingKeys(),t}async _initialize(e){this.h=await kr(pr.Buffer.from(this.protocolName)),this.ck=this.h,this.h=await kr(pr.Buffer.concat([this.h,this.prologue])),this.h=await kr(pr.Buffer.concat([this.h,e]))}_incrementSendingNonce(){const e=this.sn.readUInt16LE(4)+1;return this.sn.writeUInt16LE(e,4),e}_incrementRecievingNonce(){const e=this.rn.readUInt16LE(4)+1;return this.rn.writeUInt16LE(e,4),e}_rotateSendingKeys(){const e=Ar(this.sk,64,this.ck);this.sk=e.subarray(32),this.ck=e.subarray(0,32),this.sn=pr.Buffer.alloc(12)}_rotateRecievingKeys(){const e=Ar(this.rk,64,this.ck);this.rk=e.subarray(32),this.ck=e.subarray(0,32),this.rn=pr.Buffer.alloc(12)}}function Br(e){const{remoteNodePublicKey:t,wsProxy:r,privateKey:n,ip:i,port:o,logger:a}=e;if(!t||(s=t,!gr.publicKeyVerify(pr.Buffer.from(s,"hex"))))throw new Error(`${t} is not a valid public key`);var s;if(!i||!i.match(/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)(\.(?!$)|$)){4}$/))throw new Error(`${i} is not a valid IP address`);if(!o||o<1||o>65535)throw new Error(`${o} is not a valid port number`);if(r){const e=`${r} is not a valid url`;try{const t=new URL(r);if("wss:"!==t.protocol&&"ws:"!==t.protocol)throw new Error(e)}catch(t){throw new Error(e)}}if(n&&!Tr(n))throw new Error(`${n} is not a valid private key`);if(a){if("object"!=typeof a)throw new Error("Logger must be of type object");const e=["info","warn","error"];Object.entries(a).forEach((([t,r])=>{if(!e.includes(t))throw new Error(`Invalid logger level: ${t}`);if("function"!=typeof r)throw new Error(`Logger for level: ${t} is not a function`)}))}}class Mr{static bigSizeBytes(e){return e<BigInt(253)?1:e<BigInt(65536)?3:e<BigInt(4294967296)?5:9}_buffer;_position;_lastReadBytes;constructor(e){this._buffer=e,this._position=0,this._lastReadBytes=0}get position(){return this._position}set position(e){this._position=e}get eof(){return this._position===this._buffer.length}get buffer(){return this._buffer}get lastReadBytes(){return this._lastReadBytes}readUInt8(){return this._readStandard(this.readUInt8.name,1)}readUInt16LE(){return this._readStandard(this.readUInt16LE.name,2)}readUInt16BE(){return this._readStandard(this.readUInt16BE.name,2)}readUInt32LE(){return this._readStandard(this.readUInt32LE.name,4)}readUInt32BE(){return this._readStandard(this.readUInt32BE.name,4)}readUInt64BE(){return BigInt("0x"+this.readBytes(8).toString("hex"))}readUInt64LE(){return BigInt("0x"+this.readBytes(8).reverse().toString("hex"))}readVarUint(){const e=this.readUInt8();if(e<253)return this._lastReadBytes=1,BigInt(e);switch(e){case 253:return this._lastReadBytes=3,BigInt(this.readUInt16LE());case 254:return this._lastReadBytes=5,BigInt(this.readUInt32LE());case 255:return this._lastReadBytes=9,this.readUInt64LE()}}readBigSize(){const e=this.readUInt8();if(e<253)return this._lastReadBytes=1,BigInt(e);switch(e){case 253:{this._lastReadBytes=3;const e=this.readUInt16BE();if(e<253)throw new Error("decoded varint is not canonical");return BigInt(e)}case 254:{this._lastReadBytes=5;const e=this.readUInt32BE();if(e<65536)throw new Error("decoded varint is not canonical");return BigInt(e)}case 255:{this._lastReadBytes=9;const e=this.readUInt64BE();if(e<BigInt(4294967296))throw new Error("decoded varint is not canonical");return e}default:throw new Error(`Unrecognised size: ${e} when trying to read BigSize`)}}readBytes(e){if(0===e)return this._lastReadBytes=0,pr.Buffer.alloc(0);if("number"==typeof e&&e>0){if(this._position+e>this._buffer.length)throw new RangeError("Index out of range");const t=this._buffer.subarray(this._position,this._position+e),r=pr.Buffer.alloc(t.length,t);return this._position+=e,this._lastReadBytes=e,r}{if(this._position===this._buffer.length)return this._lastReadBytes=0,pr.Buffer.alloc(0);const e=this._buffer.subarray(this._position),t=pr.Buffer.alloc(e.length,e);return this._position=this._buffer.length,this._lastReadBytes=t.length,t}}peakBytes(e){if(0===e)return pr.Buffer.alloc(0);if("number"==typeof e&&e>0){if(this._position+e>this._buffer.length)throw new RangeError("Index out of range");const t=this._buffer.subarray(this._position,this._position+e);return pr.Buffer.alloc(t.length,t)}{if(this._position===this._buffer.length)throw new RangeError("Index out of range");const e=this._buffer.subarray(this._position);return pr.Buffer.alloc(e.length,e)}}readTUInt16(){const e=Math.min(2,this._buffer.length-this._position);if(0===e)return 0;const t=this._buffer.readUIntBE(this._position,e);return this._assertMinimalTUInt(BigInt(t),e),this._position+=e,t}readTUInt32(){const e=Math.min(4,this._buffer.length-this._position);if(0===e)return 0;const t=this._buffer.readUIntBE(this._position,e);return this._assertMinimalTUInt(BigInt(t),e),this._position+=e,t}readTUInt64(){const e=Math.min(8,this._buffer.length-this._position);if(0===e)return BigInt(0);const t=this._buffer.subarray(this._position,this._position+e).toString("hex")||"0",r=BigInt("0x"+t);return this._assertMinimalTUInt(r,e),this._position+=e,r}_readStandard(e,t){if(this._position+t>this._buffer.length)throw new RangeError("Index out of range");const r=this._buffer[e](this._position);return this._position+=t,this._lastReadBytes=t,r}_assertMinimalTUInt(e,t){for(let r=0;r<9;r++)if(e<BigInt("0x1"+"".padStart(2*r,"0"))&&t!==r)throw new Error("TUInt not minimal")}}class Nr{_position;_fixed;_buffer;constructor(e){this._position=0,this._fixed=!!e,this._buffer=e||pr.Buffer.alloc(0)}get size(){return this._position}toBuffer(){return this._fixed?this._buffer:this._buffer.subarray(0,this._position)}writeUInt8(e){this._writeStandard(this.writeUInt8.name,e,1)}writeUInt16LE(e){this._writeStandard(this.writeUInt16LE.name,e,2)}writeUInt16BE(e){this._writeStandard(this.writeUInt16BE.name,e,2)}writeUInt32LE(e){this._writeStandard(this.writeUInt32LE.name,e,4)}writeUInt32BE(e){this._writeStandard(this.writeUInt32BE.name,e,4)}writeUInt64LE(e){const t=BigInt(e);if(t<0||t>=BigInt(2)**BigInt(64))throw new RangeError(`The value of "value" is out of range. It must be >= 0 and <= 18446744073709551615. Received ${e.toString()}`);const r=pr.Buffer.from(t.toString(16).padStart(16,"0"),"hex");this.writeBytes(r.reverse())}writeUInt64BE(e){const t=BigInt(e);if(t<0||t>=BigInt(2)**BigInt(64))throw new RangeError(`The value of "value" is out of range. It must be >= 0 and <= 18446744073709551615. Received ${e.toString()}`);const r=pr.Buffer.from(t.toString(16).padStart(16,"0"),"hex");this.writeBytes(r)}writeBytes(e){e&&e.length&&(this._expand(e.length),e.copy(this._buffer,this._position),this._position+=e.length)}writeVarInt(e){const t=BigInt(e);t<BigInt(253)?this.writeUInt8(Number(t)):t<BigInt(65536)?(this.writeUInt8(253),this.writeUInt16LE(Number(t))):t<BigInt(4294967296)?(this.writeUInt8(254),this.writeUInt32LE(Number(t))):(this.writeUInt8(255),this.writeUInt64LE(t))}writeBigSize(e){const t=BigInt(e);t<BigInt(253)?this.writeUInt8(Number(t)):t<BigInt(65536)?(this.writeUInt8(253),this.writeUInt16BE(Number(t))):t<BigInt(4294967296)?(this.writeUInt8(254),this.writeUInt32BE(Number(t))):(this.writeUInt8(255),this.writeUInt64BE(t))}writeTUInt16(e){if(0===e)return;const t=e>255?2:1;this._expand(t),this._buffer.writeUIntBE(e,this._position,t),this._position+=t}writeTUInt32(e){if(0===e)return;const t=e>16777215?4:e>65535?3:e>255?2:1;this._expand(t),this._buffer.writeUIntBE(e,this._position,t),this._position+=t}writeTUInt64(e){if(e===BigInt(0))return;let t=e.toString(16);t.length%2==1&&(t="0"+t);const r=pr.Buffer.from(t,"hex");this.writeBytes(r)}_expand(e){const t=this._position+e;if(this._fixed&&t>this._buffer.length)throw new RangeError("Out of range");if(this._buffer.length<t){const e=1<<Math.ceil(Math.log2(t)),r=pr.Buffer.alloc(e);this._buffer.copy(r),this._buffer=r}}_writeStandard(e,t,r){this._expand(r),this._buffer[e](t,this._position),this._position+=r}}function Cr(e){const t=function(e){let t=0;for(;e>BigInt(0);)t+=1,e/=BigInt(256);return t}(e);return pr.Buffer.from(e.toString(16).padStart(2*t,"0"),"hex")}class Lr{static fromNumber(e){return new Lr(BigInt(e))}static fromBuffer(e){return 0===e.length?new Lr:new Lr(BigInt("0x"+e.toString("hex")))}value;constructor(e){this.value=e||BigInt(0)}isSet(e){return(this.value&BigInt(1)<<BigInt(e))>BigInt(0)}set(e){this.value|=BigInt(1)<<BigInt(e)}unset(e){this.value&=~(this.value&BigInt(1)<<BigInt(e))}toggle(e){this.value^=BigInt(1)<<BigInt(e)}flags(){const e=[];let t=0,r=1n;for(;r<this.value;)this.value&r&&e.push(t),t+=1,r<<=1n;return e}msb(){let e=this.value,t=0;for(;e>1;)e>>=1n,t+=1;return t}and(e){return new Lr(this.value&e.value)}or(e){return new Lr(this.value|e.value)}xor(e){return new Lr(this.value^e.value)}toBigInt(){return this.value}toNumber(){return Number(this.value)}toBuffer(){return this.value===BigInt(0)?pr.Buffer.alloc(0):Cr(this.value)}}var Ur,jr,Dr;!function(e){e[e.Init=16]="Init",e[e.Error=17]="Error",e[e.Ping=18]="Ping",e[e.Pong=19]="Pong",e[e.OpenChannel=32]="OpenChannel",e[e.AcceptChannel=33]="AcceptChannel",e[e.FundingCreated=34]="FundingCreated",e[e.FundingSigned=35]="FundingSigned",e[e.FundingLocked=36]="FundingLocked",e[e.Shutdown=38]="Shutdown",e[e.ClosingSigned=39]="ClosingSigned",e[e.ChannelAnnouncement=256]="ChannelAnnouncement",e[e.NodeAnnouncement=257]="NodeAnnouncement",e[e.ChannelUpdate=258]="ChannelUpdate",e[e.AnnouncementSignatures=259]="AnnouncementSignatures",e[e.QueryShortChannelIds=261]="QueryShortChannelIds",e[e.ReplyShortChannelIdsEnd=262]="ReplyShortChannelIdsEnd",e[e.QueryChannelRange=263]="QueryChannelRange",e[e.ReplyChannelRange=264]="ReplyChannelRange",e[e.GossipTimestampFilter=265]="GossipTimestampFilter",e[e.CommandoRequest=19535]="CommandoRequest",e[e.CommandoResponseContinues=22859]="CommandoResponseContinues",e[e.CommandoResponse=22861]="CommandoResponse"}(Ur||(Ur={})),function(e){e[e.INITIATOR_INITIATING=0]="INITIATOR_INITIATING",e[e.AWAITING_INITIATOR=1]="AWAITING_INITIATOR",e[e.AWAITING_RESPONDER_REPLY=2]="AWAITING_RESPONDER_REPLY",e[e.AWAITING_INITIATOR_REPLY=3]="AWAITING_INITIATOR_REPLY",e[e.READY=100]="READY"}(jr||(jr={})),function(e){e[e.READY_FOR_LEN=2]="READY_FOR_LEN",e[e.READY_FOR_BODY=3]="READY_FOR_BODY",e[e.BLOCKED=4]="BLOCKED"}(Dr||(Dr={}));class Hr{static deserialize(e){const t=new Hr,r=new Mr(e);r.readUInt16BE();const n=r.readUInt16BE(),i=Lr.fromBuffer(r.readBytes(n)),o=r.readUInt16BE(),a=Lr.fromBuffer(r.readBytes(o));return t.features=(new Lr).or(i).or(a),function(e,t){let r=BigInt(-1);for(;!e.eof;)try{const n=e.readBigSize(),i=e.readBigSize(),o=e.readBytes(Number(i)),a=new Mr(o);if(n<=r)throw new Error("Invalid TLV stream");const s=n%BigInt(2)===BigInt(0),c=t(n,a);if(!c&&s)throw new Error("Unknown even type");if(c&&!a.eof)throw new Error("Non-canonical length");r=n}catch(e){}}(r,((e,r)=>{if(e===BigInt(1)){for(;!r.eof;){const e=r.readBytes(32);t.chainHashes.push(e)}return!0}return!1})),t}type=Ur.Init;features=new Lr;chainHashes=[];serialize(){const e=new Nr;e.writeUInt16BE(this.type);e.writeUInt16BE(0);const t=pr.Buffer.from([0,0,0,0,0,0,0,0]),r=t.length;return e.writeUInt16BE(r),e.writeBytes(t),this.chainHashes.length&&(e.writeBigSize(1),e.writeBigSize(32*this.chainHashes.length),e.writeBytes(pr.Buffer.concat(this.chainHashes))),e.toBuffer()}}class qr{static deserialize(e){const t=new Mr(e);t.readUInt16BE();const r=new qr;r.numPongBytes=t.readUInt16BE();const n=t.readUInt16BE();return r.ignored=t.readBytes(n),r}type=Ur.Ping;numPongBytes=1;ignored=pr.Buffer.alloc(0);serialize(){const e=6+this.ignored.length,t=new Nr(pr.Buffer.alloc(e));return t.writeUInt16BE(this.type),t.writeUInt16BE(this.numPongBytes),t.writeUInt16BE(this.ignored.length),t.writeBytes(this.ignored),t.toBuffer()}get triggersReply(){return this.numPongBytes<65532}}class Fr{static deserialize(e){const t=new Fr,r=new Mr(e);r.readUInt16BE();const n=r.readUInt16BE();return t.ignored=r.readBytes(n),t}type=Ur.Pong;ignored;constructor(e=0){this.ignored=pr.Buffer.alloc(e)}serialize(){const e=+this.ignored.length+4,t=new Nr(pr.Buffer.alloc(e));return t.writeUInt16BE(this.type),t.writeUInt16BE(this.ignored.length),t.writeBytes(this.ignored),t.toBuffer()}}class zr{static deserialize(e){const t=new zr,r=new Mr(e);r.readUInt16BE(),t.id=r.readBytes(8).toString("hex");const n=r.readBytes(e.byteLength-26).toString();try{t.response=JSON.parse(n)}catch(e){t.response={jsonrpc:"2.0",id:null,error:{code:1,message:"Could not parse json response"}}}return t}type=Ur.CommandoResponse;id;response}const Kr=class{noise;remoteNodePublicKey;publicKey;privateKey;wsUrl;socket;connected$;connecting;decryptedMsgs$;commandoMsgs$;Buffer;_ls;_es;_handshakeState;_readState;_decryptedMsgs$;_commandoMsgs$;_partialCommandoMsgs;_attemptedReconnects;_logger;_attemptReconnect;_messageBuffer;_processingBuffer;_l;constructor(e){Br(e);const{remoteNodePublicKey:t,wsProxy:r,privateKey:n,ip:i,port:o=9735,logger:a}=e;var s,c;this._ls=pr.Buffer.from(n||Pr(),"hex"),this._es=pr.Buffer.from(Pr(),"hex"),this.noise=new Rr({ls:this._ls,es:this._es}),this.remoteNodePublicKey=t,this.publicKey=this.noise.lpk.toString("hex"),this.privateKey=this._ls.toString("hex"),this.wsUrl=r?`${r}/${i}:${o}`:`wss://${t}@${i}:${o}`,this.connected$=new sr(!1),this.connecting=!1,this.Buffer=pr.Buffer,this._handshakeState=jr.INITIATOR_INITIATING,this._decryptedMsgs$=new or,this.decryptedMsgs$=this._decryptedMsgs$.asObservable(),this._commandoMsgs$=new or,this.commandoMsgs$=this._commandoMsgs$.asObservable().pipe((s=({response:e,id:t})=>({...e,reqId:t}),lr((function(e,t){var r=0;e.subscribe(fr(t,(function(e){t.next(s.call(c,e,r++))})))})))),this._partialCommandoMsgs={},this._attemptedReconnects=0,this._logger=a,this._readState=Dr.READY_FOR_LEN,this._processingBuffer=!1,this._l=null,this.decryptedMsgs$.subscribe((e=>{this.handleDecryptedMessage(e)}))}async connect(e=!0){return!!this.connected$.getValue()||(this.connecting=!0,this._log("info",`Initiating connection to node ${this.remoteNodePublicKey}`),this._attemptReconnect=e,this._attemptedReconnects+=1,this.socket=new WebSocket(this.wsUrl),this.socket.binaryType="arraybuffer",this.socket.onopen=async()=>{this._log("info","WebSocket is connected"),this._log("info","Creating Act1 message");const e=await this.noise.initiatorAct1(pr.Buffer.from(this.remoteNodePublicKey,"hex"));this.socket&&(this._log("info","Sending Act1 message"),this.socket.send(e),this._handshakeState=jr.AWAITING_RESPONDER_REPLY)},this.socket.onclose=async()=>{this._log("error","WebSocket is closed"),this._log("info",`Attempted reconnects: ${this._attemptedReconnects}`),this.connected$.next(!1),this._attemptReconnect&&this._attemptedReconnects<5&&(this.connecting=!0,this._log("info","Waiting to reconnect"),await new Promise((e=>setTimeout(e,1e3*(this._attemptedReconnects||1)))),this.connect())},this.socket.onerror=e=>{this._log("error",`WebSocket error: ${JSON.stringify(e)}`)},this.socket.onmessage=this.queueMessage.bind(this),ur(this.connected$.pipe((t=1,hr((function(e,r){return t<=r}))))));var t}queueMessage(e){const{data:t}=e,r=pr.Buffer.from(t),n=this._messageBuffer&&!this._messageBuffer.eof&&this._messageBuffer.readBytes();this._messageBuffer=new Mr(n?pr.Buffer.concat([n,r]):r),this._processingBuffer||(this._processingBuffer=!0,this._processBuffer())}disconnect(){this._log("info","Manually disconnecting from WebSocket"),this.noise=new Rr({ls:this._ls,es:this._es}),this._attemptReconnect=!1,this.socket&&this.socket.close()}async _processBuffer(){try{let e=!0;do{if(this._handshakeState!==jr.READY)switch(this._handshakeState){case jr.INITIATOR_INITIATING:throw new Error("Received data before intialised");case jr.AWAITING_RESPONDER_REPLY:e=await this._processResponderReply()}else switch(this._readState){case Dr.READY_FOR_LEN:e=await this._processPacketLength();break;case Dr.READY_FOR_BODY:e=await this._processPacketBody();break;case Dr.BLOCKED:e=!1;break;default:throw new Error("Unknown read state")}}while(e)}catch(e){this.disconnect()}this._processingBuffer=!1}async _processResponderReply(){const e=this._messageBuffer.readBytes(50);if(50!==e.byteLength)throw new Error("Invalid message received from remote node");this._log("info","Validating message as part of Act2"),await this.noise.initiatorAct2(e),this._log("info","Creating reply for Act3");const t=await this.noise.initiatorAct3();return this.socket&&(this._log("info","Sending reply for act3"),this.socket.send(t),this._handshakeState=jr.READY),!0}async _processPacketLength(){try{const e=this._messageBuffer.readBytes(18);if(!e)return!1;const t=await this.noise.decryptLength(e);return this._l=t,this._readState=Dr.READY_FOR_BODY,!0}catch(e){return!1}}async _processPacketBody(){if(!this._l)return!1;try{const e=this._messageBuffer.readBytes(this._l+16);if(!e)return!1;const t=await this.noise.decryptMessage(e);return this._l=null,this._decryptedMsgs$.next(t),this._readState=Dr.READY_FOR_LEN,!0}catch(e){return!1}}async handleDecryptedMessage(e){try{const t=new Mr(e),r=t.readUInt16BE(),[n]=Object.entries(Ur).find((([e,t])=>t===r))||[],i=t.readBytes(8).toString("hex"),o=t.readBytes();if(this._log("info",`Message type is: ${n||"unknown"}`),r===Ur.CommandoResponseContinues)return this._log("info","Received a partial commando message, caching it to join with other parts"),void(this._partialCommandoMsgs[i]=this._partialCommandoMsgs[i]?pr.Buffer.concat([this._partialCommandoMsgs[i],o.subarray(0,o.byteLength-16)]):e.subarray(0,e.length-16));r===Ur.CommandoResponse&&this._partialCommandoMsgs[i]&&(this._log("info","Received a final commando msg and we have a partial message to join it to. Joining now"),e=pr.Buffer.concat([this._partialCommandoMsgs[i],o]),delete this._partialCommandoMsgs[i]),this._log("info","Deserialising payload");const a=function(e){const t=e.readUInt16BE(0);switch(t){case Ur.Init:return Hr.deserialize(e);case Ur.Ping:return qr.deserialize(e);case Ur.Pong:return Fr.deserialize(e);case Ur.CommandoResponse:case Ur.CommandoResponseContinues:return zr.deserialize(e)}return{type:t}}(e);switch(a.type){case Ur.Init:{this._log("info","Constructing Init message reply");const e=await this.noise.encryptMessage(a.serialize());this.socket&&(this._log("info","Sending Init message reply"),this.socket.send(e),this._log("info","Connected and ready to send messages!"),this.connected$.next(!0),this.connecting=!1,this._attemptedReconnects=0);break}case Ur.Ping:{this._log("info","Received a Ping message"),this._log("info","Creating a Pong message");const e=new Fr(a.numPongBytes).serialize(),t=await this.noise.encryptMessage(e);this.socket&&(this._log("info","Sending a Pong message"),this.socket.send(t));break}case Ur.CommandoResponse:this._commandoMsgs$.next(a)}}catch(e){this._log("error",`Error handling incoming message: ${e.message}`)}}async commando({method:e,params:t=[],rune:r,reqId:n}){this._log("info",`Commando request method: ${e} params: ${JSON.stringify(t)}`),this.connected$.getValue()||this.connecting?(this._log("info","Ensuring we have a connection before making request"),await ur(this.connected$.pipe(hr((e=>!0===e))))):(this._log("info","No socket connection, so creating one now"),await this.connect());const i=new Nr;if(!n){const e=pr.Buffer.allocUnsafe(8),t=crypto.getRandomValues(e);n=t.toString("hex")}i.writeUInt16BE(Ur.CommandoRequest),i.writeBytes(pr.Buffer.from(n,"hex")),i.writeBytes(pr.Buffer.from(JSON.stringify({rune:r,method:e,params:t}))),this._log("info","Creating message to send");const o=await this.noise.encryptMessage(i.toBuffer());if(this.socket){this._log("info","Sending commando message"),this.socket.send(o),this._log("info","Message sent and awaiting response");const{response:e}=await ur(this._commandoMsgs$.pipe(hr((e=>e.id===n)))),{result:t}=e,{error:r}=e;if(this._log("info",t?"Successful response received":`Error response received: ${r.message}`),r)throw r;return t}throw new Error("No socket initialised and connected")}_log(e,t){this._logger&&this._logger[e]&&this._logger[e](`[${e.toUpperCase()} - ${(new Date).toLocaleTimeString()}]: ${t}`)}},Wr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $r;const Vr=new Uint8Array(16);function Gr(){if(!$r&&($r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $r(Vr)}const Yr=[];for(let e=0;e<256;++e)Yr.push((e+256).toString(16).slice(1));function Xr(e,t=0){return(Yr[e[t+0]]+Yr[e[t+1]]+Yr[e[t+2]]+Yr[e[t+3]]+"-"+Yr[e[t+4]]+Yr[e[t+5]]+"-"+Yr[e[t+6]]+Yr[e[t+7]]+"-"+Yr[e[t+8]]+Yr[e[t+9]]+"-"+Yr[e[t+10]]+Yr[e[t+11]]+Yr[e[t+12]]+Yr[e[t+13]]+Yr[e[t+14]]+Yr[e[t+15]]).toLowerCase()}const Jr=function(e,t,r){if(Wr.randomUUID&&!t&&!e)return Wr.randomUUID();const n=(e=e||{}).random||(e.rng||Gr)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return Xr(n)},Zr=["bkpr-listbalances","checkmessage","connect","decode","decodepay","disconnect","feerates","fundchannel","getinfo","getroute","invoice","keysend","listforwards","listfunds","listinvoices","listnodes","listoffers","listpays","listpeers","listsendpays","listtransactions","multifundchannel","offer","pay","sendpay","setchannel","signmessage"];var Qr=i(8269),en=i.n(Qr);const tn=class{constructor(e){this.config=e}init(){return Promise.resolve()}unload(){return Promise.resolve()}get supportedMethods(){return["getInfo","keysend","makeInvoice","sendPayment","signMessage"]}getInfo(){return this.request("/getinfo",void 0).then((e=>({data:{alias:e.alias,pubkey:e.nodeId,color:e.color}})))}async connectPeer(){throw console.error(`${this.constructor.name} does not implement the getInvoices call`),new Error("Not yet supported with the currently used account.")}async getInvoices(){throw console.error(`Not yet supported with the currently used account: ${this.constructor.name}`),new Error(`${this.constructor.name}: "getInvoices" is not yet supported. Contact us if you need it.`)}async getBalance(){const e=(await this.request("/channels")).map((e=>e.data?.commitments?.localCommit?.spec?.toLocal||0)).reduce(((e,t)=>e+t),0);return{data:{balance:Math.floor(e/1e3)}}}async sendPayment(e){const{paymentHash:t,paymentPreimage:r}=await this.request("/payinvoice",{invoice:e.paymentRequest,blocking:!0}),n=await this.request("/getsentinfo",{paymentHash:t}),{status:i,recipientAmount:o}=n[n.length-1];return{data:{preimage:r,paymentHash:t,route:{total_amt:Math.floor(o/1e3),total_fees:i.feesPaid}}}}async keysend(e){throw new Error("not supported")}async checkPayment(e){const t=await this.request("/getreceivedinfo",{paymentHash:e.paymentHash});return{data:{paid:t&&"received"===t.status.type}}}async signMessage(e){const{signature:t}=await this.request("/signmessage",{msg:en().stringify(kt().parse(e.message))});return{data:{message:e.message,signature:t}}}async makeInvoice(e){const t=await this.request("/createinvoice",{description:e.memo,amountMsat:1e3*+e.amount});return{data:{paymentRequest:t.serialized,rHash:t.paymentHash}}}async request(e,t){const r=new URL(this.config.url.startsWith("http")?this.config.url:"http://"+this.config.url);r.pathname=e;const n=new Headers;n.append("Accept","application/json");const i=en().stringify(kt().parse(":"+this.config.password));n.append("Authorization","Basic "+i);const o=new FormData;if(t)for(const e in t)o.append(e,t[e]);const a=await fetch(r.toString(),{method:"POST",headers:n,body:o});if(!a.ok){let e;try{const t=await a.text();try{if(e=JSON.parse(t),!e.error)throw new Error("error response: "+t.slice(0,200))}catch(e){throw new Error("got a non-JSON response: "+t.slice(0,200))}}catch(e){throw new Error(a.statusText)}throw console.error("eclair error",e.error),new Error(e.error)}return await a.json()}};function rn(e,t){return function(){return e.apply(t,arguments)}}const{toString:nn}=Object.prototype,{getPrototypeOf:on}=Object,an=(sn=Object.create(null),e=>{const t=nn.call(e);return sn[t]||(sn[t]=t.slice(8,-1).toLowerCase())});var sn;const cn=e=>(e=e.toLowerCase(),t=>an(t)===e),un=e=>t=>typeof t===e,{isArray:ln}=Array,fn=un("undefined");const dn=cn("ArrayBuffer");const hn=un("string"),pn=un("function"),gn=un("number"),mn=e=>null!==e&&"object"==typeof e,bn=e=>{if("object"!==an(e))return!1;const t=on(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},yn=cn("Date"),vn=cn("File"),wn=cn("Blob"),_n=cn("FileList"),Sn=cn("URLSearchParams");function En(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),ln(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function kn(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const An="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,xn=e=>!fn(e)&&e!==An;const In=(On="undefined"!=typeof Uint8Array&&on(Uint8Array),e=>On&&e instanceof On);var On;const Pn=cn("HTMLFormElement"),Tn=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Rn=cn("RegExp"),Bn=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};En(r,((r,i)=>{!1!==t(r,i,e)&&(n[i]=r)})),Object.defineProperties(e,n)},Mn={isArray:ln,isArrayBuffer:dn,isBuffer:function(e){return null!==e&&!fn(e)&&null!==e.constructor&&!fn(e.constructor)&&pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||nn.call(e)===t||pn(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&dn(e.buffer),t},isString:hn,isNumber:gn,isBoolean:e=>!0===e||!1===e,isObject:mn,isPlainObject:bn,isUndefined:fn,isDate:yn,isFile:vn,isBlob:wn,isRegExp:Rn,isFunction:pn,isStream:e=>mn(e)&&pn(e.pipe),isURLSearchParams:Sn,isTypedArray:In,isFileList:_n,forEach:En,merge:function e(){const{caseless:t}=xn(this)&&this||{},r={},n=(n,i)=>{const o=t&&kn(r,i)||i;bn(r[o])&&bn(n)?r[o]=e(r[o],n):bn(n)?r[o]=e({},n):ln(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&En(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(En(t,((t,n)=>{r&&pn(t)?e[n]=rn(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],n&&!n(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==r&&on(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:an,kindOfTest:cn,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(ln(e))return e;let t=e.length;if(!gn(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Pn,hasOwnProperty:Tn,hasOwnProp:Tn,reduceDescriptors:Bn,freezeMethods:e=>{Bn(e,((t,r)=>{if(pn(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];pn(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return ln(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:kn,global:An,isContextDefined:xn,toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(mn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=ln(e)?[]:{};return En(e,((e,t)=>{const o=r(e,n+1);!fn(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)}};function Nn(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Mn.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Mn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Cn=Nn.prototype,Ln={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ln[e]={value:e}})),Object.defineProperties(Nn,Ln),Object.defineProperty(Cn,"isAxiosError",{value:!0}),Nn.from=(e,t,r,n,i,o)=>{const a=Object.create(Cn);return Mn.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Nn.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const Un=Nn;const jn=i(6230);var Dn=i(8764).Buffer;function Hn(e){return Mn.isPlainObject(e)||Mn.isArray(e)}function qn(e){return Mn.endsWith(e,"[]")?e.slice(0,-2):e}function Fn(e,t,r){return e?e.concat(t).map((function(e,t){return e=qn(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const zn=Mn.toFlatObject(Mn,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Kn=function(e,t,r){if(!Mn.isObject(e))throw new TypeError("target must be an object");t=t||new(jn||FormData);const n=(r=Mn.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Mn.isUndefined(t[e])}))).metaTokens,i=r.visitor||l,o=r.dots,a=r.indexes,s=(r.Blob||"undefined"!=typeof Blob&&Blob)&&((c=t)&&Mn.isFunction(c.append)&&"FormData"===c[Symbol.toStringTag]&&c[Symbol.iterator]);var c;if(!Mn.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Mn.isDate(e))return e.toISOString();if(!s&&Mn.isBlob(e))throw new Un("Blob is not supported. Use a Buffer instead.");return Mn.isArrayBuffer(e)||Mn.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Dn.from(e):e}function l(e,r,i){let s=e;if(e&&!i&&"object"==typeof e)if(Mn.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Mn.isArray(e)&&function(e){return Mn.isArray(e)&&!e.some(Hn)}(e)||Mn.isFileList(e)||Mn.endsWith(r,"[]")&&(s=Mn.toArray(e)))return r=qn(r),s.forEach((function(e,n){!Mn.isUndefined(e)&&null!==e&&t.append(!0===a?Fn([r],n,o):null===a?r:r+"[]",u(e))})),!1;return!!Hn(e)||(t.append(Fn(i,r,o),u(e)),!1)}const f=[],d=Object.assign(zn,{defaultVisitor:l,convertValue:u,isVisitable:Hn});if(!Mn.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Mn.isUndefined(r)){if(-1!==f.indexOf(r))throw Error("Circular reference detected in "+n.join("."));f.push(r),Mn.forEach(r,(function(r,o){!0===(!(Mn.isUndefined(r)||null===r)&&i.call(t,r,Mn.isString(o)?o.trim():o,n,d))&&e(r,n?n.concat(o):[o])})),f.pop()}}(e),t};function Wn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function $n(e,t){this._pairs=[],e&&Kn(e,this,t)}const Vn=$n.prototype;Vn.append=function(e,t){this._pairs.push([e,t])},Vn.toString=function(e){const t=e?function(t){return e.call(this,t,Wn)}:Wn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Gn=$n;function Yn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xn(e,t,r){if(!t)return e;const n=r&&r.encode||Yn,i=r&&r.serialize;let o;if(o=i?i(t,r):Mn.isURLSearchParams(t)?t.toString():new Gn(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Jn=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Mn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Zn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qn="undefined"!=typeof URLSearchParams?URLSearchParams:Gn,ei=FormData,ti=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),ri="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ni={isBrowser:!0,classes:{URLSearchParams:Qn,FormData:ei,Blob},isStandardBrowserEnv:ti,isStandardBrowserWebWorkerEnv:ri,protocols:["http","https","file","blob","url","data"]};const ii=function(e){function t(e,r,n,i){let o=e[i++];const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&Mn.isArray(n)?n.length:o,s)return Mn.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a;n[o]&&Mn.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&Mn.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!a}if(Mn.isFormData(e)&&Mn.isFunction(e.entries)){const r={};return Mn.forEachEntry(e,((e,n)=>{t(function(e){return Mn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null},oi={"Content-Type":void 0};const ai={transitional:Zn,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=Mn.isObject(e);i&&Mn.isHTMLForm(e)&&(e=new FormData(e));if(Mn.isFormData(e))return n&&n?JSON.stringify(ii(e)):e;if(Mn.isArrayBuffer(e)||Mn.isBuffer(e)||Mn.isStream(e)||Mn.isFile(e)||Mn.isBlob(e))return e;if(Mn.isArrayBufferView(e))return e.buffer;if(Mn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Kn(e,new ni.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return ni.isNode&&Mn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Mn.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Kn(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(Mn.isString(e))try{return(t||JSON.parse)(e),Mn.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ai.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&Mn.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw Un.from(e,Un.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ni.classes.FormData,Blob:ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Mn.forEach(["delete","get","head"],(function(e){ai.headers[e]={}})),Mn.forEach(["post","put","patch"],(function(e){ai.headers[e]=Mn.merge(oi)}));const si=ai,ci=Mn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ui=Symbol("internals");function li(e){return e&&String(e).trim().toLowerCase()}function fi(e){return!1===e||null==e?e:Mn.isArray(e)?e.map(fi):String(e)}function di(e,t,r,n){return Mn.isFunction(n)?n.call(this,t,r):Mn.isString(t)?Mn.isString(n)?-1!==t.indexOf(n):Mn.isRegExp(n)?n.test(t):void 0:void 0}class hi{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=li(t);if(!i)throw new Error("header name must be a non-empty string");const o=Mn.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=fi(e))}const o=(e,t)=>Mn.forEach(e,((e,r)=>i(e,r,t)));return Mn.isPlainObject(e)||e instanceof this.constructor?o(e,t):Mn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&ci[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t):null!=e&&i(t,e,r),this}get(e,t){if(e=li(e)){const r=Mn.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Mn.isFunction(t))return t.call(this,e,r);if(Mn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=li(e)){const r=Mn.findKey(this,e);return!(!r||t&&!di(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=li(e)){const i=Mn.findKey(r,e);!i||t&&!di(0,r[i],i,t)||(delete r[i],n=!0)}}return Mn.isArray(e)?e.forEach(i):i(e),n}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,r={};return Mn.forEach(this,((n,i)=>{const o=Mn.findKey(r,i);if(o)return t[o]=fi(n),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();a!==i&&delete t[i],t[a]=fi(n),r[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Mn.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Mn.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[ui]=this[ui]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=li(e);t[n]||(!function(e,t){const r=Mn.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return Mn.isArray(e)?e.forEach(n):n(e),this}}hi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Mn.freezeMethods(hi.prototype),Mn.freezeMethods(hi);const pi=hi;function gi(e,t){const r=this||si,n=t||r,i=pi.from(n.headers);let o=n.data;return Mn.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function mi(e){return!(!e||!e.__CANCEL__)}function bi(e,t,r){Un.call(this,null==e?"canceled":e,Un.ERR_CANCELED,t,r),this.name="CanceledError"}Mn.inherits(bi,Un,{__CANCEL__:!0});const yi=bi;const vi=ni.isStandardBrowserEnv?{write:function(e,t,r,n,i,o){const a=[];a.push(e+"="+encodeURIComponent(t)),Mn.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Mn.isString(n)&&a.push("path="+n),Mn.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function wi(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const _i=ni.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=Mn.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};const Si=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=n[a];i||(i=c),r[o]=s,n[o]=c;let l=a,f=0;for(;l!==o;)f+=r[l++],l%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const d=u&&c-u;return d?Math.round(1e3*f/d):void 0}};function Ei(e,t){let r=0;const n=Si(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-r,c=n(s);r=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const ki="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){let n=e.data;const i=pi.from(e.headers).normalize(),o=e.responseType;let a;function s(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}Mn.isFormData(n)&&(ni.isStandardBrowserEnv||ni.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+r))}const u=wi(e.baseURL,e.url);function l(){if(!c)return;const n=pi.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Un("Request failed with status code "+r.status,[Un.ERR_BAD_REQUEST,Un.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}((function(e){t(e),s()}),(function(e){r(e),s()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),Xn(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(r(new Un("Request aborted",Un.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new Un("Network Error",Un.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||Zn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new Un(t,n.clarifyTimeoutError?Un.ETIMEDOUT:Un.ECONNABORTED,e,c)),c=null},ni.isStandardBrowserEnv){const t=(e.withCredentials||_i(u))&&e.xsrfCookieName&&vi.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===n&&i.setContentType(null),"setRequestHeader"in c&&Mn.forEach(i.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),Mn.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",Ei(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Ei(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{c&&(r(!t||t.type?new yi(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);f&&-1===ni.protocols.indexOf(f)?r(new Un("Unsupported protocol "+f+":",Un.ERR_BAD_REQUEST,e)):c.send(n||null)}))},Ai={http:null,xhr:ki};Mn.forEach(Ai,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const xi=e=>{e=Mn.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let i=0;i<t&&(r=e[i],!(n=Mn.isString(r)?Ai[r.toLowerCase()]:r));i++);if(!n){if(!1===n)throw new Un(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(Mn.hasOwnProp(Ai,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`)}if(!Mn.isFunction(n))throw new TypeError("adapter is not a function");return n};function Ii(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yi(null,e)}function Oi(e){Ii(e),e.headers=pi.from(e.headers),e.data=gi.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return xi(e.adapter||si.adapter)(e).then((function(t){return Ii(e),t.data=gi.call(e,e.transformResponse,t),t.headers=pi.from(t.headers),t}),(function(t){return mi(t)||(Ii(e),t&&t.response&&(t.response.data=gi.call(e,e.transformResponse,t.response),t.response.headers=pi.from(t.response.headers))),Promise.reject(t)}))}const Pi=e=>e instanceof pi?e.toJSON():e;function Ti(e,t){t=t||{};const r={};function n(e,t,r){return Mn.isPlainObject(e)&&Mn.isPlainObject(t)?Mn.merge.call({caseless:r},e,t):Mn.isPlainObject(t)?Mn.merge({},t):Mn.isArray(t)?t.slice():t}function i(e,t,r){return Mn.isUndefined(t)?Mn.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!Mn.isUndefined(t))return n(void 0,t)}function a(e,t){return Mn.isUndefined(t)?Mn.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(Pi(e),Pi(t),!0)};return Mn.forEach(Object.keys(e).concat(Object.keys(t)),(function(n){const o=c[n]||i,a=o(e[n],t[n],n);Mn.isUndefined(a)&&o!==s||(r[n]=a)})),r}const Ri="1.2.2",Bi={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Bi[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Mi={};Bi.transitional=function(e,t,r){function n(e,t){return"[Axios v1.2.2] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new Un(n(i," has been removed"+(t?" in "+t:"")),Un.ERR_DEPRECATED);return t&&!Mi[i]&&(Mi[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};const Ni={assertOptions:function(e,t,r){if("object"!=typeof e)throw new Un("options must be an object",Un.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],a=t[o];if(a){const t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new Un("option "+o+" must be "+r,Un.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Un("Unknown option "+o,Un.ERR_BAD_OPTION)}},validators:Bi},Ci=Ni.validators;class Li{constructor(e){this.defaults=e,this.interceptors={request:new Jn,response:new Jn}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ti(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;let o;void 0!==r&&Ni.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),void 0!==n&&Ni.assertOptions(n,{encode:Ci.function,serialize:Ci.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),o=i&&Mn.merge(i.common,i[t.method]),o&&Mn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=pi.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,f=0;if(!s){const e=[Oi.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);f<l;)u=u.then(e[f++],e[f++]);return u}l=a.length;let d=t;for(f=0;f<l;){const e=a[f++],t=a[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{u=Oi.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,l=c.length;f<l;)u=u.then(c[f++],c[f++]);return u}getUri(e){return Xn(wi((e=Ti(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Mn.forEach(["delete","get","head","options"],(function(e){Li.prototype[e]=function(t,r){return this.request(Ti(r||{},{method:e,url:t,data:(r||{}).data}))}})),Mn.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Ti(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Li.prototype[e]=t(),Li.prototype[e+"Form"]=t(!0)}));const Ui=Li;class ji{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new yi(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new ji((function(t){e=t}));return{token:t,cancel:e}}}const Di=ji;const Hi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hi).forEach((([e,t])=>{Hi[t]=e}));const qi=Hi;const Fi=function e(t){const r=new Ui(t),n=rn(Ui.prototype.request,r);return Mn.extend(n,Ui.prototype,r,{allOwnKeys:!0}),Mn.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Ti(t,r))},n}(si);Fi.Axios=Ui,Fi.CanceledError=yi,Fi.CancelToken=Di,Fi.isCancel=mi,Fi.VERSION=Ri,Fi.toFormData=Kn,Fi.AxiosError=Un,Fi.Cancel=Fi.CanceledError,Fi.all=function(e){return Promise.all(e)},Fi.spread=function(e){return function(t){return e.apply(null,t)}},Fi.isAxiosError=function(e){return Mn.isObject(e)&&!0===e.isAxiosError},Fi.mergeConfig=Ti,Fi.AxiosHeaders=pi,Fi.formToJSON=e=>ii(Mn.isHTMLForm(e)?new FormData(e):e),Fi.HttpStatusCode=qi,Fi.default=Fi;const zi=Fi;var Ki=i(8805),Wi=i.n(Ki);const $i=class{constructor(e){this.config=e}init(){return Promise.resolve()}unload(){return Promise.resolve()}get supportedMethods(){return["getInfo","makeInvoice","sendPayment","signMessage"]}getInfo(){const e={query:"\n        query getinfo {\n          me {\n              id\n              username\n          }\n        }\n      "};return this.request(e).then((({data:e,errors:t})=>{const r=t||e.me.errors;if(r&&r.length)throw new Error(r[0].message||JSON.stringify(r));return{data:{alias:e.me.username?e.me.username.substr(0,10):e.me.id.substr(0,8)}}}))}async connectPeer(){throw console.error(`${this.constructor.name} does not implement the getInvoices call`),new Error("Not yet supported with the currently used account.")}async getInvoices(){throw console.error(`Not yet supported with the currently used account: ${this.constructor.name}`),new Error(`${this.constructor.name}: "getInvoices" is not yet supported. Contact us if you need it.`)}getBalance(){const e={query:"\n        query getinfo {\n          me {\n            defaultAccount {\n              defaultWalletId\n              wallets {\n                id\n                balance\n              }\n            }\n          }\n        }\n      "};return this.request(e).then((({data:e,errors:t})=>{const r=t||e.me.errors;if(r&&r.length)throw new Error(r[0].message||JSON.stringify(r));const{defaultWalletId:n,wallets:i}=e.me.defaultAccount,o=i.find((e=>e.id===n));if(o)return{data:{balance:o.balance}};throw new Error("Valid wallet not found")}))}sendPayment(e){const t={query:"\n        mutation lnInvoicePaymentSend($input: LnInvoicePaymentInput!) {\n          lnInvoicePaymentSend(input:$input) {\n            status\n            errors {\n              message\n            }\n          }\n        }\n      ",variables:{input:{walletId:this.config.walletId,paymentRequest:e.paymentRequest,memo:"Sent via Alby"}}},r=Wi().decode(e.paymentRequest),n=r.satoshis||0,i=r.tagsObject.payment_hash||"";return this.request(t).then((({data:e,errors:t})=>{const r=t||e.lnInvoicePaymentSend.errors;if(r&&r.length)throw new Error(r[0].message||JSON.stringify(r));switch(e.lnInvoicePaymentSend.status){case"ALREADY_PAID":throw new Error("Invoice was already paid.");case"FAILURE":throw new Error("Payment failed.");case"PENDING":return{data:{preimage:"No preimage, payment still pending",paymentHash:i,route:{total_amt:n,total_fees:0}}};default:return{data:{preimage:"No preimage received",paymentHash:i,route:{total_amt:n,total_fees:0}}}}}))}async checkPayment(e){const t={query:"\n        query transactionsList($first: Int, $after: String) {\n          me {\n            defaultAccount {\n              defaultWalletId\n              wallets {\n                id\n                walletCurrency\n                transactions(first: $first, after: $after) {\n                  pageInfo {\n                      hasNextPage\n                  }\n                  edges {\n                    cursor\n                    node {\n                      status\n                      initiationVia {\n                        ... on InitiationViaLn {\n                            paymentHash\n                        }\n                      }\n                      settlementVia {\n                        ... on SettlementViaLn {\n                            paymentSecret\n                        }\n                        ... on SettlementViaIntraLedger {\n                          __typename\n                          counterPartyWalletId\n                          counterPartyUsername\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      ",variables:""};let r=null,n=!0;for(;!0===n;)t.variables=JSON.stringify({first:20,after:r}),n=await this.request(t).then((({data:t,errors:n})=>{const i=n||t.me.errors;if(i&&i.length)throw new Error(i[0].message||JSON.stringify(i));const o=t.me.defaultAccount,a=o.wallets.find((e=>e.id===o.defaultWalletId));if(void 0===a)throw new Error("Bad data received.");if("BTC"!==a.walletCurrency)throw new Error("Non-BTC wallets not implemented yet.");const s=a.transactions.edges,c=s.find((t=>t.node.initiationVia.paymentHash===e.paymentHash));if(void 0!==c)return{data:{paid:"SUCCESS"===c.node.status,preimage:c.node.settlementVia.__typename?"Payment executed internally":c.node.settlementVia.paymentSecret||"No preimage received"}};if(!a.transactions.pageInfo.hasNextPage)throw new Error(`Transaction not found for payment hash: ${e.paymentHash}`);return r=s[s.length-1].cursor,!0}));return n}async keysend(e){throw new Error("not supported")}signMessage(e){return Promise.reject(new Error("Not yet supported with Galoy."))}makeInvoice(e){const t={query:"\n        mutation lnInvoiceCreate($input: LnInvoiceCreateInput!) {\n          lnInvoiceCreate(input: $input) {\n            invoice {\n              paymentRequest\n              paymentHash\n              paymentSecret\n              satoshis\n            }\n            errors {\n              message\n            }\n          }\n        }\n            ",variables:{input:{walletId:this.config.walletId,amount:e.amount,memo:e.memo}}};return this.request(t).then((({data:e,errors:t})=>{const r=t||e.lnInvoiceCreate.errors;if(r&&r.length)throw new Error(r[0].message||JSON.stringify(r));return{data:{paymentRequest:e.lnInvoiceCreate.invoice.paymentRequest,rHash:e.lnInvoiceCreate.invoice.paymentHash}}}))}async request(e){const t={method:"POST",url:this.config.url,responseType:"json",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:`Bearer ${this.config.accessToken}`}};let r;t.data=e;try{r=(await zi(t)).data}catch(e){if(console.error(e),e instanceof Error)throw new Error(e.message)}return r}};var Vi=i(2153),Gi=i.n(Vi);const Yi=1e8,Xi=e=>Number(e)*Yi,Ji=e=>{const t=Number(e.amount)*e.rate;return(e=>{const t=(e.locale||"en").toLowerCase().replace("_","-");return new Intl.NumberFormat(t||"en",{style:"currency",currency:e.currency}).format(Number(e.amount))})({...e,amount:t})},Zi=e=>{const t=(e=>{const t=(e.locale||"en").toLowerCase().replace("_","-");return new Intl.NumberFormat(t||"en").format(Number(e.amount))})(e);return`${t} ${vt.t("common:sats",{count:Number(e.amount)})}`};var Qi=i(6266),eo=i.n(Qi),to=i(8764).Buffer;const ro=new(eo().ec)("secp256k1");const no=class{constructor(e){if(this.keyHex=e,!e)throw new Error("Invalid key");this.sk=ro.keyFromPrivate(to.from(e,"hex"))}get pk(){return this.sk.getPublic()}get pkHex(){return this.pk.encodeCompressed("hex")}sign(e){if(!e)throw new Error("Invalid message");return this.sk.sign(e,{canonical:!0})}verify(e,t){try{return this.sk.verify(e,t)}catch(e){return console.error(e),!1}}},io="https://kollider.me/api",oo={Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json"};const ao=class{constructor(e){this.config=e}init(){return Promise.resolve()}unload(){return Promise.resolve()}get supportedMethods(){return["getInfo","makeInvoice","sendPayment","signMessage"]}getInfo(){return this.request("GET","/api/v1/wallet",this.config.adminkey,void 0).then((e=>({data:{alias:e.name}})))}async connectPeer(){throw console.error(`${this.constructor.name} does not implement the getInvoices call`),new Error("Not yet supported with the currently used account.")}async getInvoices(){return this.request("GET","/api/v1/payments",this.config.adminkey,void 0).then((e=>({data:{invoices:e.filter((e=>e.amount>0)).map(((e,t)=>({id:`${e.checking_id}-${t}`,memo:e.memo,preimage:e.preimage,settled:!e.pending,settleDate:1e3*e.time,totalAmount:`${Math.floor(e.amount/1e3)}`,type:"received"})))}})))}getBalance(){return this.request("GET","/api/v1/wallet",this.config.adminkey,void 0).then((e=>({data:{balance:Math.floor(e.balance/1e3)}})))}sendPayment(e){const t=Wi().decode(e.paymentRequest).satoshis||0;return this.request("POST","/api/v1/payments",this.config.adminkey,{bolt11:e.paymentRequest,out:!0}).then((e=>this.checkPayment({paymentHash:e.payment_hash}).then((({data:r})=>({data:{preimage:r?.preimage||"",paymentHash:e.payment_hash,route:{total_amt:t,total_fees:0}}})))))}async keysend(e){throw new Error("not supported")}async checkPayment(e){const t=await this.request("GET",`/api/v1/payments/${e.paymentHash}`,this.config.adminkey);return{data:{paid:t.isPaid,...t}}}signMessage(e){if(!this.config.url||!this.config.adminkey)return Promise.reject(new Error("Missing config"));if(!e.message)return Promise.reject(new Error("Invalid message"));let t;t=Gi()(e.message).toString(St());let r=Gi()(`lnbits://${this.config.adminkey}`).toString(St());const{settings:n}=Bl.getState();if(n.legacyLnurlAuth&&(t=o.stringToUint8Array(e.message),r=Gi()(`LBE-LNBITS-${this.config.url}-${this.config.adminkey}`).toString(St())),!r)return Promise.reject(new Error("Could not create key"));const i=new no(r).sign(t).toDER("hex");return i?Promise.resolve({data:{message:e.message,signature:i}}):Promise.reject(new Error("Signing failed"))}makeInvoice(e){return this.request("POST","/api/v1/payments",this.config.adminkey,{amount:e.amount,memo:e.memo,out:!1}).then((e=>({data:{paymentRequest:e.payment_request,rHash:e.payment_hash}})))}async request(e,t,r,n){let i=null,o="";const a=new Headers;a.append("Accept","application/json"),a.append("Content-Type","application/json"),a.append("X-Api-Key",r),"POST"===e?i=JSON.stringify(n):void 0!==n&&(o="?");const s=await fetch(this.config.url+t+o,{method:e,headers:a,body:i});if(!s.ok){const e=await s.json();throw console.error("errBody",e),new Error(e.detail)}return await s.json()}};var so=i(4433),co=i.n(so);const uo={getinfo:{path:"/v1/getinfo",httpMethod:"GET"},listchannels:{path:"/v1/channels",httpMethod:"GET"},listinvoices:{path:"/v1/invoices",httpMethod:"GET"},channelbalance:{path:"/v1/balance/channels",httpMethod:"GET"},walletbalance:{path:"/v1/balance/blockchain",httpMethod:"GET"},openchannel:{path:"/v1/channels",httpMethod:"POST"},connectpeer:{path:"/v1/peers",httpMethod:"POST"},disconnectpeer:{path:"/v1/peers/{{pub_key}}",httpMethod:"DELETE"},estimatefee:{path:"/v1/transactions/fee",httpMethod:"GET"},getchaninfo:{path:"/v1/graph/edge/{{chan_id}}",httpMethod:"GET"},getnetworkinfo:{path:"/v1/graph/info",httpMethod:"GET"},getnodeinfo:{path:"/v1/graph/node/{{pub_key}}",httpMethod:"GET"},gettransactions:{path:"/v1/transactions",httpMethod:"GET"},listpayments:{path:"/v1/payments",httpMethod:"GET"},listpeers:{path:"/v1/peers",httpMethod:"GET"},lookupinvoice:{path:"/v1/invoice/{{r_hash_str}}",httpMethod:"GET"},queryroutes:{path:"/v1/graph/routes/{{pub_key}}/{{amt}}",httpMethod:"GET"},verifymessage:{path:"/v1/verifymessage",httpMethod:"POST"},sendtoroute:{path:"/v1/channels/transactions/route",httpMethod:"POST"},decodepayreq:{path:"/v1/payreq/{{pay_req}}",httpMethod:"GET"},routermc:{path:"/v2/router/mc",httpMethod:"GET"},addinvoice:{path:"/v1/invoices",httpMethod:"POST"}};const lo=class{constructor(e){this.config=e}init(){return Promise.resolve()}unload(){return Promise.resolve()}get supportedMethods(){return Object.keys(uo)}async requestMethod(e,t){const r=uo[e];if(!r)throw new Error(`${e} is not supported`);const n=r.httpMethod;let i=r.path;var o;o=t,i=i.replace(/{{(.*?)}}/g,(e=>{const t=e.split(/{{|}}/).filter(Boolean)[0],r=o[t];if(void 0===r)throw new Error(`Missing parameter ${t}`);return delete o[t],String(r)}));return{data:await this.request(n,i,t)}}getInfo(){return this.request("GET","/v1/getinfo",void 0,{}).then((e=>({data:{alias:e.alias,pubkey:e.identity_pubkey,color:e.color}})))}getBalance(){return this.getChannelsBalance()}connectPeer(e){const{pubkey:t,host:r}=e;return this.request("POST","/v1/peers",{addr:{pubkey:t,host:r},perm:!0}).then((e=>({data:!0}))).catch((e=>{if(e.message.match(/already connected/))return{data:!0};throw new Error(e.message)}))}sendPayment(e){return this.request("POST","/v1/channels/transactions",{payment_request:e.paymentRequest},{}).then((e=>{if(e.payment_error)throw new Error(e.payment_error);return{data:{preimage:o.base64ToHex(e.payment_preimage),paymentHash:o.base64ToHex(e.payment_hash),route:e.payment_route}}}))}async keysend(e){const t=e.pubkey,r=St().parse(t).toString(en()),n=co().random(32),i=n.toString(en()),a=Gi()(n).toString(en()),s={};for(const t in e.customRecords)s[t]=kt().parse(e.customRecords[t]).toString(en());return s[5482373484]=i,this.request("POST","/v1/channels/transactions",{dest:r,amt:e.amount,payment_hash:a,dest_custom_records:s},{}).then((e=>{if(e.payment_error)throw new Error(e.payment_error);return{data:{preimage:o.base64ToHex(e.payment_preimage),paymentHash:o.base64ToHex(e.payment_hash),route:e.payment_route}}}))}async checkPayment(e){return{data:{paid:(await this.request("GET",`/v1/invoice/${e.paymentHash}`)).settled}}}signMessage(e){return this.request("POST","/v1/signmessage",{msg:en().stringify(kt().parse(e.message))}).then((t=>({data:{message:e.message,signature:t.signature}})))}makeInvoice(e){return this.request("POST","/v1/invoices",{memo:e.memo,value:e.amount}).then((e=>({data:{paymentRequest:e.payment_request,rHash:o.base64ToHex(e.r_hash)}})))}getAddress(){return this.request("POST","/v2/wallet/address/next",void 0,{})}getBlockchainBalance=()=>this.request("GET","/v1/balance/blockchain",void 0,{unconfirmed_balance:"0",confirmed_balance:"0",total_balance:"0"});getChannelsBalance=()=>this.request("GET","/v1/balance/channels",void 0,{pending_open_balance:"0",balance:"0"}).then((e=>({data:{balance:e.balance,pending_open_balance:e.pending_open_balance}})));async getInvoices(){const e=(await this.request("GET","/v1/invoices",{reversed:!0})).invoices.map(((e,t)=>({custom_records:e.htlcs[0]&&e.htlcs[0].custom_records,id:`${e.payment_request}-${t}`,memo:e.memo,preimage:e.r_preimage,settled:e.settled,settleDate:1e3*parseInt(e.settle_date),totalAmount:e.value,type:"received"}))).sort(((e,t)=>t.settleDate-e.settleDate));return{data:{invoices:e}}}async request(e,t,r,n){const i=new URL(this.config.url);i.pathname=`${i.pathname.replace(/\/$/,"")}${t}`;let o=null;const a=new Headers;a.append("Accept","application/json"),"POST"===e?(o=JSON.stringify(r),a.append("Content-Type","application/json")):void 0!==r&&(i.search=new URLSearchParams(r).toString()),this.config.macaroon&&a.append("Grpc-Metadata-macaroon",this.config.macaroon);const s=await fetch(i.toString(),{method:e,headers:a,body:o});if(!s.ok){let e;try{if(e=await s.json(),e.message&&!e.error&&(e.error=e.message,delete e.message),!e.error)throw new Error("Something went wrong")}catch(e){throw new Error(s.statusText)}throw console.error(e),new Error(e.error)}let c=await s.json();return n&&(c=Object.assign(Object.assign({},n),c)),c}};var fo=i(8010),ho=i.n(fo),po=i(8764).Buffer;const go={Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json","X-User-Agent":"alby-extension"};class mo{constructor(e){this.config=e}async init(){return this.authorize()}unload(){return Promise.resolve()}get supportedMethods(){return["getInfo","keysend","makeInvoice","sendPayment","signMessage"]}async connectPeer(){throw console.error(`${this.constructor.name} does not implement the getInvoices call`),new Error("Not yet supported with the currently used account.")}async getInvoices(){const e=(await this.request("GET","/getuserinvoices",void 0)).map(((e,t)=>({custom_records:e.custom_records,id:`${e.payment_request}-${t}`,memo:e.description,preimage:"",settled:e.ispaid,settleDate:1e3*e.timestamp,totalAmount:`${e.amt}`,type:"received"}))).sort(((e,t)=>t.settleDate-e.settleDate));return{data:{invoices:e}}}async getInfo(){const{alias:e}=await this.request("GET","/getinfo",void 0);return{data:{alias:e}}}async getBalance(){const{BTC:e}=await this.request("GET","/balance",void 0);return{data:{balance:e.AvailableBalance}}}async sendPayment(e){const t=await this.request("POST","/payinvoice",{invoice:e.paymentRequest});if(t.error)throw new Error(t.message);if(t.payment_error)throw new Error(t.payment_error);if("object"==typeof t.payment_hash&&"Buffer"===t.payment_hash.type&&(t.payment_hash=po.from(t.payment_hash.data).toString("hex")),"object"==typeof t.payment_preimage&&"Buffer"===t.payment_preimage.type&&(t.payment_preimage=po.from(t.payment_preimage.data).toString("hex")),!t.payment_route){const r=Wi().decode(e.paymentRequest).satoshis||0;t.payment_route={total_amt:r,total_fees:0}}return{data:{preimage:t.payment_preimage,paymentHash:t.payment_hash,route:t.payment_route}}}async keysend(e){const t=await this.request("POST","/keysend",{destination:e.pubkey,amount:e.amount,customRecords:e.customRecords});if(t.error)throw new Error(t.message);if(t.payment_error)throw new Error(t.payment_error);return"object"==typeof t.payment_hash&&"Buffer"===t.payment_hash.type&&(t.payment_hash=po.from(t.payment_hash.data).toString("hex")),"object"==typeof t.payment_preimage&&"Buffer"===t.payment_preimage.type&&(t.payment_preimage=po.from(t.payment_preimage.data).toString("hex")),{data:{preimage:t.payment_preimage,paymentHash:t.payment_hash,route:t.payment_route}}}async checkPayment(e){const{paid:t}=await this.request("GET",`/checkpayment/${e.paymentHash}`,void 0);return{data:{paid:t}}}signMessage(e){if(!this.config.url||!this.config.login||!this.config.password)return Promise.reject(new Error("Missing config"));if(!e.message)return Promise.reject(new Error("Invalid message"));let t;t=Gi()(e.message).toString(St());let r=Gi()(`lndhub://${this.config.login}:${this.config.password}`).toString(St());const{settings:n}=Bl.getState();if(n.legacyLnurlAuth&&(t=o.stringToUint8Array(e.message),r=Gi()(`LBE-LNDHUB-${this.config.url}-${this.config.login}-${this.config.password}`).toString(St())),!r)return Promise.reject(new Error("Could not create key"));const i=new no(r).sign(t).toDER("hex");return i?Promise.resolve({data:{message:e.message,signature:i}}):Promise.reject(new Error("Signing failed"))}async makeInvoice(e){const t=await this.request("POST","/addinvoice",{amt:e.amount,memo:e.memo});return"object"==typeof t.r_hash&&"Buffer"===t.r_hash.type&&(t.r_hash=po.from(t.r_hash.data).toString("hex")),{data:{paymentRequest:t.payment_request,rHash:t.r_hash}}}async authorize(){const e=`${this.config.url}/auth?type=auth`,{data:t}=await zi.post(e,{login:this.config.login,password:this.config.password},{headers:{...go,"X-TS":Math.floor(Date.now()/1e3),"X-VERIFY":this.generateHmacVerification(e)}});if(t.error||t.errors){const e=t.error||t.errors,r=e?.errors?.[0]?.message||e?.[0]?.message;throw console.error(r),new Error("API error: "+r)}return this.refresh_token=t.refresh_token,this.access_token=t.access_token,this.refresh_token_created=+new Date,this.access_token_created=+new Date,t}generateHmacVerification(e){const t=ho()(e,"alby-extension").toString(en());return encodeURIComponent(t)}async request(e,t,r){this.access_token||await this.authorize();const n=`${this.config.url}${t}`,i={method:e,url:n,responseType:"json",headers:{...go,Authorization:`Bearer ${this.access_token}`,"X-TS":Math.floor(Date.now()/1e3),"X-VERIFY":this.generateHmacVerification(n)}};let o;"POST"===e?i.data=r:void 0!==r&&(i.params=r);try{o=(await zi(i)).data}catch(n){if(console.error(n),zi.isAxiosError(n)){const i=n.response;if(404===i?.status){const e=t.replace("/","");throw new Error(`${e} not supported by the connected account.`)}if(401===i?.status){try{await this.authorize()}catch(e){if(console.error(e),e instanceof Error)throw new Error(e.message)}return this.request(e,t,r)}const o=`${i?.data.message}\n(${n.message})`;throw new Error(o)}}if(o?.error){if(1*o.code!=1||this.noRetry)throw new Error(o.message);try{await this.authorize()}catch(e){if(console.error(e),e instanceof Error)throw new Error(e.message)}return this.noRetry=!0,this.request(e,t,r)}return o}}function bo(e){return class extends e{get port(){return this._port||this.connectNativeCompanion(),this._port}connectNativeCompanion(){this._port=t().runtime.connectNative("alby"),this._port.onMessage.addListener((e=>{"status"===e.id&&502===e.status&&e.header["X-Alby-Internal"]&&(console.error("Error in the native companion. Shutting it down"),console.error(e),this.unload())})),this._port.onDisconnect.addListener((e=>{console.error("Native companion disconnected"),e.error&&console.error(`Native companion error: ${e.error.message}`),this._port=null}))}async init(){this._port||this.connectNativeCompanion()}unload(){return new Promise(((e,t)=>{this._port?(this._port.disconnect(),this._port=null,setTimeout(e,5e3)):e()}))}}}const yo=bo(wt);const vo=bo(ao);const wo=bo(lo);const _o=bo(mo);const So={lnd:lo,nativelnd:class extends wo{request(e,t,r){const n=new URL(this.config.url);n.pathname=t;let i="";const o={Accept:"application/json"};return"POST"===e?(i=JSON.stringify(r),o["Content-Type"]="application/json"):void 0!==r&&(n.search=new URLSearchParams(r).toString()),this.config.macaroon&&(o["Grpc-Metadata-macaroon"]=this.config.macaroon),new Promise(((r,a)=>{const s=e=>{if(e.id===t)if(this.port.onMessage.removeListener(s),e.status>299)a(new Error(e.body));else{const t=JSON.parse(e.body);r(t)}};this.port.onMessage.addListener(s),this.port.postMessage({id:t,method:e,url:n.toString(),body:i,headers:o})}))}},lndhub:mo,nativelndhub:class extends _o{_nativeRequest(e){return new Promise(((t,r)=>{const n=i=>{i.id===e.id&&(this.port.onMessage.removeListener(n),i.status>299?r(new Error(i.body)):t(i))};this.port.onMessage.addListener(n),this.port.postMessage(e)}))}async authorize(){const e=new URL(this.config.url);e.pathname="/auth";const t=JSON.stringify({login:this.config.login,password:this.config.password});return this._nativeRequest({id:"auth",method:"POST",url:e.toString(),body:t,params:{type:"auth"},headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((e=>{const t=JSON.parse(e.body);if(t&&t.error)throw new Error("API error: "+t.message+" (code "+t.code+")");if(!t.access_token||!t.refresh_token)throw new Error("API unexpected response: "+JSON.stringify(t));return this.refresh_token=t.refresh_token,this.access_token=t.access_token,this.refresh_token_created=+new Date,this.access_token_created=+new Date,t}))}async request(e,t,r){this.access_token||await this.authorize();const n={Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:`Bearer ${this.access_token}`},i=new URL(this.config.url);let o,a;i.pathname=t,"POST"===e?o=JSON.stringify(r):a=r;const s={id:t,method:e,url:i.toString(),headers:n,body:o,params:a};let c;try{const e=await this._nativeRequest(s);c=JSON.parse(e.body)}catch(e){if(console.error(e),e instanceof Error)throw new Error(e.message)}if(c&&c.error){if(1*c.code!=1||this.noRetry)throw new Error(c.message);try{await this.authorize()}catch(e){if(console.error(e),e instanceof Error)throw new Error(e.message)}return this.noRetry=!0,this.request(e,t,r)}return c}},lnbits:ao,nativelnbits:class extends vo{_nativeRequest(e){return new Promise(((t,r)=>{const n=i=>{i.id===e.id&&(this.port.onMessage.removeListener(n),i.status>299?r(new Error(i.body)):t(i))};this.port.onMessage.addListener(n),this.port.postMessage(e)}))}async request(e,t,r,n){let i;const o={Accept:"application/json","Content-Type":"application/json","X-Api-Key":r};"POST"===e&&(i=JSON.stringify(n));const a=new URL(this.config.url);a.pathname=t;const s={id:t,method:e,url:a.toString(),headers:o,body:i};let c;try{const e=await this._nativeRequest(s);c=JSON.parse(e.body)}catch(e){if(console.error(e),e instanceof Error)throw new Error(e.message)}return c}},galoy:$i,eclair:tn,citadel:wt,nativecitadel:class extends yo{_nativeRequest(e){return new Promise(((t,r)=>{const n=i=>{i.id===e.id&&(this.port.onMessage.removeListener(n),i.status>299?r(new Error(i.body)):t(i))};this.port.onMessage.addListener(n),this.port.postMessage(e)}))}async request(e,t,r){let n,i={};t=this.config.url+(this.config.url.endsWith("/")?"":"/")+t,"GET"!==e&&(i={"Content-type":"application/json"}),this.jwt&&(i={...i,Authorization:`JWT ${this.jwt}`}),"POST"===e&&(n=JSON.stringify(r));const o=await this._nativeRequest({headers:i,url:t,method:e||"GET",id:t+Math.floor(1e3*Math.random()+1).toString(),body:n});if(200!==o.status)throw new Error(o.body);const a=o.body;let s;try{s=JSON.parse(a)}catch{throw new Error(`Received invalid data: ${a}`)}if("string"==typeof s)throw new Error(s);return s}},commando:class{constructor(e){this.config=e,this.ln=new Kr({remoteNodePublicKey:this.config.pubkey,wsProxy:this.config.wsProxy,ip:this.config.host,port:this.config.port||9735,privateKey:this.config.privateKey})}async init(){await this.ln.connect()}async unload(){await this.ln.disconnect()}get supportedMethods(){return Zr}async requestMethod(e,t){if(!this.supportedMethods.includes(e))throw new Error(`${e} is not supported`);return{data:await this.ln.commando({method:e,params:t,rune:this.config.rune})}}async connectPeer(e){return this.ln.commando({method:"connect",params:{id:e.pubkey,host:e.host},rune:this.config.rune}).then((e=>({data:!0})))}async getInvoices(){return this.ln.commando({method:"listinvoices",params:{},rune:this.config.rune}).then((e=>({data:{invoices:e.invoices.map(((e,t)=>({id:e.label,memo:e.description,settled:"paid"===e.status,preimage:e.payment_preimage,settleDate:1e3*e.paid_at,type:"received",totalAmount:(e.msatoshi/1e3).toString()}))).filter((e=>e.settled)).sort(((e,t)=>t.settleDate-e.settleDate))}})))}async getInfo(){const e=await this.ln.commando({method:"getinfo",params:{},rune:this.config.rune});return{data:{alias:e.alias,pubkey:e.id,color:e.color}}}async getBalance(){const e=(await this.ln.commando({method:"listfunds",params:{},rune:this.config.rune})).channels.reduce(((e,t)=>e+t.channel_sat),0);return{data:{balance:e}}}async sendPayment(e){return this.ln.commando({method:"pay",params:{bolt11:e.paymentRequest},rune:this.config.rune}).then((e=>{const t=e;return{data:{paymentHash:t.payment_hash,preimage:t.payment_preimage,route:{total_amt:Math.floor(t.msatoshi_sent/1e3),total_fees:Math.floor((t.msatoshi_sent-t.msatoshi)/1e3)}}}}))}async keysend(e){const t={};for(const r in e.customRecords)t[r]=kt().parse(e.customRecords[r]).toString(St());const r={};for(const t in e.customRecords)r[t]=kt().parse(e.customRecords[t]).toString(St());return this.ln.commando({method:"keysend",params:{destination:e.pubkey,msatoshi:1e3*e.amount,extratlvs:r},rune:this.config.rune}).then((e=>{const t=e;return{data:{paymentHash:t.payment_hash,preimage:t.payment_preimage,route:{total_amt:Math.floor(t.msatoshi_sent/1e3),total_fees:Math.floor((t.msatoshi_sent-t.msatoshi)/1e3)}}}}))}async checkPayment(e){return this.ln.commando({method:"listinvoices",params:{payment_hash:e.paymentHash},rune:this.config.rune}).then((e=>({data:{paid:"paid"===e.invoices[0]?.status}})))}signMessage(e){return this.ln.commando({method:"signmessage",params:{message:e.message},rune:this.config.rune}).then((t=>{const r=t;return{data:{message:e.message,signature:r.zbase}}}))}async makeInvoice(e){const t=Jr(),r=await this.ln.commando({method:"invoice",params:{amount_msat:1e3*e.amount,label:t,description:e.memo},rune:this.config.rune});return{data:{paymentRequest:r.bolt11,rHash:r.payment_hash}}}},kollider:class{constructor(e){this.config=e,this.currency=e.currency,this.currentAccountId=null}async init(){await this.authorize(),await this.loadAccounts(),this.currentAccountId=await this.findAccountId(this.config.currency)}unload(){return Promise.resolve()}async connectPeer(){throw console.error(`${this.constructor.name} does not implement the connectPeer call`),new Error("Not yet supported with the currently used account.")}async getInvoices(){const e=(await this.request("GET","/getuserinvoices",void 0)).filter((e=>e.incoming)).filter((e=>e.account_id===this.currentAccountId)).map(((e,t)=>({id:`${e.payment_hash}-${t}`,memo:e.reference,preimage:"",settled:e.settled,settleDate:e.settled_date,totalAmount:`${e.value}`,type:"received"}))).sort(((e,t)=>t.settleDate-e.settleDate));return{data:{invoices:e}}}async getInfo(){return{data:{alias:`Kollider (${this.currency})`}}}async getBalance(){await this.loadAccounts();const e=await this.findAccount(this.currency);if(!e)throw new Error("Account not found");let t=e.balance;return"BTC"===e.currency&&(t=Math.round(Xi(e.balance)).toString()),{data:{balance:parseFloat(t),currency:e.currency}}}async sendPayment(e){const t=await this.request("POST","/payinvoice",{payment_request:e.paymentRequest,currency:this.config.currency});if(t.error)throw new Error(t.error);const r=Xi(t.amount?.value||0).toString(),n=Xi(t.fees?.value||0).toString(),i={total_amt:parseFloat(r),total_fees:parseFloat(n)};return{data:{preimage:t.payment_preimage||"",paymentHash:t.payment_hash,route:i}}}async keysend(e){throw new Error("Keysend is not supported with the currently used account.")}async checkPayment(e){return{data:{paid:!!(await this.request("GET","/checkpayment",{payment_hash:e.paymentHash}))?.paid}}}signMessage(e){if(!this.config.username||!this.config.password)return Promise.reject(new Error("Missing config"));if(!e.message)return Promise.reject(new Error("Invalid message"));const t=Gi()(e.message).toString(St()),r=Gi()(`kollider://${this.config.username}:${this.config.password}`).toString(St());if(!r)return Promise.reject(new Error("Could not create key"));const n=new no(r).sign(t).toDER("hex");return n?Promise.resolve({data:{message:e.message,signature:n}}):Promise.reject(new Error("Signing failed"))}async makeInvoice(e){const t=(r=e.amount,Number(r)/Yi);var r;const n=await this.request("GET","/addinvoice",{amount:t,currency:"BTC",target_account_currency:this.currency,account_id:this.currentAccountId,meta:e.memo});if(n.error)throw new Error(n.error);return{data:{paymentRequest:n.payment_request,rHash:n.payment_hash}}}async authorize(){const{data:e}=await zi.post(`${io}/auth`,{username:this.config.username,password:this.config.password},{headers:oo});if(e.error||e.errors){const t=e.error||e.errors,r=t?.errors?.[0]?.message||t?.[0]?.message;throw console.error(r),new Error("Kollider API error: "+r)}return this.refresh_token=e.refresh,this.access_token=e.token,this.refresh_token_created=+new Date,this.access_token_created=+new Date,e}async loadAccounts(){const e=await this.request("GET","/balance",void 0);this.accounts=e.accounts}async findAccount(e){const t=await this.findAccountId(e);return t&&this.accounts?this.accounts[t]:null}async findAccountId(e){if(this.accounts||await this.loadAccounts(),!this.accounts)return null;const t=this.accounts;return Object.keys(this.accounts).find((r=>t[r].currency===e))||null}async request(e,t,r){this.access_token||await this.authorize();const n={method:e,url:`${io}${t}`,responseType:"json",headers:{...oo,Authorization:`${this.access_token}`}};let i;"POST"===e?n.data=r:void 0!==r&&(n.params=r);try{i=(await zi(n)).data}catch(n){if(console.error(n),zi.isAxiosError(n)){const i=n.response;if(404===i?.status){const e=t.replace("/","");throw new Error(`${e} not supported by the connected account.`)}if(401===i?.status){try{await this.authorize()}catch(e){if(console.error(e),e instanceof Error)throw new Error(e.message)}return this.request(e,t,r)}const o=`${i?.data.error}\n(${n.message})`;throw new Error(o)}}return i}}},Eo=So;var ko=i(5856),Ao=i.t(ko,2);const xo=BigInt(0),Io=BigInt(1),Oo=BigInt(2),Po=BigInt(3),To=BigInt(8),Ro=Object.freeze({a:xo,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Io,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Bo=(e,t)=>(e+t/Oo)/t,Mo={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=Ro,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Io*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=Bo(o*e,t),c=Bo(-n*e,t);let u=oa(e-s*r-c*i,t),l=oa(-s*n-c*o,t);const f=u>a,d=l>a;if(f&&(u=t-u),d&&(l=t-l),u>a||l>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}},No=32,Co=32;function Lo(e){const{a:t,b:r}=Ro,n=oa(e*e),i=oa(n*e);return oa(i+t*e+r)}const Uo=Ro.a===xo;class jo extends Error{constructor(e){super(e)}}function Do(e){if(!(e instanceof Ho))throw new TypeError("JacobianPoint expected")}class Ho{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof zo))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(zo.ZERO)?Ho.ZERO:new Ho(e.x,e.y,Io)}static toAffineBatch(e){const t=function(e,t=Ro.P){const r=new Array(e.length),n=e.reduce(((e,n,i)=>n===xo?e:(r[i]=e,oa(e*n,t))),Io),i=sa(n,t);return e.reduceRight(((e,n,i)=>n===xo?e:(r[i]=oa(e*r[i],t),oa(e*n,t))),i),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return Ho.toAffineBatch(e).map(Ho.fromAffine)}equals(e){Do(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:a}=e,s=oa(n*n),c=oa(a*a),u=oa(t*c),l=oa(i*s),f=oa(oa(r*a)*c),d=oa(oa(o*n)*s);return u===l&&f===d}negate(){return new Ho(this.x,oa(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=oa(e*e),i=oa(t*t),o=oa(i*i),a=e+i,s=oa(Oo*(oa(a*a)-n-o)),c=oa(Po*n),u=oa(c*c),l=oa(u-Oo*s),f=oa(c*(s-l)-To*o),d=oa(Oo*t*r);return new Ho(l,f,d)}add(e){Do(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:a}=e;if(i===xo||o===xo)return this;if(t===xo||r===xo)return e;const s=oa(n*n),c=oa(a*a),u=oa(t*c),l=oa(i*s),f=oa(oa(r*a)*c),d=oa(oa(o*n)*s),h=oa(l-u),p=oa(d-f);if(h===xo)return p===xo?this.double():Ho.ZERO;const g=oa(h*h),m=oa(h*g),b=oa(u*g),y=oa(p*p-m-Oo*b),v=oa(p*(b-y)-f*m),w=oa(n*a*h);return new Ho(y,v,w)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Ho.ZERO;if("bigint"==typeof e&&e===xo)return t;let r=ia(e);if(r===Io)return this;if(!Uo){let e=t,n=this;for(;r>xo;)r&Io&&(e=e.add(n)),n=n.double(),r>>=Io;return e}let{k1neg:n,k1:i,k2neg:o,k2:a}=Mo.splitScalar(r),s=t,c=t,u=this;for(;i>xo||a>xo;)i&Io&&(s=s.add(u)),a&Io&&(c=c.add(u)),u=u.double(),i>>=Io,a>>=Io;return n&&(s=s.negate()),o&&(c=c.negate()),c=new Ho(oa(c.x*Mo.beta),c.y,c.z),s.add(c)}precomputeWindow(e){const t=Uo?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(Ho.BASE)&&(t=zo.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&Fo.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=Ho.normalizeZ(n),Fo.set(t,n)));let i=Ho.ZERO,o=Ho.BASE;const a=1+(Uo?128/r:256/r),s=2**(r-1),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let t=0;t<a;t++){const r=t*s;let a=Number(e&c);e>>=l,a>s&&(a-=u,e+=Io);const f=r,d=r+Math.abs(a)-1,h=t%2!=0,p=a<0;0===a?o=o.add(qo(h,n[f])):i=i.add(qo(p,n[d]))}return{p:i,f:o}}multiply(e,t){let r,n,i=ia(e);if(Uo){const{k1neg:e,k1:o,k2neg:a,k2:s}=Mo.splitScalar(i);let{p:c,f:u}=this.wNAF(o,t),{p:l,f}=this.wNAF(s,t);c=qo(e,c),l=qo(a,l),l=new Ho(oa(l.x*Mo.beta),l.y,l.z),r=c.add(l),n=u.add(f)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return Ho.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,i=this.equals(Ho.ZERO);null==e&&(e=i?To:sa(n));const o=e,a=oa(o*o),s=oa(a*o),c=oa(t*a),u=oa(r*s),l=oa(n*o);if(i)return zo.ZERO;if(l!==Io)throw new Error("invZ was invalid");return new zo(c,u)}}function qo(e,t){const r=t.negate();return e?r:t}Ho.BASE=new Ho(Ro.Gx,Ro.Gy,Io),Ho.ZERO=new Ho(xo,Io,xo);const Fo=new WeakMap;class zo{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Fo.delete(this)}hasEvenY(){return this.y%Oo===xo}static fromCompressedHex(e){const t=32===e.length,r=ra(t?e:e.subarray(1));if(!da(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=Ro,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=aa(u,Po)*u%t,f=aa(l,Po)*u%t,d=aa(f,Oo)*c%t,h=aa(d,n)*d%t,p=aa(h,i)*h%t,g=aa(p,a)*p%t,m=aa(g,s)*g%t,b=aa(m,a)*p%t,y=aa(b,Po)*u%t,v=aa(y,o)*h%t,w=aa(v,r)*c%t,_=aa(w,Oo);if(_*_%t!==e)throw new Error("Cannot find square root");return _}(Lo(r));const i=(n&Io)===Io;if(t)i&&(n=oa(-n));else{1==(1&e[0])!==i&&(n=oa(-n))}const o=new zo(r,n);return o.assertValidity(),o}static fromUncompressedHex(e){const t=ra(e.subarray(1,33)),r=ra(e.subarray(33,65)),n=new zo(t,r);return n.assertValidity(),n}static fromHex(e){const t=na(e),r=t.length,n=t[0];if(r===No)return this.fromCompressedHex(t);if(33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return zo.BASE.multiply(ha(e))}static fromSignature(e,t,r){const{r:n,s:i}=ga(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=ca(na(e)),{n:a}=Ro,s=2===r||3===r?n+a:n,c=sa(s,a),u=oa(-o*c,a),l=oa(i*c,a),f=1&r?"03":"02",d=zo.fromHex(f+Jo(s)),h=zo.BASE.multiplyAndAddUnsafe(d,u,l);if(!h)throw new Error("Cannot recover signature: point at infinify");return h.assertValidity(),h}toRawBytes(e=!1){return ta(this.toHex(e))}toHex(e=!1){const t=Jo(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${Jo(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!da(t)||!da(r))throw new Error(e);const n=oa(r*r);if(oa(n-Lo(t))!==xo)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new zo(this.x,oa(-this.y))}double(){return Ho.fromAffine(this).double().toAffine()}add(e){return Ho.fromAffine(this).add(Ho.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ho.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=Ho.fromAffine(this),i=t===xo||t===Io||this!==zo.BASE?n.multiplyUnsafe(t):n.multiply(t),o=Ho.fromAffine(e).multiplyUnsafe(r),a=i.add(o);return a.equals(Ho.ZERO)?void 0:a.toAffine()}}function Ko(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Wo(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${Yo(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ra(r),left:e.subarray(t+2)}}zo.BASE=new zo(Ro.Gx,Ro.Gy),zo.ZERO=new zo(xo,xo);class $o{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?Yo(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new $o(ea(n.slice(0,64)),ea(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${Yo(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=Wo(e.subarray(2)),{data:n,left:i}=Wo(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Yo(i)}`);return{r:t,s:n}}(t?e:ta(e));return new $o(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!fa(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!fa(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Ro.n>>Io;return this.s>e}normalizeS(){return this.hasHighS()?new $o(this.r,oa(-this.s,Ro.n)):this}toDERRawBytes(){return ta(this.toDERHex())}toDERHex(){const e=Ko(Qo(this.s)),t=Ko(Qo(this.r)),r=e.length/2,n=t.length/2,i=Qo(r),o=Qo(n);return`30${Qo(n+r+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ta(this.toCompactHex())}toCompactHex(){return Jo(this.r)+Jo(this.s)}}function Vo(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const Go=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Yo(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=Go[e[r]];return t}const Xo=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Jo(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(xo<=e&&e<Xo))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Zo(e){const t=ta(Jo(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Qo(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function ea(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function ta(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function ra(e){return ea(Yo(e))}function na(e){return e instanceof Uint8Array?Uint8Array.from(e):ta(e)}function ia(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&fa(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function oa(e,t=Ro.P){const r=e%t;return r>=xo?r:t+r}function aa(e,t){const{P:r}=Ro;let n=e;for(;t-- >xo;)n*=n,n%=r;return n}function sa(e,t=Ro.P){if(e===xo||t<=xo)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=oa(e,t),n=t,i=xo,o=Io,a=Io,s=xo;for(;r!==xo;){const e=n/r,t=n%r,c=i-a*e,u=o-s*e;n=r,r=t,i=a,o=s,a=c,s=u}if(n!==Io)throw new Error("invert: does not exist");return oa(i,t)}function ca(e,t=!1){const r=function(e){const t=8*e.length-256,r=ra(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n}=Ro;return r>=n?r-n:r}let ua,la;function fa(e){return xo<e&&e<Ro.n}function da(e){return xo<e&&e<Ro.P}function ha(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=ea(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==Co)throw new Error("Expected 32 bytes of private key");t=ra(e)}if(!fa(t))throw new Error("Expected private key: 0 < key < n");return t}function pa(e){return e instanceof zo?(e.assertValidity(),e):zo.fromHex(e)}function ga(e){if(e instanceof $o)return e.assertValidity(),e;try{return $o.fromDER(e)}catch(t){return $o.fromCompact(e)}}function ma(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof zo}function ba(e,t,r=!1){if(ma(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!ma(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=pa(t);return n.assertValidity(),n.multiply(ha(e)).toRawBytes(r)}function ya(e){return oa(ra(e),Ro.n)}class va{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=na(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=ra(t.subarray(0,32)),n=ra(t.subarray(32,64));return new va(r,n)}assertValidity(){const{r:e,s:t}=this;if(!da(e)||!fa(t))throw new Error("Invalid signature")}toHex(){return Jo(this.r)+Jo(this.s)}toRawBytes(){return ta(this.toHex())}}class wa{constructor(e,t,r=Pa.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=na(e);const{x:n,scalar:i}=this.getScalar(ha(t));if(this.px=n,this.d=i,this.rand=na(r),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=zo.fromPrivateKey(e),r=t.hasEvenY()?e:Ro.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return Zo(e^ra(t))}finalizeNonce(e){const t=oa(ra(e),Ro.n);if(t===xo)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:i}=this.getScalar(t);return{R:r,rx:n,k:i}}finalizeSig(e,t,r,n){return new va(e.x,oa(t+r*n,Ro.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:t,px:r,rand:n}=this,i=Pa.taggedHash,o=this.initNonce(t,await i(Ia.aux,n)),{R:a,rx:s,k:c}=this.finalizeNonce(await i(Ia.nonce,o,r,e)),u=ya(await i(Ia.challenge,s,r,e)),l=this.finalizeSig(a,c,u,t);return await Ea(l,e,r)||this.error(),l}calcSync(){const{m:e,d:t,px:r,rand:n}=this,i=Pa.taggedHashSync,o=this.initNonce(t,i(Ia.aux,n)),{R:a,rx:s,k:c}=this.finalizeNonce(i(Ia.nonce,o,r,e)),u=ya(i(Ia.challenge,s,r,e)),l=this.finalizeSig(a,c,u,t);return ka(l,e,r)||this.error(),l}}function _a(e,t,r){const n=e instanceof va,i=n?e:va.fromHex(e);return n&&i.assertValidity(),{...i,m:na(t),P:pa(r)}}function Sa(e,t,r,n){const i=zo.BASE.multiplyAndAddUnsafe(t,ha(r),oa(-n,Ro.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function Ea(e,t,r){try{const{r:n,s:i,m:o,P:a}=_a(e,t,r),s=ya(await Pa.taggedHash(Ia.challenge,Zo(n),a.toRawX(),o));return Sa(n,a,i,s)}catch(e){return!1}}function ka(e,t,r){try{const{r:n,s:i,m:o,P:a}=_a(e,t,r),s=ya(Pa.taggedHashSync(Ia.challenge,Zo(n),a.toRawX(),o));return Sa(n,a,i,s)}catch(e){if(e instanceof jo)throw e;return!1}}const Aa={Signature:va,getPublicKey:function(e){return zo.fromPrivateKey(e).toRawX()},sign:async function(e,t,r){return new wa(e,t,r).calc()},verify:Ea,signSync:function(e,t,r){return new wa(e,t,r).calcSync()},verifySync:ka};zo.BASE._setWindowSize(8);const xa={node:Ao,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Ia={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},Oa={},Pa={bytesToHex:Yo,hexToBytes:ta,concatBytes:Vo,mod:oa,invert:sa,isValidPrivateKey(e){try{return ha(e),!0}catch(e){return!1}},_bigintTo32Bytes:Zo,_normalizePrivateKey:ha,hashToPrivateKey:e=>{if((e=na(e)).length<40||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Zo(oa(ra(e),Ro.n-Io)+Io)},randomBytes:(e=32)=>{if(xa.web)return xa.web.getRandomValues(new Uint8Array(e));if(xa.node){const{randomBytes:t}=xa.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Pa.hashToPrivateKey(Pa.randomBytes(40)),precompute(e=8,t=zo.BASE){const r=t===zo.BASE?t:new zo(t.x,t.y);return r._setWindowSize(e),r.multiply(Po),r},sha256:async(...e)=>{if(xa.web){const t=await xa.web.subtle.digest("SHA-256",Vo(...e));return new Uint8Array(t)}if(xa.node){const{createHash:t}=xa.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(xa.web){const r=await xa.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Vo(...t),i=await xa.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(xa.node){const{createHmac:r}=xa.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=Oa[e];if(void 0===r){const t=await Pa.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Vo(t,t),Oa[e]=r}return Pa.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof ua)throw new jo("sha256Sync is undefined, you need to set it");let r=Oa[e];if(void 0===r){const t=ua(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Vo(t,t),Oa[e]=r}return ua(r,...t)},_JacobianPoint:Ho};Object.defineProperties(Pa,{sha256Sync:{configurable:!1,get:()=>ua,set(e){ua||(ua=e)}},hmacSha256Sync:{configurable:!1,get:()=>la,set(e){la||(la=e)}}});const Ta="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Ra=Object.keys,Ba=Array.isArray;function Ma(e,t){return"object"!=typeof t||Ra(t).forEach((function(r){e[r]=t[r]})),e}"undefined"==typeof Promise||Ta.Promise||(Ta.Promise=Promise);const Na=Object.getPrototypeOf,Ca={}.hasOwnProperty;function La(e,t){return Ca.call(e,t)}function Ua(e,t){"function"==typeof t&&(t=t(Na(e))),("undefined"==typeof Reflect?Ra:Reflect.ownKeys)(t).forEach((r=>{Da(e,r,t[r])}))}const ja=Object.defineProperty;function Da(e,t,r,n){ja(e,t,Ma(r&&La(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Ha(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Da(e.prototype,"constructor",e),{extend:Ua.bind(null,e.prototype)}}}}const qa=Object.getOwnPropertyDescriptor;function Fa(e,t){let r;return qa(e,t)||(r=Na(e))&&Fa(r,t)}const za=[].slice;function Ka(e,t,r){return za.call(e,t,r)}function Wa(e,t){return t(e)}function $a(e){if(!e)throw new Error("Assertion Failed")}function Va(e){Ta.setImmediate?setImmediate(e):setTimeout(e,0)}function Ga(e,t){return e.reduce(((e,r,n)=>{var i=t(r,n);return i&&(e[i[0]]=i[1]),e}),{})}function Ya(e,t){if(La(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,i=t.length;n<i;++n){var o=Ya(e,t[n]);r.push(o)}return r}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:Ya(s,t.substr(a+1))}}function Xa(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){$a("string"!=typeof r&&"length"in r);for(var n=0,i=t.length;n<i;++n)Xa(e,t[n],r[n])}else{var o=t.indexOf(".");if(-1!==o){var a=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===r?Ba(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=r;else{var c=e[a];c&&La(e,a)||(c=e[a]={}),Xa(c,s,r)}}else void 0===r?Ba(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function Ja(e){var t={};for(var r in e)La(e,r)&&(t[r]=e[r]);return t}const Za=[].concat;function Qa(e){return Za.apply([],e)}const es="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Qa([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Ta[e])),ts=es.map((e=>Ta[e]));Ga(es,(e=>[e,!0]));let rs=null;function ns(e){rs="undefined"!=typeof WeakMap&&new WeakMap;const t=is(e);return rs=null,t}function is(e){if(!e||"object"!=typeof e)return e;let t=rs&&rs.get(e);if(t)return t;if(Ba(e)){t=[],rs&&rs.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(is(e[r]))}else if(ts.indexOf(e.constructor)>=0)t=e;else{const r=Na(e);for(var i in t=r===Object.prototype?{}:Object.create(r),rs&&rs.set(e,t),e)La(e,i)&&(t[i]=is(e[i]))}return t}const{toString:os}={};function as(e){return os.call(e).slice(8,-1)}const ss="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",cs="symbol"==typeof ss?function(e){var t;return null!=e&&(t=e[ss])&&t.apply(e)}:function(){return null},us={};function ls(e){var t,r,n,i;if(1===arguments.length){if(Ba(e))return e.slice();if(this===us&&"string"==typeof e)return[e];if(i=cs(e)){for(r=[];!(n=i.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const fs="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var ds="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hs(e,t){ds=e,ps=t}var ps=()=>!0;const gs=!new Error("").stack;function ms(){if(gs)try{throw ms.arguments,new Error}catch(e){return e}return new Error}function bs(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(ps).map((e=>"\n"+e)).join("")):""}var ys=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ys),ws={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _s(e,t){this._e=ms(),this.name=e,this.message=t}function Ss(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,r)=>r.indexOf(e)===t)).join("\n")}function Es(e,t,r,n){this._e=ms(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=Ss(e,t)}function ks(e,t){this._e=ms(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Ss(e,t)}Ha(_s).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+bs(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ha(Es).from(_s),Ha(ks).from(_s);var As=vs.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const xs=_s;var Is=vs.reduce(((e,t)=>{var r=t+"Error";function n(e,n){this._e=ms(),this.name=r,e?"string"==typeof e?(this.message=`${e}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=ws[t]||r,this.inner=null)}return Ha(n).from(xs),e[t]=n,e}),{});Is.Syntax=SyntaxError,Is.Type=TypeError,Is.Range=RangeError;var Os=ys.reduce(((e,t)=>(e[t+"Error"]=Is[t],e)),{}),Ps=vs.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Is[t]),e)),{});function Ts(){}function Rs(e){return e}function Bs(e,t){return null==e||e===Rs?t:function(r){return t(e(r))}}function Ms(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ns(e,t){return e===Ts?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Ms(n,this.onsuccess):n),i&&(this.onerror=this.onerror?Ms(i,this.onerror):i),void 0!==o?o:r}}function Cs(e,t){return e===Ts?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Ms(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Ms(n,this.onerror):n)}}function Ls(e,t){return e===Ts?t:function(r){var n=e.apply(this,arguments);Ma(r,n);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ms(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Ms(o,this.onerror):o),void 0===n?void 0===a?void 0:a:Ma(n,a)}}function Us(e,t){return e===Ts?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function js(e,t){return e===Ts?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return r.then((function(){return t.apply(n,o)}))}return t.apply(this,arguments)}}Ps.ModifyError=Es,Ps.DexieError=_s,Ps.BulkError=ks;var Ds={};const[Hs,qs,Fs]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Na(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Na(t),e]})(),zs=qs&&qs.then,Ks=Hs&&Hs.constructor,Ws=!!Fs;var $s=!1,Vs=Fs?()=>{Fs.then(mc)}:Ta.setImmediate?setImmediate.bind(null,mc):Ta.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{mc(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(mc,0)},Gs=function(e,t){nc.push([e,t]),Xs&&(Vs(),Xs=!1)},Ys=!0,Xs=!0,Js=[],Zs=[],Qs=null,ec=Rs,tc={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Hc,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Hc(e[0],e[1])}catch(e){}}))}},rc=tc,nc=[],ic=0,oc=[];function ac(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ts,this._lib=!1;var t=this._PSD=rc;if(ds&&(this._stackHolder=ms(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Ds)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&lc(this,this._value))}this._state=null,this._value=null,++t.ref,uc(this,e)}const sc={get:function(){var e=rc,t=xc;function r(r,n){var i=!e.global&&(e!==rc||t!==xc);const o=i&&!Tc();var a=new ac(((t,a)=>{dc(this,new cc(jc(r,e,i,o),jc(n,e,i,o),t,a,e))}));return ds&&gc(a,this),a}return r.prototype=Ds,r},set:function(e){Da(this,"then",e&&e.prototype===Ds?sc:{get:function(){return e},set:sc.set})}};function cc(e,t,r,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=i}function uc(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&bc();t&&"function"==typeof t.then?uc(e,((e,r)=>{t instanceof ac?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,fc(e)),r&&yc()}}),lc.bind(null,e))}catch(t){lc(e,t)}}function lc(e,t){if(Zs.push(t),null===e._state){var r=e._lib&&bc();t=ec(t),e._state=!1,e._value=t,ds&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,r){try{e.apply(null,void 0)}catch(e){}}((()=>{var r=Fa(t,"stack");t._promise=e,Da(t,"stack",{get:()=>$s?r&&(r.get?r.get.apply(t):r.value):e.stack})})),function(e){Js.some((t=>t._value===e._value))||Js.push(e)}(e),fc(e),r&&yc()}}function fc(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)dc(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),0===ic&&(++ic,Gs((()=>{0==--ic&&vc()}),[]))}function dc(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ic,Gs(hc,[r,e,t])}else e._listeners.push(t)}function hc(e,t,r){try{Qs=t;var n,i=t._value;t._state?n=e(i):(Zs.length&&(Zs=[]),n=e(i),-1===Zs.indexOf(i)&&function(e){for(var t=Js.length;t;)if(Js[--t]._value===e._value)return void Js.splice(t,1)}(t)),r.resolve(n)}catch(e){r.reject(e)}finally{Qs=null,0==--ic&&vc(),--r.psd.ref||r.psd.finalize()}}function pc(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var i,o,a=e._value;null!=a?(i=a.name||"Error",o=a.message||a,n=bs(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+n)}return ds&&((n=bs(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&pc(e._prev,t,r)),t}function gc(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function mc(){bc()&&yc()}function bc(){var e=Ys;return Ys=!1,Xs=!1,e}function yc(){var e,t,r;do{for(;nc.length>0;)for(e=nc,nc=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(nc.length>0);Ys=!0,Xs=!0}function vc(){var e=Js;Js=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=oc.slice(0),r=t.length;r;)t[--r]()}function wc(e){return new ac(Ds,!1,e)}function _c(e,t){var r=rc;return function(){var n=bc(),i=rc;try{return Nc(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Nc(i,!1),n&&yc()}}}Ua(ac.prototype,{then:sc,_then:function(e,t){dc(this,new cc(null,null,e,t,rc))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?r(e):wc(e))):this.then(null,(e=>e&&e.name===t?r(e):wc(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),wc(t))))},stack:{get:function(){if(this._stack)return this._stack;try{$s=!0;var e=pc(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{$s=!1}}},timeout:function(e,t){return e<1/0?new ac(((r,n)=>{var i=setTimeout((()=>n(new Is.Timeout(t))),e);this.then(r,n).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Da(ac.prototype,Symbol.toStringTag,"Dexie.Promise"),tc.env=Cc(),Ua(ac,{all:function(){var e=ls.apply(null,arguments).map(Rc);return new ac((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(((i,o)=>ac.resolve(i).then((r=>{e[o]=r,--n||t(e)}),r)))}))},resolve:e=>{if(e instanceof ac)return e;if(e&&"function"==typeof e.then)return new ac(((t,r)=>{e.then(t,r)}));var t=new ac(Ds,!0,e);return gc(t,Qs),t},reject:wc,race:function(){var e=ls.apply(null,arguments).map(Rc);return new ac(((t,r)=>{e.map((e=>ac.resolve(e).then(t,r)))}))},PSD:{get:()=>rc,set:e=>rc=e},totalEchoes:{get:()=>xc},newPSD:Oc,usePSD:Lc,scheduler:{get:()=>Gs,set:e=>{Gs=e}},rejectionMapper:{get:()=>ec,set:e=>{ec=e}},follow:(e,t)=>new ac(((r,n)=>Oc(((t,r)=>{var n=rc;n.unhandleds=[],n.onunhandled=r,n.finalize=Ms((function(){!function(e){oc.push((function t(){e(),oc.splice(oc.indexOf(t),1)})),++ic,Gs((()=>{0==--ic&&vc()}),[])}((()=>{0===this.unhandleds.length?t():r(this.unhandleds[0])}))}),n.finalize),e()}),t,r,n)))}),Ks&&(Ks.allSettled&&Da(ac,"allSettled",(function(){const e=ls.apply(null,arguments).map(Rc);return new ac((t=>{0===e.length&&t([]);let r=e.length;const n=new Array(r);e.forEach(((e,i)=>ac.resolve(e).then((e=>n[i]={status:"fulfilled",value:e}),(e=>n[i]={status:"rejected",reason:e})).then((()=>--r||t(n)))))}))})),Ks.any&&"undefined"!=typeof AggregateError&&Da(ac,"any",(function(){const e=ls.apply(null,arguments).map(Rc);return new ac(((t,r)=>{0===e.length&&r(new AggregateError([]));let n=e.length;const i=new Array(n);e.forEach(((e,o)=>ac.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--n||r(new AggregateError(i))}))))}))})));const Sc={awaits:0,echoes:0,id:0};var Ec=0,kc=[],Ac=0,xc=0,Ic=0;function Oc(e,t,r,n){var i=rc,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Ic;var a=tc.env;o.env=Ws?{Promise:ac,PromiseProp:{value:ac,configurable:!0,writable:!0},all:ac.all,race:ac.race,allSettled:ac.allSettled,any:ac.any,resolve:ac.resolve,reject:ac.reject,nthen:Dc(a.nthen,o),gthen:Dc(a.gthen,o)}:{},t&&Ma(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Lc(o,e,r,n);return 0===o.ref&&o.finalize(),s}function Pc(){return Sc.id||(Sc.id=++Ec),++Sc.awaits,Sc.echoes+=100,Sc.id}function Tc(){return!!Sc.awaits&&(0==--Sc.awaits&&(Sc.id=0),Sc.echoes=100*Sc.awaits,!0)}function Rc(e){return Sc.echoes&&e&&e.constructor===Ks?(Pc(),e.then((e=>(Tc(),e)),(e=>(Tc(),qc(e))))):e}function Bc(e){++xc,Sc.echoes&&0!=--Sc.echoes||(Sc.echoes=Sc.id=0),kc.push(rc),Nc(e,!0)}function Mc(){var e=kc[kc.length-1];kc.pop(),Nc(e,!1)}function Nc(e,t){var r=rc;if((t?!Sc.echoes||Ac++&&e===rc:!Ac||--Ac&&e===rc)||Uc(t?Bc.bind(null,e):Mc),e!==rc&&(rc=e,r===tc&&(tc.env=Cc()),Ws)){var n=tc.env.Promise,i=e.env;qs.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(Ta,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function Cc(){var e=Ta.Promise;return Ws?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Ta,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:qs.then,gthen:e.prototype.then}:{}}function Lc(e,t,r,n,i){var o=rc;try{return Nc(e,!0),t(r,n,i)}finally{Nc(o,!1)}}function Uc(e){zs.call(Hs,e)}function jc(e,t,r,n){return"function"!=typeof e?e:function(){var i=rc;r&&Pc(),Nc(t,!0);try{return e.apply(this,arguments)}finally{Nc(i,!1),n&&Uc(Tc)}}}function Dc(e,t){return function(r,n){return e.call(this,jc(r,t),jc(n,t))}}function Hc(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(!1!==r)try{var n,i={promise:t,reason:e};if(Ta.document&&document.createEvent?((n=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Ma(n,i)):Ta.CustomEvent&&Ma(n=new CustomEvent("unhandledrejection",{detail:i}),i),n&&Ta.dispatchEvent&&(dispatchEvent(n),!Ta.PromiseRejectionEvent&&Ta.onunhandledrejection))try{Ta.onunhandledrejection(n)}catch(e){}ds&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}-1===(""+zs).indexOf("[native code]")&&(Pc=Tc=Ts);var qc=ac.reject;function Fc(e,t,r,n){if(e.idbdb&&(e._state.openComplete||rc.letThrough||e._vip)){var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===As.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Fc(e,t,r,n)))):qc(i)}return i._promise(t,((e,t)=>Oc((()=>(rc.trans=i,n(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return qc(new Is.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return qc(new Is.DatabaseClosed);e.open().catch(Ts)}return e._state.dbReadyPromise.then((()=>Fc(e,t,r,n)))}const zc=String.fromCharCode(65535),Kc="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Wc=[],$c="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Vc=$c,Gc=$c,Yc=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Xc(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Jc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zc(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=ns(t))[e],t)}class Qc{_trans(e,t,r){const n=this._tx||rc.trans,i=this.name;function o(e,r,n){if(!n.schema[i])throw new Is.NotFound("Table "+i+" not part of transaction");return t(n.idbtrans,n)}const a=bc();try{return n&&n.db===this.db?n===rc.trans?n._promise(e,o,r):Oc((()=>n._promise(e,o,r)),{trans:n,transless:rc.transless||rc}):Fc(this.db,e,[this.name],o)}finally{a&&yc()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Ba(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=Ra(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(r&&this.db._maxKey!==zc)return this.where(r.name).equals(r.keyPath.map((t=>e[t])));!r&&ds&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:n}=this.schema,i=this.db._deps.indexedDB;function o(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}const[a,s]=t.reduce((([t,r],i)=>{const a=n[i],s=e[i];return[t||a,t||!a?Xc(r,a&&a.multi?e=>{const t=Ya(e,i);return Ba(t)&&t.some((e=>o(s,e)))}:e=>o(s,Ya(e,i))):r]}),[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(s):r?this.filter(s):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Ba(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const r=Object.create(e.prototype);for(var n in t)if(La(t,n))try{r[n]=t[n]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){Ma(this,e)}))}add(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=Zc(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?ac.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{Xa(e,n,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||Ba(e))return this.where(":id").equals(e).modify(t);{const r=Ya(e,this.schema.primKey.keyPath);if(void 0===r)return qc(new Is.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Ra(t).forEach((r=>{Xa(e,r,t[r])})):t(e,{value:e,primKey:r})}catch(e){}return this.where(":id").equals(r).modify(t)}}put(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let i=e;return n&&r&&(i=Zc(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?ac.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{Xa(e,n,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?ac.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Jc}))).then((e=>e.numFailures?ac.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new Is.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new Is.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let s=o&&r?e.map(Zc(o)):e;return this.core.mutate({trans:t,type:"add",keys:n,values:s,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new ks(`${this.name}.bulkAdd(): ${e} of ${a} operations failed`,n)}))}))}bulkPut(e,t,r){const n=Array.isArray(t)?t:void 0,i=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:o}=this.schema.primKey;if(o&&n)throw new Is.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new Is.InvalidArgument("Arguments objects and keys must have the same length");const a=e.length;let s=o&&r?e.map(Zc(o)):e;return this.core.mutate({trans:t,type:"put",keys:n,values:s,wantResults:i}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return i?t:r;throw new ks(`${this.name}.bulkPut(): ${e} of ${a} operations failed`,n)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:r,failures:n})=>{if(0===e)return r;throw new ks(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,n)}))}}function eu(e){var t={},r=function(r,n){if(n){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[r].subscribe.apply(null,o),e}if("string"==typeof r)return t[r]};r.addEventType=o;for(var n=1,i=arguments.length;n<i;++n)o(arguments[n]);return r;function o(e,n,i){if("object"==typeof e)return a(e);n||(n=Us),i||(i=Ts);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=n(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(n,i)}};return t[e]=r[e]=o,o}function a(e){Ra(e).forEach((function(t){var r=e[t];if(Ba(r))o(t,e[t][0],e[t][1]);else{if("asap"!==r)throw new Is.InvalidArgument("Invalid event config");var n=o(t,Rs,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){Va((function(){e.apply(null,t)}))}))}))}}))}}function tu(e,t){return Ha(t).from({prototype:e}),t}function ru(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function nu(e,t){e.filter=Xc(e.filter,t)}function iu(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>Xc(n(),t()):t,e.justLimit=r&&!n}function ou(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new Is.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function au(e,t,r){const n=ou(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function su(e,t,r,n){const i=e.replayFilter?Xc(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},a=(e,r,n)=>{if(!i||i(r,n,(e=>r.stop(e)),(e=>r.fail(e)))){var a=r.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),La(o,s)||(o[s]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(a,r),cu(au(e,n,r),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return cu(au(e,n,r),Xc(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function cu(e,t,r,n){var i=_c(n?(e,t,i)=>r(n(e),t,i):r);return e.then((e=>{if(e)return e.start((()=>{var r=()=>e.continue();t&&!t(e,(e=>r=e),(t=>{e.stop(t),r=Ts}),(t=>{e.fail(t),r=Ts}))||i(e.value,e,(e=>r=e)),r()}))}))}function uu(e,t){try{const r=lu(e),n=lu(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let r=0;r<i;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return r===n?0:r<n?-1:1}(fu(e),fu(t));case"Array":return function(e,t){const r=e.length,n=t.length,i=r<n?r:n;for(let r=0;r<i;++r){const n=uu(e[r],t[r]);if(0!==n)return n}return r===n?0:r<n?-1:1}(e,t)}}catch(e){}return NaN}function lu(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const r=as(e);return"ArrayBuffer"===r?"binary":r}function fu(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class du{_read(e,t){var r=this._ctx;return r.error?r.table._trans(null,qc.bind(null,r.error)):r.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,qc.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Xc(t.algorithm,e)}_iterate(e,t){return su(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Ma(r,e),t._ctx=r,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((r=>su(t,e,r,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,r=t.table.core;if(ru(t,!0))return r.count({trans:e,query:{index:ou(t,r.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var n=0;return su(t,(()=>(++n,!1)),e,r).then((()=>n))})).then(e)}sortBy(e,t){const r=e.split(".").reverse(),n=r[0],i=r.length-1;function o(e,t){return t?o(e[r[t]],t-1):e[n]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var r=o(e,i),n=o(t,i);return r<n?-a:r>n?a:0}return this.toArray((function(e){return e.sort(s)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&ru(t,!0)&&t.limit>0){const{valueMapper:r}=t,n=ou(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:n,range:t.range}}).then((({result:e})=>r?e.map(r):e))}{const r=[];return su(t,(e=>r.push(e)),e,t.table.core).then((()=>r))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,ru(t)?iu(t,(()=>{var t=e;return(e,r)=>0===t||(1===t?(--t,!1):(r((()=>{e.advance(t),t=0})),!1))})):iu(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),iu(this._ctx,(()=>{var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this}until(e,t){return nu(this._ctx,(function(r,n,i){return!e(r.value)||(n(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,r;return nu(this._ctx,(function(t){return e(t.value)})),t=this._ctx,r=e,t.isMatch=Xc(t.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&ru(t,!0)&&t.limit>0)return this._read((e=>{var r=ou(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return nu(this._ctx,(function(e){var t=e.primaryKey.toString(),n=La(r,t);return r[t]=!0,!n})),this}modify(e){var t=this._ctx;return this._write((r=>{var n;if("function"==typeof e)n=e;else{var i=Ra(e),o=i.length;n=function(t){for(var r=!1,n=0;n<o;++n){var a=i[n],s=e[a];Ya(t,a)!==s&&(Xa(t,a,s),r=!0)}return r}}const a=t.table.core,{outbound:s,extractKey:c}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,l=[];let f=0;const d=[],h=(e,t)=>{const{failures:r,numFailures:n}=t;f+=e-n;for(let e of Ra(r))l.push(r[e])};return this.clone().primaryKeys().then((i=>{const o=l=>{const f=Math.min(u,i.length-l);return a.getMany({trans:r,keys:i.slice(l,l+f),cache:"immutable"}).then((d=>{const p=[],g=[],m=s?[]:null,b=[];for(let e=0;e<f;++e){const t=d[e],r={value:ns(t),primKey:i[l+e]};!1!==n.call(r,r.value,r)&&(null==r.value?b.push(i[l+e]):s||0===uu(c(t),c(r.value))?(g.push(r.value),s&&m.push(i[l+e])):(b.push(i[l+e]),p.push(r.value)))}const y=ru(t)&&t.limit===1/0&&("function"!=typeof e||e===hu)&&{index:t.index,range:t.range};return Promise.resolve(p.length>0&&a.mutate({trans:r,type:"add",values:p}).then((e=>{for(let t in e.failures)b.splice(parseInt(t),1);h(p.length,e)}))).then((()=>(g.length>0||y&&"object"==typeof e)&&a.mutate({trans:r,type:"put",keys:m,values:g,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>h(g.length,e))))).then((()=>(b.length>0||y&&e===hu)&&a.mutate({trans:r,type:"delete",keys:b,criteria:y}).then((e=>h(b.length,e))))).then((()=>i.length>l+f&&o(l+u)))}))};return o(0).then((()=>{if(l.length>0)throw new Es("Error modifying one or more objects",l,f,d);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return ru(e)&&(e.isPrimKey&&!Gc||3===t.type)?this._write((r=>{const{primaryKey:n}=e.table.core.schema,i=t;return e.table.core.count({trans:r,query:{index:n,range:i}}).then((t=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then((({failures:e,lastResult:r,results:n,numFailures:i})=>{if(i)throw new Es("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(hu)}}const hu=(e,t)=>t.value=null;function pu(e,t){return e<t?-1:e===t?0:1}function gu(e,t){return e>t?-1:e===t?0:1}function mu(e,t,r){var n=e instanceof Su?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function bu(e){return new e.Collection(e,(()=>_u(""))).limit(0)}function yu(e,t,r,n,i,o){for(var a=Math.min(e.length,n.length),s=-1,c=0;c<a;++c){var u=t[c];if(u!==n[c])return i(e[c],r[c])<0?e.substr(0,c)+r[c]+r.substr(c+1):i(e[c],n[c])<0?e.substr(0,c)+n[c]+r.substr(c+1):s>=0?e.substr(0,s)+t[s]+r.substr(s+1):null;i(e[c],u)<0&&(s=c)}return a<n.length&&"next"===o?e+r.substr(e.length):a<e.length&&"prev"===o?e.substr(0,r.length):s<0?null:e.substr(0,s)+n[s]+r.substr(s+1)}function vu(e,t,r,n){var i,o,a,s,c,u,l,f=r.length;if(!r.every((e=>"string"==typeof e)))return mu(e,"String expected.");function d(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),a="next"===e?pu:gu;var t=r.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),u=e,l="next"===e?"":n}d("next");var h=new e.Collection(e,(()=>wu(s[0],c[f-1]+n)));h._ondirectionchange=function(e){d(e)};var p=0;return h._addAlgorithm((function(e,r,n){var i=e.key;if("string"!=typeof i)return!1;var d=o(i);if(t(d,c,p))return!0;for(var h=null,g=p;g<f;++g){var m=yu(i,d,s[g],c[g],a,u);null===m&&null===h?p=g+1:(null===h||a(h,m)>0)&&(h=m)}return r(null!==h?function(){e.continue(h+l)}:n),!1})),h}function wu(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function _u(e){return{type:1,lower:e,upper:e}}class Su{get Collection(){return this._ctx.table.db.Collection}between(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?bu(this):new this.Collection(this,(()=>wu(e,t,!r,!n)))}catch(e){return mu(this,Kc)}}equals(e){return null==e?mu(this,Kc):new this.Collection(this,(()=>_u(e)))}above(e){return null==e?mu(this,Kc):new this.Collection(this,(()=>wu(e,void 0,!0)))}aboveOrEqual(e){return null==e?mu(this,Kc):new this.Collection(this,(()=>wu(e,void 0,!1)))}below(e){return null==e?mu(this,Kc):new this.Collection(this,(()=>wu(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?mu(this,Kc):new this.Collection(this,(()=>wu(void 0,e)))}startsWith(e){return"string"!=typeof e?mu(this,"String expected."):this.between(e,e+zc,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):vu(this,((e,t)=>0===e.indexOf(t[0])),[e],zc)}equalsIgnoreCase(e){return vu(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=ls.apply(us,arguments);return 0===e.length?bu(this):vu(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=ls.apply(us,arguments);return 0===e.length?bu(this):vu(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,zc)}anyOf(){const e=ls.apply(us,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return mu(this,Kc)}if(0===e.length)return bu(this);const r=new this.Collection(this,(()=>wu(e[0],e[e.length-1])));r._ondirectionchange=r=>{t="next"===r?this._ascending:this._descending,e.sort(t)};let n=0;return r._addAlgorithm(((r,i,o)=>{const a=r.key;for(;t(a,e[n])>0;)if(++n,n===e.length)return i(o),!1;return 0===t(a,e[n])||(i((()=>{r.continue(e[n])})),!1)})),r}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ls.apply(us,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return mu(this,Kc)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const r=this._cmp,n=this._ascending,i=this._descending,o=this._min,a=this._max;if(0===e.length)return bu(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&n(e[0],e[1])<=0)))return mu(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Is.InvalidArgument);const s=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;let u,l=n;function f(e,t){return l(e[0],t[0])}try{u=e.reduce((function(e,t){let n=0,i=e.length;for(;n<i;++n){const i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=o(i[0],t[0]),i[1]=a(i[1],t[1]);break}}return n===i&&e.push(t),e}),[]),u.sort(f)}catch(e){return mu(this,Kc)}let d=0;const h=c?e=>n(e,u[d][1])>0:e=>n(e,u[d][1])>=0,p=s?e=>i(e,u[d][0])>0:e=>i(e,u[d][0])>=0;let g=h;const m=new this.Collection(this,(()=>wu(u[0][0],u[u.length-1][1],!s,!c)));return m._ondirectionchange=e=>{"next"===e?(g=h,l=n):(g=p,l=i),u.sort(f)},m._addAlgorithm(((e,t,r)=>{for(var i=e.key;g(i);)if(++d,d===u.length)return t(r),!1;return!!function(e){return!h(e)&&!p(e)}(i)||(0===this._cmp(i,u[d][1])||0===this._cmp(i,u[d][0])||t((()=>{l===n?e.continue(u[d][0]):e.continue(u[d][1])})),!1)})),m}startsWithAnyOf(){const e=ls.apply(us,arguments);return e.every((e=>"string"==typeof e))?0===e.length?bu(this):this.inAnyRange(e.map((e=>[e,e+zc]))):mu(this,"startsWithAnyOf() only works with strings")}}function Eu(e){return _c((function(t){return ku(t),e(t.target.error),!1}))}function ku(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Au=eu(null,"storagemutated");class xu{_lock(){return $a(!rc.global),++this._reculock,1!==this._reculock||rc.global||(rc.lockOwnerFor=this),this}_unlock(){if($a(!rc.global),0==--this._reculock)for(rc.global||(rc.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Lc(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&rc.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,r=this.db._state.dbOpenError;if($a(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new Is.DatabaseClosed(r);case"MissingAPIError":throw new Is.MissingAPI(r.message,r);default:throw new Is.OpenFailed(r)}if(!this.active)throw new Is.TransactionInactive;return $a(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=_c((t=>{ku(t),this._reject(e.error)})),e.onabort=_c((t=>{ku(t),this.active&&this._reject(new Is.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=_c((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Au.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,r){if("readwrite"===e&&"readwrite"!==this.mode)return qc(new Is.ReadOnly("Transaction is readonly"));if(!this.active)return qc(new Is.TransactionInactive);if(this._locked())return new ac(((n,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,r).then(n,i)},rc])}));if(r)return Oc((()=>{var e=new ac(((e,r)=>{this._lock();const n=t(e,r,this);n&&n.then&&n.then(e,r)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var n=new ac(((e,r)=>{var n=t(e,r,this);n&&n.then&&n.then(e,r)}));return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const r=ac.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>r));else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new ac(((e,n)=>{r.then((r=>t._waitingQueue.push(_c(e.bind(null,r)))),(e=>t._waitingQueue.push(_c(n.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Is.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(La(t,e))return t[e];const r=this.schema[e];if(!r)throw new Is.NotFound("Table "+e+" not part of transaction");const n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n}}function Iu(e,t,r,n,i,o,a){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:o,src:(r&&!a?"&":"")+(n?"*":"")+(i?"++":"")+Ou(t)}}function Ou(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Pu(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:Ga(r,(e=>[e.name,e]))}}let Tu=e=>{try{return e.only([[]]),Tu=()=>[[]],[[]]}catch(e){return Tu=()=>zc,zc}};function Ru(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>Ya(t,e)}(e):t=>Ya(t,e)}function Bu(e){return[].slice.call(e)}let Mu=0;function Nu(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Cu({_novip:e},t){const r=t.db,n=function(e,t,{IDBKeyRange:r,indexedDB:n},i){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(function(e,t,r){function n(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:r,upper:n,lowerOpen:i,upperOpen:o}=e;return void 0===r?void 0===n?null:t.upperBound(n,!!o):void 0===n?t.lowerBound(r,!!i):t.bound(r,n,!!i,!!o)}const{schema:i,hasGetAll:o}=function(e,t){const r=Bu(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,n=Ba(t),i=null==t,o={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:Ru(t)},indexes:Bu(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:n,keyPath:i}=e,a={name:t,compound:Ba(i),keyPath:i,unique:r,multiEntry:n,extractKey:Ru(i)};return o[Nu(i)]=a,a})),getIndexByKeyPath:e=>o[Nu(e)]};return o[":id"]=a.primaryKey,null!=t&&(o[Nu(t)]=a.primaryKey),a}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),a=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:r,keys:i,values:o,range:a}){return new Promise(((s,c)=>{s=_c(s);const u=e.objectStore(t),l=null==u.keyPath,f="put"===r||"add"===r;if(!f&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);const{length:d}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let h;const p=[],g=[];let m=0;const b=e=>{++m,ku(e)};if("deleteRange"===r){if(4===a.type)return s({numFailures:m,failures:g,results:[],lastResult:void 0});3===a.type?p.push(h=u.clear()):p.push(h=u.delete(n(a)))}else{const[e,t]=f?l?[o,i]:[o,null]:[i,null];if(f)for(let n=0;n<d;++n)p.push(h=t&&void 0!==t[n]?u[r](e[n],t[n]):u[r](e[n])),h.onerror=b;else for(let t=0;t<d;++t)p.push(h=u[r](e[t])),h.onerror=b}const y=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(g[t]=e.error))),s({numFailures:m,failures:g,results:"delete"===r?i:p.map((e=>e.result)),lastResult:t})};h.onerror=e=>{b(e),y(e)},h.onsuccess=y}))},getMany:({trans:e,keys:r})=>new Promise(((n,i)=>{n=_c(n);const o=e.objectStore(t),a=r.length,s=new Array(a);let c,u=0,l=0;const f=e=>{const t=e.target;s[t._pos]=t.result,++l===u&&n(s)},d=Eu(i);for(let e=0;e<a;++e)null!=r[e]&&(c=o.get(r[e]),c._pos=e,c.onsuccess=f,c.onerror=d,++u);0===u&&n(s)})),get:({trans:e,key:r})=>new Promise(((n,i)=>{n=_c(n);const o=e.objectStore(t).get(r);o.onsuccess=e=>n(e.target.result),o.onerror=Eu(i)})),query:function(e){return r=>new Promise(((i,o)=>{i=_c(i);const{trans:a,values:s,limit:c,query:u}=r,l=c===1/0?void 0:c,{index:f,range:d}=u,h=a.objectStore(t),p=f.isPrimaryKey?h:h.index(f.name),g=n(d);if(0===c)return i({result:[]});if(e){const e=s?p.getAll(g,l):p.getAllKeys(g,l);e.onsuccess=e=>i({result:e.target.result}),e.onerror=Eu(o)}else{let e=0;const t=s||!("openKeyCursor"in p)?p.openCursor(g):p.openKeyCursor(g),r=[];t.onsuccess=n=>{const o=t.result;return o?(r.push(s?o.value:o.primaryKey),++e===c?i({result:r}):void o.continue()):i({result:r})},t.onerror=Eu(o)}}))}(o),openCursor:function({trans:e,values:r,query:i,reverse:o,unique:a}){return new Promise(((s,c)=>{s=_c(s);const{index:u,range:l}=i,f=e.objectStore(t),d=u.isPrimaryKey?f:f.index(u.name),h=o?a?"prevunique":"prev":a?"nextunique":"next",p=r||!("openKeyCursor"in d)?d.openCursor(n(l),h):d.openKeyCursor(n(l),h);p.onerror=Eu(c),p.onsuccess=_c((t=>{const r=p.result;if(!r)return void s(null);r.___id=++Mu,r.done=!1;const n=r.continue.bind(r);let i=r.continuePrimaryKey;i&&(i=i.bind(r));const o=r.advance.bind(r),a=()=>{throw new Error("Cursor not stopped")};r.trans=e,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=_c(c),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=_c(e),p.onerror=Eu(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=a,e(t)}})),s=()=>{if(p.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=_c((e=>{p.onsuccess=s,s()})),r.continue=n,r.continuePrimaryKey=i,r.advance=o,s(),t},s(r)}),c)}))},count({query:e,trans:r}){const{index:i,range:o}=e;return new Promise(((e,a)=>{const s=r.objectStore(t),c=i.isPrimaryKey?s:s.index(i.name),u=n(o),l=u?c.count(u):c.count();l.onsuccess=_c((t=>e(t.target.result))),l.onerror=Eu(a)}))}}}(e))),s={};return a.forEach((e=>s[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!s[e])throw new Error(`Table '${e}' not found`);return s[e]},MIN_KEY:-1/0,MAX_KEY:Tu(t),schema:i}}(t,r,i),e.dbcore);return{dbcore:o}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach((t=>{const r=t.name;e.core.schema.tables.some((e=>e.name===r))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function Lu({_novip:e},t,r,n){r.forEach((r=>{const i=n[r];t.forEach((t=>{const n=Fa(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Da(t,r,{get(){return this.table(r)},set(e){ja(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,i))}))}))}function Uu({_novip:e},t){t.forEach((t=>{for(let r in t)t[r]instanceof e.Table&&delete t[r]}))}function ju(e,t){return e._cfg.version-t._cfg.version}function Du(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const i=e[n],o=t[n];if(i){const e={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!$c)e.recreate=!0,r.change.push(e);else{const t=i.idxByName,n=o.idxByName;let a;for(a in t)n[a]||e.del.push(a);for(a in n){const r=t[a],i=n[a];r?r.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&r.change.push(e)}}else r.add.push([n,o])}return r}function Hu(e,t,r,n){const i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((e=>qu(i,e))),i}function qu(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Fu(e,t,r){const n={};return Ka(t.objectStoreNames,0).forEach((e=>{const t=r.objectStore(e);let i=t.keyPath;const o=Iu(Ou(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),a=[];for(let e=0;e<t.indexNames.length;++e){const r=t.index(t.indexNames[e]);i=r.keyPath;var s=Iu(r.name,i,!!r.unique,!!r.multiEntry,!1,i&&"string"!=typeof i,!1);a.push(s)}n[e]=Pu(e,o,a)})),n}function zu({_novip:e},t,r){const n=r.db.objectStoreNames;for(let i=0;i<n.length;++i){const o=n[i],a=r.objectStore(o);e._hasGetAll="getAll"in a;for(let e=0;e<a.indexNames.length;++e){const r=a.indexNames[e],n=a.index(r).keyPath,i="string"==typeof n?n:"["+Ka(n).join("+")+"]";if(t[o]){const e=t[o].idxByName[i];e&&(e.name=r,delete t[o].idxByName[i],t[o].idxByName[r]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Ta.WorkerGlobalScope&&Ta instanceof Ta.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Ku{_parseStoresSpec(e,t){Ra(e).forEach((r=>{if(null!==e[r]){var n=e[r].split(",").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Iu(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ba(n),0===t)})),i=n.shift();if(i.multi)throw new Is.Schema("Primary key cannot be multi-valued");n.forEach((e=>{if(e.auto)throw new Is.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Is.Schema("Index must have a name and cannot be an empty string")})),t[r]=Pu(r,i,n)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?Ma(this._cfg.storesSource,e):e;const r=t._versions,n={};let i={};return r.forEach((e=>{Ma(n,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(n,i)})),t._dbSchema=i,Uu(t,[t._allTables,t,t.Transaction.prototype]),Lu(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Ra(i),i),t._storeNames=Ra(i),this}upgrade(e){return this._cfg.contentUpgrade=js(this._cfg.contentUpgrade||Ts,e),this}}function Wu(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new hl("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function $u(e){return e&&"function"==typeof e.databases}function Vu(e){return Oc((function(){return rc.letThrough=!0,e()}))}function Gu(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Yu(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?qc(t.dbOpenError):e));ds&&(t.openCanceller._stackHolder=ms()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new Is.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return ac.race([n,("undefined"==typeof navigator?ac.resolve():Gu()).then((()=>new ac(((n,o)=>{if(i(),!r)throw new Is.MissingAPI;const c=e.name,u=t.autoSchema?r.open(c):r.open(c,Math.round(10*e.verno));if(!u)throw new Is.MissingAPI;u.onerror=Eu(o),u.onblocked=_c(e._fireOnBlocked),u.onupgradeneeded=_c((n=>{if(a=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=ku,a.abort(),u.result.close();const e=r.deleteDatabase(c);e.onsuccess=e.onerror=_c((()=>{o(new Is.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{a.onerror=Eu(o);var i=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;s=i<1,e._novip.idbdb=u.result,function(e,t,r,n){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(r),o._completion.catch(n);const a=o._reject.bind(o),s=rc.transless||rc;Oc((()=>{rc.trans=o,rc.transless=s,0===t?(Ra(i).forEach((e=>{Hu(r,e,i[e].primKey,i[e].indexes)})),Cu(e,r),ac.follow((()=>e.on.populate.fire(o))).catch(a)):function({_novip:e},t,r,n){const i=[],o=e._versions;let a=e._dbSchema=Fu(0,e.idbdb,n),s=!1;return o.filter((e=>e._cfg.version>=t)).forEach((o=>{i.push((()=>{const i=a,c=o._cfg.dbschema;zu(e,i,n),zu(e,c,n),a=e._dbSchema=c;const u=Du(i,c);u.add.forEach((e=>{Hu(n,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new Is.Upgrade("Not yet support for changing primary key");{const t=n.objectStore(e.name);e.add.forEach((e=>qu(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),qu(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const l=o._cfg.contentUpgrade;if(l&&o._cfg.version>t){Cu(e,n),r._memoizedTables={},s=!0;let t=Ja(c);u.del.forEach((e=>{t[e]=i[e]})),Uu(e,[e.Transaction.prototype]),Lu(e,[e.Transaction.prototype],Ra(t),t),r.schema=t;const o=fs(l);let a;o&&Pc();const f=ac.follow((()=>{if(a=l(r),a&&o){var e=Tc.bind(null,null);a.then(e,e)}}));return a&&"function"==typeof a.then?ac.resolve(a):f.then((()=>a))}})),i.push((t=>{s&&Vc||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((r=>null==e[r]&&t.db.deleteObjectStore(r)))}(o._cfg.dbschema,t),Uu(e,[e.Transaction.prototype]),Lu(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),function e(){return i.length?ac.resolve(i.shift()(r.idbtrans)).then(e):ac.resolve()}().then((()=>{var e,t;t=n,Ra(e=a).forEach((r=>{t.db.objectStoreNames.contains(r)||Hu(t,r,e[r].primKey,e[r].indexes)}))}))}(e,t,o,r).catch(a)}))}(e,i/10,a,o)}}),o),u.onsuccess=_c((()=>{a=null;const r=e._novip.idbdb=u.result,i=Ka(r.objectStoreNames);if(i.length>0)try{const n=r.transaction(1===(o=i).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,r){e.verno=t.version/10;const n=e._dbSchema=Fu(0,t,r);e._storeNames=Ka(t.objectStoreNames,0),Lu(e,[e._allTables],Ra(n),n)}(e,r,n):(zu(e,e._dbSchema,n),function(e,t){const r=Du(Fu(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some((e=>e.add.length||e.change.length)))}(e,n)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Cu(e,n)}catch(e){}var o;Wc.push(e),r.onversionchange=_c((r=>{t.vcFired=!0,e.on("versionchange").fire(r)})),r.onclose=_c((t=>{e.on("close").fire(t)})),s&&function({indexedDB:e,IDBKeyRange:t},r){!$u(e)&&"__dbnames"!==r&&Wu(e,t).put({name:r}).catch(Ts)}(e._deps,c),n()}),o)}))))]).then((()=>(i(),t.onReadyBeingFired=[],ac.resolve(Vu((()=>e.on.ready.fire(e.vip)))).then((function r(){if(t.onReadyBeingFired.length>0){let n=t.onReadyBeingFired.reduce(js,Ts);return t.onReadyBeingFired=[],ac.resolve(Vu((()=>n(e.vip)))).then(r)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((r=>{t.dbOpenError=r;try{a&&a.abort()}catch(e){}return n===t.openCanceller&&e._close(),qc(r)})).finally((()=>{t.openComplete=!0,o()}))}function Xu(e){var t=t=>e.next(t),r=i(t),n=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&"function"==typeof o.then?o.then(r,n):Ba(o)?Promise.all(o).then(r,n):r(o)}}return i(t)()}function Ju(e,t,r){var n=arguments.length;if(n<2)throw new Is.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var o=Qa(i);return[e,o,r]}function Zu(e,t,r,n,i){return ac.resolve().then((()=>{const o=rc.transless||rc,a=e._createTransaction(t,r,e._dbSchema,n),s={trans:a,transless:o};if(n)a.idbtrans=n.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(n){return n.name===As.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Zu(e,t,r,null,i)))):qc(n)}const c=fs(i);let u;c&&Pc();const l=ac.follow((()=>{if(u=i.call(a,a),u)if(c){var e=Tc.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Xu(u))}),s);return(u&&"function"==typeof u.then?ac.resolve(u).then((e=>a.active?e:qc(new Is.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>u))).then((e=>(n&&a._resolve(),a._completion.then((()=>e))))).catch((e=>(a._reject(e),qc(e))))}))}function Qu(e,t,r){const n=Ba(e)?e.slice():[e];for(let e=0;e<r;++e)n.push(t);return n}const el={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:n}=r,i={},o=[];function a(e,t,r){const n=Nu(e),s=i[n]=i[n]||[],c=null==e?0:"string"==typeof e?1:e.length,u=t>0,l={...r,isVirtual:u,keyTail:t,keyLength:c,extractKey:Ru(e),unique:!u&&r.unique};return s.push(l),l.isPrimaryKey||o.push(l),c>1&&a(2===c?e[0]:e.slice(0,c-1),t+1,r),s.sort(((e,t)=>e.keyTail-t.keyTail)),l}const s=a(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[s];for(const e of n.indexes)a(e.keyPath,0,e);function c(t){const r=t.query.index;return r.isVirtual?{...t,query:{index:r,range:(n=t.query.range,i=r.keyTail,{type:1===n.type?2:n.type,lower:Qu(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Qu(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var n,i}const u={...r,schema:{...n,primaryKey:s,indexes:o,getIndexByKeyPath:function(e){const t=i[Nu(e)];return t&&t[0]}},count:e=>r.count(c(e)),query:e=>r.query(c(e)),openCursor(t){const{keyTail:n,isVirtual:i,keyLength:o}=t.query.index;return i?r.openCursor(c(t)).then((r=>r&&function(r){const i=Object.create(r,{continue:{value:function(i){null!=i?r.continue(Qu(i,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?r.continue(r.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(t,i){r.continuePrimaryKey(Qu(t,e.MAX_KEY,n),i)}},primaryKey:{get:()=>r.primaryKey},key:{get(){const e=r.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>r.value}});return i}(r))):r.openCursor(t)}};return u}}}};function tl(e,t,r,n){return r=r||{},n=n||"",Ra(e).forEach((i=>{if(La(t,i)){var o=e[i],a=t[i];if("object"==typeof o&&"object"==typeof a&&o&&a){const e=as(o);e!==as(a)?r[n+i]=t[i]:"Object"===e?tl(o,a,r,n+i+"."):o!==a&&(r[n+i]=t[i])}else o!==a&&(r[n+i]=t[i])}else r[n+i]=void 0})),Ra(t).forEach((i=>{La(e,i)||(r[n+i]=t[i])})),r}const rl={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:n}=r.schema,i={...r,mutate(e){const i=rc.trans,{deleting:o,creating:a,updating:s}=i.table(t).hook;switch(e.type){case"add":if(a.fire===Ts)break;return i._promise("readwrite",(()=>c(e)),!0);case"put":if(a.fire===Ts&&s.fire===Ts)break;return i._promise("readwrite",(()=>c(e)),!0);case"delete":if(o.fire===Ts)break;return i._promise("readwrite",(()=>c(e)),!0);case"deleteRange":if(o.fire===Ts)break;return i._promise("readwrite",(()=>function(e){return u(e.trans,e.range,1e4)}(e)),!0)}return r.mutate(e);function c(e){const t=rc.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(n,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,r){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}(r,e,i).then((c=>{const u=i.map(((r,i)=>{const u=c[i],l={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(l,r,u,t);else if("add"===e.type||void 0===u){const o=a.fire.call(l,r,e.values[i],t);null==r&&null!=o&&(r=o,e.keys[i]=r,n.outbound||Xa(e.values[i],n.keyPath,r))}else{const n=tl(u,e.values[i]),o=s.fire.call(l,n,r,u,t);if(o){const t=e.values[i];Object.keys(o).forEach((e=>{La(t,e)?t[e]=o[e]:Xa(t,e,o[e])}))}}return l}));return r.mutate(e).then((({failures:t,results:r,numFailures:n,lastResult:o})=>{for(let n=0;n<i.length;++n){const o=r?r[n]:i[n],a=u[n];null==o?a.onerror&&a.onerror(t[n]):a.onsuccess&&a.onsuccess("put"===e.type&&c[n]?e.values[n]:o)}return{failures:t,results:r,numFailures:n,lastResult:o}})).catch((e=>(u.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function u(e,t,i){return r.query({trans:e,values:!1,query:{index:n,range:t},limit:i}).then((({result:r})=>c({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:u(e,{...t,lower:r[r.length-1],lowerOpen:!0},i)))))}}};return i}})};function nl(e,t,r){try{if(!t)return null;if(t.keys.length<e.length)return null;const n=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===uu(t.keys[i],e[o])&&(n.push(r?ns(t.values[i]):t.values[i]),++o);return n.length===e.length?n:null}catch(e){return null}}const il={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:e=>{if(!e.cache)return r.getMany(e);const t=nl(e.keys,e.trans._cache,"clone"===e.cache);return t?ac.resolve(t):r.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?ns(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),r.mutate(e))}}})};function ol(e){return!("from"in e)}const al=function(e,t){if(!this){const t=new al;return e&&"d"in e&&Ma(t,e),t}Ma(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function sl(e,t,r){const n=uu(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(ol(e))return Ma(e,{from:t,to:r,d:1});const i=e.l,o=e.r;if(uu(r,e.from)<0)return i?sl(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},ll(e);if(uu(t,e.to)>0)return o?sl(o,t,r):e.r={from:t,to:r,d:1,l:null,r:null},ll(e);uu(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),uu(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&cl(e,i),o&&a&&cl(e,o)}function cl(e,t){ol(t)||function e(t,{from:r,to:n,l:i,r:o}){sl(t,r,n),i&&e(t,i),o&&e(t,o)}(e,t)}function ul(e){let t=ol(e)?null:{s:0,n:e};return{next(e){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&uu(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||uu(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function ll(e){var t,r;const n=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){const t="r"===i?"l":"r",r={...e},n=e[i];e.from=n.from,e.to=n.to,e[i]=n[i],r[i]=n[t],e[t]=r,r.d=fl(r)}e.d=fl(e)}function fl({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ua(al.prototype,{add(e){return cl(this,e),this},addKey(e){return sl(this,e,e),this},addKeys(e){return e.forEach((e=>sl(this,e,e))),this},[ss](){return ul(this)}});const dl={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new al(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{const i=e.table(n),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:c}=a,u={...i,mutate:e=>{const a=e.trans,s=a.mutatedParts||(a.mutatedParts={}),c=e=>{const r=`idb://${t}/${n}/${e}`;return s[r]||(s[r]=new al)},u=c(""),l=c(":dels"),{type:f}=e;let[d,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const p=e.trans._cache;return i.mutate(e).then((e=>{if(Ba(d)){"delete"!==f&&(d=e.results),u.addKeys(d);const t=nl(d,p);t||"add"===f||l.addKeys(d),(t||h)&&function(e,t,r,n){t.indexes.forEach((function(t){const i=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&Ba(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(r||n).forEach(((e,t)=>{const i=r&&o(r[t]),s=n&&o(n[t]);0!==uu(i,s)&&(null!=i&&a(i),null!=s&&a(s))}))}))}(c,o,t,h)}else if(d){const e={from:d.lower,to:d.upper};l.add(e),u.add(e)}else u.add(r),l.add(r),o.indexes.forEach((e=>c(e.name).add(r)));return e}))}},l=({query:{index:t,range:r}})=>{var n,i;return[t,new al(null!==(n=r.lower)&&void 0!==n?n:e.MIN_KEY,null!==(i=r.upper)&&void 0!==i?i:e.MAX_KEY)]},f={get:e=>[a,new al(e.key)],getMany:e=>[a,(new al).addKeys(e.keys)],count:l,query:l,openCursor:l};return Ra(f).forEach((e=>{u[e]=function(o){const{subscr:a}=rc;if(a){const u=e=>{const r=`idb://${t}/${n}/${e}`;return a[r]||(a[r]=new al)},l=u(""),d=u(":dels"),[h,p]=f[e](o);if(u(h.name||"").add(p),!h.isPrimaryKey){if("count"!==e){const t="query"===e&&c&&o.values&&i.query({...o,values:!1});return i[e].apply(this,arguments).then((r=>{if("query"===e){if(c&&o.values)return t.then((({result:e})=>(l.addKeys(e),r)));const e=o.values?r.result.map(s):r.result;o.values?l.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=r,t=o.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&l.addKey(e.primaryKey),e.value)}})}return r}))}d.add(r)}}return i[e].apply(this,arguments)}})),u}}}};class hl{constructor(e,t){this._middlewares={},this.verno=0;const r=hl.dependencies;this._options=t={addons:hl.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:n}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ts,dbReadyPromise:null,cancelOpen:Ts,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new ac((e=>{i.dbReadyResolve=e})),i.openCanceller=new ac(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=eu(this,"populate","blocked","versionchange","close",{ready:[js,Ts]}),this.on.ready.subscribe=Wa(this.on.ready.subscribe,(e=>(t,r)=>{hl.vip((()=>{const n=this._state;if(n.openComplete)n.dbOpenError||ac.resolve().then(t),r&&e(t);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(t),r&&e(t);else{e(t);const n=this;r||e((function e(){n.on.ready.unsubscribe(t),n.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,tu(du.prototype,(function(e,t){this.db=o;let r=Jc,n=null;if(t)try{r=t()}catch(e){n=e}const i=e._ctx,a=i.table,s=a.hook.reading.fire;this._ctx={table:a,index:i.index,isPrimKey:!i.index||a.schema.primKey.keyPath&&i.index===a.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:i.or,valueMapper:s!==Rs?s:null}}))),this.Table=function(e){return tu(Qc.prototype,(function(t,r,n){this.db=e,this._tx=n,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:eu(null,{creating:[Ns,Ts],reading:[Bs,Rs],updating:[Ls,Ts],deleting:[Cs,Ts]})}))}(this),this.Transaction=function(e){return tu(xu.prototype,(function(t,r,n,i,o){this.db=e,this.mode=t,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=eu(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ac(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),qc(e)}))}))}(this),this.Version=function(e){return tu(Ku.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return tu(Su.prototype,(function(t,r,n){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n};const i=e._deps.indexedDB;if(!i)throw new Is.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Tu(t.IDBKeyRange),this._createTransaction=(e,t,r,n)=>new this.Transaction(e,t,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=e=>{this.on("blocked").fire(e),Wc.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(el),this.use(rl),this.use(dl),this.use(il),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Is.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Is.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var r=t.filter((t=>t._cfg.version===e))[0];return r||(r=new this.Version(e),t.push(r),t.sort(ju),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||rc.letThrough||this._vip)?e():new ac(((e,t)=>{if(this._state.openComplete)return t(new Is.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Is.DatabaseClosed);this.open().catch(Ts)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:r,name:n}){n&&this.unuse({stack:e,name:n});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==r?10:r,name:n}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>r?e.create!==r:!!t&&e.name!==t))),this}open(){return Yu(this)}_close(){const e=this._state,t=Wc.indexOf(this);if(t>=0&&Wc.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new ac((t=>{e.dbReadyResolve=t})),e.openCanceller=new ac(((t,r)=>{e.cancelOpen=r}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Is.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new ac(((r,n)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=_c((()=>{!function({indexedDB:e,IDBKeyRange:t},r){!$u(e)&&"__dbnames"!==r&&Wu(e,t).delete(r).catch(Ts)}(this._deps,this.name),r()})),e.onerror=Eu(n),e.onblocked=this._fireOnBlocked};if(e)throw new Is.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ra(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Ju.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,r){let n=rc.trans;n&&n.db===this&&-1===e.indexOf("!")||(n=null);const i=-1!==e.indexOf("?");let o,a;e=e.replace("!","").replace("?","");try{if(a=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)o="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new Is.InvalidArgument("Invalid transaction mode: "+e);o="readwrite"}if(n){if("readonly"===n.mode&&"readwrite"===o){if(!i)throw new Is.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&a.forEach((e=>{if(n&&-1===n.storeNames.indexOf(e)){if(!i)throw new Is.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),i&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,((t,r)=>{r(e)})):qc(e)}const s=Zu.bind(null,this,o,a,n,r);return n?n._promise(o,s,"lock"):rc.trans?Lc(rc.transless,(()=>this._whenReady(s))):this._whenReady(s)}table(e){if(!La(this._allTables,e))throw new Is.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const pl="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class gl{constructor(e){this._subscribe=e}subscribe(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})}[pl](){return this}}function ml(e,t){return Ra(t).forEach((r=>{cl(e[r]||(e[r]=new al),t[r])})),e}let bl;try{bl={indexedDB:Ta.indexedDB||Ta.mozIndexedDB||Ta.webkitIndexedDB||Ta.msIndexedDB,IDBKeyRange:Ta.IDBKeyRange||Ta.webkitIDBKeyRange}}catch(Ta){bl={indexedDB:null,IDBKeyRange:null}}const yl=hl;function vl(e){let t=wl;try{wl=!0,Au.storagemutated.fire(e)}finally{wl=t}}Ua(yl,{...Ps,delete:e=>new yl(e,{addons:[]}).delete(),exists:e=>new yl(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return $u(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):Wu(e,t).toCollection().primaryKeys()}(yl.dependencies).then(e)}catch(e){return qc(new Is.MissingAPI)}},defineClass:()=>function(e){Ma(this,e)},ignoreTransaction:e=>rc.trans?Lc(rc.transless,e):e(),vip:Vu,async:function(e){return function(){try{var t=Xu(e.apply(this,arguments));return t&&"function"==typeof t.then?t:ac.resolve(t)}catch(e){return qc(e)}}},spawn:function(e,t,r){try{var n=Xu(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:ac.resolve(n)}catch(e){return qc(e)}},currentTransaction:{get:()=>rc.trans||null},waitFor:function(e,t){const r=ac.resolve("function"==typeof e?yl.ignoreTransaction(e):e).timeout(t||6e4);return rc.trans?rc.trans.waitFor(r):r},Promise:ac,debug:{get:()=>ds,set:e=>{hs(e,"dexie"===e?()=>!0:Yc)}},derive:Ha,extend:Ma,props:Ua,override:Wa,Events:eu,on:Au,liveQuery:function(e){return new gl((t=>{const r=fs(e);let n=!1,i={},o={};const a={get closed(){return n},unsubscribe:()=>{n=!0,Au.storagemutated.unsubscribe(l)}};t.start&&t.start(a);let s=!1,c=!1;function u(){return Ra(o).some((e=>i[e]&&function(e,t){const r=ul(t);let n=r.next();if(n.done)return!1;let i=n.value;const o=ul(e);let a=o.next(i.from),s=a.value;for(;!n.done&&!a.done;){if(uu(s.from,i.to)<=0&&uu(s.to,i.from)>=0)return!0;uu(i.from,s.from)<0?i=(n=r.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}(i[e],o[e])))}const l=e=>{ml(i,e),u()&&f()},f=()=>{if(s||n)return;i={};const d={},h=function(t){r&&Pc();const n=()=>Oc(e,{subscr:t,trans:null}),i=rc.trans?Lc(rc.transless,n):n();return r&&i.then(Tc,Tc),i}(d);c||(Au("storagemutated",l),c=!0),s=!0,Promise.resolve(h).then((e=>{s=!1,n||(u()?f():(i={},o=d,t.next&&t.next(e)))}),(e=>{s=!1,t.error&&t.error(e),a.unsubscribe()}))};return f(),a}))},extendObservabilitySet:ml,getByKeyPath:Ya,setByKeyPath:Xa,delByKeyPath:function(e,t){"string"==typeof t?Xa(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Xa(e,t,void 0)}))},shallowClone:Ja,deepClone:ns,getObjectDiff:tl,cmp:uu,asap:Va,minKey:-1/0,addons:[],connections:Wc,errnames:As,dependencies:bl,semVer:"3.2.2",version:"3.2.2".split(".").map((e=>parseInt(e))).reduce(((e,t,r)=>e+t/Math.pow(10,2*r)))}),yl.maxKey=Tu(yl.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Au("storagemutated",(e=>{if(!wl){let t;$c?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),wl=!0,dispatchEvent(t),wl=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{wl||vl(e)})));let wl=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");Au("storagemutated",(t=>{wl||e.postMessage(t)})),e.onmessage=e=>{e.data&&vl(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Au("storagemutated",(e=>{try{wl||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&vl(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&vl(e.changedParts)}))}ac.rejectionMapper=function(e,t){if(!e||e instanceof _s||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Os[e.name])return e;var r=new Os[e.name](t||e.message,e);return"stack"in e&&Da(r,"stack",{get:function(){return this.inner.stack}}),r},hs(ds,Yc);const _l=new class extends hl{constructor(){super("LBE"),this.version(1).stores({allowances:"++id,&host,name,imageURL,tag,enabled,totalBudget,remainingBudget,lastPaymentAt,lnurlAuth,createdAt",payments:"++id,allowanceId,host,location,name,description,totalAmount,totalFees,preimage,paymentRequest,paymentHash,destination,createdAt"}),this.version(2).stores({blocklist:"++id,host,name,imageURL,isBlocked,createdAt"}),this.version(3).stores({permissions:"++id,allowanceId,host,method,enabled,blocked,createdAt"}),this.on("ready",this.loadFromStorage.bind(this)),this.allowances=this.table("allowances"),this.payments=this.table("payments"),this.blocklist=this.table("blocklist"),this.permissions=this.table("permissions")}async saveToStorage(){const e=await this.allowances.toArray(),r=await this.payments.toArray(),n=await this.blocklist.toArray(),i=await this.permissions.toArray();return await t().storage.local.set({allowances:e,payments:r,blocklist:n,permissions:i}),!0}async loadFromStorage(){return console.info(`Current DB version: ${this.verno}`),console.info("Loading DB data from storage"),t().storage.local.get(["allowances","payments","blocklist","permissions"]).then((e=>{const t=this.allowances.count().then((t=>{if(!(t>0))return e.allowances&&e.allowances.length>0?this.allowances.bulkAdd(e.allowances).catch(hl.BulkError,(function(e){console.error("Failed to add allowances; ignoring",e)})):void 0;console.info(`Found ${t} allowances already in the DB`)})),r=this.payments.count().then((t=>{if(!(t>0))return e.payments&&e.payments.length>0?this.payments.bulkAdd(e.payments).catch(hl.BulkError,(function(e){console.error("Failed to add payments; ignoring",e)})):void 0;console.info(`Found ${t} payments already in the DB`)})),n=this.blocklist.count().then((t=>{if(!(t>0))return e.blocklist&&e.blocklist.length>0?this.blocklist.bulkAdd(e.blocklist).catch(hl.BulkError,(function(e){console.error("Failed to add blocklist; ignoring",e)})):void 0;console.info(`Found ${t} blocklist already in the DB`)})),i=this.permissions.count().then((t=>{if(!(t>0))return e.permissions&&e.permissions.length>0?this.permissions.bulkAdd(e.permissions).catch(hl.BulkError,(function(e){console.error("Failed to add permissions; ignoring",e)})):void 0;console.info(`Found ${t} permissions already in the DB`)}));return Promise.all([t,r,n,i])})).catch((e=>{console.error("Failed to load DB data from storage",e)}))}},Sl=_l;async function El(e,t){if(!t)return!1;if(!(await Sl.allowances.get({host:t}))?.id)return!1;return!!(await Sl.permissions.get({host:t,method:e}))?.enabled}async function kl(e,t){const r=await Sl.allowances.get({host:t});if(!r?.id)return!1;return!!await Sl.permissions.add({createdAt:Date.now().toString(),allowanceId:r.id,host:t,method:e,enabled:!0,blocked:!1})&&await Sl.saveToStorage()}function Al(e){if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const r=e.tags[t];if(!Array.isArray(r))return!1;for(let e=0;e<r.length;e++)if("object"==typeof r[e])return!1}return!0}function xl(e){return Gi()(function(e){if(!Al(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e)).toString(St())}const Il=class{getPrivateKey(){const e=Bl.getState().password,t=Bl.getState().nostrPrivateKey;if(t)try{return g(t,e)}catch(e){console.error("Could not decrypt the Nostr key"),console.error(e)}return null}getPublicKey(){const e=Aa.getPublicKey(Pa.hexToBytes(this.getPrivateKey()));return Pa.bytesToHex(e)}async setPrivateKey(e){const t=Bl.getState().password;Bl.setState({nostrPrivateKey:p(e,t)}),await Bl.getState().saveToStorage()}async signEvent(e){const t=await async function(e,t){const r=await Aa.sign(xl(e),t);return Pa.bytesToHex(r)}(e,this.getPrivateKey());return e.sig=t,e}encrypt(e,t){const r=ba(this.getPrivateKey(),"02"+e),n=pr.Buffer.from(r.slice(1,33)),i=Pa.bytesToHex(n),o=St().parse(i),a=h.AES.encrypt(t,o,{iv:h.lib.WordArray.random(16)});return`${a.toString()}?iv=${a.iv.toString(h.enc.Base64)}`}decrypt(e,t){const[r,n]=t.split("?iv="),i=ba(this.getPrivateKey(),"02"+e),o=pr.Buffer.from(i.slice(1,33)),a=Pa.bytesToHex(o),s=St().parse(a),c=h.AES.decrypt(r,s,{iv:en().parse(n)});return kt().stringify(c)}getEventHash(e){return xl(e)}},Ol={browserNotifications:!0,websiteEnhancements:!0,legacyLnurlAuth:!1,isUsingLegacyLnurlAuthKey:!1,userName:"",userEmail:"",locale:vt.resolvedLanguage,theme:"system",showFiat:!0,currency:r.USD,exchange:"alby",debug:!1,nostrEnabled:!1},Pl={settings:{...Ol},accounts:{},currentAccountId:null,migrations:[],nostrPrivateKey:null},Tl=Object.keys(Pl),Rl=function(e){const t="function"==typeof e?f(e):e,r=(e=t.getState,r=Object.is)=>{const[,n]=(0,l.useReducer)((e=>e+1),0),i=t.getState(),o=(0,l.useRef)(i),a=(0,l.useRef)(e),s=(0,l.useRef)(r),c=(0,l.useRef)(!1),u=(0,l.useRef)();let f;void 0===u.current&&(u.current=e(i));let h=!1;(o.current!==i||a.current!==e||s.current!==r||c.current)&&(f=e(i),h=!r(u.current,f)),d((()=>{h&&(u.current=f),o.current=i,a.current=e,s.current=r,c.current=!1}));const p=(0,l.useRef)(i);d((()=>{const e=()=>{try{const e=t.getState(),r=a.current(e);s.current(u.current,r)||(o.current=e,u.current=r,n())}catch(e){c.current=!0,n()}},r=t.subscribe(e);return t.getState()!==p.current&&e(),r}),[]);const g=h?f:u.current;return(0,l.useDebugValue)(g),g};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[r,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},r}(((e,r)=>({connector:null,account:null,settings:Ol,migrations:[],accounts:{},currentAccountId:null,password:null,nostr:null,nostrPrivateKey:null,getAccount:()=>{const e=r().currentAccountId;let t=null;return e&&(t=r().accounts[e]),t},getConnector:async()=>{if(r().connector)return r().connector;const t=r().currentAccountId,n=r().accounts[t],i=r().password,o=g(n.config,i),a=new Eo[n.connector](o);return await a.init(),e({connector:a}),a},getNostr:()=>{if(r().nostr)return r().nostr;const t=new Il;return e({nostr:t}),t},lock:async()=>{const t=r().connector;t&&await t.unload(),e({password:null,connector:null,account:null})},isUnlocked:()=>null!==r().password,init:()=>t().storage.sync.get(Tl).then((t=>{const r=s()(Pl,t);e(r)})),reset:async()=>{e({...Pl}),r().saveToStorage()},saveToStorage:()=>{const e=r(),n={...Pl,...u()(e,Tl)};return t().storage.sync.set(n)}}))),Bl=Rl,Ml=new Map;var Nl;!function(e){e.Default="alby_icon_yellow",e.Tipping="alby_icon_blue",e.Active="alby_icon_green"}(Nl||(Nl={}));const Cl=async(e,r)=>{const n=Ml.get(r);if(n&&n===Nl.Active&&e===Nl.Tipping)return Promise.resolve();Ml.set(r,e);const i="dark"==Bl.getState().settings.theme?"_dark":"";return t().browserAction.setIcon({path:{16:`assets/icons/${e}${i}_16x16.png`,32:`assets/icons/${e}${i}_32x32.png`,48:`assets/icons/${e}${i}_48x48.png`,128:`assets/icons/${e}${i}_128x128.png`},tabId:r})};var Ll=i(1798),Ul=i.n(Ll);const jl=async(e,t)=>{if(!t.origin||!t.origin.host)return;const r=t.origin.host,n=t.response.data.route,{total_amt:i}=n,o=await Sl.allowances.where("host").equalsIgnoreCase(r).first();if(!o)return;const a=o.remainingBudget||0,s=Math.max(a-i,0);return await Sl.allowances.update(o.id,{remainingBudget:s,lastPaymentAt:Date.now()}),await Sl.saveToStorage(),!0};var Dl=i(7484),Hl=i.n(Dl),ql=i(6121),Fl=i.n(ql);Hl().extend(Fl());const zl=async({rate:e,currency:r})=>{const n={currency:r,rate:e,timestamp:Date.now()};await t().storage.local.set({currencyRate:JSON.stringify(n)})},Kl=async e=>{const{settings:t}=Bl.getState(),{exchange:r}=t;let n;if("yadio"===r){n=await zi.get(`https://api.yadio.io/exrates/${e.toLowerCase()}`);return(await(n?.data)).BTC/Yi}if("coindesk"===r){n=await zi.get(`https://api.coindesk.com/v1/bpi/currentprice/${e.toLowerCase()}.json`);return(await(n?.data)).bpi[e].rate_float/Yi}n=await zi.get(`https://getalby.com/api/rates/${e.toLowerCase()}.json`);return(await(n?.data))[e].rate_float/Yi},Wl=async e=>{let r={};const n=await t().storage.local.get(["currencyRate"]);if(n.currencyRate&&(r=JSON.parse(n.currencyRate),r.currency===e)){if(Hl()().isSameOrBefore(Hl()(r?.timestamp).add(10,"minute"))&&r.rate)return r.rate;const t=await Kl(e);return await zl({rate:t,currency:e}),t}const i=await Kl(e);return await zl({currency:e,rate:i}),i},$l=async e=>{const t=Bl.getState().settings,{currency:r}=t;return{data:{rate:await Wl(r)}}},Vl=e=>{if(!Bl.getState().settings.browserNotifications)return;const r={type:"basic",iconUrl:"assets/icons/alby_icon_yellow_48x48.png",...e};return t().notifications.create(r)},Gl=async(e,t)=>{const r=t?.origin?.name,n=t.response;let i;if("error"in n)return;const o=n?.data.route,{total_amt:a,total_fees:s}=o,c=a-s,{settings:u}=Bl.getState(),{showFiat:l,currency:f,locale:d}=u;if(l){const e=await Wl(f);i=Ji({amount:c,rate:e,currency:f,locale:d})}let h=" Successfully paid";r&&(h=`${h} to ${r}`);let p=`Amount: ${Zi({amount:c,locale:d})}`;return l&&(p=`${p} (${i})`),p=`${p}\nFee: ${Zi({amount:s,locale:d})}`,Vl({title:h,message:p})},Yl=(e,t)=>{let r;const n=t.response;return"error"in n?r=n.error:n.data.payment_error&&(r=n.data.payment_error),Vl({title:" Payment failed",message:`Error: ${r}`})},Xl=(e,t)=>{let r=" Login";return t?.origin?.name&&(r=`${r} to ${t.origin.name}`),Vl({title:r,message:`Successfully logged in to ${t.lnurlDetails.domain}`})},Jl=(e,t)=>Vl({title:" Login failed",message:`${t.error}`}),Zl=async(e,t)=>{const r=t?.origin?.name,n=t?.origin?.host,i=t?.origin?.location,o=t.response,a=o.data.route,{total_amt:s,total_fees:c}=a;return await Sl.payments.add({host:n,location:i,name:r,description:t.details.description,preimage:o.data.preimage,paymentHash:o.data.paymentHash,destination:t.details.destination,totalAmount:s,totalFees:c,createdAt:Date.now()}),await Sl.saveToStorage(),console.info(`Persisted payment ${o.data.paymentHash}`),!0},Ql=e=>{const{migrations:t}=Bl.getState();return!t||!t.includes(e)},ef=e=>{let{migrations:t}=Bl.getState();return t||(t=[]),t.push(e),Bl.setState({migrations:t}),Bl.getState().saveToStorage()},tf=async()=>{await Sl.permissions.where("method").startsWithIgnoreCase("webln/").delete()},rf=async()=>{const{settings:e}=Bl.getState();if((await Sl.allowances.filter((e=>!!e.lnurlAuth)).toArray()).length>0){const t={...e,isUsingLegacyLnurlAuthKey:!0};Bl.setState({settings:t})}},nf=async()=>{Ql("migrateisUsingLegacyLnurlAuthKeySetting")&&(console.info("Running migration for: migrateisUsingLegacyLnurlAuthKeySetting"),await rf(),await ef("migrateisUsingLegacyLnurlAuthKeySetting")),Ql("migratedeleteLegacyWeblnPermissions")&&(console.info("Running migration for: migratedeleteLegacyWeblnPermissions"),await tf(),await ef("migratedeleteLegacyWeblnPermissions"))},of=async e=>{const t=e.args,r={...Bl.getState().accounts},n=Bl.getState().password,i=Bl.getState().currentAccountId;if(!n)return{error:"Password is missing"};const o=Jr();return t.config=p(t.config,n),r[o]={...t,id:o},Bl.setState({accounts:r}),i||Bl.setState({currentAccountId:o}),await Bl.getState().saveToStorage(),{data:{accountId:o}}},af=async e=>({data:await Bl.getState().accounts}),sf=async e=>{const t=Bl.getState().accounts,r=Bl.getState().password,n=e.args.id;if(n in t){return{data:g(t[n].config,r)}}return{error:`Account not found: ${n}`}},cf=async e=>{const t=Bl.getState().accounts,r=e.args.id;return r in t?(t[r].name=e.args.name,Bl.setState({accounts:t}),await Bl.getState().saveToStorage(),{}):{error:`Account not found: ${r}`}},uf=async e=>{const t=await Bl.getState().getConnector(),r=Bl.getState().currentAccountId,n=Bl.getState().getAccount(),[i,o]=await Promise.all([t.getInfo(),t.getBalance()]);if(!n||!r)return{error:"No current account set"};return{data:{currentAccountId:r,name:n.name,info:i.data,balance:{balance:o.data.balance,currency:o.data.currency||"BTC"}}}},lf=async e=>(await Bl.getState().lock(),{data:{unlocked:!1}}),ff=async e=>{const t=Bl.getState().accounts;let r=Bl.getState().currentAccountId,n=e?.args?.id;if(n||null===r||(n=r),"string"==typeof n||"number"==typeof n){delete t[n],Bl.setState({accounts:t});const e=Bl.getState().accounts,i=Object.keys(e);return n===r&&i.length>0&&(r=i[0],Bl.setState({currentAccountId:r})),await Bl.getState().saveToStorage(),{data:{removed:n}}}return{error:`Account not found: ${n}`}},df=async e=>{const t=Bl.getState(),r=e.args.id,n=t.accounts[r];return n?(t.connector&&(console.info("Unloading connector"),await t.connector.unload()),Bl.setState({account:n,connector:null,currentAccountId:r}),await Bl.getState().saveToStorage(),await Bl.getState().getConnector(),{data:{unlocked:!0}}):(console.error(`Account not found: ${r}`),{error:`Account not found: ${r}`})},hf=async e=>{const t=e.args.password,r="number"==typeof t?`${t}`:t,n=Bl.getState().getAccount(),i=Bl.getState().currentAccountId;if(!n)return console.error("No account configured"),Promise.resolve({error:"No account configured"});if("string"!=typeof n.config)return console.error("Config must be a string"),Promise.resolve({error:"Config must be a string"});try{g(n.config,r)}catch(e){return console.error("Invalid password"),Promise.resolve({error:vt.t("translation:unlock.errors.invalid_password")})}Bl.setState({password:r});try{await Bl.getState().getConnector()}catch(e){console.error(e)}return{data:{unlocked:!0,currentAccountId:i}}},pf=async e=>{const t=e.args.host,r=e.args.name,n=e.args.imageURL,i=e.args.totalBudget,o=await Sl.allowances.where("host").equalsIgnoreCase(t).first();if(o){if(!o.id)return{error:"id is missing"};await Sl.allowances.update(o.id,{enabled:!0,imageURL:n,name:r,remainingBudget:i,totalBudget:i})}else{const e={createdAt:Date.now().toString(),enabled:!0,host:t,imageURL:n,lastPaymentAt:0,lnurlAuth:!1,name:r,remainingBudget:i,tag:"",totalBudget:i};await Sl.allowances.add(e)}return await Sl.saveToStorage(),{data:{allowance:o}}},gf=async e=>{const t=e.args.id;return t?(await Sl.allowances.delete(t),await Sl.permissions.where({allowanceId:t}).delete(),await Sl.saveToStorage(),{data:!0}):{error:"id is missing"}},mf=async(e,t)=>{const r=Bl.getState().isUnlocked(),n=e.origin.host||e.args.host,i=await Sl.allowances.where("host").equalsIgnoreCase(n).first();if(r&&i&&i.enabled)return{data:{enabled:!0}};try{const r=await o.openPrompt(e);if(r.data.enabled&&t.tab&&await Cl(Nl.Active,t.tab.id),r.data.enabled&&r.data.remember){if(i){if(!i.id)return{data:{error:"id is missing"}};await Sl.allowances.update(i.id,{enabled:!0,name:e.origin.name,imageURL:e.origin.icon})}else await Sl.allowances.add({host:n,name:e.origin.name,imageURL:e.origin.icon,enabled:!0,lastPaymentAt:0,totalBudget:0,remainingBudget:0,createdAt:Date.now().toString(),lnurlAuth:!1,tag:""});await Sl.saveToStorage()}return{data:{enabled:r.data.enabled,remember:r.data.remember}}}catch(e){if(console.error(e),e instanceof Error)return{error:e.message}}},bf=async e=>{const t=e.args.host,r=await Sl.allowances.where("host").equalsIgnoreCase(t).first();if(r&&r.id){const{id:e}=r,t={...r,id:e,payments:[],paymentsAmount:0,paymentsCount:0,percentage:"0",usedBudget:0};t.usedBudget=r.totalBudget-r.remainingBudget,t.percentage=(t.usedBudget/r.totalBudget*100).toFixed(0),t.paymentsCount=await Sl.payments.where("host").equalsIgnoreCase(r.host).count();const n=await Sl.payments.where("host").equalsIgnoreCase(r.host).reverse().toArray();return t.payments=n.reduce(((e,t)=>{if(!t?.id)return e;const{id:r}=t;return e.push({...t,id:r}),e}),[]),t.paymentsAmount=t.payments.map((e=>"string"==typeof e.totalAmount?parseInt(e.totalAmount):e.totalAmount)).reduce(((e,t)=>e+t),0),{data:t}}return{data:{enabled:!1}}},yf=async e=>{const{id:t}=e.args,r=await Sl.allowances.get({id:t});if(r){const e={...r,id:t,payments:[],paymentsAmount:0,paymentsCount:0,percentage:"0",usedBudget:0};e.usedBudget=r.totalBudget-r.remainingBudget,e.percentage=(e.usedBudget/r.totalBudget*100).toFixed(0),e.paymentsCount=await Sl.payments.where("host").equalsIgnoreCase(r.host).count();const n=await Sl.payments.where("host").equalsIgnoreCase(r.host).reverse().toArray();return e.payments=n.reduce(((e,t)=>{if(!t?.id)return e;const{id:r}=t;return e.push({...t,id:r}),e}),[]),e.paymentsAmount=e.payments.map((e=>"string"==typeof e.totalAmount?parseInt(e.totalAmount):e.totalAmount)).reduce(((e,t)=>e+t),0),{data:e}}return{data:{enabled:!1}}},vf=async e=>{const t=await Sl.allowances.toCollection().reverse().sortBy("lastPaymentAt"),r=[];for(const e of t)if(e.id){const{id:t}=e,n={...e,id:t,payments:[],paymentsAmount:0,paymentsCount:0,percentage:"0",usedBudget:0};n.usedBudget=n.totalBudget-n.remainingBudget,n.percentage=(n.usedBudget/n.totalBudget*100).toFixed(0),n.paymentsCount=await Sl.payments.where("host").equalsIgnoreCase(n.host).count();const i=await Sl.payments.where("host").equalsIgnoreCase(n.host).reverse().toArray();n.paymentsAmount=i.map((e=>"string"==typeof e.totalAmount?parseInt(e.totalAmount):e.totalAmount)).reduce(((e,t)=>e+t),0),r.push(n)}return{data:{allowances:r}}},wf=async e=>{const t=e.args.id;if(!t)return{error:"id is missing"};const r={};Object.prototype.hasOwnProperty.call(e.args,"totalBudget")&&(r.totalBudget=e.args.totalBudget,r.remainingBudget=e.args.totalBudget),Object.prototype.hasOwnProperty.call(e.args,"enabled")&&(r.enabled=e.args.enabled),Object.prototype.hasOwnProperty.call(e.args,"lnurlAuth")&&(r.lnurlAuth=e.args.lnurlAuth);const n=await Sl.allowances.update(t,r);return await Sl.saveToStorage(),{data:n}},_f=async(e,t)=>{const{host:r,name:n,imageURL:i}=e.args;return await Sl.blocklist.add({host:r,name:n,imageURL:i,isBlocked:!0}),await Sl.saveToStorage(),{data:!0}},Sf=async e=>{const t=e.args.host,r=await Sl.blocklist.where("host").equalsIgnoreCase(t).first();return r?.id&&(await Sl.blocklist.delete(r.id),await Sl.saveToStorage()),{data:!0}},Ef=async e=>{const t=e.args.host;return await Sl.blocklist.where("host").equalsIgnoreCase(t).first()?{data:{blocked:!0}}:{data:{blocked:!1}}},kf=async()=>{let e=await Sl.blocklist.toCollection().reverse().sortBy("createdAt");const t=e.map((async e=>e));return e=await Promise.all(t),{data:{blocklist:e}}},Af=async e=>{if("string"!=typeof e.args.paymentHash)return{error:"Payment hash missing."};const t=await Bl.getState().getConnector();try{return await t.checkPayment({paymentHash:e.args.paymentHash})}catch(e){if(e instanceof Error)return{error:e.message}}},xf=async e=>{const{pubkey:t,host:r}=e.args;if("string"!=typeof t||"string"!=typeof r)return{error:"Peer data missing."};const n=await Bl.getState().getConnector(),i={pubkey:t,host:r};let o;try{o=await n.connectPeer(i)}catch(e){console.error(e),o={error:e instanceof Error?e.message:"Something went wrong"}}return o},If=async(e,t)=>{const r=await Bl.getState().getConnector(),n=await r.getInfo();return{data:{version:"Alby",supports:["lightning"],methods:r.supportedMethods,node:{alias:n.data.alias,pubkey:n.data.pubkey,color:n.data.color}}}},Of=async e=>{const t=e.args.isSettled,r=await Bl.getState().getConnector();try{const e=await r.getInvoices();return{data:{invoices:e.data.invoices.filter((e=>t?e.settled:!e.settled)).map((e=>{const t=o.getBoostagramFromInvoiceCustomRecords(e.custom_records);return{...e,boostagram:t}}))}}}catch(e){if(console.error(e),e instanceof Error)return{error:e.message}}},Pf={publishPaymentNotification:(e,t)=>{let r="success";"error"in t.response&&(r="failed"),Ul().publish(`ln.sendPayment.${r}`,{response:t.response,details:t.details,paymentRequestDetails:t.paymentRequestDetails,origin:e.origin})}};async function Tf(e){Ul().publish("ln.keysend.start",e);const{destination:t,amount:r,customRecords:n}=e.args;if("string"!=typeof t||"string"!=typeof r&&"number"!=typeof r)return{error:"destination or amount missing."};const i=await Bl.getState().getConnector();let o;try{o=await i.keysend({pubkey:t,amount:parseInt(r),customRecords:n})}catch(e){o={error:e instanceof Error?e.message:"Something went wrong"}}return Pf.publishPaymentNotification(e,{response:o,details:{destination:t}}),o}const Rf=async(e,t)=>{let r;Ul().publish("ln.makeInvoice.start",e);const n=e.args.memo||e.args.defaultMemo||"Alby invoice";if(!e.args.amount)return await o.openPrompt({...e,action:"makeInvoice",args:{invoiceAttributes:{...e.args}}});{r=parseInt(e.args.amount);const t=await Bl.getState().getConnector();try{return await t.makeInvoice({amount:r,memo:n})}catch(e){return{error:e.message}}}},Bf=async e=>{const t=await Bl.getState().getConnector(),{origin:r,args:n}=e;try{if(!n.method||"string"!=typeof n.method)throw new Error("Request method is missing or not correct");const e=n.method.toLowerCase(),i=t.supportedMethods||[];if(!t.requestMethod||!i.includes(e))throw new Error(`${e} is not supported by your account`);const a=await Sl.allowances.where("host").equalsIgnoreCase(r.host).first();if(!a?.id)throw new Error("Could not find an allowance for this host");const s=t.constructor.name.toLowerCase(),c=`webln/${s}/${e}`,u=await Sl.permissions.where("host").equalsIgnoreCase(r.host).and((e=>e.method===c)).first();if(u&&u.enabled&&i.includes(e)){return await t.requestMethod(e,n.params)}{const i=await o.openPrompt({args:{requestPermission:{method:e,description:`${s}.${e}`}},origin:r,action:"public/confirmRequestPermission"}),u=await t.requestMethod(e,n.params);if(i.data.enabled){await Sl.permissions.add({createdAt:Date.now().toString(),allowanceId:a.id,host:r.host,method:c,enabled:i.data.enabled,blocked:i.data.blocked})&&await Sl.saveToStorage()}return u}}catch(e){return console.error(e),{error:e instanceof Error?e.message:`Something went wrong with request ${n?.method}`}}};async function Mf(e){Ul().publish("ln.sendPayment.start",e);const{paymentRequest:t}=e.args;if("string"!=typeof t)return{error:"Payment request missing."};const r=Wi().decode(t),n=await Bl.getState().getConnector();let i;try{i=await n.sendPayment({paymentRequest:t})}catch(e){let t;t="string"==typeof e?e:e instanceof Error?e.message:"Something went wrong",i={error:t}}return Pf.publishPaymentNotification(e,{paymentRequestDetails:r,response:i,details:{description:r.tagsObject.description,destination:r.payeeNodeKey}}),i}const Nf=async e=>{Ul().publish("ln.signMessage.start",e);const t=e.args.message;if("string"!=typeof t)return{error:"Message missing."};const r=await Bl.getState().getConnector();try{return await r.signMessage({message:t,key_loc:{key_family:0,key_index:0}})}catch(r){if(console.error(r),r instanceof Error)return Ul().publish("ln.signMessage.failed",{error:r.message,message:t,origin:e.origin}),{error:r.message}}},Cf=e=>"status"in e&&"ERROR"===e.status.toUpperCase();var Lf=i(7715),Uf=i(8764).Buffer;const jf=e=>{if(e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-_0-9]+\.)+[a-zA-Z]{2,}))$/)){let[t,r]=e.split("@");return t=t.replace(/[^ -~]+/g,""),r=r.replace(/[^ -~]+/g,""),`https://${r}/.well-known/lnurlp/${t}`}return null},Df=e=>{try{const t=function(e,t="utf-8"){const{words:r}=Lf.bech32.decode(e,2e3),n=Lf.bech32.fromWords(r);return Uf.from(n).toString(t)}(e);return new URL(t)}catch(e){console.info("ignoring bech32 parsing error",e)}const t=jf(e);return t?new URL(t):new URL(`https://${e.replace(/^lnurl[pwc]/i,"")}`)},Hf={isLightningAddress:e=>Boolean(jf(e)),findLnurl(e){const t=e.trim();let r;return(r=t.match(/lnurl[pwc]:(\S+)/i))||(r=t.match(/(lnurl[a-zA-HJ-NP-Z0-9]+)/i))?r[1]:null},async getDetails(e){const t=Df(e),r=t.searchParams.get("tag"),n=t.searchParams.get("k1"),i=t.searchParams.get("action");if(r&&"login"===r&&n){return{...i&&{action:i},domain:t.hostname,k1:n,tag:r,url:t.toString()}}try{const{data:e}=await zi.get(t.toString()),r=e;if(Cf(r))throw new Error(`LNURL Error: ${r.reason}`);return r.domain=t.hostname,r.url=t.toString(),r}catch(e){throw new Error(`Connection problem or invalid lnurl / lightning address: ${e instanceof Error?e.message:""}`)}},verifyInvoice({paymentInfo:e,payerdata:t,metadata:r,amount:n}){const i=Wi().decode(e.pr);let o="";try{const e=t?r+JSON.stringify(t):r;o=Gi()(e).toString(St())}catch(e){console.error()}switch(!0){case i.tagsObject.purpose_commit_hash!==o:case i.millisatoshis!==String(n):case e.successAction&&!["url","message","aes"].includes(e.successAction.tag):return!1;default:return!0}}},qf=Hf;async function Ff({lnurlDetails:e,origin:t}){if("login"!==e.tag)throw new Error(`LNURL-AUTH FAIL: incorrect tag: ${e.tag} was used`);const r=await Bl.getState().getConnector(),n=(await r.signMessage({message:"DO NOT EVER SIGN THIS TEXT WITH YOUR PRIVATE KEYS! IT IS ONLY USED FOR DERIVATION OF LNURL-AUTH HASHING-KEY, DISCLOSING ITS SIGNATURE WILL COMPROMISE YOUR LNURL-AUTH IDENTITY AND MAY LEAD TO LOSS OF FUNDS!",key_loc:{key_family:0,key_index:0}})).data.signature;if(!n)throw new Error("Invalid Signature");const i=Gi()(n).toString(St()),a=new URL(e.url);if(!a.host||!i)throw new Error("Invalid input");let s;const{settings:c}=Bl.getState();if(s=c.isUsingLegacyLnurlAuthKey?ho()(a.host,i).toString(St()):ho()(a.host,St().parse(i)).toString(St()),!i||!s)throw new Error("Invalid hashingKey/linkingKey");const u=new no(s),l=o.hexToUint8Array(e.k1);if(!e.k1||!l)throw new Error("Invalid K1");const f=u.sign(l).toDER("hex"),d=a;d.searchParams.set("sig",f),d.searchParams.set("key",u.pkHex),d.searchParams.set("t",Date.now().toString());try{const r=await zi.get(d.toString());if("OK"!==r?.data.status?.toUpperCase())throw new Error(r?.data?.reason||"Auth: Something went wrong");Ul().publish("lnurl.auth.success",{authResponse:r,lnurlDetails:e,origin:t});return{success:!0,status:r.data.status,reason:r.data.reason,authResponseData:r.data}}catch(r){if(zi.isAxiosError(r)){console.error("LNURL-AUTH FAIL:",r);const n=r.response?.data?.reason||r.message;throw Ul().publish("lnurl.auth.failed",{error:n,lnurlDetails:e,origin:t}),new Error(n)}if(r instanceof Error)throw Ul().publish("lnurl.auth.failed",{error:r.message,lnurlDetails:e,origin:t}),new Error(r.message)}}const zf=async e=>{const{lnurlDetails:t,origin:r}=e.args;return{data:await Ff({lnurlDetails:t,origin:r})}};const Kf=async function(e,t){if(!("host"in e.origin))return;Ul().publish("lnurl.auth.start",{message:e,lnurlDetails:t});const r=await Sl.allowances.where("host").equalsIgnoreCase(e.origin.host).first();if(Bl.getState().isUnlocked()&&r&&r.enabled&&r.lnurlAuth)return await Ff({lnurlDetails:t,origin:e.origin});try{const r={...e,action:"lnurlAuth",args:{...e.args,lnurlDetails:t}};return await o.openPrompt(r)}catch(e){return{error:e instanceof Error?e.message:e}}};const Wf=async function(e,t){try{return await o.openPrompt({origin:e.origin,action:"lnurlChannel",args:{...e.args,lnurlDetails:t}})}catch(e){return{error:e instanceof Error?e.message:e}}};const $f=async function(e,t){try{return await o.openPrompt({origin:e.origin,action:"lnurlPay",args:{...e.args,lnurlDetails:t}})}catch(e){return{error:e instanceof Error?e.message:e}}};const Vf=async function(e,t){try{return await o.openPrompt({origin:e.origin,action:"lnurlWithdraw",args:{...e.args,lnurlDetails:t}})}catch(e){return{error:e instanceof Error?e.message:e}}};const Gf=async function(e){if("string"!=typeof e.args.lnurlEncoded)return;let t;try{if(t=await qf.getDetails(e.args.lnurlEncoded),Cf(t))return{error:t.reason}}catch(e){return{error:e instanceof Error?e.message:"Failed to parse LNURL"}}switch(t.tag){case"channelRequest":return Wf(e,t);case"login":return Kf(e,t);case"payRequest":return $f(e,t);case"withdrawRequest":return Vf(e,t);default:return{error:"not implemented"}}};var Yf;!function(e){e.NOSTR_SIGNMESSAGE="nostr/signMessage",e.NOSTR_GETPUBLICKEY="nostr/getPublicKey",e.NOSTR_NIP04DECRYPT="nostr/nip04decrypt",e.NOSTR_NIP04ENCRYPT="nostr/nip04encrypt"}(Yf||(Yf={}));const Xf=async e=>{if("host"in e.origin)try{if(await El(Yf.NOSTR_NIP04DECRYPT,e.origin.host)){return{data:Bl.getState().getNostr().decrypt(e.args.peer,e.args.ciphertext)}}{const t=await o.openPrompt({...e,action:"public/nostr/confirm",args:{description:vt.t("permissions:nostr.nip04decrypt")}});if(t.data.rememberPermission&&await kl(Yf.NOSTR_NIP04DECRYPT,e.origin.host),t.data.confirm){return{data:Bl.getState().getNostr().decrypt(e.args.peer,e.args.ciphertext)}}return{error:"User rejected"}}}catch(e){if(console.error("decrypt failed",e),e instanceof Error)return{error:e.message}}else console.error("error",e.origin)},Jf=async e=>{if("host"in e.origin)try{if(await El(Yf.NOSTR_NIP04ENCRYPT,e.origin.host)){return{data:Bl.getState().getNostr().encrypt(e.args.peer,e.args.plaintext)}}{const t=await o.openPrompt({...e,action:"public/nostr/confirm",args:{description:vt.t("permissions:nostr.nip04encrypt")}});if(t.data.rememberPermission&&await kl(Yf.NOSTR_NIP04ENCRYPT,e.origin.host),t.data.confirm){return{data:Bl.getState().getNostr().encrypt(e.args.peer,e.args.plaintext)}}return{error:"User rejected"}}}catch(e){if(console.error("encrypt failed",e),e instanceof Error)return{error:e.message}}else console.error("error",e.origin)};var Zf=i(34),Qf=i.n(Zf);const ed=async()=>{const e=await Bl.getState().getConnector();try{const t=(await e.signMessage({message:"DO NOT EVER SIGN THIS TEXT WITH YOUR PRIVATE KEYS! IT IS ONLY USED FOR DERIVATION OF NOSTR KEY PAIRS, DISCLOSING THIS SIGNATURE WILL COMPROMISE YOUR NOSTR IDENTITY!",key_loc:{key_family:0,key_index:0}})).data.signature;if(!t.length)throw Error("No key material available.");const r=Qf()(t).toString(St()),n=Pa.hashToPrivateKey(r);return{data:{privateKey:Pa.bytesToHex(n)}}}catch(e){console.error(e)}},td=async e=>{if("host"in e.origin)try{if(await El(Yf.NOSTR_GETPUBLICKEY,e.origin.host)){return{data:Bl.getState().getNostr().getPublicKey()}}{const t=await o.openPrompt({args:{},...e,action:"public/nostr/confirmGetPublicKey"});if(t.data.rememberPermission&&await kl(Yf.NOSTR_GETPUBLICKEY,e.origin.host),t.data.confirm){return{data:Bl.getState().getNostr().getPublicKey()}}return{error:"User rejected"}}}catch(e){if(console.error("getPublicKey failed",e),e instanceof Error)return{error:e.message}}else console.error("error",e.origin)},rd=async e=>{if(!("host"in e.origin))return void console.error("error",e.origin);const t=Bl.getState().getNostr(),r=e.args.event;if(r.pubkey||(r.pubkey=t.getPublicKey()),r.id||(r.id=t.getEventHash(r)),!Al(r))return console.error("Invalid event"),{error:"Invalid event."};try{if(!await El(Yf.NOSTR_SIGNMESSAGE,e.origin.host)){(await o.openPrompt({...e,action:"public/nostr/confirmSignMessage"})).data.enabled&&await kl(Yf.NOSTR_SIGNMESSAGE,e.origin.host)}return{data:await t.signEvent(r)}}catch(e){if(console.error("signEvent cancelled",e),e instanceof Error)return{error:e.message}}},nd=async e=>{const{host:t,method:r}=e.args,n=await Sl.permissions.where("host").equalsIgnoreCase(t).and((e=>e.method===r)).delete();return await Sl.saveToStorage(),{data:!!n}},id=async(e,t)=>{const r=e.args,n=new Eo[r.connector](r.config);await n.init();try{const e=await n.getInfo();return await n.unload(),{data:{valid:!0,info:e}}}catch(e){return console.error(e),{data:{valid:!1,error:e.message}}}};async function od(e,t){const r=await Sl.allowances.where("host").equalsIgnoreCase(e).first();return r&&r.remainingBudget>t}const ad=async e=>{if(!("host"in e.origin))return;const t=e.args.destination,r=e.args.amount;return"string"!=typeof t||"string"!=typeof r&&"number"!=typeof r?{error:"Destination or amount missing."}:await od(e.origin.host,parseInt(r))?async function(e){try{return await Tf(e)}catch(e){if(console.error(e),e instanceof Error)return{error:e.message}}}(e):async function(e){try{return await o.openPrompt({...e,action:"confirmKeysend"})}catch(e){if(console.error("Payment cancelled",e),e instanceof Error)return{error:e.message}}}(e)},sd=async e=>{const t=e.args.amount||e.args.defaultAmount,r=e.args.memo||e.args.defaultMemo,n=!e.args.amount,i=!e.args.memo||""===e.args.memo;try{return await o.openPrompt({origin:e.origin,action:"makeInvoice",args:{amountEditable:n,memoEditable:i,invoiceAttributes:{amount:t,memo:r,minimumAmount:e.args.minimumAmount,maximumAmount:e.args.maximumAmount}}})}catch(e){return{error:e instanceof Error?e.message:e}}};const cd=async e=>"string"!=typeof e.args.message?{error:"Message missing."}:async function(e){try{return await o.openPrompt({...e,action:"confirmSignMessage"})}catch(e){if(console.error("SignMessage cancelled",e),e instanceof Error)return{error:e.message}}}(e),ud={addAllowance:pf,getAllowance:bf,getAllowanceById:yf,listAllowances:vf,deleteAllowance:gf,updateAllowance:wf,addPermission:async e=>{const{host:t,method:r,enabled:n,blocked:i}=e.args,o=await Sl.allowances.where("host").equalsIgnoreCase(t).first();if(!o?.id)return{error:"No Allowance set for this host"};const a=await Sl.permissions.add({createdAt:Date.now().toString(),allowanceId:o.id,host:t,method:r,enabled:n,blocked:i});return await Sl.saveToStorage(),{data:a}},deletePermission:nd,deletePermissionsById:async e=>{const{ids:t}=e.args;return await Sl.permissions.bulkDelete(t),await Sl.saveToStorage(),{data:!0}},listPermissions:async e=>{const{id:t}=e.args,r=await Sl.permissions.where({allowanceId:t}).toArray(),n=[];for(const e of r)if(e.id){const{id:t}=e,r={...e,id:t};n.push(r)}return{data:{permissions:n}}},lock:lf,unlock:hf,getInfo:If,getInvoices:Of,sendPayment:Mf,keysend:Tf,checkPayment:Af,signMessage:Nf,makeInvoice:Rf,connectPeer:xf,getPayments:async e=>{const t=e?.args?.limit||2121;return{data:{payments:await Sl.payments.toCollection().limit(t).reverse().sortBy("createdAt")}}},accountInfo:uf,accountDecryptedDetails:sf,addAccount:of,editAccount:cf,getAccounts:af,removeAccount:ff,selectAccount:df,setPassword:(e,t)=>{const r=e.args.password;return Bl.setState({password:r}),Promise.resolve({data:{unlocked:!0}})},reset:async(e,t)=>(Bl.setState({accounts:{},account:null,connector:null,password:null,currentAccountId:null}),await Bl.getState().saveToStorage(),{data:{reset:!0}}),status:(e,t)=>{const r=null!==Bl.getState().password,n=Bl.getState().getAccount(),i=Bl.getState().currentAccountId,o=null!=n;return Promise.resolve({data:{unlocked:r,configured:o,currentAccountId:i}})},validateAccount:id,setIcon:async(e,t)=>t.tab?.id?(await Cl(e.args.icon,t.tab.id),Promise.resolve({data:!0})):Promise.resolve({data:!1}),changePassword:async e=>{const t=Bl.getState().accounts,r=Bl.getState().password,n=e.args.password,i={...t},o=await Bl.getState().getNostr().getPrivateKey();for(const e in i){const o=g(t[e].config,r);i[e].config=p(o,n)}return Bl.setState({accounts:i,password:n}),await Bl.getState().getNostr().setPrivateKey(o),await Bl.getState().saveToStorage(),{}},setSetting:async e=>{const{settings:t}=Bl.getState(),{setting:r}=e.args;if("object"==typeof r){const e={...t,...r};return Bl.setState({settings:e}),await Bl.getState().saveToStorage(),Promise.resolve({data:e})}return Promise.reject(new Error("Incorrect setting"))},getSettings:async()=>({data:Bl.getState().settings}),addBlocklist:_f,deleteBlocklist:Sf,getBlocklist:Ef,listBlocklist:kf,lnurl:Gf,lnurlAuth:zf,getCurrencyRate:$l,nostr:{generatePrivateKey:ed,getPrivateKey:async()=>({data:Bl.getState().getNostr().getPrivateKey()}),setPrivateKey:async e=>(await Bl.getState().getNostr().setPrivateKey(e.args.privateKey),{})},public:{webln:{enable:mf,getInfo:If,sendPaymentOrPrompt:async e=>{if(!("host"in e.origin))return;const t=e.args.paymentRequest;if("string"!=typeof t)return{error:"Payment request missing."};const r=Wi().decode(t);return await od(e.origin.host,r.satoshis||0)?async function(e){try{return await Mf(e)}catch(e){if(console.error(e),e instanceof Error)return{error:e.message}}}(e):async function(e){try{return await o.openPrompt({...e,action:"confirmPayment"})}catch(e){if(console.error("Payment cancelled",e),e instanceof Error)return{error:e.message}}}(e)},keysendOrPrompt:ad,signMessageOrPrompt:cd,lnurl:Gf,makeInvoice:async e=>sd(e),request:Bf},nostr:{enable:mf,getPublicKeyOrPrompt:td,signEventOrPrompt:rd,getRelays:async e=>(await Sl.allowances.get({host:e.origin.host}))?.id?{data:{"wss://relay.damus.io":{read:!0,write:!0},"wss://nostr1.tunnelsats.com":{read:!0,write:!0},"wss://nostr-pub.wellorder.net":{read:!0,write:!0},"wss://relay.nostr.info":{read:!0,write:!0},"wss://nostr-relay.wlvs.space":{read:!0,write:!0},"wss://nostr.bitcoiner.social":{read:!0,write:!0},"wss://nostr-01.bolt.observer":{read:!0,write:!0},"wss://relayer.fiatjaf.com":{read:!0,write:!0}}}:{error:"Could not find an allowance for this host"},encryptOrPrompt:Jf,decryptOrPrompt:Xf}}},ld=e=>{if(!e)throw new Error("No action path provided to router");const t=e.split("/").reduce(((e,t)=>e[t]),ud);return t||(console.warn(`Route not found: ${e}`),()=>Promise.reject({error:`${e} not found}`}))};let fd=!1,dd=!1;const hd=(e,r,n)=>{"complete"===r.status&&n.url?.startsWith("http")&&setTimeout((()=>{t().tabs.sendMessage(e,{action:"extractLightningData"})}),150)},pd=async(e,t,r)=>{if("complete"!==t.status||!r.url?.startsWith("http"))return;const n=new URL(r.url),i=await Sl.allowances.where("host").equalsIgnoreCase(n.host).first();await Cl(i?Nl.Active:Nl.Default,e)},gd=(e,t)=>{Bl.getState().settings.debug&&console.info("Background onMessage: ",e,t)},md=(e,t)=>{if("LBE"!==e.application||!e.prompt)return;const r=Bl.getState().settings.debug;e.type&&console.error("Invalid message, using type: ",e);const n=e.action||e.type;console.info(`Routing call: ${n}`);const i=ld(n)(e,t);return r&&i.then((e=>(console.info(`${n} response:`,e),e))),i};t().runtime.onInstalled.addListener((e=>{console.info(`Handle installed: ${e.reason}`),"install"===e.reason&&(fd=!0),"update"===e.reason&&(console.info("Alby was recently updated"),dd=!0)})),console.info("Welcome to Alby"),async function(){console.info("Loading background script"),await Bl.getState().init(),console.info("State loaded"),await Sl.open(),console.info("DB opened"),Ul().subscribe("ln.sendPayment.success",Gl),Ul().subscribe("ln.sendPayment.failed",Yl),Ul().subscribe("ln.sendPayment.success",Zl),Ul().subscribe("ln.sendPayment.success",jl),Ul().subscribe("ln.keysend.success",Zl),Ul().subscribe("ln.keysend.success",jl),Ul().subscribe("lnurl.auth.success",Xl),Ul().subscribe("lnurl.auth.failed",Jl),console.info("Event subscriptions registered"),console.info("Events subscribed"),t().runtime.onMessage.addListener(gd),t().runtime.onMessage.addListener(md),t().tabs.onUpdated.addListener(pd),t().tabs.onUpdated.addListener(hd),Bl.getState().settings.debug&&(console.info("Debug mode enabled, use window.debugAlby"),window.debugAlby={state:Bl,db:Sl,connectors:Eo,router:ld}),console.info("Loading completed")}().then((()=>{fd&&o.openUrl("welcome.html"),dd&&nf()})),t().runtime.setUninstallURL("https://getalby.com/goodbye")})()})();